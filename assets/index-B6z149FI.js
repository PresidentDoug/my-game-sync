(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var qd={exports:{}},wl={};var nv;function Gb(){if(nv)return wl;nv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var iv;function Fb(){return iv||(iv=1,qd.exports=Gb()),qd.exports}var N=Fb(),Hd={exports:{}},be={};var sv;function Kb(){if(sv)return be;sv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function X(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ie={};function me(M,U,ee){this.props=M,this.context=U,this.refs=ie,this.updater=ee||W}me.prototype.isReactComponent={},me.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},me.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ae(){}Ae.prototype=me.prototype;function Ee(M,U,ee){this.props=M,this.context=U,this.refs=ie,this.updater=ee||W}var Ge=Ee.prototype=new Ae;Ge.constructor=Ee,se(Ge,me.prototype),Ge.isPureReactComponent=!0;var lt=Array.isArray;function ze(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(M,U,ee){var G=ee.ref;return{$$typeof:s,type:M,key:U,ref:G!==void 0?G:null,props:ee}}function V(M,U){return C(M.type,U,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return U[ee]})}var w=/\/+/g;function We(M,U){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):U.toString(36)}function Et(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ze,ze):(M.status="pending",M.then(function(U){M.status==="pending"&&(M.status="fulfilled",M.value=U)},function(U){M.status==="pending"&&(M.status="rejected",M.reason=U)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,U,ee,G,ae){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(ye){case"bigint":case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case s:case e:De=!0;break;case b:return De=M._init,K(De(M._payload),U,ee,G,ae)}}if(De)return ae=ae(M),De=G===""?"."+We(M,0):G,lt(ae)?(ee="",De!=null&&(ee=De.replace(w,"$&/")+"/"),K(ae,U,ee,"",function(zi){return zi})):ae!=null&&(x(ae)&&(ae=V(ae,ee+(ae.key==null||M&&M.key===ae.key?"":(""+ae.key).replace(w,"$&/")+"/")+De)),U.push(ae)),1;De=0;var ut=G===""?".":G+":";if(lt(M))for(var st=0;st<M.length;st++)G=M[st],ye=ut+We(G,st),De+=K(G,U,ee,ye,ae);else if(st=X(M),typeof st=="function")for(M=st.call(M),st=0;!(G=M.next()).done;)G=G.value,ye=ut+We(G,st++),De+=K(G,U,ee,ye,ae);else if(ye==="object"){if(typeof M.then=="function")return K(Et(M),U,ee,G,ae);throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return De}function ne(M,U,ee){if(M==null)return M;var G=[],ae=0;return K(M,G,"","",function(ye){return U.call(ee,ye,ae++)}),G}function ce(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var xe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Be={map:ne,forEach:function(M,U,ee){ne(M,function(){U.apply(this,arguments)},ee)},count:function(M){var U=0;return ne(M,function(){U++}),U},toArray:function(M){return ne(M,function(U){return U})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=A,be.Children=Be,be.Component=me,be.Fragment=i,be.Profiler=l,be.PureComponent=Ee,be.StrictMode=a,be.Suspense=_,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,U,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var G=se({},M.props),ae=M.key;if(U!=null)for(ye in U.key!==void 0&&(ae=""+U.key),U)!S.call(U,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&U.ref===void 0||(G[ye]=U[ye]);var ye=arguments.length-2;if(ye===1)G.children=ee;else if(1<ye){for(var De=Array(ye),ut=0;ut<ye;ut++)De[ut]=arguments[ut+2];G.children=De}return C(M.type,ae,G)},be.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},be.createElement=function(M,U,ee){var G,ae={},ye=null;if(U!=null)for(G in U.key!==void 0&&(ye=""+U.key),U)S.call(U,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ae[G]=U[G]);var De=arguments.length-2;if(De===1)ae.children=ee;else if(1<De){for(var ut=Array(De),st=0;st<De;st++)ut[st]=arguments[st+2];ae.children=ut}if(M&&M.defaultProps)for(G in De=M.defaultProps,De)ae[G]===void 0&&(ae[G]=De[G]);return C(M,ye,ae)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:p,render:M}},be.isValidElement=x,be.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ce}},be.memo=function(M,U){return{$$typeof:y,type:M,compare:U===void 0?null:U}},be.startTransition=function(M){var U=I.T,ee={};I.T=ee;try{var G=M(),ae=I.S;ae!==null&&ae(ee,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(ze,xe)}catch(ye){xe(ye)}finally{U!==null&&ee.types!==null&&(U.types=ee.types),I.T=U}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(M){return I.H.use(M)},be.useActionState=function(M,U,ee){return I.H.useActionState(M,U,ee)},be.useCallback=function(M,U){return I.H.useCallback(M,U)},be.useContext=function(M){return I.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,U){return I.H.useDeferredValue(M,U)},be.useEffect=function(M,U){return I.H.useEffect(M,U)},be.useEffectEvent=function(M){return I.H.useEffectEvent(M)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(M,U,ee){return I.H.useImperativeHandle(M,U,ee)},be.useInsertionEffect=function(M,U){return I.H.useInsertionEffect(M,U)},be.useLayoutEffect=function(M,U){return I.H.useLayoutEffect(M,U)},be.useMemo=function(M,U){return I.H.useMemo(M,U)},be.useOptimistic=function(M,U){return I.H.useOptimistic(M,U)},be.useReducer=function(M,U,ee){return I.H.useReducer(M,U,ee)},be.useRef=function(M){return I.H.useRef(M)},be.useState=function(M){return I.H.useState(M)},be.useSyncExternalStore=function(M,U,ee){return I.H.useSyncExternalStore(M,U,ee)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.4",be}var rv;function zm(){return rv||(rv=1,Hd.exports=Kb()),Hd.exports}var Ye=zm(),Gd={exports:{}},Rl={},Fd={exports:{}},Kd={};var av;function Qb(){return av||(av=1,(function(s){function e(K,ne){var ce=K.length;K.push(ne);e:for(;0<ce;){var xe=ce-1>>>1,Be=K[xe];if(0<l(Be,ne))K[xe]=ne,K[ce]=Be,ce=xe;else break e}}function i(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ne=K[0],ce=K.pop();if(ce!==ne){K[0]=ce;e:for(var xe=0,Be=K.length,M=Be>>>1;xe<M;){var U=2*(xe+1)-1,ee=K[U],G=U+1,ae=K[G];if(0>l(ee,ce))G<Be&&0>l(ae,ee)?(K[xe]=ae,K[G]=ce,xe=G):(K[xe]=ee,K[U]=ce,xe=U);else if(G<Be&&0>l(ae,ce))K[xe]=ae,K[G]=ce,xe=G;else break e}}return ne}function l(K,ne){var ce=K.sortIndex-ne.sortIndex;return ce!==0?ce:K.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,A=null,O=3,X=!1,W=!1,se=!1,ie=!1,me=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function Ge(K){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=K)a(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function lt(K){if(se=!1,Ge(K),!W)if(i(_)!==null)W=!0,ze||(ze=!0,L());else{var ne=i(y);ne!==null&&Et(lt,ne.startTime-K)}}var ze=!1,I=-1,S=5,C=-1;function V(){return ie?!0:!(s.unstable_now()-C<S)}function x(){if(ie=!1,ze){var K=s.unstable_now();C=K;var ne=!0;try{e:{W=!1,se&&(se=!1,Ae(I),I=-1),X=!0;var ce=O;try{t:{for(Ge(K),A=i(_);A!==null&&!(A.expirationTime>K&&V());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,O=A.priorityLevel;var Be=xe(A.expirationTime<=K);if(K=s.unstable_now(),typeof Be=="function"){A.callback=Be,Ge(K),ne=!0;break t}A===i(_)&&a(_),Ge(K)}else a(_);A=i(_)}if(A!==null)ne=!0;else{var M=i(y);M!==null&&Et(lt,M.startTime-K),ne=!1}}break e}finally{A=null,O=ce,X=!1}ne=void 0}}finally{ne?L():ze=!1}}}var L;if(typeof Ee=="function")L=function(){Ee(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,We=w.port2;w.port1.onmessage=x,L=function(){We.postMessage(null)}}else L=function(){me(x,0)};function Et(K,ne){I=me(function(){K(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(K){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var ce=O;O=ne;try{return K()}finally{O=ce}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=O;O=K;try{return ne()}finally{O=ce}},s.unstable_scheduleCallback=function(K,ne,ce){var xe=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?xe+ce:xe):ce=xe,K){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ce+Be,K={id:b++,callback:ne,priorityLevel:K,startTime:ce,expirationTime:Be,sortIndex:-1},ce>xe?(K.sortIndex=ce,e(y,K),i(_)===null&&K===i(y)&&(se?(Ae(I),I=-1):se=!0,Et(lt,ce-xe))):(K.sortIndex=Be,e(_,K),W||X||(W=!0,ze||(ze=!0,L()))),K},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(K){var ne=O;return function(){var ce=O;O=ne;try{return K.apply(this,arguments)}finally{O=ce}}}})(Kd)),Kd}var ov;function Yb(){return ov||(ov=1,Fd.exports=Qb()),Fd.exports}var Qd={exports:{}},tn={};var lv;function Xb(){if(lv)return tn;lv=1;var s=zm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},tn.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},tn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},tn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},tn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,X=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:X}):b==="script"&&a.d.X(_,{crossOrigin:A,integrity:O,fetchPriority:X,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},tn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},tn.requestFormReset=function(_){a.d.r(_)},tn.unstable_batchedUpdates=function(_,y){return _(y)},tn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var uv;function $b(){if(uv)return Qd.exports;uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=Xb(),Qd.exports}var cv;function Jb(){if(cv)return Rl;cv=1;var s=Yb(),e=zm(),i=$b();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case me:return"Profiler";case ie:return"StrictMode";case lt:return"Suspense";case ze:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Ee:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case Ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:We(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return We(t(n))}catch{}}return null}var Et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},xe=[],Be=-1;function M(t){return{current:t}}function U(t){0>Be||(t.current=xe[Be],xe[Be]=null,Be--)}function ee(t,n){Be++,xe[Be]=t.current,t.current=n}var G=M(null),ae=M(null),ye=M(null),De=M(null);function ut(t,n){switch(ee(ye,n),ee(ae,t),ee(G,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?w_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=w_(n),t=R_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(G),ee(G,t)}function st(){U(G),U(ae),U(ye)}function zi(t){t.memoizedState!==null&&ee(De,t);var n=G.current,r=R_(n,t.type);n!==r&&(ee(ae,t),ee(G,r))}function ji(t){ae.current===t&&(U(G),U(ae)),De.current===t&&(U(De),Tl._currentValue=ce)}var _s,vs;function xn(t){if(_s===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);_s=n&&n[1]||"",vs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+t+vs}var vr=!1;function Bi(t,n){if(!t||vr)return"";vr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){B=H}t.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var Q=`
`+R[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{vr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?xn(r):""}function Er(t,n){switch(t.tag){case 26:case 27:case 5:return xn(t.type);case 16:return xn("Lazy");case 13:return t.child!==n&&n!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return Bi(t.type,!1);case 11:return Bi(t.type.render,!1);case 1:return Bi(t.type,!0);case 31:return xn("Activity");default:return""}}function F(t){try{var n="",r=null;do n+=Er(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var he=Object.prototype.hasOwnProperty,pe=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,rt=s.unstable_shouldYield,Ut=s.unstable_requestPaint,Ue=s.unstable_now,Dn=s.unstable_getCurrentPriorityLevel,Ao=s.unstable_ImmediatePriority,wo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,Gh=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,Xn=null,Ft=null;function On(t){if(typeof cu=="function"&&hu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Xn,t)}catch{}}var Tt=Math.clz32?Math.clz32:du,fu=Math.log,la=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/la|0)|0}var ci=256,Tr=262144,Ct=4194304;function hi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=hi(o):(g&=E,g!==0?h=hi(g):r||(r=E&~t,r!==0&&(h=hi(r))))):(E=o&~f,E!==0?h=hi(E):g!==0?h=hi(g):r||(r=o&~t,r!==0&&(h=hi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function di(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function br(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kh(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-Tt(r),$=1<<Q;E[Q]=0,R[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}r&=~$}o!==0&&Sr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Sr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Tt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Ro(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Tt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Co(t,n){var r=n&-n;return r=(r&42)!==0?1:Ar(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:X_(t.type))}function Jn(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var Zn=Math.random().toString(36).slice(2),It="__reactFiber$"+Zn,Bt="__reactProps$"+Zn,mi="__reactContainer$"+Zn,ua="__reactEvents$"+Zn,Qh="__reactListeners$"+Zn,gu="__reactHandles$"+Zn,yu="__reactResources$"+Zn,pi="__reactMarker$"+Zn;function ca(t){delete t[It],delete t[Bt],delete t[ua],delete t[Qh],delete t[gu]}function gi(t){var n=t[It];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mi]||r[It]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=M_(t);t!==null;){if(r=t[It])return r;t=M_(t)}return n}t=r,r=t.parentNode}return null}function Mn(t){if(t=t[It]||t[mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function En(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function yi(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[pi]=!0}var Io=new Set,No={};function _i(t,n){vi(t,n),vi(t+"Capture",n)}function vi(t,n){for(No[t]=n,t=0;t<n.length;t++)Io.add(n[t])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function _u(t){return he.call(Oo,t)?!0:he.call(Do,t)?!1:xo.test(t)?Oo[t]=!0:(Do[t]=!0,!1)}function ha(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Tn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=Ts(t)?"checked":"value";t._valueTracker=Mo(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ts(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function cn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fa(t,n,r,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Vo(t,g,qt(n)):r!=null?Vo(t,g,qt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+qt(E):t.removeAttribute("name")}function vu(t,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$e(t);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),$e(t)}function Vo(t,n,r){n==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function bs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Eu(t,n,r){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+qt(r):""}function Ss(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Et(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=qt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),$e(t)}function hn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Tu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Lo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ko(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Uo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,Ti=null;function Cr(t){var n=Mn(t);if(n&&(t=n.stateNode)){var r=t[Bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(fa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Bt]||null;if(!h)throw Error(a(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&wr(o)}break e;case"textarea":Eu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&bs(t,!!r.multiple,n,!1)}}}var pa=!1;function Rs(t,n,r){if(pa)return t(n,r);pa=!0;try{var o=t(n);return o}finally{if(pa=!1,(ws!==null||Ti!==null)&&(pc(),ws&&(n=ws,t=Ti,Ti=ws=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function ei(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Bt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(kn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ir=!1}var bi=null,Po=null,Nr=null;function zo(){if(Nr)return Nr;var t,n=Po,r=n.length,o,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Nr=h.slice(t,1<o?1-o:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function ti(){return!1}function Kt(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ti,this.isPropagationStopped=ti,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Kt(Gi),Cs=A({},Gi,{view:0,detail:0}),jo=Kt(Cs),Is,ga,Ai,ya=A({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Is=t.screenX-Ai.screenX,ga=t.screenY-Ai.screenY):ga=Is=0,Ai=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Bo=Kt(ya),Dr=A({},ya,{dataTransfer:0}),Su=Kt(Dr),Au=A({},Cs,{relatedTarget:0}),Or=Kt(Au),qo=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Kt(qo),_a=A({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=Kt(_a),Cu=A({},Gi,{data:0}),wi=Kt(Cu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xu[t])?!!n[t]:!1}function Ns(){return Du}var ln=A({},Cs,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Kt(ln),Mu=A({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Kt(Mu),u=A({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=Kt(u),v=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Kt(v),P=A({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Kt(P),te=A({},Gi,{newState:0,oldState:0}),we=Kt(te),bt=[9,13,27,32],Fe=kn&&"CompositionEvent"in window,mt=null;kn&&"documentMode"in document&&(mt=document.documentMode);var Ln=kn&&"TextEvent"in window&&!mt,Ri=kn&&(!Fe||mt&&8<mt&&11>=mt),ni=" ",ii=!1;function Mr(t,n){switch(t){case"keyup":return bt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function m1(t,n){switch(t){case"compositionend":return va(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return t=n.data,t===ni&&ii?null:t;default:return null}}function p1(t,n){if(Ea)return t==="compositionend"||!Fe&&Mr(t,n)?(t=zo(),Nr=Po=bi=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var g1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!g1[t.type]:n==="textarea"}function Up(t,n,r,o){ws?Ti?Ti.push(o):Ti=[o]:ws=o,n=bc(n,"onChange"),0<n.length&&(r=new Si("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ho=null,Go=null;function y1(t){v_(t,0)}function Vu(t){var n=En(t);if(wr(n))return t}function Pp(t,n){if(t==="change")return n}var zp=!1;if(kn){var Yh;if(kn){var Xh="oninput"in document;if(!Xh){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Xh=typeof jp.oninput=="function"}Yh=Xh}else Yh=!1;zp=Yh&&(!document.documentMode||9<document.documentMode)}function Bp(){Ho&&(Ho.detachEvent("onpropertychange",qp),Go=Ho=null)}function qp(t){if(t.propertyName==="value"&&Vu(Go)){var n=[];Up(n,Go,t,Vn(t)),Rs(y1,n)}}function _1(t,n,r){t==="focusin"?(Bp(),Ho=n,Go=r,Ho.attachEvent("onpropertychange",qp)):t==="focusout"&&Bp()}function v1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Go)}function E1(t,n){if(t==="click")return Vu(n)}function T1(t,n){if(t==="input"||t==="change")return Vu(n)}function b1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var bn=typeof Object.is=="function"?Object.is:b1;function Fo(t,n){if(bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!he.call(n,h)||!bn(t[h],n[h]))return!1}return!0}function Hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,n){var r=Hp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hp(r)}}function Fp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ei(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ei(t.document)}return n}function $h(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var S1=kn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Jh=null,Ko=null,Zh=!1;function Qp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||Ta==null||Ta!==Ei(o)||(o=Ta,"selectionStart"in o&&$h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ko&&Fo(Ko,o)||(Ko=o,o=bc(Jh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ta)))}function Vr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ba={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Wh={},Yp={};kn&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function kr(t){if(Wh[t])return Wh[t];if(!ba[t])return t;var n=ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Yp)return Wh[t]=n[r];return t}var Xp=kr("animationend"),$p=kr("animationiteration"),Jp=kr("animationstart"),A1=kr("transitionrun"),w1=kr("transitionstart"),R1=kr("transitioncancel"),Zp=kr("transitionend"),Wp=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function si(t,n){Wp.set(t,n),_i(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Sa=0,tf=0;function Lu(){for(var t=Sa,n=tf=Sa=0;n<t;){var r=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&eg(r,h,f)}}function Uu(t,n,r,o){Un[Sa++]=t,Un[Sa++]=n,Un[Sa++]=r,Un[Sa++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,n,r,o){return Uu(t,n,r,o),Pu(t)}function Lr(t,n){return Uu(t,null,null,n),Pu(t)}function eg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Tt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Pu(t){if(50<ml)throw ml=0,fd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function C1(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,r,o){return new C1(t,n,r,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,n){var r=t.alternate;return r===null?(r=Sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function tg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")sf(t)&&(g=1);else if(typeof t=="string")g=Ob(t,r,G.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,r,n,h),t.elementType=C,t.lanes=f,t;case se:return Ur(r.children,h,f,n);case ie:g=8,h|=24;break;case me:return t=Sn(12,r,n,h|2),t.elementType=me,t.lanes=f,t;case lt:return t=Sn(13,r,n,h),t.elementType=lt,t.lanes=f,t;case ze:return t=Sn(19,r,n,h),t.elementType=ze,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:g=10;break e;case Ae:g=9;break e;case Ge:g=11;break e;case I:g=14;break e;case S:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Sn(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ur(t,n,r,o){return t=Sn(7,t,o,n),t.lanes=r,t}function rf(t,n,r){return t=Sn(6,t,null,n),t.lanes=r,t}function ng(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function af(t,n,r){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function Pn(t,n){if(typeof t=="object"&&t!==null){var r=ig.get(t);return r!==void 0?r:(n={value:t,source:n,stack:F(n)},ig.set(t,n),n)}return{value:t,source:n,stack:F(n)}}var wa=[],Ra=0,ju=null,Qo=0,zn=[],jn=0,xs=null,Ci=1,Ii="";function Qi(t,n){wa[Ra++]=Qo,wa[Ra++]=ju,ju=t,Qo=n}function sg(t,n,r){zn[jn++]=Ci,zn[jn++]=Ii,zn[jn++]=xs,xs=t;var o=Ci;t=Ii;var h=32-Tt(o)-1;o&=~(1<<h),r+=1;var f=32-Tt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-Tt(n)+h|r<<h|o,Ii=f+t}else Ci=1<<f|r<<h|o,Ii=t}function of(t){t.return!==null&&(Qi(t,1),sg(t,1,0))}function lf(t){for(;t===ju;)ju=wa[--Ra],wa[Ra]=null,Qo=wa[--Ra],wa[Ra]=null;for(;t===xs;)xs=zn[--jn],zn[jn]=null,Ii=zn[--jn],zn[jn]=null,Ci=zn[--jn],zn[jn]=null}function rg(t,n){zn[jn++]=Ci,zn[jn++]=Ii,zn[jn++]=xs,Ci=n.id,Ii=n.overflow,xs=t}var Qt=null,ct=null,Pe=!1,Ds=null,Bn=!1,uf=Error(a(519));function Os(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Pn(n,t)),uf}function ag(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[It]=t,n[Bt]=o,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(r=0;r<gl.length;r++)Ne(gl[r],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),vu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||S_(n.textContent,r)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Os(t,!0)}function og(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Qt=Qt.return}}function Ca(t){if(t!==Qt)return!1;if(!Pe)return og(t),Pe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Cd(t.type,t.memoizedProps)),r=!r),r&&ct&&Os(t),og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=O_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=O_(t)}else n===27?(n=ct,Ks(t.type)?(t=Od,Od=null,ct=t):ct=n):ct=Qt?Hn(t.stateNode.nextSibling):null;return!0}function Pr(){ct=Qt=null,Pe=!1}function cf(){var t=Ds;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ds=null),t}function Yo(t){Ds===null?Ds=[t]:Ds.push(t)}var hf=M(null),zr=null,Yi=null;function Ms(t,n,r){ee(hf,n._currentValue),n._currentValue=r}function Xi(t){t._currentValue=hf.current,U(hf)}function ff(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function df(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ff(f.return,r,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),ff(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ia(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;bn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===De.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&df(n,t,r,o),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jr(t){zr=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return lg(zr,t)}function qu(t,n){return zr===null&&jr(t),lg(t,n)}function lg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yi===null){if(t===null)throw Error(a(308));Yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Yi=Yi.next=n;return r}var I1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},N1=s.unstable_scheduleCallback,x1=s.unstable_NormalPriority,Dt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new I1,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&N1(x1,function(){t.controller.abort()})}var $o=null,pf=0,Na=0,xa=null;function D1(t,n){if($o===null){var r=$o=[];pf=0,Na=_d(),xa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return pf++,n.then(ug,ug),n}function ug(){if(--pf===0&&$o!==null){xa!==null&&(xa.status="fulfilled");var t=$o;$o=null,Na=0,xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function O1(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var cg=K.S;K.S=function(t,n){Qy=Ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&D1(t,n),cg!==null&&cg(t,n)};var Br=M(null);function gf(){var t=Br.current;return t!==null?t:at.pooledCache}function Hu(t,n){n===null?ee(Br,Br.current):ee(Br,n.pool)}function hg(){var t=gf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Da=Error(a(460)),yf=Error(a(474)),Gu=Error(a(542)),Fu={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Wn,Wn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw Hr=n,Da}}function qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,Da):r}}var Hr=null;function mg(){if(Hr===null)throw Error(a(459));var t=Hr;return Hr=null,t}function pg(t){if(t===Da||t===Gu)throw Error(a(483))}var Oa=null,Jo=0;function Ku(t){var n=Jo;return Jo+=1,Oa===null&&(Oa=[]),dg(Oa,t,n)}function Zo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){function n(k,D){if(t){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ki(k,D),k.index=0,k.sibling=null,k}function f(k,D,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,z,Y){return D===null||D.tag!==6?(D=rf(z,k.mode,Y),D.return=k,D):(D=h(D,z),D.return=k,D)}function R(k,D,z,Y){var fe=z.type;return fe===se?Q(k,D,z.props.children,Y,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&qr(fe)===D.type)?(D=h(D,z.props),Zo(D,z),D.return=k,D):(D=zu(z.type,z.key,z.props,null,k.mode,Y),Zo(D,z),D.return=k,D)}function j(k,D,z,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=af(z,k.mode,Y),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function Q(k,D,z,Y,fe){return D===null||D.tag!==7?(D=Ur(z,k.mode,Y,fe),D.return=k,D):(D=h(D,z),D.return=k,D)}function $(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=rf(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return z=zu(D.type,D.key,D.props,null,k.mode,z),Zo(z,D),z.return=k,z;case W:return D=af(D,k.mode,z),D.return=k,D;case S:return D=qr(D),$(k,D,z)}if(Et(D)||L(D))return D=Ur(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return $(k,Ku(D),z);if(D.$$typeof===Ee)return $(k,qu(k,D),z);Qu(k,D)}return null}function B(k,D,z,Y){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:E(k,D,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case X:return z.key===fe?R(k,D,z,Y):null;case W:return z.key===fe?j(k,D,z,Y):null;case S:return z=qr(z),B(k,D,z,Y)}if(Et(z)||L(z))return fe!==null?null:Q(k,D,z,Y,null);if(typeof z.then=="function")return B(k,D,Ku(z),Y);if(z.$$typeof===Ee)return B(k,D,qu(k,z),Y);Qu(k,z)}return null}function H(k,D,z,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(z)||null,E(D,k,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:return k=k.get(Y.key===null?z:Y.key)||null,R(D,k,Y,fe);case W:return k=k.get(Y.key===null?z:Y.key)||null,j(D,k,Y,fe);case S:return Y=qr(Y),H(k,D,z,Y,fe)}if(Et(Y)||L(Y))return k=k.get(z)||null,Q(D,k,Y,fe,null);if(typeof Y.then=="function")return H(k,D,z,Ku(Y),fe);if(Y.$$typeof===Ee)return H(k,D,z,qu(D,Y),fe);Qu(D,Y)}return null}function oe(k,D,z,Y){for(var fe=null,qe=null,ue=D,Ce=D=0,Me=null;ue!==null&&Ce<z.length;Ce++){ue.index>Ce?(Me=ue,ue=null):Me=ue.sibling;var He=B(k,ue,z[Ce],Y);if(He===null){ue===null&&(ue=Me);break}t&&ue&&He.alternate===null&&n(k,ue),D=f(He,D,Ce),qe===null?fe=He:qe.sibling=He,qe=He,ue=Me}if(Ce===z.length)return r(k,ue),Pe&&Qi(k,Ce),fe;if(ue===null){for(;Ce<z.length;Ce++)ue=$(k,z[Ce],Y),ue!==null&&(D=f(ue,D,Ce),qe===null?fe=ue:qe.sibling=ue,qe=ue);return Pe&&Qi(k,Ce),fe}for(ue=o(ue);Ce<z.length;Ce++)Me=H(ue,k,Ce,z[Ce],Y),Me!==null&&(t&&Me.alternate!==null&&ue.delete(Me.key===null?Ce:Me.key),D=f(Me,D,Ce),qe===null?fe=Me:qe.sibling=Me,qe=Me);return t&&ue.forEach(function(Js){return n(k,Js)}),Pe&&Qi(k,Ce),fe}function ge(k,D,z,Y){if(z==null)throw Error(a(151));for(var fe=null,qe=null,ue=D,Ce=D=0,Me=null,He=z.next();ue!==null&&!He.done;Ce++,He=z.next()){ue.index>Ce?(Me=ue,ue=null):Me=ue.sibling;var Js=B(k,ue,He.value,Y);if(Js===null){ue===null&&(ue=Me);break}t&&ue&&Js.alternate===null&&n(k,ue),D=f(Js,D,Ce),qe===null?fe=Js:qe.sibling=Js,qe=Js,ue=Me}if(He.done)return r(k,ue),Pe&&Qi(k,Ce),fe;if(ue===null){for(;!He.done;Ce++,He=z.next())He=$(k,He.value,Y),He!==null&&(D=f(He,D,Ce),qe===null?fe=He:qe.sibling=He,qe=He);return Pe&&Qi(k,Ce),fe}for(ue=o(ue);!He.done;Ce++,He=z.next())He=H(ue,k,Ce,He.value,Y),He!==null&&(t&&He.alternate!==null&&ue.delete(He.key===null?Ce:He.key),D=f(He,D,Ce),qe===null?fe=He:qe.sibling=He,qe=He);return t&&ue.forEach(function(Hb){return n(k,Hb)}),Pe&&Qi(k,Ce),fe}function it(k,D,z,Y){if(typeof z=="object"&&z!==null&&z.type===se&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case X:e:{for(var fe=z.key;D!==null;){if(D.key===fe){if(fe=z.type,fe===se){if(D.tag===7){r(k,D.sibling),Y=h(D,z.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&qr(fe)===D.type){r(k,D.sibling),Y=h(D,z.props),Zo(Y,z),Y.return=k,k=Y;break e}r(k,D);break}else n(k,D);D=D.sibling}z.type===se?(Y=Ur(z.props.children,k.mode,Y,z.key),Y.return=k,k=Y):(Y=zu(z.type,z.key,z.props,null,k.mode,Y),Zo(Y,z),Y.return=k,k=Y)}return g(k);case W:e:{for(fe=z.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(k,D.sibling),Y=h(D,z.children||[]),Y.return=k,k=Y;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Y=af(z,k.mode,Y),Y.return=k,k=Y}return g(k);case S:return z=qr(z),it(k,D,z,Y)}if(Et(z))return oe(k,D,z,Y);if(L(z)){if(fe=L(z),typeof fe!="function")throw Error(a(150));return z=fe.call(z),ge(k,D,z,Y)}if(typeof z.then=="function")return it(k,D,Ku(z),Y);if(z.$$typeof===Ee)return it(k,D,qu(k,z),Y);Qu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(k,D.sibling),Y=h(D,z),Y.return=k,k=Y):(r(k,D),Y=rf(z,k.mode,Y),Y.return=k,k=Y),g(k)):r(k,D)}return function(k,D,z,Y){try{Jo=0;var fe=it(k,D,z,Y);return Oa=null,fe}catch(ue){if(ue===Da||ue===Gu)throw ue;var qe=Sn(29,ue,null,k.mode);return qe.lanes=Y,qe.return=k,qe}}}var Gr=gg(!0),yg=gg(!1),Vs=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pu(t),eg(t,null,r),n}return Uu(t,o,n,r),Pu(t)}function Wo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ro(t,r)}}function Ef(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Tf=!1;function el(){if(Tf){var t=xa;if(t!==null)throw t}}function tl(t,n,r,o){Tf=!1;var h=t.updateQueue;Vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,g===null?f=j:g.next=j,g=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;g=0,Q=j=R=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Oe&B)===B:(o&B)===B){B!==0&&B===Na&&(Tf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ge=E;B=n;var it=r;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){$=oe.call(it,$,B);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,B=typeof oe=="function"?oe.call(it,$,B):oe,B==null)break e;$=A({},$,B);break e;case 2:Vs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=H,R=$):Q=Q.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(R=$),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Bs|=g,t.lanes=g,t.memoizedState=$}}function _g(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function vg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)_g(r[t],n)}var Ma=M(null),Yu=M(0);function Eg(t,n){t=ss,ee(Yu,t),ee(Ma,n),ss=t|n.baseLanes}function bf(){ee(Yu,ss),ee(Ma,Ma.current)}function Sf(){ss=Yu.current,U(Ma),U(Yu)}var An=M(null),qn=null;function Us(t){var n=t.alternate;ee(St,St.current&1),ee(An,t),qn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(qn=t)}function Af(t){ee(St,St.current),ee(An,t),qn===null&&(qn=t)}function Tg(t){t.tag===22?(ee(St,St.current),ee(An,t),qn===null&&(qn=t)):Ps()}function Ps(){ee(St,St.current),ee(An,An.current)}function wn(t){U(An),qn===t&&(qn=null),U(St)}var St=M(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xd(r)||Dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Re=null,tt=null,Ot=null,$u=!1,Va=!1,Fr=!1,Ju=0,nl=0,ka=null,M1=0;function _t(){throw Error(a(321))}function wf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!bn(t[r],n[r]))return!1;return!0}function Rf(t,n,r,o,h,f){return $i=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?sy:Bf,Fr=!1,f=r(o,h),Fr=!1,Va&&(f=Sg(n,r,o,h)),bg(t),f}function bg(t){K.H=rl;var n=tt!==null&&tt.next!==null;if($i=0,Ot=tt=Re=null,$u=!1,nl=0,ka=null,n)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&Bu(t)&&(Mt=!0))}function Sg(t,n,r,o){Re=t;var h=0;do{if(Va&&(ka=null),nl=0,Va=!1,25<=h)throw Error(a(301));if(h+=1,Ot=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=ry,f=n(r,o)}while(Va);return f}function V1(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Re.flags|=1024),n}function Cf(){var t=Ju!==0;return Ju=0,t}function If(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Nf(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}$i=0,Ot=tt=Re=null,Va=!1,nl=Ju=0,ka=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function At(){if(tt===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=Ot===null?Re.memoizedState:Ot.next;if(n!==null)Ot=n,tt=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,ka===null&&(ka=[]),t=dg(ka,t,n),n=Re,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?sy:Bf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===Ee)return Yt(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Zu(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function Ji(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=At();return Df(n,tt,t)}function Df(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,R=null,j=n,Q=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Oe&$)===$:($i&$)===$){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Na&&(Q=!0);else if(($i&B)===B){j=j.next,B===Na&&(Q=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=$,g=f):R=R.next=$,Re.lanes|=B,Bs|=B;$=j.action,Fr&&r(f,$),f=j.hasEagerState?j.eagerState:r(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,Re.lanes|=$,Bs|=$;j=j.next}while(j!==null&&j!==n);if(R===null?g=f:R.next=E,!bn(f,t.memoizedState)&&(Mt=!0,Q&&(r=xa,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Of(t){var n=At(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);bn(f,n.memoizedState)||(Mt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Ag(t,n,r){var o=Re,h=At(),f=Pe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!bn((tt||h).memoizedState,r);if(g&&(h.memoizedState=r,Mt=!0),h=h.queue,kf(Cg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},Rg.bind(null,o,h,r,n),null),at===null)throw Error(a(349));f||($i&127)!==0||wg(o,n,r)}return r}function wg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=Zu(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Rg(t,n,r,o){n.value=r,n.getSnapshot=o,Ig(n)&&Ng(t)}function Cg(t,n,r){return r(function(){Ig(n)&&Ng(t)})}function Ig(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!bn(t,r)}catch{return!0}}function Ng(t){var n=Lr(t,2);n!==null&&gn(n,t,2)}function Mf(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),Fr){On(!0);try{r()}finally{On(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},n}function xg(t,n,r,o){return t.baseState=r,Df(t,tt,typeof o=="function"?o:Ji)}function k1(t,n,r,o,h){if(ic(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};K.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Dg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Dg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,g={};K.T=g;try{var E=r(h,o),R=K.S;R!==null&&R(g,E),Og(t,n,E)}catch(j){Vf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),K.T=f}}else try{f=r(h,o),Og(t,n,f)}catch(j){Vf(t,n,j)}}function Og(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Mg(t,n,o)},function(o){return Vf(t,n,o)}):Mg(t,n,r)}function Mg(t,n,r){n.status="fulfilled",n.value=r,Vg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Dg(t,r)))}function Vf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Vg(n),n=n.next;while(n!==o)}t.action=null}function Vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function kg(t,n){return n}function Lg(t,n){if(Pe){var r=at.formState;if(r!==null){e:{var o=Re;if(Pe){if(ct){t:{for(var h=ct,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Hn(h.nextSibling),o=h.data==="F!";break e}}Os(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:n},r.queue=o,r=ty.bind(null,Re,o),o.dispatch=r,o=Mf(!1),f=jf.bind(null,Re,!1,o.queue),o=un(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=k1.bind(null,Re,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Ug(t){var n=At();return Pg(n,tt,t)}function Pg(t,n,r){if(n=Df(t,n,kg)[0],t=ec(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(g){throw g===Da?Gu:g}else o=n;n=At();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,La(9,{destroy:void 0},L1.bind(null,h,r),null)),[o,f,t]}function L1(t,n){t.action=n}function zg(t){var n=At(),r=tt;if(r!==null)return Pg(n,r,t);At(),n=n.memoizedState,r=At();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function La(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Zu(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function jg(){return At().memoizedState}function tc(t,n,r,o){var h=un();Re.flags|=t,h.memoizedState=La(1|n,{destroy:void 0},r,o===void 0?null:o)}function nc(t,n,r,o){var h=At();o=o===void 0?null:o;var f=h.memoizedState.inst;tt!==null&&o!==null&&wf(o,tt.memoizedState.deps)?h.memoizedState=La(n,f,r,o):(Re.flags|=t,h.memoizedState=La(1|n,f,r,o))}function Bg(t,n){tc(8390656,8,t,n)}function kf(t,n){nc(2048,8,t,n)}function U1(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Zu(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function qg(t){var n=At().memoizedState;return U1({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Hg(t,n){return nc(4,2,t,n)}function Gg(t,n){return nc(4,4,t,n)}function Fg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kg(t,n,r){r=r!=null?r.concat([t]):null,nc(4,4,Fg.bind(null,n,t),r)}function Lf(){}function Qg(t,n){var r=At();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&wf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Yg(t,n){var r=At();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&wf(n,o[1]))return o[0];if(o=t(),Fr){On(!0);try{t()}finally{On(!1)}}return r.memoizedState=[o,n],o}function Uf(t,n,r){return r===void 0||($i&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Xy(),Re.lanes|=t,Bs|=t,r)}function Xg(t,n,r,o){return bn(r,n)?r:Ma.current!==null?(t=Uf(t,r,o),bn(t,n)||(Mt=!0),t):($i&42)===0||($i&1073741824)!==0&&(Oe&261930)===0?(Mt=!0,t.memoizedState=r):(t=Xy(),Re.lanes|=t,Bs|=t,n)}function $g(t,n,r,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=K.T,E={};K.T=E,jf(t,!1,n,r);try{var R=h(),j=K.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=O1(R,o);sl(t,n,Q,In(t))}else sl(t,n,o,In(t))}catch($){sl(t,n,{then:function(){},status:"rejected",reason:$},In())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),K.T=g}}function P1(){}function Pf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Jg(t).queue;$g(t,h,n,ce,r===null?P1:function(){return Zg(t),r(o)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zg(t){var n=Jg(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},In())}function zf(){return Yt(Tl)}function Wg(){return At().memoizedState}function ey(){return At().memoizedState}function z1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=In();t=ks(r);var o=Ls(n,t,r);o!==null&&(gn(o,n,r),Wo(o,n,r)),n={cache:mf()},t.payload=n;return}n=n.return}}function j1(t,n,r){var o=In();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ic(t)?ny(n,r):(r=nf(t,n,r,o),r!==null&&(gn(r,t,o),iy(r,n,o)))}function ty(t,n,r){var o=In();sl(t,n,r,o)}function sl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ic(t))ny(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,bn(E,g))return Uu(t,n,h,0),at===null&&Lu(),!1}catch{}if(r=nf(t,n,h,o),r!==null)return gn(r,t,o),iy(r,n,o),!0}return!1}function jf(t,n,r,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(a(479))}else n=nf(t,r,o,2),n!==null&&gn(n,t,2)}function ic(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function ny(t,n){Va=$u=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function iy(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ro(t,r)}}var rl={readContext:Yt,use:Wu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};rl.useEffectEvent=_t;var sy={readContext:Yt,use:Wu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:Bg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tc(4194308,4,Fg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var o=t();if(Fr){On(!0);try{t()}finally{On(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=un();if(r!==void 0){var h=r(n);if(Fr){On(!0);try{r(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=j1.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Mf(t);var n=t.queue,r=ty.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Lf,useDeferredValue:function(t,n){var r=un();return Uf(r,t,n)},useTransition:function(){var t=Mf(!1);return t=$g.bind(null,Re,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Re,h=un();if(Pe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),at===null)throw Error(a(349));(Oe&127)!==0||wg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Bg(Cg.bind(null,o,f,t),[t]),o.flags|=2048,La(9,{destroy:void 0},Rg.bind(null,o,f,r,n),null),r},useId:function(){var t=un(),n=at.identifierPrefix;if(Pe){var r=Ii,o=Ci;r=(o&~(1<<32-Tt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=M1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:zf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return un().memoizedState=z1.bind(null,Re)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if((Ke&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Bf={readContext:Yt,use:Wu,useCallback:Qg,useContext:Yt,useEffect:kf,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Yg,useReducer:ec,useRef:jg,useState:function(){return ec(Ji)},useDebugValue:Lf,useDeferredValue:function(t,n){var r=At();return Xg(r,tt.memoizedState,t,n)},useTransition:function(){var t=ec(Ji)[0],n=At().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:Ag,useId:Wg,useHostTransitionStatus:zf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var r=At();return xg(r,tt,t,n)},useMemoCache:xf,useCacheRefresh:ey};Bf.useEffectEvent=qg;var ry={readContext:Yt,use:Wu,useCallback:Qg,useContext:Yt,useEffect:kf,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Yg,useReducer:Of,useRef:jg,useState:function(){return Of(Ji)},useDebugValue:Lf,useDeferredValue:function(t,n){var r=At();return tt===null?Uf(r,t,n):Xg(r,tt.memoizedState,t,n)},useTransition:function(){var t=Of(Ji)[0],n=At().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:Ag,useId:Wg,useHostTransitionStatus:zf,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var r=At();return tt!==null?xg(r,tt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xf,useCacheRefresh:ey};ry.useEffectEvent=qg;function qf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=In(),h=ks(o);h.payload=n,r!=null&&(h.callback=r),n=Ls(t,h,o),n!==null&&(gn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=In(),h=ks(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ls(t,h,o),n!==null&&(gn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=In(),o=ks(r);o.tag=2,n!=null&&(o.callback=n),n=Ls(t,o,r),n!==null&&(gn(n,t,r),Wo(n,t,r))}};function ay(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Fo(r,o)||!Fo(h,f):!0}function oy(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Hf.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ly(t){ku(t)}function uy(t){console.error(t)}function cy(t){ku(t)}function sc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hy(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,r){return r=ks(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(t,n)},r}function fy(t){return t=ks(t),t.tag=3,t}function dy(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){hy(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){hy(n,r,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function B1(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ia(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 31:case 13:return qn===null?gc():r.alternate===null&&vt===0&&(vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),pd(t,o,h)),!1;case 22:return r.flags|=65536,o===Fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),pd(t,o,h)),!1}throw Error(a(435,r.tag))}return pd(t,o,h),gc(),!1}if(Pe)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==uf&&(t=Error(a(422),{cause:o}),Yo(Pn(t,r)))):(o!==uf&&(n=Error(a(423),{cause:o}),Yo(Pn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Pn(o,r),h=Gf(t.stateNode,o,h),Ef(t,h),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:o});if(f=Pn(f,r),dl===null?dl=[f]:dl.push(f),vt!==4&&(vt=2),n===null)return!0;o=Pn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Gf(r.stateNode,o,t),Ef(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=fy(h),dy(h,t,r,o),Ef(r,h),!1}r=r.return}while(r!==null);return!1}var Ff=Error(a(461)),Mt=!1;function Xt(t,n,r,o){n.child=t===null?yg(n,null,r,o):Gr(n,t.child,r,o)}function my(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return jr(n),o=Rf(t,n,r,g,f,h),E=Cf(),t!==null&&!Mt?(If(t,n,h),Zi(t,n,h)):(Pe&&E&&of(n),n.flags|=1,Xt(t,n,o,h),n.child)}function py(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,gy(t,n,f,o,h)):(t=zu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Wf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(g,o)&&t.ref===n.ref)return Zi(t,n,h)}return n.flags|=1,t=Ki(f,o),t.ref=n.ref,t.return=n,n.child=t}function gy(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Fo(f,o)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=o=f,Wf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return n.lanes=t.lanes,Zi(t,n,h)}return Kf(t,n,r,o,h)}function yy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return _y(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?Eg(n,f):bf(),Tg(n);else return o=n.lanes=536870912,_y(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Hu(n,f.cachePool),Eg(n,f),Ps(),n.memoizedState=null):(t!==null&&Hu(n,null),bf(),Ps());return Xt(t,n,h,r),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _y(t,n,r,o,h){var f=gf();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Hu(n,null),bf(),Tg(n),t!==null&&Ia(t,n,o,!0),n.childLanes=h,null}function rc(t,n){return n=oc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function vy(t,n,r){return Gr(n,t.child,null,r),t=rc(n,n.pendingProps),t.flags|=2,wn(n),n.memoizedState=null,t}function q1(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,al(null,t);if(Af(n),(t=ct)?(t=D_(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=ng(t),r.return=n,n.child=r,Qt=n,ct=null)):t=null,t===null)throw Os(n);return n.lanes=536870912,null}return rc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=vy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Mt||Ia(t,n,r,!1),h=(r&t.childLanes)!==0,Mt||h){if(o=at,o!==null&&(g=Co(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Lr(t,g),gn(o,t,g),Ff;gc(),n=vy(t,n,r)}else t=f.treeContext,ct=Hn(g.nextSibling),Qt=n,Pe=!0,Ds=null,Bn=!1,t!==null&&rg(n,t),n=rc(n,o),n.flags|=4096;return n}return t=Ki(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Kf(t,n,r,o,h){return jr(n),r=Rf(t,n,r,o,void 0,h),o=Cf(),t!==null&&!Mt?(If(t,n,h),Zi(t,n,h)):(Pe&&o&&of(n),n.flags|=1,Xt(t,n,r,h),n.child)}function Ey(t,n,r,o,h,f){return jr(n),n.updateQueue=null,r=Sg(n,o,r,h),bg(t),o=Cf(),t!==null&&!Mt?(If(t,n,f),Zi(t,n,f)):(Pe&&o&&of(n),n.flags|=1,Xt(t,n,r,f),n.child)}function Ty(t,n,r,o,h){if(jr(n),n.stateNode===null){var f=Aa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Yt(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},_f(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Yt(g):Aa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(qf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Hf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Kr(r,E);f.props=R;var j=f.context,Q=r.contextType;g=Aa,typeof Q=="object"&&Q!==null&&(g=Yt(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&oy(n,f,o,g),Vs=!1;var B=n.memoizedState;f.state=B,tl(n,o,f,h),el(),j=n.memoizedState,E||B!==j||Vs?(typeof $=="function"&&(qf(n,r,$,o),j=n.memoizedState),(R=Vs||ay(n,r,R,o,B,j,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,vf(t,n),g=n.memoizedProps,Q=Kr(r,g),f.props=Q,$=n.pendingProps,B=f.context,j=r.contextType,R=Aa,typeof j=="object"&&j!==null&&(R=Yt(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==R)&&oy(n,f,o,R),Vs=!1,B=n.memoizedState,f.state=B,tl(n,o,f,h),el();var H=n.memoizedState;g!==$||B!==H||Vs||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(qf(n,r,E,o),H=n.memoizedState),(Q=Vs||ay(n,r,Q,o,B,H,R)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ac(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Gr(n,t.child,null,h),n.child=Gr(n,null,r,h)):Xt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Zi(t,n,h),t}function by(t,n,r,o){return Pr(),n.flags|=256,Xt(t,n,r,o),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:hg()}}function Xf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function Sy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Us(n):Ps(),(t=ct)?(t=D_(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=ng(t),r.return=n,n.child=r,Qt=n,ct=null)):t=null,t===null)throw Os(n);return Dd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ps(),h=n.mode,E=oc({mode:"hidden",children:E},h),o=Ur(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Yf(r),o.childLanes=Xf(t,g,r),n.memoizedState=Qf,al(null,o)):(Us(n),$f(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Jf(t,n,r)):n.memoizedState!==null?(Ps(),n.child=t.child,n.flags|=128,n=null):(Ps(),E=o.fallback,h=n.mode,o=oc({mode:"visible",children:o.children},h),E=Ur(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gr(n,t.child,null,r),o=n.child,o.memoizedState=Yf(r),o.childLanes=Xf(t,g,r),n.memoizedState=Qf,n=al(null,o));else if(Us(n),Dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Yo({value:o,source:null,stack:null}),n=Jf(t,n,r)}else if(Mt||Ia(t,n,r,!1),g=(r&t.childLanes)!==0,Mt||g){if(g=at,g!==null&&(o=Co(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Lr(t,o),gn(g,t,o),Ff;xd(E)||gc(),n=Jf(t,n,r)}else xd(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ct=Hn(E.nextSibling),Qt=n,Pe=!0,Ds=null,Bn=!1,t!==null&&rg(n,t),n=$f(n,o.children),n.flags|=4096);return n}return h?(Ps(),E=o.fallback,h=n.mode,R=t.child,j=R.sibling,o=Ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Ki(j,E):(E=Ur(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Yf(r):(h=E.cachePool,h!==null?(R=Dt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=hg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Xf(t,g,r),n.memoizedState=Qf,al(t.child,o)):(Us(n),r=t.child,t=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function $f(t,n){return n=oc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oc(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Jf(t,n,r){return Gr(n,t.child,null,r),t=$f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ay(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ff(t.return,n,r)}function Zf(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function wy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=St.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ee(St,g),Xt(t,n,o,r),o=Pe?Qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,r,n);else if(t.tag===19)Ay(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Zf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Zf(n,!0,r,null,f,o);break;case"together":Zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Zi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Bs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ia(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ki(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ki(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Wf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function H1(t,n,r){switch(n.tag){case 3:ut(n,n.stateNode.containerInfo),Ms(n,Dt,t.memoizedState.cache),Pr();break;case 27:case 5:zi(n);break;case 4:ut(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Sy(t,n,r):(Us(n),t=Zi(t,n,r),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ia(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return wy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(St,St.current),o)break;return null;case 22:return n.lanes=0,yy(t,n,r,n.pendingProps);case 24:Ms(n,Dt,t.memoizedState.cache)}return Zi(t,n,r)}function Ry(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mt=!0;else{if(!Wf(t,r)&&(n.flags&128)===0)return Mt=!1,H1(t,n,r);Mt=(t.flags&131072)!==0}else Mt=!1,Pe&&(n.flags&1048576)!==0&&sg(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=Kr(t,o),n.tag=1,n=Ty(null,n,t,o,r)):(n.tag=0,n=Kf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Ge){n.tag=11,n=my(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=py(null,n,t,o,r);break e}}throw n=We(t)||t,Error(a(306,n,""))}}return n;case 0:return Kf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Kr(o,n.pendingProps),Ty(t,n,o,h,r);case 3:e:{if(ut(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,vf(t,n),tl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ms(n,Dt,o),o!==f.cache&&df(n,[Dt],r,!0),el(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=by(t,n,o,r);break e}else if(o!==h){h=Pn(Error(a(424)),n),Yo(h),n=by(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=Hn(t.firstChild),Qt=n,Pe=!0,Ds=null,Bn=!0,r=yg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pr(),o===h){n=Zi(t,n,r);break e}Xt(t,n,o,r)}n=n.child}return n;case 26:return ac(t,n),t===null?(r=U_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pe||(r=n.type,t=n.pendingProps,o=Sc(ye.current).createElement(r),o[It]=n,o[Bt]=t,$t(o,r,t),Nt(o),n.stateNode=o):n.memoizedState=U_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&Pe&&(o=n.stateNode=V_(n.type,n.pendingProps,ye.current),Qt=n,Bn=!0,h=ct,Ks(n.type)?(Od=h,ct=Hn(o.firstChild)):ct=h),Xt(t,n,n.pendingProps.children,r),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=o=ct)&&(o=vb(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Qt=n,ct=Hn(o.firstChild),Bn=!1,h=!0):h=!1),h||Os(n)),zi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Rf(t,n,V1,null,null,r),Tl._currentValue=h),ac(t,n),Xt(t,n,o,r),n.child;case 6:return t===null&&Pe&&((t=r=ct)&&(r=Eb(r,n.pendingProps,Bn),r!==null?(n.stateNode=r,Qt=n,ct=null,t=!0):t=!1),t||Os(n)),null;case 13:return Sy(t,n,r);case 4:return ut(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gr(n,null,o,r):Xt(t,n,o,r),n.child;case 11:return my(t,n,n.type,n.pendingProps,r);case 7:return Xt(t,n,n.pendingProps,r),n.child;case 8:return Xt(t,n,n.pendingProps.children,r),n.child;case 12:return Xt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),Xt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=Yt(h),o=o(h),n.flags|=1,Xt(t,n,o,r),n.child;case 14:return py(t,n,n.type,n.pendingProps,r);case 15:return gy(t,n,n.type,n.pendingProps,r);case 19:return wy(t,n,r);case 31:return q1(t,n,r);case 22:return yy(t,n,r,n.pendingProps);case 24:return jr(n),o=Yt(Dt),t===null?(h=gf(),h===null&&(h=at,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},_f(n),Ms(n,Dt,h)):((t.lanes&r)!==0&&(vf(t,n),tl(n,null,null,r),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,Dt,o)):(o=f.cache,Ms(n,Dt,o),o!==h.cache&&df(n,[Dt],r,!0))),Xt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(t){t.flags|=4}function ed(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Wy())t.flags|=8192;else throw Hr=Fu,yf}else t.flags&=-16777217}function Cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!q_(n))if(Wy())t.flags|=8192;else throw Hr=Fu,yf}function lc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,ja|=n)}function ol(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function G1(t,n,r){var o=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Dt),st(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ca(n)?Wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cf())),ht(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Wi(n),f!==null?(ht(n),Cy(n,f)):(ht(n),ed(n,h,null,o,r))):f?f!==t.memoizedState?(Wi(n),ht(n),Cy(n,f)):(ht(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Wi(n),ht(n),ed(n,h,t,o,r)),null;case 27:if(ji(n),r=ye.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}t=G.current,Ca(n)?ag(n):(t=V_(h,o,r),n.stateNode=t,Wi(n))}return ht(n),null;case 5:if(ji(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}if(f=G.current,Ca(n))ag(n);else{var g=Sc(ye.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[It]=n,f[Bt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch($t(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Wi(n)}}return ht(n),ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=ye.current,Ca(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||S_(t.nodeValue,r)),t||Os(n,!0)}else t=Sc(t).createTextNode(o),t[It]=n,n.stateNode=t}return ht(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ca(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),t=!1}else r=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ht(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),lc(n,n.updateQueue),ht(n),null);case 4:return st(),t===null&&bd(n.stateNode.containerInfo),ht(n),null;case 10:return Xi(n.type),ht(n),null;case 19:if(U(St),o=n.memoizedState,o===null)return ht(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,lc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)tg(r,t),r=r.sibling;return ee(St,St.current&1|2),Pe&&Qi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ue()>dc&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,lc(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pe)return ht(n),null}else 2*Ue()-o.renderingStartTime>dc&&r!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,r=St.current,ee(St,h?r&1|2:r&1),Pe&&Qi(n,o.treeForkCount),t):(ht(n),null);case 22:case 23:return wn(n),Sf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),r=n.updateQueue,r!==null&&lc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&U(Br),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Dt),ht(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function F1(t,n){switch(lf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Xi(Dt),st(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ji(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return U(St),null;case 4:return st(),null;case 10:return Xi(n.type),null;case 22:case 23:return wn(n),Sf(),t!==null&&U(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Xi(Dt),null;case 25:return null;default:return null}}function Iy(t,n){switch(lf(n),n.tag){case 3:Xi(Dt),st();break;case 26:case 27:case 5:ji(n);break;case 4:st();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:U(St);break;case 10:Xi(n.type);break;case 22:case 23:wn(n),Sf(),t!==null&&U(Br);break;case 24:Xi(Dt)}}function ll(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Ze(n,n.return,E)}}function zs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,j=E;try{j()}catch(Q){Ze(h,R,Q)}}}o=o.next}while(o!==f)}}catch(Q){Ze(n,n.return,Q)}}function Ny(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{vg(n,r)}catch(o){Ze(t,t.return,o)}}}function xy(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Ze(t,n,o)}}function ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){Ze(t,n,h)}}function Ni(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,n,h)}else r.current=null}function Dy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function td(t,n,r){try{var o=t.stateNode;db(o,t.type,r,n),o[Bt]=n}catch(h){Ze(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Wn));else if(o!==4&&(o===27&&Ks(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(id(t,n,r),t=t.sibling;t!==null;)id(t,n,r),t=t.sibling}function uc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uc(t,n,r),t=t.sibling;t!==null;)uc(t,n,r),t=t.sibling}function My(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,o,r),n[It]=t,n[Bt]=r}catch(f){Ze(t,t.return,f)}}var es=!1,Vt=!1,sd=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function K1(t,n){if(t=t.containerInfo,wd=xc,t=Kp(t),$h(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,R=-1,j=0,Q=0,$=t,B=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(R=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===t)break t;if(B===r&&++j===h&&(E=g),B===f&&++Q===o&&(R=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rd={focusedElem:t,selectionRange:r},xc=!1,Ht=n;Ht!==null;)if(n=Ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ht=t;else for(;Ht!==null;){switch(n=Ht,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var oe=Kr(r.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ze(r,r.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Nd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ht=t;break}Ht=n.return}}function ky(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ns(t,r),o&4&&ll(5,r);break;case 1:if(ns(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Ze(r,r.return,g)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ze(r,r.return,g)}}o&64&&Ny(r),o&512&&ul(r,r.return);break;case 3:if(ns(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{vg(t,n)}catch(g){Ze(r,r.return,g)}}break;case 27:n===null&&o&4&&My(r);case 26:case 5:ns(t,r),n===null&&o&4&&Dy(r),o&512&&ul(r,r.return);break;case 12:ns(t,r);break;case 31:ns(t,r),o&4&&Py(t,r);break;case 13:ns(t,r),o&4&&zy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=tb.bind(null,r),Tb(t,r))));break;case 22:if(o=r.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||Vt,h=es;var f=Vt;es=o,(Vt=n)&&!f?is(t,r,(r.subtreeFlags&8772)!==0):ns(t,r),es=h,Vt=f}break;case 30:break;default:ns(t,r)}}function Ly(t){var n=t.alternate;n!==null&&(t.alternate=null,Ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ca(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,fn=!1;function ts(t,n,r){for(r=r.child;r!==null;)Uy(t,n,r),r=r.sibling}function Uy(t,n,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Xn,r)}catch{}switch(r.tag){case 26:Vt||Ni(r,n),ts(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Vt||Ni(r,n);var o=pt,h=fn;Ks(r.type)&&(pt=r.stateNode,fn=!1),ts(t,n,r),_l(r.stateNode),pt=o,fn=h;break;case 5:Vt||Ni(r,n);case 6:if(o=pt,h=fn,pt=null,ts(t,n,r),pt=o,fn=h,pt!==null)if(fn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(r.stateNode)}catch(f){Ze(r,n,f)}else try{pt.removeChild(r.stateNode)}catch(f){Ze(r,n,f)}break;case 18:pt!==null&&(fn?(t=pt,N_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ya(t)):N_(pt,r.stateNode));break;case 4:o=pt,h=fn,pt=r.stateNode.containerInfo,fn=!0,ts(t,n,r),pt=o,fn=h;break;case 0:case 11:case 14:case 15:zs(2,r,n),Vt||zs(4,r,n),ts(t,n,r);break;case 1:Vt||(Ni(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&xy(r,n,o)),ts(t,n,r);break;case 21:ts(t,n,r);break;case 22:Vt=(o=Vt)||r.memoizedState!==null,ts(t,n,r),Vt=o;break;default:ts(t,n,r)}}function Py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(r){Ze(n,n.return,r)}}}function zy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(r){Ze(n,n.return,r)}}function Q1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vy),n;default:throw Error(a(435,t.tag))}}function cc(t,n){var r=Q1(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=nb.bind(null,t,o);o.then(h,h)}})}function dn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ks(E.type)){pt=E.stateNode,fn=!1;break e}break;case 5:pt=E.stateNode,fn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,fn=!0;break e}E=E.return}if(pt===null)throw Error(a(160));Uy(f,g,h),pt=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,t),n=n.sibling}var ri=null;function jy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),o&4&&(zs(3,t,t.return),ll(3,t),zs(5,t,t.return));break;case 1:dn(n,t),mn(t),o&512&&(Vt||r===null||Ni(r,r.return)),o&64&&es&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ri;if(dn(n,t),mn(t),o&512&&(Vt||r===null||Ni(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,o,r),f[It]=t,Nt(f),o=f;break e;case"link":var g=j_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),$t(f,o,r),h.head.appendChild(f);break;case"meta":if(g=j_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(o),$t(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[It]=t,Nt(f),o=f}t.stateNode=o}else B_(h,t.type,t.stateNode);else t.stateNode=z_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?B_(h,t.type,t.stateNode):z_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,r.memoizedProps)}break;case 27:dn(n,t),mn(t),o&512&&(Vt||r===null||Ni(r,r.return)),r!==null&&o&4&&td(t,t.memoizedProps,r.memoizedProps);break;case 5:if(dn(n,t),mn(t),o&512&&(Vt||r===null||Ni(r,r.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(oe){Ze(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,r!==null?r.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(dn(n,t),mn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(oe){Ze(t,t.return,oe)}}break;case 3:if(Rc=null,h=ri,ri=Ac(n.containerInfo),dn(n,t),ri=h,mn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(oe){Ze(t,t.return,oe)}sd&&(sd=!1,By(t));break;case 4:o=ri,ri=Ac(t.stateNode.containerInfo),dn(n,t),mn(t),ri=o;break;case 12:dn(n,t),mn(t);break;case 31:dn(n,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=Ue()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,j=es,Q=Vt;if(es=j||h,Vt=Q||R,dn(n,t),Vt=Q,es=j,mn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||es||Vt||Qr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){Ze(R,R.return,oe)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){Ze(R,R.return,oe)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?x_(H,!0):x_(R.stateNode,!1)}catch(oe){Ze(R,R.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,cc(t,r))));break;case 19:dn(n,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Oy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=nd(t);uc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(hn(g,""),r.flags&=-33);var E=nd(t);uc(t,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,j=nd(t);id(t,j,R);break;default:throw Error(a(161))}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;By(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ns(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ky(t,n.alternate,n),n=n.sibling}function Qr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Qr(n);break;case 1:Ni(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&xy(n,n.return,r),Qr(n);break;case 27:_l(n.stateNode);case 26:case 5:Ni(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}t=t.sibling}}function is(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,r),ll(4,f);break;case 1:if(is(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)_g(R[h],E)}catch(j){Ze(o,o.return,j)}}r&&g&64&&Ny(f),ul(f,f.return);break;case 27:My(f);case 26:case 5:is(h,f,r),r&&o===null&&g&4&&Dy(f),ul(f,f.return);break;case 12:is(h,f,r);break;case 31:is(h,f,r),r&&g&4&&Py(h,f);break;case 13:is(h,f,r),r&&g&4&&zy(h,f);break;case 22:f.memoizedState===null&&is(h,f,r),ul(f,f.return);break;case 30:break;default:is(h,f,r)}n=n.sibling}}function rd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xo(r))}function ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function ai(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qy(t,n,r,o),n=n.sibling}function qy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(t,n,r,o),h&2048&&ll(9,n);break;case 1:ai(t,n,r,o);break;case 3:ai(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){ai(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ze(n,n.return,R)}}else ai(t,n,r,o);break;case 31:ai(t,n,r,o);break;case 13:ai(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ai(t,n,r,o):cl(t,n):f._visibility&2?ai(t,n,r,o):(f._visibility|=2,Ua(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(g,n);break;case 24:ai(t,n,r,o),h&2048&&ad(n.alternate,n);break;default:ai(t,n,r,o)}}function Ua(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,R=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,E,R,h),ll(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ua(f,g,E,R,h):cl(f,g):(Q._visibility|=2,Ua(f,g,E,R,h)),h&&j&2048&&rd(g.alternate,g);break;case 24:Ua(f,g,E,R,h),h&&j&2048&&ad(g.alternate,g);break;default:Ua(f,g,E,R,h)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:cl(r,o),h&2048&&rd(o.alternate,o);break;case 24:cl(r,o),h&2048&&ad(o.alternate,o);break;default:cl(r,o)}n=n.sibling}}var hl=8192;function Pa(t,n,r){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Hy(t,n,r),t=t.sibling}function Hy(t,n,r){switch(t.tag){case 26:Pa(t,n,r),t.flags&hl&&t.memoizedState!==null&&Mb(r,ri,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,n,r);break;case 3:case 4:var o=ri;ri=Ac(t.stateNode.containerInfo),Pa(t,n,r),ri=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Pa(t,n,r),hl=o):Pa(t,n,r));break;default:Pa(t,n,r)}}function Gy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ht=o,Ky(o,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&zs(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):fl(t);break;default:fl(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ht=o,Ky(o,t)}Gy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zs(8,n,n.return),hc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Ky(t,n){for(;Ht!==null;){var r=Ht;switch(r.tag){case 0:case 11:case 15:zs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ht=o;else e:for(r=t;Ht!==null;){o=Ht;var h=o.sibling,f=o.return;if(Ly(o),o===r){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var Y1={getCacheForType:function(t){var n=Yt(Dt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Yt(Dt).controller.signal}},X1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,at=null,Ie=null,Oe=0,Je=0,Rn=null,js=!1,za=!1,od=!1,ss=0,vt=0,Bs=0,Yr=0,ld=0,Cn=0,ja=0,dl=null,pn=null,ud=!1,fc=0,Qy=0,dc=1/0,mc=null,qs=null,Pt=0,Hs=null,Ba=null,rs=0,cd=0,hd=null,Yy=null,ml=0,fd=null;function In(){return(Ke&2)!==0&&Oe!==0?Oe&-Oe:K.T!==null?_d():pu()}function Xy(){if(Cn===0)if((Oe&536870912)===0||Pe){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Cn=t}else Cn=536870912;return t=An.current,t!==null&&(t.flags|=32),Cn}function gn(t,n,r){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Gs(t,Oe,Cn,!1)),br(t,r),((Ke&2)===0||t!==at)&&(t===at&&((Ke&2)===0&&(Yr|=r),vt===4&&Gs(t,Oe,Cn,!1)),xi(t))}function $y(t,n,r){if((Ke&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),h=o?Z1(t,n):md(t,n,!0),f=o;do{if(h===0){za&&!o&&Gs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!$1(r)){h=md(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=dl;var R=E.current.memoizedState.isDehydrated;if(R&&(qa(E,g).flags|=256),g=md(E,g,!1),g!==2){if(od&&!R){E.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break e}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){qa(t,0),Gs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Cn,!js);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=fc+300-Ue(),10<h)){if(Gs(o,n,Cn,!js),fi(o,0,!0)!==0)break e;rs=n,o.timeoutHandle=C_(Jy.bind(null,o,r,pn,mc,ud,n,Cn,Yr,ja,js,f,"Throttled",-0,0),h);break e}Jy(o,r,pn,mc,ud,n,Cn,Yr,ja,js,f,null,-0,0)}}break}while(!0);xi(t)}function Jy(t,n,r,o,h,f,g,E,R,j,Q,$,B,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Hy(n,f,$);var oe=(f&62914560)===f?fc-Ue():(f&4194048)===f?Qy-Ue():0;if(oe=Vb($,oe),oe!==null){rs=f,t.cancelPendingCommit=oe(r_.bind(null,t,n,f,r,o,h,g,E,R,Q,$,null,B,H)),Gs(t,f,g,!j);return}}r_(t,n,f,r,o,h,g,E,R)}function $1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(t,n,r,o){n&=~ld,n&=~Yr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Tt(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Sr(t,r,n)}function pc(){return(Ke&6)===0?(pl(0),!1):!0}function dd(){if(Ie!==null){if(Je===0)var t=Ie.return;else t=Ie,Yi=zr=null,Nf(t),Oa=null,Jo=0,t=Ie;for(;t!==null;)Iy(t.alternate,t),t=t.return;Ie=null}}function qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,gb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),rs=0,dd(),at=t,Ie=r=Ki(t.current,null),Oe=n,Je=0,Rn=null,js=!1,za=$n(t,n),od=!1,ja=Cn=ld=Yr=Bs=vt=0,pn=dl=null,ud=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Tt(o),f=1<<h;n|=t[h],o&=~f}return ss=n,Lu(),r}function Zy(t,n){Re=null,K.H=rl,n===Da||n===Gu?(n=mg(),Je=3):n===yf?(n=mg(),Je=4):Je=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Ie===null&&(vt=1,sc(t,Pn(n,t.current)))}function Wy(){var t=An.current;return t===null?!0:(Oe&4194048)===Oe?qn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===qn:!1}function e_(){var t=K.H;return K.H=rl,t===null?rl:t}function t_(){var t=K.A;return K.A=Y1,t}function gc(){vt=4,js||(Oe&4194048)!==Oe&&An.current!==null||(za=!0),(Bs&134217727)===0&&(Yr&134217727)===0||at===null||Gs(at,Oe,Cn,!1)}function md(t,n,r){var o=Ke;Ke|=2;var h=e_(),f=t_();(at!==t||Oe!==n)&&(mc=null,qa(t,n)),n=!1;var g=vt;e:do try{if(Je!==0&&Ie!==null){var E=Ie,R=Rn;switch(Je){case 8:dd(),g=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var j=Je;if(Je=0,Rn=null,Ha(t,E,R,j),r&&za){g=0;break e}break;default:j=Je,Je=0,Rn=null,Ha(t,E,R,j)}}J1(),g=vt;break}catch(Q){Zy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Yi=zr=null,Ke=o,K.H=h,K.A=f,Ie===null&&(at=null,Oe=0,Lu()),g}function J1(){for(;Ie!==null;)n_(Ie)}function Z1(t,n){var r=Ke;Ke|=2;var o=e_(),h=t_();at!==t||Oe!==n?(mc=null,dc=Ue()+500,qa(t,n)):za=$n(t,n);e:do try{if(Je!==0&&Ie!==null){n=Ie;var f=Rn;t:switch(Je){case 1:Je=0,Rn=null,Ha(t,n,f,1);break;case 2:case 9:if(fg(f)){Je=0,Rn=null,i_(n);break}n=function(){Je!==2&&Je!==9||at!==t||(Je=7),xi(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:fg(f)?(Je=0,Rn=null,i_(n)):(Je=0,Rn=null,Ha(t,n,f,7));break;case 5:var g=null;switch(Ie.tag){case 26:g=Ie.memoizedState;case 5:case 27:var E=Ie;if(g?q_(g):E.stateNode.complete){Je=0,Rn=null;var R=E.sibling;if(R!==null)Ie=R;else{var j=E.return;j!==null?(Ie=j,yc(j)):Ie=null}break t}}Je=0,Rn=null,Ha(t,n,f,5);break;case 6:Je=0,Rn=null,Ha(t,n,f,6);break;case 8:dd(),vt=6;break e;default:throw Error(a(462))}}W1();break}catch(Q){Zy(t,Q)}while(!0);return Yi=zr=null,K.H=o,K.A=h,Ke=r,Ie!==null?0:(at=null,Oe=0,Lu(),vt)}function W1(){for(;Ie!==null&&!rt();)n_(Ie)}function n_(t){var n=Ry(t.alternate,t,ss);t.memoizedProps=t.pendingProps,n===null?yc(t):Ie=n}function i_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ey(r,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=Ey(r,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:Nf(n);default:Iy(r,n),n=Ie=tg(n,ss),n=Ry(r,n,ss)}t.memoizedProps=t.pendingProps,n===null?yc(t):Ie=n}function Ha(t,n,r,o){Yi=zr=null,Nf(n),Oa=null,Jo=0;var h=n.return;try{if(B1(t,h,n,r,Oe)){vt=1,sc(t,Pn(r,t.current)),Ie=null;return}}catch(f){if(h!==null)throw Ie=h,f;vt=1,sc(t,Pn(r,t.current)),Ie=null;return}n.flags&32768?(Pe||o===1?t=!0:za||(Oe&536870912)!==0?t=!1:(js=t=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),s_(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){s_(n,js);return}t=n.return;var r=G1(n.alternate,n,ss);if(r!==null){Ie=r;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=t}while(n!==null);vt===0&&(vt=5)}function s_(t,n){do{var r=F1(t.alternate,t);if(r!==null){r.flags&=32767,Ie=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=r}while(t!==null);vt=6,Ie=null}function r_(t,n,r,o,h,f,g,E,R){t.cancelPendingCommit=null;do _c();while(Pt!==0);if((Ke&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Kh(t,r,f,g,E,R),t===at&&(Ie=at=null,Oe=0),Ba=n,Hs=t,rs=r,cd=f,hd=h,Yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ib(Es,function(){return c_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ne.p,ne.p=2,g=Ke,Ke|=4;try{K1(t,n,r)}finally{Ke=g,ne.p=h,K.T=o}}Pt=1,a_(),o_(),l_()}}function a_(){if(Pt===1){Pt=0;var t=Hs,n=Ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Ke;Ke|=4;try{jy(n,t);var f=Rd,g=Kp(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Fp(E.ownerDocument.documentElement,E)){if(R!==null&&$h(E)){var j=R.start,Q=R.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),oe=E.textContent.length,ge=Math.min(R.start,oe),it=R.end===void 0?ge:Math.min(R.end,oe);!H.extend&&ge>it&&(g=it,it=ge,ge=g);var k=Gp(E,ge),D=Gp(E,it);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var z=$.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),ge>it?(H.addRange(z),H.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),H.addRange(z))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}xc=!!wd,Rd=wd=null}finally{Ke=h,ne.p=o,K.T=r}}t.current=n,Pt=2}}function o_(){if(Pt===2){Pt=0;var t=Hs,n=Ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Ke;Ke|=4;try{ky(t,n.alternate,n)}finally{Ke=h,ne.p=o,K.T=r}}Pt=3}}function l_(){if(Pt===4||Pt===3){Pt=0,Ut();var t=Hs,n=Ba,r=rs,o=Yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,Ba=Hs=null,u_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),qi(r),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ne.p,ne.p=2,K.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{K.T=n,ne.p=h}}(rs&3)!==0&&_c(),xi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===fd?ml++:(ml=0,fd=t):ml=0,pl(0)}}function u_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function _c(){return a_(),o_(),l_(),c_()}function c_(){if(Pt!==5)return!1;var t=Hs,n=cd;cd=0;var r=qi(rs),o=K.T,h=ne.p;try{ne.p=32>r?32:r,K.T=null,r=hd,hd=null;var f=Hs,g=rs;if(Pt=0,Ba=Hs=null,rs=0,(Ke&6)!==0)throw Error(a(331));var E=Ke;if(Ke|=4,Fy(f.current),qy(f,f.current,g,r),Ke=E,pl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{ne.p=h,K.T=o,u_(t,n)}}function h_(t,n,r){n=Pn(r,n),n=Gf(t.stateNode,n,2),t=Ls(t,n,2),t!==null&&(br(t,2),xi(t))}function Ze(t,n,r){if(t.tag===3)h_(t,t,r);else for(;n!==null;){if(n.tag===3){h_(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=Pn(r,t),r=fy(2),o=Ls(n,r,2),o!==null&&(dy(r,o,n,t),br(o,2),xi(o));break}}n=n.return}}function pd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new X1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(od=!0,h.add(r),t=eb.bind(null,t,n,r),n.then(t,t))}function eb(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(Oe&r)===r&&(vt===4||vt===3&&(Oe&62914560)===Oe&&300>Ue()-fc?(Ke&2)===0&&qa(t,0):ld|=r,ja===Oe&&(ja=0)),xi(t)}function f_(t,n){n===0&&(n=mu()),t=Lr(t,n),t!==null&&(br(t,n),xi(t))}function tb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),f_(t,r)}function nb(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),f_(t,r)}function ib(t,n){return pe(t,n)}var vc=null,Ga=null,gd=!1,Ec=!1,yd=!1,Fs=0;function xi(t){t!==Ga&&t.next===null&&(Ga===null?vc=Ga=t:Ga=Ga.next=t),Ec=!0,gd||(gd=!0,rb())}function pl(t,n){if(!yd&&Ec){yd=!0;do for(var r=!1,o=vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,g_(o,f))}else f=Oe,f=fi(o,o===at?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$n(o,f)||(r=!0,g_(o,f));o=o.next}while(r);yd=!1}}function sb(){d_()}function d_(){Ec=gd=!1;var t=0;Fs!==0&&pb()&&(t=Fs);for(var n=Ue(),r=null,o=vc;o!==null;){var h=o.next,f=m_(o,n);f===0?(o.next=null,r===null?vc=h:r.next=h,h===null&&(Ga=r)):(r=o,(t!==0||(f&3)!==0)&&(Ec=!0)),o=h}Pt!==0&&Pt!==5||pl(t),Fs!==0&&(Fs=0)}function m_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Tt(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Fh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=at,r=Oe,r=fi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Qe(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||$n(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Qe(o),qi(r)){case 2:case 8:r=wo;break;case 32:r=Es;break;case 268435456:r=uu;break;default:r=Es}return o=p_.bind(null,t),r=pe(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Qe(o),t.callbackPriority=2,t.callbackNode=null,2}function p_(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_c()&&t.callbackNode!==r)return null;var o=Oe;return o=fi(t,t===at?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:($y(t,o,n),m_(t,Ue()),t.callbackNode!=null&&t.callbackNode===r?p_.bind(null,t):null)}function g_(t,n){if(_c())return null;$y(t,n,!0)}function rb(){yb(function(){(Ke&6)!==0?pe(Ao,sb):d_()})}function _d(){if(Fs===0){var t=Na;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Fs=t}return Fs}function y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function __(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ab(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=y_((h[Bt]||null).action),g=o.submitter;g&&(n=(n=g[Bt]||null)?y_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var R=g?__(h,g):new FormData(h);Pf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?__(h,g):new FormData(h),Pf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var Ed=ef[vd],ob=Ed.toLowerCase(),lb=Ed[0].toUpperCase()+Ed.slice(1);si(ob,"on"+lb)}si(Xp,"onAnimationEnd"),si($p,"onAnimationIteration"),si(Jp,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(A1,"onTransitionRun"),si(w1,"onTransitionStart"),si(R1,"onTransitionCancel"),si(Zp,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function v_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=R}}}}function Ne(t,n){var r=n[ua];r===void 0&&(r=n[ua]=new Set);var o=t+"__bubble";r.has(o)||(E_(n,t,2,!1),r.add(o))}function Td(t,n,r){var o=0;n&&(o|=4),E_(r,t,o,n)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[Tc]){t[Tc]=!0,Io.forEach(function(r){r!=="selectionchange"&&(ub.has(r)||Td(r,!1,t),Td(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tc]||(n[Tc]=!0,Td("selectionchange",!1,n))}}function E_(t,n,r,o){switch(X_(n)){case 2:var h=Ub;break;case 8:h=Pb;break;default:h=Ud}r=h.bind(null,n,r,t),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Sd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=gi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Rs(function(){var j=f,Q=Vn(r),$=[];e:{var B=Wp.get(t);if(B!==void 0){var H=Si,oe=t;switch(t){case"keypress":if(xr(r)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":oe="focus",H=Or;break;case"focusout":oe="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Xp:case $p:case Jp:H=wu;break;case Zp:H=T;break;case"scroll":case"scrollend":H=jo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fi;break;case"toggle":case"beforetoggle":H=we}var ge=(n&4)!==0,it=!ge&&(t==="scroll"||t==="scrollend"),k=ge?B!==null?B+"Capture":null:B;ge=[];for(var D=j,z;D!==null;){var Y=D;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||k===null||(Y=ei(D,k),Y!=null&&ge.push(yl(D,Y,z))),it)break;D=D.return}0<ge.length&&(B=new H(B,oe,null,r,Q),$.push({event:B,listeners:ge}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Uo&&(oe=r.relatedTarget||r.fromElement)&&(gi(oe)||oe[mi]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(oe=r.relatedTarget||r.toElement,H=j,oe=oe?gi(oe):null,oe!==null&&(it=c(oe),ge=oe.tag,oe!==it||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(H=null,oe=j),H!==oe)){if(ge=Bo,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Fi,Y="onPointerLeave",k="onPointerEnter",D="pointer"),it=H==null?B:En(H),z=oe==null?B:En(oe),B=new ge(Y,D+"leave",H,r,Q),B.target=it,B.relatedTarget=z,Y=null,gi(Q)===j&&(ge=new ge(k,D+"enter",oe,r,Q),ge.target=z,ge.relatedTarget=it,Y=ge),it=Y,H&&oe)t:{for(ge=cb,k=H,D=oe,z=0,Y=k;Y;Y=ge(Y))z++;Y=0;for(var fe=D;fe;fe=ge(fe))Y++;for(;0<z-Y;)k=ge(k),z--;for(;0<Y-z;)D=ge(D),Y--;for(;z--;){if(k===D||D!==null&&k===D.alternate){ge=k;break t}k=ge(k),D=ge(D)}ge=null}else ge=null;H!==null&&T_($,B,H,ge,!1),oe!==null&&it!==null&&T_($,it,oe,ge,!0)}}e:{if(B=j?En(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qe=Pp;else if(Lp(B))if(zp)qe=T1;else{qe=v1;var ue=_1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&da(j.elementType)&&(qe=Pp):qe=E1;if(qe&&(qe=qe(t,j))){Up($,qe,r,Q);break e}ue&&ue(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Vo(B,"number",B.value)}switch(ue=j?En(j):window,t){case"focusin":(Lp(ue)||ue.contentEditable==="true")&&(Ta=ue,Jh=j,Ko=null);break;case"focusout":Ko=Jh=Ta=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Qp($,r,Q);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":Qp($,r,Q)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ea?Mr(t,r)&&(Me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(Ri&&r.locale!=="ko"&&(Ea||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ea&&(Ce=zo()):(bi=Q,Po="value"in bi?bi.value:bi.textContent,Ea=!0)),ue=bc(j,Me),0<ue.length&&(Me=new wi(Me,t,null,r,Q),$.push({event:Me,listeners:ue}),Ce?Me.data=Ce:(Ce=va(r),Ce!==null&&(Me.data=Ce)))),(Ce=Ln?m1(t,r):p1(t,r))&&(Me=bc(j,"onBeforeInput"),0<Me.length&&(ue=new wi("onBeforeInput","beforeinput",null,r,Q),$.push({event:ue,listeners:Me}),ue.data=Ce)),ab($,t,j,r,Q)}v_($,n)})}function yl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(t,r),h!=null&&o.unshift(yl(t,h,f)),h=ei(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function cb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T_(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=ei(r,f),j!=null&&g.unshift(yl(r,j,R))):h||(j=ei(r,f),j!=null&&g.push(yl(r,j,R)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var hb=/\r\n?/g,fb=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(hb,`
`).replace(fb,"")}function S_(t,n){return n=b_(n),b_(t)===n}function nt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(t,""+o);break;case"className":Tn(t,"class",o);break;case"tabIndex":Tn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,r,o);break;case"style":Lo(t,o,f);break;case"data":if(n!=="object"){Tn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ma(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ma(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ma(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ha(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bu.get(r)||r,ha(t,r,o))}}function Ad(t,n,r,o,h,f){switch(r){case"style":Lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?hn(t,o):(typeof o=="number"||typeof o=="bigint")&&hn(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Bt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ha(t,r,o)}}}function $t(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,f,g,r,null)}}h&&nt(t,n,"srcSet",r.srcSet,r,null),o&&nt(t,n,"src",r.src,r,null);return;case"input":Ne("invalid",t);var E=f=g=h=null,R=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":R=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:nt(t,n,o,Q,r,null)}}vu(t,f,E,R,j,g,h,!1);return;case"select":Ne("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:nt(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!o,n!=null?bs(t,!!o,n,!1):r!=null&&bs(t,!!o,r,!0);return;case"textarea":Ne("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:nt(t,n,g,E,r,null)}Ss(t,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":nt(t,n,R,o,r,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)Ne(gl[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,j,o,r,null)}return;default:if(da(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&Ad(t,n,Q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&nt(t,n,E,o,r,null))}function db(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,j=null,Q=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(H)||nt(t,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=r[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&nt(t,n,B,H,o,$)}}fa(t,g,E,R,j,Q,f,h);return;case"select":H=g=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||nt(t,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&nt(t,n,h,f,o,R)}n=E,r=g,o=H,B!=null?bs(t,!!r,B,!1):!!o!=!!r&&(n!=null?bs(t,!!r,n,!0):bs(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&nt(t,n,g,h,o,f)}Eu(t,B,H);return;case"option":for(var oe in r)B=r[oe],r.hasOwnProperty(oe)&&B!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:nt(t,n,oe,null,o,B));for(R in o)B=o[R],H=r[R],o.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null)&&(R==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":nt(t,n,R,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in r)B=r[ge],r.hasOwnProperty(ge)&&B!=null&&!o.hasOwnProperty(ge)&&nt(t,n,ge,null,o,B);for(j in o)if(B=o[j],H=r[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:nt(t,n,j,B,o,H)}return;default:if(da(n)){for(var it in r)B=r[it],r.hasOwnProperty(it)&&B!==void 0&&!o.hasOwnProperty(it)&&Ad(t,n,it,void 0,o,B);for(Q in o)B=o[Q],H=r[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Ad(t,n,Q,B,o,H);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&nt(t,n,k,null,o,B);for($ in o)B=o[$],H=r[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||nt(t,n,$,B,o,H)}function A_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&A_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],j=R.startTime;if(j>E)break;var Q=R.transferSize,$=R.initiatorType;Q&&A_($)&&(R=R.responseEnd,g+=Q*(R<E?1:(E-j)/(R-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wd=null,Rd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function w_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function pb(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(_b)}:C_;function _b(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function N_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Ya(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")_l(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,_l(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&_l(t.ownerDocument.body);r=h}while(r);Ya(n)}function x_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Nd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nd(r),ca(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function vb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Eb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function D_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Od=null;function O_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Hn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function M_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function V_(t,n,r){switch(n=Sc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ca(t)}var Gn=new Map,k_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=ne.d;ne.d={f:bb,r:Sb,D:Ab,C:wb,L:Rb,m:Cb,X:Nb,S:Ib,M:xb};function bb(){var t=as.f(),n=pc();return t||n}function Sb(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?Zg(n):as.r(t)}var Fa=typeof document>"u"?null:document;function L_(t,n,r){var o=Fa;if(o&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),k_.has(h)||(k_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$t(n,"link",t),Nt(n),o.head.appendChild(n)))}}function Ab(t){as.D(t),L_("dns-prefetch",t,null)}function wb(t,n){as.C(t,n),L_("preconnect",t,n)}function Rb(t,n,r){as.L(t,n,r);var o=Fa;if(o&&t&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+cn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+cn(r.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Qa(t)}Gn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Gn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),$t(n,"link",t),Nt(n),o.head.appendChild(n)))}}function Cb(t,n){as.m(t,n);var r=Fa;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(t)}if(!Gn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Gn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(El(f)))return}o=r.createElement("link"),$t(o,"link",t),Nt(o),r.head.appendChild(o)}}}function Ib(t,n,r){as.S(t,n,r);var o=Fa;if(o&&t){var h=yi(o).hoistableStyles,f=Ka(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Gn.get(f))&&Md(t,r);var R=g=o.createElement("link");Nt(R),$t(R,"link",t),R._p=new Promise(function(j,Q){R.onload=j,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Nb(t,n){as.X(t,n);var r=Fa;if(r&&t){var o=yi(r).hoistableScripts,h=Qa(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=A({src:t,async:!0},n),(n=Gn.get(h))&&Vd(t,n),f=r.createElement("script"),Nt(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xb(t,n){as.M(t,n);var r=Fa;if(r&&t){var o=yi(r).hoistableScripts,h=Qa(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Gn.get(h))&&Vd(t,n),f=r.createElement("script"),Nt(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function U_(t,n,r,o){var h=(h=ye.current)?Ac(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ka(r.href),r=yi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ka(r.href);var f=yi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(vl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gn.set(t,r),f||Db(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(r),r=yi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ka(t){return'href="'+cn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function P_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Db(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$t(n,"link",r),Nt(n),t.head.appendChild(n))}function Qa(t){return'[src="'+cn(t)+'"]'}function El(t){return"script[async]"+t}function z_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+cn(r.href)+'"]');if(o)return n.instance=o,Nt(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),$t(o,"style",h),wc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Ka(r.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;o=P_(r),(h=Gn.get(h))&&Md(o,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),$t(f,"link",o),n.state.loading|=4,wc(f,r.precedence,t),n.instance=f;case"script":return f=Qa(r.src),(h=t.querySelector(El(f)))?(n.instance=h,Nt(h),h):(o=r,(h=Gn.get(f))&&(o=A({},r),Vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),$t(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,r.precedence,t));return n.instance}function wc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Rc=null;function j_(t,n,r){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(r,o)}else h=Rc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[pi]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function B_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Ob(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Mb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Cc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Nt(f);return}f=n.ownerDocument||n,o=P_(o),(h=Gn.get(h))&&Md(o,h),f=f.createElement("link"),Nt(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),$t(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Cc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var kd=0;function Vb(t,n){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&kd===0&&(kd=62500*mb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>kd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(kb,t),Ic=null,Cc.call(t))}function kb(t,n){if(!(n.state.loading&4)){var r=Ic.get(t);if(r)var o=r.get(null);else{r=new Map,Ic.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Lb(t,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function H_(t,n,r,o,h,f,g,E,R,j,Q,$){return t=new Lb(t,n,r,g,R,j,Q,$,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=mf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},_f(f),t}function G_(t){return t?(t=Aa,t):Aa}function F_(t,n,r,o,h,f){h=G_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ls(t,o,n),r!==null&&(gn(r,t,n),Wo(r,t,n))}function K_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ld(t,n){K_(t,n),(t=t.alternate)&&K_(t,n)}function Q_(t){if(t.tag===13||t.tag===31){var n=Lr(t,67108864);n!==null&&gn(n,t,67108864),Ld(t,67108864)}}function Y_(t){if(t.tag===13||t.tag===31){var n=In();n=Ar(n);var r=Lr(t,n);r!==null&&gn(r,t,n),Ld(t,n)}}var xc=!0;function Ub(t,n,r,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=2,Ud(t,n,r,o)}finally{ne.p=f,K.T=h}}function Pb(t,n,r,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=8,Ud(t,n,r,o)}finally{ne.p=f,K.T=h}}function Ud(t,n,r,o){if(xc){var h=Pd(o);if(h===null)Sd(t,n,o,Dc,r),$_(t,o);else if(jb(h,t,n,r,o))o.stopPropagation();else if($_(t,o),n&4&&-1<zb.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=hi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Tt(g);E.entanglements[1]|=R,g&=~R}xi(f),(Ke&6)===0&&(dc=Ue()+500,pl(0))}}break;case 31:case 13:E=Lr(f,2),E!==null&&gn(E,f,2),pc(),Ld(f,2)}if(f=Pd(o),f===null&&Sd(t,n,o,Dc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(t,n,o,null,r)}}function Pd(t){return t=Vn(t),zd(t)}var Dc=null;function zd(t){if(Dc=null,t=gi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function X_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dn()){case Ao:return 2;case wo:return 8;case Es:case Gh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var jd=!1,Qs=null,Ys=null,Xs=null,bl=new Map,Sl=new Map,$s=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(t,n){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function Al(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&Q_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function jb(t,n,r,o,h){switch(n){case"focusin":return Qs=Al(Qs,t,n,r,o,h),!0;case"dragenter":return Ys=Al(Ys,t,n,r,o,h),!0;case"mouseover":return Xs=Al(Xs,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return bl.set(f,Al(bl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,Al(Sl.get(f)||null,t,n,r,o,h)),!0}return!1}function J_(t){var n=gi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Jn(t.priority,function(){Y_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Jn(t.priority,function(){Y_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Pd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Uo=o,r.target.dispatchEvent(o),Uo=null}else return n=Mn(r),n!==null&&Q_(n),t.blockedOn=r,!1;n.shift()}return!0}function Z_(t,n,r){Oc(t)&&r.delete(n)}function Bb(){jd=!1,Qs!==null&&Oc(Qs)&&(Qs=null),Ys!==null&&Oc(Ys)&&(Ys=null),Xs!==null&&Oc(Xs)&&(Xs=null),bl.forEach(Z_),Sl.forEach(Z_)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bb)))}var Vc=null;function W_(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(zd(o||r)===null)continue;break}var f=Mn(r);f!==null&&(t.splice(n,3),n-=3,Pf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ya(t){function n(R){return Mc(R,t)}Qs!==null&&Mc(Qs,t),Ys!==null&&Mc(Ys,t),Xs!==null&&Mc(Xs,t),bl.forEach(n),Sl.forEach(n);for(var r=0;r<$s.length;r++){var o=$s[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)J_(r),r.blockedOn===null&&$s.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Bt]||null;if(typeof f=="function")g||W_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Bt]||null)E=g.formAction;else if(zd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),W_(r)}}}function ev(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}kc.prototype.render=Bd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=In();F_(r,o,t,n,null,null)},kc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;F_(t.current,2,null,t,null,null),pc(),n[mi]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<$s.length&&n!==0&&n<$s[r].priority;r++);$s.splice(r,0,t),r===0&&J_(t)}};var tv=e.version;if(tv!=="19.2.4")throw Error(a(527,tv,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var qb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Xn=Lc.inject(qb),Ft=Lc}catch{}}return Rl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=ly,f=uy,g=cy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=H_(t,1,!1,null,null,r,o,null,h,f,g,ev),t[mi]=n.current,bd(t),new Bd(n)},Rl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=ly,g=uy,E=cy,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=H_(t,1,!0,n,r??null,o,h,R,f,g,E,ev),n.context=G_(null),r=n.current,o=In(),o=Ar(o),h=ks(o),h.callback=null,Ls(r,h,o),r=o,n.current.lanes=r,br(n,r),xi(n),t[mi]=n.current,bd(t),new kc(n)},Rl.version="19.2.4",Rl}var hv;function Zb(){if(hv)return Gd.exports;hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=Jb(),Gd.exports}var Wb=Zb();const eS=()=>{};var fv={};const G0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},tS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},F0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,X=y&63;_||(X=64,d||(O=64)),a.push(i[b],i[A],i[O],i[X])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(G0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):tS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new nS;const O=c<<2|p>>4;if(a.push(O),y!==64){const X=p<<4&240|y>>2;if(a.push(X),A!==64){const W=y<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(s){const e=G0(s);return F0.encodeByteArray(e,!0)},ih=function(s){return iS(s).replace(/\./g,"")},K0=function(s){try{return F0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rS=()=>sS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof fv>"u")return;const s=fv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&K0(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return eS()||rS()||aS()||oS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Q0=s=>bh()?.emulatorHosts?.[s],lS=s=>{const e=Q0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Y0=()=>bh()?.config,X0=s=>bh()?.[`_${s}`];class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function po(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $0(s){return(await fetch(s,{credentials:"include"})).ok}function cS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(i)),ih(JSON.stringify(d)),""].join(".")}const kl={};function hS(){const s={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?s.emulator.push(e):s.prod.push(e);return s}function fS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let dv=!1;function J0(s,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||kl[s]===e||kl[s]||dv)return;kl[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=hS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,X){O.setAttribute("width","24"),O.setAttribute("id",X),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{dv=!0,d()},O}function b(O,X){O.setAttribute("id",X),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=fS(a),X=i("text"),W=document.getElementById(X)||document.createElement("span"),se=i("learnmore"),ie=document.getElementById(se)||document.createElement("a"),me=i("preprendIcon"),Ae=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Ee=O.element;p(Ee),b(ie,se);const Ge=y();_(Ae,me),Ee.append(Ae,W,ie,Ge),document.body.appendChild(Ee)}c?(W.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function mS(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vS(){return!mS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ES(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const bS="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=bS,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?SS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,a)}}function SS(s,e){return s.replace(AS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const AS=/\{\$([^}]+)}/g;function wS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function hs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(mv(c)&&mv(d)){if(!hs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function mv(s){return s!==null&&typeof s=="object"}function Zl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Nl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function xl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function RS(s,e){const i=new CS(s,e);return i.subscribe.bind(i)}class CS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");IS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Yd),l.error===void 0&&(l.error=Yd),l.complete===void 0&&(l.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yd(){}function Wt(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class NS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:xS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xS(s){return s===Xr?void 0:s}function DS(s){return s.instantiationMode==="EAGER"}class OS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new NS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const MS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},VS=Ve.INFO,kS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},LS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=kS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jm{constructor(e){this.name=e,this._logLevel=VS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const US=(s,e)=>e.some(i=>s instanceof i);let pv,gv;function PS(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,dm=new WeakMap,W0=new WeakMap,Xd=new WeakMap,Bm=new WeakMap;function jS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(sr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z0.set(i,s)}).catch(()=>{}),Bm.set(e,s),e}function BS(s){if(dm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});dm.set(s,e)}let mm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||W0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function qS(s){mm=s(mm)}function HS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($d(this),e,...i);return W0.set(a,e.sort?e.sort():[e]),sr(a)}:zS().includes(s)?function(...e){return s.apply($d(this),e),sr(Z0.get(this))}:function(...e){return sr(s.apply($d(this),e))}}function GS(s){return typeof s=="function"?HS(s):(s instanceof IDBTransaction&&BS(s),US(s,PS())?new Proxy(s,mm):s)}function sr(s){if(s instanceof IDBRequest)return jS(s);if(Xd.has(s))return Xd.get(s);const e=GS(s);return e!==s&&(Xd.set(s,e),Bm.set(e,s)),e}const $d=s=>Bm.get(s);function FS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=sr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(sr(d.result),_.oldVersion,_.newVersion,sr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const KS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],Jd=new Map;function yv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=QS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||KS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Jd.set(e,c),c}qS(s=>({...s,get:(e,i,a)=>yv(e,i)||s.get(e,i,a),has:(e,i)=>!!yv(e,i)||s.has(e,i)}));class YS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function XS(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",_v="0.14.8";const fs=new jm("@firebase/app"),$S="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",eA="@firebase/app-check",tA="@firebase/auth",nA="@firebase/auth-compat",iA="@firebase/database",sA="@firebase/data-connect",rA="@firebase/database-compat",aA="@firebase/functions",oA="@firebase/functions-compat",lA="@firebase/installations",uA="@firebase/installations-compat",cA="@firebase/messaging",hA="@firebase/messaging-compat",fA="@firebase/performance",dA="@firebase/performance-compat",mA="@firebase/remote-config",pA="@firebase/remote-config-compat",gA="@firebase/storage",yA="@firebase/storage-compat",_A="@firebase/firestore",vA="@firebase/ai",EA="@firebase/firestore-compat",TA="firebase",bA="12.9.0";const gm="[DEFAULT]",SA={[pm]:"fire-core",[$S]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[eA]:"fire-app-check",[WS]:"fire-app-check-compat",[tA]:"fire-auth",[nA]:"fire-auth-compat",[iA]:"fire-rtdb",[sA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[aA]:"fire-fn",[oA]:"fire-fn-compat",[lA]:"fire-iid",[uA]:"fire-iid-compat",[cA]:"fire-fcm",[hA]:"fire-fcm-compat",[fA]:"fire-perf",[dA]:"fire-perf-compat",[mA]:"fire-rc",[pA]:"fire-rc-compat",[gA]:"fire-gcs",[yA]:"fire-gcs-compat",[_A]:"fire-fst",[EA]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};const Bl=new Map,AA=new Map,ym=new Map;function vv(s,e){try{s.container.addComponent(e)}catch(i){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ao(s){const e=s.name;if(ym.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,s);for(const i of Bl.values())vv(i,s);for(const i of AA.values())vv(i,s);return!0}function qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Kn(s){return s==null?!1:s.settings!==void 0}const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Jl("app","Firebase",wA);class RA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const go=bA;function eE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:gm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=Y0()),!i)throw rr.create("no-options");const c=Bl.get(l);if(c){if(hs(i,c.options)&&hs(a,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new OS(l);for(const _ of ym.values())d.addComponent(_);const p=new RA(i,a,d);return Bl.set(l,p),p}function Hm(s=gm){const e=Bl.get(s);if(!e&&s===gm&&Y0())return eE();if(!e)throw rr.create("no-app",{appName:s});return e}function CA(){return Array.from(Bl.values())}function ar(s,e,i){let a=SA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}ao(new Wr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const IA="firebase-heartbeat-database",NA=1,ql="firebase-heartbeat-store";let Zd=null;function tE(){return Zd||(Zd=FS(IA,NA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function xA(s){try{const i=(await tE()).transaction(ql),a=await i.objectStore(ql).get(nE(s));return await i.done,a}catch(e){if(e instanceof ys)fs.warn(e.message);else{const i=rr.create("idb-get",{originalErrorMessage:e?.message});fs.warn(i.message)}}}async function Ev(s,e){try{const a=(await tE()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,nE(s)),await a.done}catch(i){if(i instanceof ys)fs.warn(i.message);else{const a=rr.create("idb-set",{originalErrorMessage:i?.message});fs.warn(a.message)}}}function nE(s){return`${s.name}!${s.options.appId}`}const DA=1024,OA=30;class MA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>OA){const l=LA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tv(),{heartbeatsToSend:i,unsentEntries:a}=VA(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return fs.warn(e),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function VA(s,e=DA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),bv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),bv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class kA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ES()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function bv(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function LA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function UA(s){ao(new Wr("platform-logger",e=>new YS(e),"PRIVATE")),ao(new Wr("heartbeat",e=>new MA(e),"PRIVATE")),ar(pm,_v,s),ar(pm,_v,"esm2020"),ar("fire-js","")}UA("");var PA="firebase",zA="12.9.0";ar(PA,zA,"app");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,iE;(function(){var s;function e(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,x,L){for(var w=Array(arguments.length-2),We=2;We<arguments.length;We++)w[We-2]=arguments[We];return S.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)V[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)V[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],x=I.g[2];let L=I.g[3],w;w=S+(L^C&(x^L))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[1]+3905402710&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[2]+606105819&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[3]+3250441966&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[5]+1200080426&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[6]+2821735955&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[7]+4249261313&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[9]+2336552879&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[10]+4294925233&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[11]+2304563134&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[13]+4254626195&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[14]+2792965006&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[15]+1236535329&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(x^L&(C^x))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[6]+3225465664&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[11]+643717713&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[0]+3921069994&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[10]+38016083&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[15]+3634488961&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[4]+3889429448&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[14]+3275163606&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[3]+4107603335&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[8]+1163531501&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[2]+4243563512&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[7]+1735328473&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[12]+2368359562&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(C^x^L)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[8]+2272392833&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[11]+1839030562&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[14]+4259657740&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[4]+1272893353&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[7]+4139469664&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[10]+3200236656&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[0]+3936430074&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[3]+3572445317&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[6]+76029189&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[12]+3873151461&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[15]+530742520&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[2]+3299628645&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(x^(C|~L))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[7]+1126891415&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[14]+2878612391&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[5]+4237533241&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[3]+2399980690&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[10]+4293915773&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[1]+2240044497&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[15]+4264355552&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[6]+2734768916&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[13]+1309151649&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[11]+3174756917&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[2]+718787259&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let x=this.h,L=0;for(;L<S;){if(x==0)for(;L<=C;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<S;)if(V[x++]=I.charCodeAt(L++),x==this.blockSize){l(this,V),x=0;break}}else for(;L<S;)if(V[x++]=I[L++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let x=I.length-1;x>=0;x--){const L=I[x]|0;V&&L==S||(C[x]=L,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return ie(y(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return ie(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=A;for(let L=0;L<I.length;L+=8){var x=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+x),S);x<8?(x=y(Math.pow(S,x)),V=V.j(x).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var A=_(0),O=_(1),X=_(16777216);s=d.prototype,s.m=function(){if(se(this))return-ie(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(se(this))return"-"+ie(this).toString(I);const S=y(Math.pow(I,6));var C=this;let V="";for(;;){const x=Ge(C,S).g;C=me(C,x.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=x,W(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function se(I){return I.h==-1}s.l=function(I){return I=me(this,I),se(I)?-1:W(I)?0:1};function ie(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(O)}s.abs=function(){return se(this)?ie(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let x=0;x<=S;x++){let L=V+(this.i(x)&65535)+(I.i(x)&65535),w=(L>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);V=w>>>16,L&=65535,w&=65535,C[x]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function me(I,S){return I.add(ie(S))}s.j=function(I){if(W(this)||W(I))return A;if(se(this))return se(I)?ie(this).j(ie(I)):ie(ie(this).j(I));if(se(I))return ie(this.j(ie(I)));if(this.l(X)<0&&I.l(X)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<I.g.length;x++){const L=this.i(V)>>>16,w=this.i(V)&65535,We=I.i(x)>>>16,Et=I.i(x)&65535;C[2*V+2*x]+=w*Et,Ae(C,2*V+2*x),C[2*V+2*x+1]+=L*Et,Ae(C,2*V+2*x+1),C[2*V+2*x+1]+=w*We,Ae(C,2*V+2*x+1),C[2*V+2*x+2]+=L*We,Ae(C,2*V+2*x+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function Ae(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function Ee(I,S){this.g=I,this.h=S}function Ge(I,S){if(W(S))throw Error("division by zero");if(W(I))return new Ee(A,A);if(se(I))return S=Ge(ie(I),S),new Ee(ie(S.g),ie(S.h));if(se(S))return S=Ge(I,ie(S)),new Ee(ie(S.g),S.h);if(I.g.length>30){if(se(I)||se(S))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=S;V.l(I)<=0;)C=lt(C),V=lt(V);var x=ze(C,1),L=ze(V,1);for(V=ze(V,2),C=ze(C,2);!W(V);){var w=L.add(V);w.l(I)<=0&&(x=x.add(C),L=w),V=ze(V,1),C=ze(C,1)}return S=me(I,x.j(S)),new Ee(x,S)}for(x=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),w=L.j(S);se(w)||w.l(I)>0;)C-=V,L=y(C),w=L.j(S);W(L)&&(L=O),x=x.add(L),I=me(I,w)}return new Ee(x,I)}s.B=function(I){return Ge(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function lt(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function ze(I,S){const C=S>>5;S%=32;const V=I.g.length-C,x=[];for(let L=0;L<V;L++)x[L]=S>0?I.i(L+C)>>>S|I.i(L+C+1)<<32-S:I.i(L+C);return new d(x,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,iE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,or=d}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,Dl,rE,Kc,_m,aE,oE,lE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break e;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var te=Array(arguments.length-2),we=2;we<arguments.length;we++)te[we-2]=arguments[we];return m.prototype[P].apply(T,te)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let te=0;te<q;te++)u[v+te]=P[te]}else u.push(P)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function me(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const T=Ee.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ee=new se(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ze=!1,I=new Ae,S=()=>{const u=Promise.resolve(void 0);lt=()=>{u.then(C)}};function C(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){ie(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ze=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function We(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(We,x),We.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),K=0;function ne(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++K,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Be(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<U.length;q++)v=U[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function G(u){this.src=u,this.g={},this.h=0}G.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=ye(u,m,T,P);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function ae(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ye(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ut={};function st(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)st(u,m[q],v,T,P);return null}return v=F(v),u&&u[Et]?u.J(m,v,p(T)?!!T.capture:!1,P):zi(u,m,v,!1,T,P)}function zi(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const te=p(P)?!!P.capture:!!P;let we=Bi(u);if(we||(u[De]=we=new G(u)),v=we.add(m,v,T,te,q),v.proxy)return v;if(T=ji(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=te),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(xn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ji(){function u(v){return m.call(u.src,u.listener,v)}const m=vr;return u}function _s(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)_s(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=F(v),u&&u[Et]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ye(m,v,T,P),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Bi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ye(m,v,T,P)),(v=u>-1?m[u]:null)&&vs(v))}function vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])ae(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(xn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Bi(m))?(ae(v,u),v.h==0&&(v.src=null,m[De]=null)):ce(u)}}}function xn(u){return u in ut?ut[u]:ut[u]="on"+u}function vr(u,m){if(u.da)u=!0;else{m=new We(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&vs(u),u=v.call(T,m)}return u}function Bi(u){return u=u[De],u instanceof G?u:null}var Er="__closure_events_fn_"+(Math.random()*1e9>>>0);function F(u){return typeof u=="function"?u:(u[Er]||(u[Er]=function(m){return u.handleEvent(m)}),u[Er])}function he(){V.call(this),this.i=new G(this),this.M=this,this.G=null}A(he,V),he.prototype[Et]=!0,he.prototype.removeEventListener=function(u,m,v,T){_s(this,u,m,v,T)};function pe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(T,u),ee(m,P)}P=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],P=Qe(q,T,!0,m)&&P;if(q=m.g=u,P=Qe(q,T,!0,m)&&P,P=Qe(q,T,!1,m)&&P,v)for(te=0;te<v.length;te++)q=m.g=v[te],P=Qe(q,T,!1,m)&&P}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ce(v[T]);delete u.g[m],u.h--}}this.G=null},he.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},he.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Qe(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const we=te.listener,bt=te.ha||te.src;te.fa&&ae(u.i,te),P=we.call(bt,T)!==!1&&P}}return P&&!T.defaultPrevented}function rt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ut(u){u.g=rt(()=>{u.g=null,u.i&&(u.i=!1,Ut(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ue extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(u){V.call(this),this.h=u,this.g={}}A(Dn,V);var Ao=[];function wo(u){xe(u.g,function(m,v){this.g.hasOwnProperty(v)&&vs(m)},u),u.g={}}Dn.prototype.N=function(){Dn.Z.N.call(this),wo(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,Gh=d.JSON.parse,uu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function cu(){}function hu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){x.call(this,"d")}A(Ft,x);function On(){x.call(this,"c")}A(On,x);var Tt={},fu=null;function la(){return fu=fu||new he}Tt.Ia="serverreachability";function du(u){x.call(this,Tt.Ia,u)}A(du,x);function ci(u){const m=la();pe(m,new du(m))}Tt.STAT_EVENT="statevent";function Tr(u,m){x.call(this,Tt.STAT_EVENT,u),this.stat=m}A(Tr,x);function Ct(u){const m=la();pe(m,new Tr(m,u))}Tt.Ja="timingevent";function hi(u,m){x.call(this,Tt.Ja,u),this.size=m}A(hi,x);function fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Fh(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var te="",we=q.split("&");for(let Fe=0;Fe<we.length;Fe++){var bt=we[Fe].split("=");if(bt.length>1){const mt=bt[0];bt=bt[1];const Ln=mt.split("_");te=Ln.length>=2&&Ln[1]=="type"?te+(mt+"="+bt+"&"):te+(mt+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+te})}function mu(u,m,v,T,P,q,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+te})}function di(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(u,v)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}$n.prototype.info=function(){};function Kh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Es(q)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function Ar(){}A(Ar,cu),Ar.prototype.g=function(){return new XMLHttpRequest},Co=new Ar;function qi(u){return encodeURIComponent(String(u))}function pu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Dn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var It={},Bt={};function mi(u,m,v){u.M=1,u.A=wr(xt(m)),u.u=v,u.R=!0,ua(u,null)}function ua(u,m){u.F=Date.now(),pi(u),u.B=xt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),da(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Zn,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ue(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ao[0]=P.toString()),P=Ao);for(let q=0;q<P.length;q++){const te=st(v,P[q],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ci(),Fh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const we=ti(this.g),bt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||we!=4||bt==7||(bt==8||Fe<=0?ci(3):ci(2)),gi(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break t}}q=null}if(u=q)di(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,Ct(12),En(this),Mn(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=yu(this,v),mt==Bt){we==4&&(this.m=4,Ct(14),u=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,Ct(15),di(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else di(this.i,this.l,mt,null),yi(this,mt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)di(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(te),te.P=!0,Ct(11))}}else di(this.i,this.l,v,null),yi(this,v);we==4&&En(this),this.o&&!this.K&&(we==4?Ru(this.j,this):(this.o=!1,pi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),En(this),Mn(this)}}}catch{}};function Qh(u){if(!gu(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let v="";const T=m.length,P=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Bt:(v=Number(m.substring(v,T)),isNaN(v)?It:(T+=1,T+v>m.length?Bt:(m=m.slice(T,T+v),u.C=T+v,m)))}Jn.prototype.cancel=function(){this.K=!0,En(this)};function pi(u){u.T=Date.now()+u.H,ca(u,u.H)}function ca(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(y(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(ci(),Ct(17)),En(this),this.m=2,Mn(this)):ca(this,this.T-u)};function Mn(u){u.j.I==0||u.K||Ru(u.j,u)}function En(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function yi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||vi(v.h,u))){if(!u.L&&vi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)_a(v),Is(v);else break e;Or(v),Ct(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(y(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&_a(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Fe=P[m];const mt=Fe[0];if(!(mt<=v.K))if(v.K=mt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Ln=Fe[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ri=Fe[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ni=Fe[5];ni!=null&&typeof ni=="number"&&ni>0&&(T=1.5*ni,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ii=u.g;if(ii){const Mr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=T.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(T.G){const va=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(T.wa=va,$e(T.J,T.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Nu(T,T.L?T.ba:null,T.W),te.L){Do(T.h,te);var we=te,bt=T.O;bt&&(we.H=bt),we.D&&(gi(we),pi(we)),T.g=te}else Au(T);v.i.length>0&&Ai(v)}else Fe[0]!="stop"&&Fe[0]!="close"||wi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?wi(v,7):jo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ci(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _i(u){return u.h?1:u.g?u.g.size:0}function vi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return X(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Mo(this,bu(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,qt(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),Ts(this,m[4]),this.h=Ei(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,fa,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Vo:vu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,Eu)),u.join("")},Tn.prototype.resolve=function(u){const m=xt(this);let v=!!u.j;v?qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let te=0;te<P.length;){const we=P[te++];we=="."?T&&te==P.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&te==P.length&&q.push("")):(q.push(we),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Mo(m,bu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xt(u){return new Tn(u)}function qt(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Mo(u,m,v){m instanceof Ss?(u.i=m,ma(u.i,u.l)):(v||(m=Rr(m,bs)),u.i=new Ss(m,u.l))}function $e(u,m,v){u.i.set(m,v)}function wr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fa=/[#\/\?@]/g,vu=/[#\?:]/g,Vo=/[#\?]/g,bs=/[#\?@]/g,Eu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&ha(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){hn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Tu(u,m){hn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return hn(u),m=As(u,m),u.g.has(m)}s.forEach=function(u,m){hn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Lo(u,m){hn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return hn(this),this.i=null,u=As(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function da(u,m,v){Tu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),X(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=qi(v);v=Lo(this,v);for(let q=0;q<v.length;q++){let te=P;v[q]!==""&&(te+="="+qi(v[q])),u.push(te)}}return this.i=u.join("&")};function bu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ma(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Tu(this,T),da(this,P,v))},u)),u.j=m}function Wn(u,m){const v=new $n;if(d.Image){const T=new Image;T.onload=b(Vn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Vn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Vn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Vn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Uo(u,m){const v=new $n,T=new AbortController,P=setTimeout(()=>{T.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ws(){this.g=new uu}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ti,cu),Ti.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){he.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,he),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):ei(this),this.readyState==3&&pa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return xe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=kn(v),typeof u=="string"?v!=null&&qi(v):$e(u,m,v))}function et(u){he.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(et,he);var bi=/^https?$/i,Po=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Nr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Nr(this,q)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),Hi(u)}function zo(u){u.A||(u.A=!0,pe(u,"complete"),pe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,pe(this,"complete"),pe(this,"abort"),Hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(pe(u,"readystatechange"),ti(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let te=String(u.D).match(_u)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!bi.test(te?te.toLowerCase():"")}v=T}if(v)pe(u,"complete"),pe(u,"success");else{u.o=6;try{var P=ti(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",zo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||pe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gh(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=pu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Be(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ct(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Nu(this,null,this.W),Ai(this)};function jo(u){if(ga(u),u.I==3){var m=u.V++,v=xt(u.J);if($e(v,"SID",u.M),$e(v,"RID",m),$e(v,"TYPE","terminate"),Dr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=wr(xt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}Iu(u)}function Is(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function ga(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),_a(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;lt||S(),ze||(lt(),ze=!0),I.add(m,u),u.D=0}}function ya(u,m){return _i(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(y(u.Ea,u,m),Cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),ee(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Su(this,P,m),v=xt(this.J),$e(v,"RID",u),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Dr(this,v),q&&(this.R?m="headers="+qi(kn(q))+"&"+m:this.u&&Ir(v,this.u,q)),xo(this.h,P),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",m),$e(v,"SID","null"),P.U=!0,mi(P,v,null)):mi(P,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||No(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const T=xt(u.J);$e(T,"SID",u.M),$e(T,"RID",v),$e(T,"AID",u.K),Dr(u,T),u.u&&u.o&&Ir(T,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,v),mi(v,T,m)}function Dr(u,m){u.H&&xe(u.H,function(v,T){$e(m,T,v)}),u.l&&xe({},function(v,T){$e(m,T,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let we=-1;for(;;){const bt=["count="+v];we==-1?v>0?(we=P[0].g,bt.push("ofs="+we)):we=0:bt.push("ofs="+we);let Fe=!0;for(let mt=0;mt<v;mt++){var q=P[mt].g;const Ln=P[mt].map;if(q-=we,q<0)we=Math.max(0,P[mt].g-100),Fe=!1;else try{q="req"+q+"_"||"";try{var te=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ri,ni]of te){let ii=ni;p(ni)&&(ii=Es(ni)),bt.push(q+Ri+"="+encodeURIComponent(ii))}}catch(Ri){throw bt.push(q+"type="+encodeURIComponent("_badmap")),Ri}}catch{T&&T(Ln)}}if(Fe){te=bt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;lt||S(),ze||(lt(),ze=!0),I.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(y(u.Da,u),Cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Is(this),wu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xt(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(xt(m)),v.u=null,v.R=!0,ua(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Or(this),Ct(19))};function _a(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ru(u,m){var v=null;if(u.g==m){_a(u),qo(u),u.g=null;var T=2}else if(vi(u.h,m))v=m.G,Do(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=la(),pe(T,new hi(T,v)),Ai(u)}else Au(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ya(u,m)||T==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(T,"https"),wr(T),P?Wn(T.toString(),v):Uo(T.toString(),v)}else Ct(2);u.I=0,u.l&&u.l.pa(m),Iu(u),ga(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const m=Oo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function Nu(u,m,v){var T=v instanceof Tn?xt(v):new Tn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Tn(null);T&&qt(q,T),m&&(q.g=m),P&&Ts(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&$e(T,v,m),$e(T,"VER",u.ka),Dr(u,T),T}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new Ti({ab:v})):new et(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){he.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}A(ln,he),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){jo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Es(u),u=v);m.i.push(new Nt(m.Ya++,u)),m.I==3&&Ai(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,ln.Z.N.call(this)};function Ou(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ou,Ft);function Mu(){On.call(this),this.status=1}A(Mu,On);function Fi(u){this.g=u}A(Fi,Du),Fi.prototype.ra=function(){pe(this.g,"a")},Fi.prototype.qa=function(u){pe(this.g,new Ou(u))},Fi.prototype.pa=function(u){pe(this.g,new Mu)},Fi.prototype.oa=function(){pe(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,lE=function(){return new Ns},oE=function(){return la()},aE=Tt,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Kc=Sr,Ro.COMPLETE="complete",rE=Ro,hu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",he.prototype.listen=he.prototype.J,Dl=hu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,sE=et}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let yo="12.9.0";function jA(s){yo=s}const ea=new jm("@firebase/firestore");function Xa(){return ea.logLevel}function re(s,...e){if(ea.logLevel<=Ve.DEBUG){const i=e.map(Gm);ea.debug(`Firestore (${yo}): ${s}`,...i)}}function ds(s,...e){if(ea.logLevel<=Ve.ERROR){const i=e.map(Gm);ea.error(`Firestore (${yo}): ${s}`,...i)}}function ta(s,...e){if(ea.logLevel<=Ve.WARN){const i=e.map(Gm);ea.warn(`Firestore (${yo}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,uE(s,a,i)}function uE(s,e,i){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ds(a),new Error(a)}function Xe(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||uE(e,l,a)}function Se(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class cE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class qA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class HA{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xe(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new us;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new us,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new us)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new cE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class GA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new GA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xe(this.o===void 0,3512);const a=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=QA(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function ke(s,e){return s<e?-1:s>e?1:0}function vm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Wd(l)===Wd(c)?ke(l,c):Wd(l)?1:-1}return ke(s.length,e.length)}const YA=55296,XA=57343;function Wd(s){const e=s.charCodeAt(0);return e>=YA&&e<=XA}function oo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const wv="__name__";class Di{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return ke(e.length,i.length)}static compareSegments(e,i){const a=Di.isNumericId(e),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(e).compare(Di.extractNumericId(i)):vm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class ft extends Di{construct(e,i,a){return new ft(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const $A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Di{construct(e,i,a){return new Zt(e,i,a)}static isValidIdentifier(e){return $A.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Zt([wv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(i)}static emptyPath(){return new Zt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(ft.fromString(e))}static fromName(e){return new de(ft.fromString(e).popFirst(5))}static empty(){return new de(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new ft(e.slice()))}}function hE(s,e,i){if(!i)throw new le(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function JA(s,e,i,a){if(e===!0&&a===!0)throw new le(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Rv(s){if(!de.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Cv(s){if(de.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function vn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Km(s);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Lt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wl(s,e){if(!fE(s))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new le(Z.INVALID_ARGUMENT,i);return!0}const Iv=-62135596800,Nv=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Nv);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Iv)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Lt("string",dt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new dt(0,0))}static max(){return new Te(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function ZA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new ur(l,de.empty(),e)}function WA(s){return new ur(s.readTime,s.key,Hl)}class ur{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ur(Te.min(),de.empty(),Hl)}static max(){return new ur(Te.max(),de.empty(),Hl)}}function ew(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:ke(s.largestBatchId,e.largestBatchId))}const tw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _o(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==tw)throw s;re("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new J(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function iw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Qm=-1;function Ah(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function sw(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const dE="";function rw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=xv(e)),e=aw(s.get(i),e);return xv(e)}function aw(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case dE:i+="";break;default:i+=c}}return i}function xv(s){return s+dE+""}function Dv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function pr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function mE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Jt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Jt.RED,this.left=l??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Jt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Jt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Jt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(e){return new Ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class Ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new jt(Zt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(e);return new en(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const ow=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if(Xe(!!s,39018),typeof s=="string"){let e=0;const i=ow.exec(s);if(Xe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hr(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const gE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[yE]?.stringValue===gE}function wh(s){const e=s.mapValue.fields[_E];return Ym(e)?wh(e):e}function Gl(s){const e=cr(s.mapValue.fields[vE].timestampValue);return new dt(e.seconds,e.nanos)}class lw{constructor(e,i,a,l,c,d,p,_,y,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const rh="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||rh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}function uw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(s.options.projectId,e)}const EE="__type__",cw="__max__",zc={mapValue:{}},TE="__vector__",ah="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:fw(s)?9007199254740991:hw(s)?10:11:ve(28295,{value:s})}function Ui(s,e){if(s===e)return!0;const i=fr(s);if(i!==fr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cr(l.timestampValue),p=cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return hr(l.bytesValue).isEqual(hr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return wt(l.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(l.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return wt(l.integerValue)===wt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=wt(l.doubleValue),p=wt(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return oo(s.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Dv(d)!==Dv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ui(d[_],p[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Kl(s,e){return(s.values||[]).find((i=>Ui(i,e)))!==void 0}function lo(s,e){if(s===e)return 0;const i=fr(s),a=fr(e);if(i!==a)return ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=wt(c.integerValue||c.doubleValue),_=wt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return Mv(s.timestampValue,e.timestampValue);case 4:return Mv(Gl(s),Gl(e));case 5:return vm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=hr(c),_=hr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=ke(p[y],_[y]);if(b!==0)return b}return ke(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ke(wt(c.latitude),wt(d.latitude));return p!==0?p:ke(wt(c.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Vv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[ah]?.arrayValue,b=_[ah]?.arrayValue,A=ke(y?.values?.length||0,b?.values?.length||0);return A!==0?A:Vv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const O=vm(_[A],b[A]);if(O!==0)return O;const X=lo(p[_[A]],y[b[A]]);if(X!==0)return X}return ke(_.length,b.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function Mv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const i=cr(s),a=cr(e),l=ke(i.seconds,a.seconds);return l!==0?l:ke(i.nanos,a.nanos)}function Vv(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=lo(i[l],a[l]);if(c)return c}return ke(i.length,a.length)}function uo(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=cr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return hr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Em(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Em(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Qc(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return pr(a.fields,((c,d)=>{l+=c.length+Qc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function Tm(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function kv(s){return!!s&&"nullValue"in s}function Lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function hw(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===TE}function Ll(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ll(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return{...s}}function fw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===cw}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Zt.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ll(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){pr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new _n(Ll(this.value))}}function bE(s){const e=[];return pr(s.fields,((i,a)=>{const l=new Zt([i]);if(Yc(a)){const c=bE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Nn(e)}class an{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new an(e,0,Te.min(),Te.min(),Te.min(),_n.empty(),0)}static newFoundDocument(e,i,a,l){return new an(e,1,i,Te.min(),a,l,0)}static newNoDocument(e,i){return new an(e,2,i,Te.min(),Te.min(),_n.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,Te.min(),Te.min(),_n.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,i){this.position=e,this.inclusive=i}}function Uv(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=de.comparator(de.fromName(d.referenceValue),i.key):a=lo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Pv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],e.position[i]))return!1;return!0}class lh{constructor(e,i="asc"){this.field=e,this.dir=i}}function dw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class SE{}class zt extends SE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new pw(e,i,a):i==="array-contains"?new _w(e,a):i==="in"?new vw(e,a):i==="not-in"?new Ew(e,a):i==="array-contains-any"?new Tw(e,a):new zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new gw(e,a):new yw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(lo(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends SE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Pi(e,i)}matches(e){return AE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(s){return s.op==="and"}function wE(s){return mw(s)&&AE(s)}function mw(s){for(const e of s.filters)if(e instanceof Pi)return!1;return!0}function bm(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(wE(s))return s.filters.map((e=>bm(e))).join(",");{const e=s.filters.map((i=>bm(i))).join(",");return`${s.op}(${e})`}}function RE(s,e){return s instanceof zt?(function(a,l){return l instanceof zt&&a.op===l.op&&a.field.isEqual(l.field)&&Ui(a.value,l.value)})(s,e):s instanceof Pi?(function(a,l){return l instanceof Pi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&RE(d,l.filters[p])),!0):!1})(s,e):void ve(19439)}function CE(s){return s instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(s):s instanceof Pi?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(s):"Filter"}class pw extends zt{constructor(e,i,a){super(e,i,a),this.key=de.fromName(a.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class gw extends zt{constructor(e,i){super(e,"in",i),this.keys=IE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class yw extends zt{constructor(e,i){super(e,"not-in",i),this.keys=IE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function IE(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class _w extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&Kl(i.arrayValue,this.value)}}class vw extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class Ew extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Kl(this.value.arrayValue,i)}}class Tw extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Kl(this.value.arrayValue,a)))}}class bw{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function zv(s,e=null,i=[],a=[],l=null,c=null,d=null){return new bw(s,e,i,a,l,c,d)}function $m(s){const e=Se(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>bm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>uo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>uo(a))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!dw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!RE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Pv(s.startAt,e.startAt)&&Pv(s.endAt,e.endAt)}function Sm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Rh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Sw(s,e,i,a,l,c,d,p){return new Rh(s,e,i,a,l,c,d,p)}function Ch(s){return new Rh(s)}function jv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Aw(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function ww(s){return s.collectionGroup!==null}function Ul(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new jt(Zt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lh(c,a))})),i.has(Zt.keyField().canonicalString())||e.Ie.push(new lh(Zt.keyField(),a))}return e.Ie}function Oi(s){const e=Se(s);return e.Ee||(e.Ee=Rw(e,Ul(s))),e.Ee}function Rw(s,e){if(s.limitType==="F")return zv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lh(l.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return zv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Am(s,e,i){return new Rh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ih(s,e){return Jm(Oi(s),Oi(e))&&s.limitType===e.limitType}function NE(s){return`${$m(Oi(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${a})`})(Oi(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):de.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ul(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Uv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Ul(a),l)||a.endAt&&!(function(d,p,_){const y=Uv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Ul(a),l))})(s,e)}function Cw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function xE(s){return(e,i)=>{let a=!1;for(const l of Ul(s)){const c=Iw(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Iw(s,e,i){const a=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?lo(_,y):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){pr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const Nw=new yt(de.comparator);function ms(){return Nw}const DE=new yt(de.comparator);function Ol(...s){let e=DE;for(const i of s)e=e.insert(i.key,i);return e}function OE(s){let e=DE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function $r(){return Pl()}function ME(){return Pl()}function Pl(){return new ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xw=new yt(de.comparator),Dw=new jt(de.comparator);function Le(...s){let e=Dw;for(const i of s)e=e.add(i);return e}const Ow=new jt(ke);function Mw(){return Ow}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function VE(s){return{integerValue:""+s}}function Vw(s,e){return sw(e)?VE(e):Zm(s,e)}class xh{constructor(){this._=void 0}}function kw(s,e,i){return s instanceof Ql?(function(l,c){const d={fields:{[yE]:{stringValue:gE},[vE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=wh(c)),c&&(d.fields[_E]=c),{mapValue:d}})(i,e):s instanceof co?LE(s,e):s instanceof ho?UE(s,e):(function(l,c){const d=kE(l,c),p=Bv(d)+Bv(l.Ae);return Tm(d)&&Tm(l.Ae)?VE(p):Zm(l.serializer,p)})(s,e)}function Lw(s,e,i){return s instanceof co?LE(s,e):s instanceof ho?UE(s,e):i}function kE(s,e){return s instanceof uh?(function(a){return Tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Ql extends xh{}class co extends xh{constructor(e){super(),this.elements=e}}function LE(s,e){const i=PE(e);for(const a of s.elements)i.some((l=>Ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ho extends xh{constructor(e){super(),this.elements=e}}function UE(s,e){let i=PE(e);for(const a of s.elements)i=i.filter((l=>!Ui(l,a)));return{arrayValue:{values:i}}}class uh extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Bv(s){return wt(s.integerValue||s.doubleValue)}function PE(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Wm{constructor(e,i){this.field=e,this.transform=i}}function Uw(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof co&&l instanceof co||a instanceof ho&&l instanceof ho?oo(a.elements,l.elements,Ui):a instanceof uh&&l instanceof uh?Ui(a.Ae,l.Ae):a instanceof Ql&&l instanceof Ql})(s.transform,e.transform)}class Pw{constructor(e,i){this.version=e,this.transformResults=i}}class Yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function zE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ep(s.key,Yn.none()):new eu(s.key,s.data,Yn.none());{const i=s.data,a=_n.empty();let l=new jt(Zt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(s.key,a,new Nn(l.toArray()),Yn.none())}}function zw(s,e,i){s instanceof eu?(function(l,c,d){const p=l.value.clone(),_=Hv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof gr?(function(l,c,d){if(!Xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Hv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(jE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zl(s,e,i,a){return s instanceof eu?(function(c,d,p,_){if(!Xc(c.precondition,d))return p;const y=c.value.clone(),b=Gv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof gr?(function(c,d,p,_){if(!Xc(c.precondition,d))return p;const y=Gv(c.fieldTransforms,_,d),b=d.data;return b.setAll(jE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,p){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function jw(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=kE(a.transform,l||null);c!=null&&(i===null&&(i=_n.empty()),i.set(a.field,c))}return i||null}function qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&oo(a,l,((c,d)=>Uw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends Dh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends Dh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Hv(s,e,i){const a=new Map;Xe(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,Lw(d,p,i[l]))}return a}function Gv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,kw(c,d,e))}return a}class ep extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qw{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&zw(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ME();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=zE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((i,a)=>qv(i,a)))&&oo(this.baseMutations,e.baseMutations,((i,a)=>qv(i,a)))}}class tp{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Xe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return xw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new tp(e,i,a,l)}}class Hw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gw{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,je;function Fw(s){switch(s){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function BE(s){if(s===void 0)return ds("GRPC error has no .code"),Z.UNKNOWN;switch(s){case kt.OK:return Z.OK;case kt.CANCELLED:return Z.CANCELLED;case kt.UNKNOWN:return Z.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Z.INTERNAL;case kt.UNAVAILABLE:return Z.UNAVAILABLE;case kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case kt.NOT_FOUND:return Z.NOT_FOUND;case kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case kt.ABORTED:return Z.ABORTED;case kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case kt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:s})}}(je=kt||(kt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function Kw(){return new TextEncoder}const Qw=new or([4294967295,4294967295],0);function Fv(s){const e=Kw().encode(s),i=new iE;return i.update(e),new Uint8Array(i.digest())}function Kv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new or([i,a],0),new or([l,c],0)]}class np{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(a<0)throw new Ml(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=or.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(or.fromNumber(a)));return l.compare(Qw)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Fv(e),[a,l]=Kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new np(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Fv(e),[a,l]=Kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(Te.min(),l,new yt(ke),ms(),Le())}}class tu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,Le(),Le(),Le())}}class $c{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class qE{constructor(e,i){this.targetId=e,this.Ce=i}}class HE{constructor(e,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Qv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),a=Le();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Yv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Yw{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.He=jc(),this.Je=jc(),this.Ze=new yt(ke)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Sm(c))if(a===0){const d=new de(c.path);this.et(i,d,an.newNoDocument(d,Te.min()))}else Xe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=hr(a).toUint8Array()}catch(_){if(_ instanceof pE)return ta("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new np(d,l,c)}catch(_){return ta(_ instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Sm(p.target)){const _=new de(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Le();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Oh(e,i,this.Ze,this.je,a);return this.je=ms(),this.He=jc(),this.Je=jc(),this.Ze=new yt(ke),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Qv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new jt(ke),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new jt(ke),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new yt(de.comparator)}function Yv(){return new yt(de.comparator)}const Xw={asc:"ASCENDING",desc:"DESCENDING"},$w={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jw={and:"AND",or:"OR"};class Zw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function wm(s,e){return s.useProto3Json||Ah(e)?e:{value:e}}function ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ww(s,e){return ch(s,e.toTimestamp())}function Mi(s){return Xe(!!s,49232),Te.fromTimestamp((function(i){const a=cr(i);return new dt(a.seconds,a.nanos)})(s))}function ip(s,e){return Rm(s,e).canonicalString()}function Rm(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function FE(s){const e=ft.fromString(s);return Xe($E(e),10190,{key:e.toString()}),e}function Cm(s,e){return ip(s.databaseId,e.path)}function em(s,e){const i=FE(e);if(i.get(1)!==s.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(QE(i))}function KE(s,e){return ip(s.databaseId,e)}function e2(s){const e=FE(s);return e.length===4?ft.emptyPath():QE(e)}function Im(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function QE(s){return Xe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xv(s,e,i){return{name:Cm(s,e),fields:i.value.mapValue.fields}}function t2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),en.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),en.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:BE(y.code);return new le(b,y.message||"")})(d);i=new HE(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=em(s,a.document.name),c=Mi(a.document.updateTime),d=a.document.createTime?Mi(a.document.createTime):Te.min(),p=new _n({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(l,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new $c(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=em(s,a.document),c=a.readTime?Mi(a.readTime):Te.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new $c([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=em(s,a.document),c=a.removedTargetIds||[];i=new $c([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Gw(l,c),p=a.targetId;i=new qE(p,d)}}return i}function n2(s,e){let i;if(e instanceof eu)i={update:Xv(s,e.key,e.value)};else if(e instanceof ep)i={delete:Cm(s,e.key)};else if(e instanceof gr)i={update:Xv(s,e.key,e.data),updateMask:h2(e.fieldMask)};else{if(!(e instanceof Bw))return ve(16599,{dt:e.type});i={verify:Cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Ww(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function i2(s,e){return s&&s.length>0?(Xe(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(Te.min())&&(d=Mi(c)),new Pw(d,l.transformResults||[])})(i,e)))):[]}function s2(s,e){return{documents:[KE(s,e.path)]}}function r2(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=KE(s,l);const c=(function(y){if(y.length!==0)return XE(Pi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(O){return{field:Ja(O.field),direction:l2(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=wm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function a2(s){let e=e2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xe(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const O=YE(A);return O instanceof Pi&&wE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(W){return new lh(Za(W.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let O;return O=typeof A=="object"?A.value:A,Ah(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(A){const O=!!A.before,X=A.values||[];return new oh(X,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const O=!A.before,X=A.values||[];return new oh(X,O)})(i.endAt)),Sw(e,l,d,c,p,"F",_,y)}function o2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return zt.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Pi.create(i.compositeFilter.filters.map((a=>YE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function l2(s){return Xw[s]}function u2(s){return $w[s]}function c2(s){return Jw[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Za(s){return Zt.fromServerFormat(s.fieldPath)}function XE(s){return s instanceof zt?(function(i){if(i.op==="=="){if(Lv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Lv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:u2(i.op),value:i.value}}})(s):s instanceof Pi?(function(i){const a=i.getFilters().map((l=>XE(l)));return a.length===1?a[0]:{compositeFilter:{op:c2(i.op),filters:a}}})(s):ve(54877,{filter:s})}function h2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $E(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function JE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ir{constructor(e,i,a,l,c=Te.min(),d=Te.min(),p=en.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class f2{constructor(e){this.yt=e}}function d2(s){const e=a2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(e,e.limit,"L"):e}class m2{constructor(){this.Sn=new p2}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(ur.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class p2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new jt(ft.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new jt(ft.comparator)).toArray()}}const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(ZE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class fo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fo(0)}static ar(){return new fo(-1)}}const Jv="LruGarbageCollector",g2=1048576;function Zv([s,e],[i,a]){const l=ke(s,i);return l===0?ke(e,a):l}class y2{constructor(e){this.Pr=e,this.buffer=new jt(Zv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Zv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(Jv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?re(Jv,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.Ar(3e5)}))}}class v2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Sh.ce);const a=new y2(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve($v)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(y=Date.now(),Xa()<=Ve.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function E2(s,e){return new v2(s,e)}class T2{constructor(){this.changes=new ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class S2{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&zl(a.mutation,l,Nn.empty(),dt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Le()){const l=$r();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Ol();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=$r();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Le())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=ms();const d=Pl(),p=(function(){return Pl()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof gr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),zl(b.mutation,y,b.mutation.getFieldMask(),dt.now())):d.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new b2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Pl();let l=new yt(((d,p)=>d-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||Nn.empty();b=p.applyToLocalView(y,b),a.set(_,b);const A=(l.get(p.batchId)||Le()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,A=ME();b.forEach((O=>{if(!c.has(O)){const X=zE(i.get(O),a.get(O));X!==null&&A.set(O,X),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return Aw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ww(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):J.resolve($r());let p=Hl,_=c;return d.next((y=>J.forEach(y,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{_=_.insert(b,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Le()))).next((b=>({batchId:p,changes:OE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((a=>{let l=Ol();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(_=>{const y=(function(A,O){return new Rh(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((b=>{b.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let p=Ol();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&zl(b.mutation,y,Nn.empty(),dt.now()),Nh(i,y)&&(p=p.insert(_,y))})),p}))}}class A2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:d2(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),J.resolve()}}class w2{constructor(){this.overlays=new yt(de.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=$r();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const l=$r(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new yt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=$r(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=$r(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return J.resolve(p)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Hw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Le(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class R2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class sp{constructor(){this.kr=new jt(Gt.Kr),this.qr=new jt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Gt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Gt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new de(new ft([])),a=new Gt(i,e),l=new Gt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new ft([])),a=new Gt(i,e),l=new Gt(i,e+1);let c=Le();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Gt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||ke(e.Hr,i.Hr)}static Ur(e,i){return ke(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}class C2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(Gt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Gt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Qm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Gt(i,0),l=new Gt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new jt(ke);return i.forEach((l=>{const c=new Gt(l,0),d=new Gt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;de.isDocumentKey(c)||(c=c.child(""));const d=new Gt(new de(c),0);let p=new jt(ke);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Xe(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Gt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Gt(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class I2{constructor(e){this.ti=e,this.docs=(function(){return new yt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=ms();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ms();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ew(WA(b),a)<=0||(l.has(b.key)||Nh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ni(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new N2(this)}getSize(e){return J.resolve(this.size)}}class N2 extends T2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class x2{constructor(e){this.persistence=e,this.ri=new ra((i=>$m(i)),Jm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new sp,this.targetCount=0,this.oi=fo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new fo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class WE{constructor(e,i){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new R2,this.referenceDelegate=e(this),this.li=new x2(this),this.indexManager=new m2,this.remoteDocumentCache=(function(l){return new I2(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new f2(i),this.Pi=new A2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new w2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new C2(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){re("MemoryPersistence","Starting transaction:",e);const l=new D2(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class D2 extends nw{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new sp,this.Ai=null}static Vi(e){return new rp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=de.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Te.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class hh{constructor(e,i){this.persistence=e,this.fi=new ra((a=>rw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=E2(this,i)}static Vi(e,i){return new hh(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,a){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ap{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Le(),l=Le();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ap(e,i.fromCache,a,l)}}class O2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class M2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return vS()?8:iw(on())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new O2;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Xa()<=Ve.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Xa()<=Ve.DEBUG&&re("QueryEngine","Query:",$a(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Xa()<=Ve.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(i))):J.resolve())}gs(e,i){if(jv(i))return J.resolve(null);let a=Oi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Am(i,null,"F"),a=Oi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Le(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,Am(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,a,l){return jv(i)||l.isEqual(Te.min())?J.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(Xa()<=Ve.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(i)),this.Ds(e,d,i,ZA(l,Hl)).next((p=>p)))}))}bs(e,i){let a=new jt(xE(e));return i.forEach(((l,c)=>{Nh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Xa()<=Ve.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",$a(i)),this.fs.getDocumentsMatchingQuery(e,i,ur.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const op="LocalStore",V2=3e8;class k2{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new yt(ke),this.Fs=new ra((c=>$m(c)),Jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function L2(s,e,i,a){return new k2(s,e,i,a)}async function eT(s,e){const i=Se(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Le();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function U2(s,e){const i=Se(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const A=y.batch,O=A.keys();let X=J.resolve();return O.forEach((W=>{X=X.next((()=>b.getEntry(_,W))).next((se=>{const ie=y.docVersions.get(W);Xe(ie!==null,48541),se.version.compareTo(ie)<0&&(A.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),b.addEntry(se)))}))})),X.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function tT(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function P2(s,e){const i=Se(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,A)=>{const O=l.get(A);if(!O)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let X=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?X=X.withResumeToken(en.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(b.resumeToken,a)),l=l.insert(A,X),(function(se,ie,me){return se.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=V2?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(O,X,b)&&p.push(i.li.updateTargetData(c,X))}));let _=ms(),y=Le();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(z2(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!a.isEqual(Te.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function z2(s,e,i){let a=Le(),l=Le();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ms();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Te.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):re(op,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function j2(s,e){const i=Se(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function B2(s,e){const i=Se(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new ir(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Nm(s,e,i){const a=Se(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;re(op,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function Wv(s,e,i){const a=Se(s);let l=Te.min(),c=Le();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const A=Se(_),O=A.Fs.get(b);return O!==void 0?J.resolve(A.vs.get(O)):A.li.getTargetData(y,b)})(a,d,Oi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Te.min(),i?c:Le()))).next((p=>(q2(a,Cw(e),p),{documents:p,ks:c})))))}function q2(s,e,i){let a=s.Ms.get(e)||Te.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class e0{constructor(){this.activeTargetIds=Mw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H2{constructor(){this.vo=new e0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new e0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class G2{Mo(e){}shutdown(){}}const t0="ConnectivityMonitor";class n0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(t0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(t0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function xm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const tm="RestConnection",F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class K2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=xm(),p=this.Qo(e,i.toUriEncodedString());re(tm,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=po(y);return this.zo(e,p,_,a,b).then((A=>(re(tm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ta(tm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=F2[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Q2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",Cl=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class to extends K2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!to.c_){const e=oE();Cl(e,aE.STAT_EVENT,(i=>{i.stat===_m.PROXY?re(nn,"STAT_EVENT: detected buffering proxy"):i.stat===_m.NOPROXY&&re(nn,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(e,i,a,l,c){const d=xm();return new Promise(((p,_)=>{const y=new sE;y.setWithCredentials(!0),y.listenOnce(rE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const A=y.getResponseJson();re(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Kc.TIMEOUT:re(nn,`RPC '${e}' ${d} timed out`),_(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const O=y.getStatus();if(re(nn,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let X=y.getResponseJson();Array.isArray(X)&&(X=X[0]);const W=X?.error;if(W&&W.status&&W.message){const se=(function(me){const Ae=me.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ae)>=0?Ae:Z.UNKNOWN})(W.status);_(new le(se,W.message))}else _(new le(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new le(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{re(nn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);re(nn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=xm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");re(nn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let A=!1,O=!1;const X=new Q2({Ho:W=>{O?re(nn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(A||(re(nn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),A=!0),re(nn,`RPC '${e}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return Cl(b,Dl.EventType.OPEN,(()=>{O||(re(nn,`RPC '${e}' stream ${l} transport opened.`),X.i_())})),Cl(b,Dl.EventType.CLOSE,(()=>{O||(O=!0,re(nn,`RPC '${e}' stream ${l} transport closed`),X.o_(),this.E_(b))})),Cl(b,Dl.EventType.ERROR,(W=>{O||(O=!0,ta(nn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),X.o_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),Cl(b,Dl.EventType.MESSAGE,(W=>{if(!O){const se=W.data[0];Xe(!!se,16349);const ie=se,me=ie?.error||ie[0]?.error;if(me){re(nn,`RPC '${e}' stream ${l} received error:`,me);const Ae=me.status;let Ee=(function(ze){const I=kt[ze];if(I!==void 0)return BE(I)})(Ae),Ge=me.message;Ae==="NOT_FOUND"&&Ge.includes("database")&&Ge.includes("does not exist")&&Ge.includes(this.databaseId.database)&&ta(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Ee===void 0&&(Ee=Z.INTERNAL,Ge="Unknown error status: "+Ae+" with message "+me.message),O=!0,X.o_(new le(Ee,Ge)),b.close()}else re(nn,`RPC '${e}' stream ${l} received:`,se),X.__(se)}})),to.u_(),setTimeout((()=>{X.s_()}),0),X}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return lE()}}function Y2(s){return new to(s)}function nm(){return typeof document<"u"?document:null}function Mh(s){return new Zw(s,!0)}to.c_=!1;class nT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const i0="PersistentStream";class iT{constructor(e,i,a,l,c,d,p,_){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new le(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(i0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(re(i0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X2 extends iT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=t2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Mi(d.readTime):Te.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Im(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Sm(_)?{documents:s2(c,_)}:{query:r2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=GE(c,d.resumeToken);const y=wm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=ch(c,d.snapshotVersion.toTimestamp());const y=wm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=o2(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Im(this.serializer),i.removeTarget=e,this.K_(i)}}class $2 extends iT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=i2(e.writeResults,e.commitTime),a=Mi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Im(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>n2(this.serializer,a)))};this.K_(i)}}class J2{}class Z2 extends J2{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(Z.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Rm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function W2(s,e,i,a){return new Z2(s,e,i,a)}class eR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class tR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(re(na,"Restarting streams for network reachability change."),await(async function(_){const y=Se(_);y.Ea.add(4),await nu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Vh(y)})(this))}))})),this.Va=new eR(a,l)}}async function Vh(s){if(aa(s))for(const e of s.Ra)await e(!0)}async function nu(s){for(const e of s.Ra)await e(!1)}function sT(s,e){const i=Se(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hp(i)?cp(i):Eo(i).O_()&&up(i,e))}function lp(s,e){const i=Se(s),a=Eo(i);i.Ia.delete(e),a.O_()&&rT(i,e),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Va.set("Unknown"))}function up(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Eo(s).Z_(e)}function rT(s,e){s.da.$e(e),Eo(s).X_(e)}function cp(s){s.da=new Yw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Va.ua()}function hp(s){return aa(s)&&!Eo(s).x_()&&s.Ia.size>0}function aa(s){return Se(s).Ea.size===0}function aT(s){s.da=void 0}async function nR(s){s.Va.set("Online")}async function iR(s){s.Ia.forEach(((e,i)=>{up(s,e)}))}async function sR(s,e){aT(s),hp(s)?(s.Va.ha(e),cp(s)):s.Va.set("Unknown")}async function rR(s,e,i){if(s.Va.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(a){re(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(s,a)}else if(e instanceof $c?s.da.Xe(e):e instanceof qE?s.da.st(e):s.da.tt(e),!i.isEqual(Te.min()))try{const a=await tT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(en.EMPTY_BYTE_STRING,b.snapshotVersion)),rT(c,_);const A=new ir(b.target,_,y,b.sequenceNumber);up(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){re(na,"Failed to raise snapshot:",a),await fh(s,a)}}async function fh(s,e,i){if(!vo(e))throw e;s.Ea.add(1),await nu(s),s.Va.set("Offline"),i||(i=()=>tT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(na,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function oT(s,e){return e().catch((i=>fh(s,i,e)))}async function kh(s){const e=Se(s),i=dr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;aR(e);)try{const l=await j2(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,oR(e,l)}catch(l){await fh(e,l)}lT(e)&&uT(e)}function aR(s){return aa(s)&&s.Ta.length<10}function oR(s,e){s.Ta.push(e);const i=dr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function lT(s){return aa(s)&&!dr(s).x_()&&s.Ta.length>0}function uT(s){dr(s).start()}async function lR(s){dr(s).ra()}async function uR(s){const e=dr(s);for(const i of s.Ta)e.ea(i.mutations)}async function cR(s,e,i){const a=s.Ta.shift(),l=tp.from(a,e,i);await oT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function hR(s,e){e&&dr(s).Y_&&await(async function(a,l){if((function(d){return Fw(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();dr(a).B_(),await oT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(a)}})(s,e),lT(s)&&uT(s)}async function s0(s,e){const i=Se(s);i.asyncQueue.verifyOperationInProgress(),re(na,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await nu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function fR(s,e){const i=Se(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await nu(i),i.Va.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(i,a,l){const c=Se(i);return c.sa(),new X2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:nR.bind(null,s),Yo:iR.bind(null,s),t_:sR.bind(null,s),J_:rR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),hp(s)?cp(s):s.Va.set("Unknown")):(await s.ma.stop(),aT(s))}))),s.ma}function dr(s){return s.fa||(s.fa=(function(i,a,l){const c=Se(i);return c.sa(),new $2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lR.bind(null,s),t_:hR.bind(null,s),ta:uR.bind(null,s),na:cR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new fp(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(s,e){if(ds("AsyncQueue",`${e}: ${s}`),vo(s))return new le(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||de.comparator(i.key,a.key):(i,a)=>de.comparator(i.key,a.key),this.keyedMap=Ol(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new no;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class r0{constructor(){this.ga=new yt(de.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class mo{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new mo(e,i,no.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class dR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mR{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Se(i),c=l.queries;l.queries=a0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function a0(){return new ra((s=>NE(s)),Ih)}async function mp(s,e){const i=Se(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new dR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=dp(d,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&gp(i)}async function pp(s,e){const i=Se(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function pR(s,e){const i=Se(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&gp(i)}function gR(s,e,i){const a=Se(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function gp(s){s.Ca.forEach((e=>{e.next()}))}var Dm,o0;(o0=Dm||(Dm={})).Ma="default",o0.Cache="cache";class yp{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new mo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dm.Cache}}class cT{constructor(e){this.key=e}}class hT{constructor(e){this.key=e}}class yR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=xE(e),this.tu=new no(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new r0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const O=l.get(b),X=Nh(this.query,A)?A:null,W=!!O&&this.mutatedKeys.has(O.key),se=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let ie=!1;O&&X?O.data.isEqual(X.data)?W!==se&&(a.track({type:3,doc:X}),ie=!0):this.su(O,X)||(a.track({type:2,doc:X}),ie=!0,(_&&this.eu(X,_)>0||y&&this.eu(X,y)<0)&&(p=!0)):!O&&X?(a.track({type:0,doc:X}),ie=!0):O&&!X&&(a.track({type:1,doc:O}),ie=!0,(_||y)&&(p=!0)),ie&&(X?(d=d.add(X),c=se?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(X,W){const se=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:ie})}};return se(X)-se(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new mo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new hT(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new cT(a))})),i}cu(e){this.Za=e.ks,this.Ya=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _p="SyncEngine";class _R{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vR{constructor(e){this.key=e,this.hu=!1}}class ER{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((p=>NE(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(de.comparator),this.Au=new Map,this.Vu=new sp,this.du={},this.mu=new Map,this.fu=fo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TR(s,e,i=!0){const a=yT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await fT(a,e,i,!0),l}async function bR(s,e){const i=yT(s);await fT(i,e,!0,!1)}async function fT(s,e,i,a){const l=await B2(s.localStore,Oi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await SR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&sT(s.remoteStore,l),p}async function SR(s,e,i,a,l){s.pu=(A,O,X)=>(async function(se,ie,me,Ae){let Ee=ie.view.ru(me);Ee.Ss&&(Ee=await Wv(se.localStore,ie.query,!1).then((({documents:I})=>ie.view.ru(I,Ee))));const Ge=Ae&&Ae.targetChanges.get(ie.targetId),lt=Ae&&Ae.targetMismatches.get(ie.targetId)!=null,ze=ie.view.applyChanges(Ee,se.isPrimaryClient,Ge,lt);return u0(se,ie.targetId,ze.au),ze.snapshot})(s,A,O,X);const c=await Wv(s.localStore,e,!0),d=new yR(e,c.ks),p=d.ru(c.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);u0(s,i,y.au);const b=new _R(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function AR(s,e,i){const a=Se(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Ih(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&lp(a.remoteStore,l.targetId),Om(a,l.targetId)})).catch(_o)):(Om(a,l.targetId),await Nm(a.localStore,l.targetId,!0))}async function wR(s,e){const i=Se(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),lp(i.remoteStore,a.targetId))}async function RR(s,e,i){const a=MR(s);try{const l=await(function(d,p){const _=Se(d),y=dt.now(),b=p.reduce(((X,W)=>X.add(W.key)),Le());let A,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let W=ms(),se=Le();return _.xs.getEntries(X,b).next((ie=>{W=ie,W.forEach(((me,Ae)=>{Ae.isValidDocument()||(se=se.add(me))}))})).next((()=>_.localDocuments.getOverlayedDocuments(X,W))).next((ie=>{A=ie;const me=[];for(const Ae of p){const Ee=jw(Ae,A.get(Ae.key).overlayedDocument);Ee!=null&&me.push(new gr(Ae.key,Ee,bE(Ee.value.mapValue),Yn.exists(!0)))}return _.mutationQueue.addMutationBatch(X,y,me,p)})).next((ie=>{O=ie;const me=ie.applyToLocalDocumentSet(A,se);return _.documentOverlayCache.saveOverlays(X,ie.batchId,me)}))})).then((()=>({batchId:O.batchId,changes:OE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new yt(ke)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await iu(a,l.changes),await kh(a.remoteStore)}catch(l){const c=dp(l,"Failed to persist write");i.reject(c)}}async function dT(s,e){const i=Se(s);try{const a=await P2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xe(d.hu,14607):l.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await iu(i,a,e)}catch(a){await _o(a)}}function l0(s,e,i){const a=Se(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Se(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,A)=>{for(const O of A.ba)O.va(p)&&(y=!0)})),y&&gp(_)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function CR(s,e,i){const a=Se(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new yt(de.comparator);d=d.insert(c,an.newNoDocument(c,Te.min()));const p=Le().add(c),_=new Oh(Te.min(),new Map,new yt(ke),d,p);await dT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),vp(a)}else await Nm(a.localStore,e,!1).then((()=>Om(a,e,i))).catch(_o)}async function IR(s,e){const i=Se(s),a=e.batch.batchId;try{const l=await U2(i.localStore,e);pT(i,a,null),mT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,l)}catch(l){await _o(l)}}async function NR(s,e,i){const a=Se(s);try{const l=await(function(d,p){const _=Se(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(Xe(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,e);pT(a,e,i),mT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,l)}catch(l){await _o(l)}}function mT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function pT(s,e,i){const a=Se(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Om(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||gT(s,a)}))}function gT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(lp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),vp(s))}function u0(s,e,i){for(const a of i)a instanceof cT?(s.Vu.addReference(a.key,e),xR(s,a)):a instanceof hT?(re(_p,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||gT(s,a.key)):ve(19791,{wu:a})}function xR(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(re(_p,"New document in limbo: "+i),s.Eu.add(a),vp(s))}function vp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(ft.fromString(e)),a=s.fu.next();s.Au.set(a,new vR(i)),s.Ru=s.Ru.insert(i,a),sT(s.remoteStore,new ir(Oi(Ch(i.path)),a,"TargetPurposeLimboResolution",Sh.ce))}}async function iu(s,e,i){const a=Se(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=ap.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const b=Se(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(O=>J.forEach(O.Ts,(X=>b.persistence.referenceDelegate.addReference(A,O.targetId,X))).next((()=>J.forEach(O.Is,(X=>b.persistence.referenceDelegate.removeReference(A,O.targetId,X)))))))))}catch(A){if(!vo(A))throw A;re(op,"Failed to update sequence numbers: "+A)}for(const A of y){const O=A.targetId;if(!A.fromCache){const X=b.vs.get(O),W=X.snapshotVersion,se=X.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(O,se)}}})(a.localStore,c))}async function DR(s,e){const i=Se(s);if(!i.currentUser.isEqual(e)){re(_p,"User change. New user:",e.toKey());const a=await eT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new le(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ns)}}function OR(s,e){const i=Se(s),a=i.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let l=Le();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function yT(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CR.bind(null,e),e.Pu.J_=pR.bind(null,e.eventManager),e.Pu.yu=gR.bind(null,e.eventManager),e}function MR(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return L2(this.persistence,new M2,e.initialUser,this.serializer)}Cu(e){return new WE(rp.Vi,this.serializer)}Du(e){return new H2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class VR extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xe(this.persistence.referenceDelegate instanceof hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new WE((a=>hh.Vi(a,i)),this.serializer)}}class Mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>l0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await fR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mR})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=Y2(e.databaseInfo);return W2(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new tR(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>l0(this.syncEngine,i,0)),(function(){return n0.v()?new n0:new G2})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const A=new ER(l,c,d,p,_,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Se(i);re(na,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class Ep{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const mr="FirestoreClient";class kR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{re(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(re(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=dp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),re(mr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await eT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function c0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await LR(s);re(mr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>s0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>s0(e.remoteStore,l))),s._onlineComponents=e}async function LR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(mr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ta("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new dh)}}else re(mr,"Using default OfflineComponentProvider"),await im(s,new VR(void 0));return s._offlineComponents}async function _T(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(mr,"Using user provided OnlineComponentProvider"),await c0(s,s._uninitializedComponentsProvider._online)):(re(mr,"Using default OnlineComponentProvider"),await c0(s,new Mm))),s._onlineComponents}function UR(s){return _T(s).then((e=>e.syncEngine))}async function mh(s){const e=await _T(s),i=e.eventManager;return i.onListen=TR.bind(null,e.syncEngine),i.onUnlisten=AR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=bR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=wR.bind(null,e.syncEngine),i}function PR(s,e,i,a){const l=new Ep(a),c=new yp(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>mp(await mh(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>pp(await mh(s),c)))}}function zR(s,e,i={}){const a=new us;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Ep({next:O=>{b.Nu(),d.enqueueAndForget((()=>pp(c,A)));const X=O.docs.has(p);!X&&O.fromCache?y.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):X&&O.fromCache&&_&&_.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),A=new yp(Ch(p.path),b,{includeMetadataChanges:!0,Ka:!0});return mp(c,A)})(await mh(s),s.asyncQueue,e,i,a))),a.promise}function jR(s,e,i={}){const a=new us;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Ep({next:O=>{b.Nu(),d.enqueueAndForget((()=>pp(c,A))),O.fromCache&&_.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),A=new yp(p,b,{includeMetadataChanges:!0,Ka:!0});return mp(c,A)})(await mh(s),s.asyncQueue,e,i,a))),a.promise}function BR(s,e){const i=new us;return s.asyncQueue.enqueueAndForget((async()=>RR(await UR(s),e,i))),i.promise}function vT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const qR="ComponentProvider",h0=new Map;function HR(s,e,i,a,l){return new lw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,vT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const ET="firestore.googleapis.com",f0=!0;class d0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=f0}else this.host=e.host,this.ssl=e.ssl??f0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g2)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new BA;switch(a.type){case"firstParty":return new FA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=h0.get(i);a&&(re(qR,"Removing Datastore"),h0.delete(i),a.terminate())})(this),Promise.resolve()}}function GR(s,e,i,a={}){s=vn(s,Lh);const l=po(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&($0(`https://${p}`),J0("Firestore",!0)),c.host!==ET&&c.host!==p&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!hs(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=rn.MOCK_USER;else{y=cS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new rn(A)}s._authCredentials=new qA(new cE(y,b))}}class su{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new su(this.firestore,e,this._query)}}class Rt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wl(i,Rt._jsonSchema))return new Rt(e,a||null,new de(ft.fromString(i.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Lt("string",Rt._jsonSchemaVersion),referencePath:Lt("string")};class lr extends su{constructor(e,i,a){super(e,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new de(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function Il(s,e,...i){if(s=Wt(s),hE("collection","path",e),s instanceof Lh){const a=ft.fromString(e,...i);return Cv(a),new lr(s,null,a)}{if(!(s instanceof Rt||s instanceof lr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return Cv(a),new lr(s.firestore,null,a)}}function Fn(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=Fm.newId()),hE("doc","path",e),s instanceof Lh){const a=ft.fromString(e,...i);return Rv(a),new Rt(s,null,new de(a))}{if(!(s instanceof Rt||s instanceof lr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return Rv(a),new Rt(s.firestore,s instanceof lr?s.converter:null,new de(a))}}const m0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const a=nm();a&&re(m0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;re(m0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",g0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=fp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:g0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function g0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ps extends Lh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new p0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function FR(s,e){const i=typeof s=="object"?s:Hm(),a=typeof s=="string"?s:rh,l=qm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=lS("firestore");c&&GR(l,...c)}return l}function Uh(s){if(s._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||KR(s),s._firestoreClient}function KR(s){const e=s._freezeSettings(),i=HR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new kR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(en.fromBase64String(e))}catch(i){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Qn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Lt("string",Qn._jsonSchemaVersion),bytes:Lt("string")};class Tp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class To{constructor(e){this._methodName=e}}class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Lt("string",Vi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new li(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Lt("string",li._jsonSchemaVersion),vectorValues:Lt("object")};const QR=/^__.*__$/;class YR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class TT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new gr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function bT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class Ph{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ph({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ph(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bT(this.dataSource)&&QR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}createContext(e,i,a,l=!1){return new Ph({dataSource:e,methodName:i,targetDoc:a,path:Zt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new XR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ST(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Rp("Data must be an object, but it was:",d,a);const p=wT(a,d);let _,y;if(c.merge)_=new Nn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const O=Yl(e,A,i);if(!d.contains(O))throw new le(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);IT(b,O)||b.push(O)}_=new Nn(b),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new YR(new _n(p),_,y)}class zh extends To{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function AT(s,e,i){return new Ph({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sp extends To{_toFieldTransform(e){return new Wm(e.path,new Ql)}isEqual(e){return e instanceof Sp}}class Ap extends To{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=AT(this,e,!0),a=this.Ac.map((c=>bo(c,i))),l=new co(a);return new Wm(e.path,l)}isEqual(e){return e instanceof Ap&&hs(this.Ac,e.Ac)}}class wp extends To{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=AT(this,e,!0),a=this.Ac.map((c=>bo(c,i))),l=new ho(a);return new Wm(e.path,l)}isEqual(e){return e instanceof wp&&hs(this.Ac,e.Ac)}}function $R(s,e,i,a){const l=s.createContext(1,e,i);Rp("Data must be an object, but it was:",l,a);const c=[],d=_n.empty();pr(a,((_,y)=>{const b=CT(e,_,i);y=Wt(y);const A=l.childContextForFieldPath(b);if(y instanceof zh)c.push(b);else{const O=bo(y,A);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Nn(c);return new TT(d,p,l.fieldTransforms)}function JR(s,e,i,a,l,c){const d=s.createContext(1,e,i),p=[Yl(e,a,i)],_=[l];if(c.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Yl(e,c[O])),_.push(c[O+1]);const y=[],b=_n.empty();for(let O=p.length-1;O>=0;--O)if(!IT(y,p[O])){const X=p[O];let W=_[O];W=Wt(W);const se=d.childContextForFieldPath(X);if(W instanceof zh)y.push(X);else{const ie=bo(W,se);ie!=null&&(y.push(X),b.set(X,ie))}}const A=new Nn(y);return new TT(b,A,d.fieldTransforms)}function bo(s,e){if(RT(s=Wt(s)))return Rp("Unsupported field value:",e,s),wT(s,e);if(s instanceof To)return(function(a,l){if(!bT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=bo(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Wt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Vw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:ch(l.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(a instanceof Vi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:GE(l.serializer,a._byteString)};if(a instanceof Rt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ip(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof li)return(function(d,p){const _=d instanceof li?d.toArray():d;return{mapValue:{fields:{[EE]:{stringValue:TE},[ah]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Zm(p.serializer,b)}))}}}}}})(a,l);if(JE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Km(a)}`)})(s,e)}function wT(s,e){const i={};return mE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pr(s,((a,l)=>{const c=bo(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function RT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Vi||s instanceof Qn||s instanceof Rt||s instanceof To||s instanceof li||JE(s))}function Rp(s,e,i){if(!RT(i)||!fE(i)){const a=Km(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Yl(s,e,i){if((e=Wt(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return CT(s,e);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const ZR=new RegExp("[~\\*/\\[\\]]");function CT(s,e,i){if(e.search(ZR)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Tp(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new le(Z.INVALID_ARGUMENT,p+s+_)}function IT(s,e){return s.some((i=>i.isEqual(e)))}class WR{convertValue(e,i="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return pr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ah].arrayValue?.values?.map((a=>wt(a.doubleValue)));return new li(i)}convertGeoPoint(e){return new Vi(wt(e.latitude),wt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=cr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ft.fromString(e);Xe($E(a),9688,{name:e});const l=new Fl(a.get(1),a.get(3)),c=new de(a.popFirst(5));return l.isEqual(i)||ds(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Cp extends WR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,i)}}function sm(){return new Sp("serverTimestamp")}function eC(...s){return new Ap("arrayUnion",s)}function tC(...s){return new wp("arrayRemove",s)}const y0="@firebase/firestore",_0="4.11.0";function v0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class NT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Yl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nC extends NT{data(){return super.data()}}function xT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function DT(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends NT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Yl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Lt("string",Jr._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Jc extends Jr{data(e={}){return super.data(e)}}class Zr{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Jc(this._firestore,this._userDataWriter,a.key,a,new Vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:iC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}Zr._jsonSchemaVersion="firestore/querySnapshot/1.0",Zr._jsonSchema={type:Lt("string",Zr._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function E0(s){s=vn(s,Rt);const e=vn(s.firestore,ps),i=Uh(e);return zR(i,s._key).then((a=>OT(e,s,a)))}function sC(s){s=vn(s,su);const e=vn(s.firestore,ps),i=Uh(e),a=new Cp(e);return xT(s._query),jR(i,s._query).then((l=>new Zr(e,a,s,l)))}function rm(s,e,i){s=vn(s,Rt);const a=vn(s.firestore,ps),l=DT(s.converter,e,i),c=bp(a);return jh(a,[ST(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Yn.none())])}function qc(s,e,i,...a){s=vn(s,Rt);const l=vn(s.firestore,ps),c=bp(l);let d;return d=typeof(e=Wt(e))=="string"||e instanceof Tp?JR(c,"updateDoc",s._key,e,i,a):$R(c,"updateDoc",s._key,e),jh(l,[d.toMutation(s._key,Yn.exists(!0))])}function Hc(s){return jh(vn(s.firestore,ps),[new ep(s._key,Yn.none())])}function T0(s,e){const i=vn(s.firestore,ps),a=Fn(s),l=DT(s.converter,e),c=bp(s.firestore);return jh(i,[ST(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Yn.exists(!1))]).then((()=>a))}function am(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||v0(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v0(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Rt)d=vn(s.firestore,ps),p=Ch(s._key.path),c={next:y=>{e[a]&&e[a](OT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=vn(s,su);d=vn(y.firestore,ps),p=y._query;const b=new Cp(d);c={next:A=>{e[a]&&e[a](new Zr(d,b,y,A))},error:e[a+1],complete:e[a+2]},xT(s._query)}const _=Uh(d);return PR(_,p,l,c)}function jh(s,e){const i=Uh(s);return BR(i,e)}function OT(s,e,i){const a=i.docs.get(e._key),l=new Cp(s);return new Jr(s,l,e._key,a,new Vl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){jA(go),ao(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ps(new HA(a.getProvider("auth-internal")),new KA(d,a.getProvider("app-check-internal")),uw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ar(y0,_0,e),ar(y0,_0,"esm2020")})();function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rC=MT,VT=new Jl("auth","Firebase",MT());const gh=new jm("@firebase/auth");function aC(s,...e){gh.logLevel<=Ve.WARN&&gh.warn(`Auth (${go}): ${s}`,...e)}function Zc(s,...e){gh.logLevel<=Ve.ERROR&&gh.error(`Auth (${go}): ${s}`,...e)}function ui(s,...e){throw Ip(s,...e)}function ki(s,...e){return Ip(s,...e)}function kT(s,e,i){const a={...rC(),[e]:i};return new Jl("auth","Firebase",a).create(e,{appName:s.name})}function cs(s){return kT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return VT.create(s,...e)}function _e(s,e,...i){if(!s)throw Ip(e,...i)}function os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Zc(e),new Error(e)}function gs(s,e){s||os(e)}function Vm(){return typeof self<"u"&&self.location?.href||""}function oC(){return b0()==="http:"||b0()==="https:"}function b0(){return typeof self<"u"&&self.location?.protocol||null}function lC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oC()||gS()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ru{constructor(e,i){this.shortDelay=e,this.longDelay=i,gs(i>e,"Short delay should be less than long delay!"),this.isMobile=dS()||yS()}get(){return lC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Np(s,e){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class LT{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fC=new ru(3e4,6e4);function yr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _r(s,e,i,a,l={}){return UT(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Zl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return pS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&po(s.emulatorConfig.host)&&(y.credentials="include"),LT.fetch()(await PT(s,s.config.apiHost,i,p),y)})}async function UT(s,e,i){s._canInitEmulator=!1;const a={...cC,...e};try{const l=new mC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Gc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Gc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Gc(s,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kT(s,b,y);ui(s,b)}}catch(l){if(l instanceof ys)throw l;ui(s,"network-request-failed",{message:String(l)})}}async function au(s,e,i,a,l={}){const c=await _r(s,e,i,a,l);return"mfaPendingCredential"in c&&ui(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function PT(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Np(s.config,l):`${s.config.apiScheme}://${l}`;return hC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function dC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),fC.get())})}}function Gc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ki(s,e,a);return l.customData._tokenResponse=i,l}function S0(s){return s!==void 0&&s.enterprise!==void 0}class pC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return dC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gC(s,e){return _r(s,"GET","/v2/recaptchaConfig",yr(s,e))}async function yC(s,e){return _r(s,"POST","/v1/accounts:delete",e)}async function yh(s,e){return _r(s,"POST","/v1/accounts:lookup",e)}function jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _C(s,e=!1){const i=Wt(s),a=await i.getIdToken(e),l=xp(a);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:jl(om(l.auth_time)),issuedAtTime:jl(om(l.iat)),expirationTime:jl(om(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function om(s){return Number(s)*1e3}function xp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=K0(i);return l?JSON.parse(l):(Zc("Failed to decode base64 JWT payload"),null)}catch(l){return Zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function A0(s){const e=xp(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ys&&vC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function vC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class EC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class km{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(s){const e=s.auth,i=await s.getIdToken(),a=await Xl(s,yh(e,{idToken:i}));_e(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?zT(l.providerUserInfo):[],d=bC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new km(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function TC(s){const e=Wt(s);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bC(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function zT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function SC(s,e){const i=await UT(s,{},async()=>{const a=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await PT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&po(s.emulatorConfig.host)&&(_.credentials="include"),LT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AC(s,e){return _r(s,"POST","/v2/accounts:revokeToken",yr(s,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=A0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await SC(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new io;return a&&(_e(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(_e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return os("not implemented")}}function Zs(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new km(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return _C(this,e)}reload(){return TC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await _h(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Xl(this,yC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:X,providerData:W,stsTokenManager:se}=i;_e(A&&se,e,"internal-error");const ie=io.fromJSON(this.name,se);_e(typeof A=="string",e,"internal-error"),Zs(a,e.name),Zs(l,e.name),_e(typeof O=="boolean",e,"internal-error"),_e(typeof X=="boolean",e,"internal-error"),Zs(c,e.name),Zs(d,e.name),Zs(p,e.name),Zs(_,e.name),Zs(y,e.name),Zs(b,e.name);const me=new oi({uid:A,auth:e,email:l,emailVerified:O,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ie,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(me.providerData=W.map(Ae=>({...Ae}))),_&&(me._redirectEventId=_),me}static async _fromIdTokenResponse(e,i,a=!1){const l=new io;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await _h(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?zT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new io;p.updateFromIdToken(a);const _=new oi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new km(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const w0=new Map;function ls(s){gs(s instanceof Function,"Expected a class definition");let e=w0.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,w0.set(s,e),e)}class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}jT.type="NONE";const R0=jT;function Wc(s,e,i){return`firebase:${s}:${e}:${i}`}class so{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Wc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await yh(this.auth,{idToken:e}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new so(ls(R0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ls(R0);const d=Wc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const O=await yh(e,{idToken:b}).catch(()=>{});if(!O)break;A=await oi._fromGetAccountInfoResponse(e,O,b)}else A=oi._fromJSON(e,b);y!==c&&(p=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new so(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new so(c,e,a))}}function C0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||HT(e))&&!e.includes("edge/"))return"Chrome";if(FT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function BT(s=on()){return/firefox\//i.test(s)}function qT(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HT(s=on()){return/crios\//i.test(s)}function GT(s=on()){return/iemobile/i.test(s)}function FT(s=on()){return/android/i.test(s)}function KT(s=on()){return/blackberry/i.test(s)}function QT(s=on()){return/webos/i.test(s)}function Dp(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function wC(s=on()){return Dp(s)&&!!window.navigator?.standalone}function RC(){return _S()&&document.documentMode===10}function YT(s=on()){return Dp(s)||FT(s)||QT(s)||KT(s)||/windows phone/i.test(s)||GT(s)}function XT(s,e=[]){let i;switch(s){case"Browser":i=C0(on());break;case"Worker":i=`${C0(on())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${a}`}class CC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function IC(s,e={}){return _r(s,"GET","/v2/passwordPolicy",yr(s,e))}const NC=6;class xC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??NC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class DC{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new CC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await yh(this,{idToken:e}),a=await oi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(cs(this));const i=e?Wt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IC(this),i=new xC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await AC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ls(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oa(s){return Wt(s)}class I0{constructor(e){this.auth=e,this.observer=null,this.addObserver=RS(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OC(s){Bh=s}function $T(s){return Bh.loadJS(s)}function MC(){return Bh.recaptchaEnterpriseScript}function VC(){return Bh.gapiScript}function kC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class LC{constructor(){this.enterprise=new UC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class UC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const PC="recaptcha-enterprise",JT="NO_RECAPTCHA";class zC{constructor(e){this.type=PC,this.auth=oa(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{gC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new pC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;S0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(JT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&S0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=MC();_.length!==0&&(_+=p),$T(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function N0(s,e,i,a=!1,l=!1){const c=new zC(s);let d;if(l)d=JT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Lm(s,e,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await N0(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await N0(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function jC(s,e){const i=qm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(hs(c,e??{}))return l;ui(l,"already-initialized")}return i.initialize({options:e})}function BC(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function qC(s,e,i){const a=oa(s);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=ZT(e),{host:d,port:p}=HC(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(hs(y,a.config.emulator)&&hs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,po(d)?($0(`${c}//${d}${_}`),J0("Auth",!0)):GC()}function ZT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function HC(s){const e=ZT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:x0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:x0(d)}}}function x0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function GC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Op{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,i){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function FC(s,e){return _r(s,"POST","/v1/accounts:signUp",e)}async function KC(s,e){return au(s,"POST","/v1/accounts:signInWithPassword",yr(s,e))}async function QC(s,e){return au(s,"POST","/v1/accounts:signInWithEmailLink",yr(s,e))}async function YC(s,e){return au(s,"POST","/v1/accounts:signInWithEmailLink",yr(s,e))}class $l extends Op{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new $l(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new $l(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,i,"signInWithPassword",KC);case"emailLink":return QC(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,a,"signUpPassword",FC);case"emailLink":return YC(e,{idToken:i,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(s,e){return au(s,"POST","/v1/accounts:signInWithIdp",yr(s,e))}const XC="http://localhost";class ia extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ia(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ro(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ro(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ro(e,i)}buildRequest(){const e={requestUri:XC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zl(i)}return e}}function $C(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JC(s){const e=Nl(xl(s)).link,i=e?Nl(xl(e)).deep_link_id:null,a=Nl(xl(s)).deep_link_id;return(a?Nl(xl(a)).link:null)||a||i||e||s}class Mp{constructor(e){const i=Nl(xl(e)),a=i.apiKey??null,l=i.oobCode??null,c=$C(i.mode??null);_e(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=JC(e);try{return new Mp(i)}catch{return null}}}class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,i){return $l._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Mp.parseLink(i);return _e(a,"argument-error"),$l._fromEmailAndCode(e,a.code,a.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class WT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ou extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ws extends ou{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class er extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ia._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return er.credential(i,a)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class tr extends ou{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class nr extends ou{constructor(){super("twitter.com")}static credential(e,i){return ia._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";async function ZC(s,e){return au(s,"POST","/v1/accounts:signUp",yr(s,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await oi._fromIdTokenResponse(e,a,l),d=D0(a);return new sa({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=D0(a);return new sa({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function D0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class vh extends ys{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new vh(e,i,a,l)}}function e1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(s,c,e,a):c})}async function WC(s,e,i=!1){const a=await Xl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return sa._forOperation(s,"link",a)}async function eI(s,e,i=!1){const{auth:a}=s;if(Kn(a.app))return Promise.reject(cs(a));const l="reauthenticate";try{const c=await Xl(s,e1(a,l,e,s),i);_e(c.idToken,a,"internal-error");const d=xp(c.idToken);_e(d,a,"internal-error");const{sub:p}=d;return _e(s.uid===p,a,"user-mismatch"),sa._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ui(a,"user-mismatch"),c}}async function t1(s,e,i=!1){if(Kn(s.app))return Promise.reject(cs(s));const a="signIn",l=await e1(s,a,e),c=await sa._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function tI(s,e){return t1(oa(s),e)}async function n1(s){const e=oa(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nI(s,e,i){if(Kn(s.app))return Promise.reject(cs(s));const a=oa(s),d=await Lm(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZC).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&n1(s),_}),p=await sa._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function iI(s,e,i){return Kn(s.app)?Promise.reject(cs(s)):tI(Wt(s),So.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&n1(s),a})}function sI(s,e,i,a){return Wt(s).onIdTokenChanged(e,i,a)}function rI(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function aI(s,e,i,a){return Wt(s).onAuthStateChanged(e,i,a)}const Eh="__sak";class i1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oI=1e3,lI=10;class s1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);RC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,lI):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}s1.type="LOCAL";const uI=s1;class r1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}r1.type="SESSION";const a1=r1;function cI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new qh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await cI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function Vp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class hI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Vp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function fI(s){Li().location.href=s}function o1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function dI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){return navigator?.serviceWorker?.controller||null}function pI(){return o1()?self:null}const l1="firebaseLocalStorageDb",gI=1,Th="firebaseLocalStorage",u1="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Hh(s,e){return s.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function yI(){const s=indexedDB.deleteDatabase(l1);return new lu(s).toPromise()}function Um(){const s=indexedDB.open(l1,gI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Th,{keyPath:u1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Th)?e(a):(a.close(),await yI(),e(await Um()))})})}async function O0(s,e,i){const a=Hh(s,!0).put({[u1]:e,value:i});return new lu(a).toPromise()}async function _I(s,e){const i=Hh(s,!1).get(e),a=await new lu(i).toPromise();return a===void 0?null:a.value}function M0(s,e){const i=Hh(s,!0).delete(e);return new lu(i).toPromise()}const vI=800,EI=3;class c1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>EI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(pI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await O0(e,Eh,"1"),await M0(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>O0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>_I(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>M0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Hh(l,!1).getAll();return new lu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c1.type="LOCAL";const TI=c1;new ru(3e4,6e4);function bI(s,e){return e?ls(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class kp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ro(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function SI(s){return t1(s.auth,new kp(s),s.bypassAuthState)}function AI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),eI(i,new kp(s),s.bypassAuthState)}async function wI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),WC(i,new kp(s),s.bypassAuthState)}class h1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return AI;default:ui(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RI=new ru(2e3,1e4);class eo extends h1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RI.get())};e()}}eo.currentPopupAction=null;const CI="pendingRedirect",eh=new Map;class II extends h1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const a=await NI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(s,e){const i=OI(e),a=DI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function xI(s,e){eh.set(s._key(),e)}function DI(s){return ls(s._redirectPersistence)}function OI(s){return Wc(CI,s.config.apiKey,s.name)}async function MI(s,e,i=!1){if(Kn(s.app))return Promise.reject(cs(s));const a=oa(s),l=bI(a,e),d=await new II(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const VI=600*1e3;class kI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!f1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VI&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function f1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function LI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1(s);default:return!1}}async function UI(s,e={}){return _r(s,"GET","/v1/projects",e)}const PI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zI=/^https?/;async function jI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await UI(s);for(const i of e)try{if(BI(i))return}catch{}ui(s,"unauthorized-domain")}function BI(s){const e=Vm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zI.test(i))return!1;if(PI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const qI=new ru(3e4,6e4);function k0(){const s=Li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function HI(s){return new Promise((e,i)=>{function a(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),i(ki(s,"network-request-failed"))},timeout:qI.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const l=kC("iframefcb");return Li()[l]=()=>{gapi.load?a():i(ki(s,"network-request-failed"))},$T(`${VC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw th=null,e})}let th=null;function GI(s){return th=th||HI(s),th}const FI=new ru(5e3,15e3),KI="__/auth/iframe",QI="emulator/auth/iframe",YI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $I(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Np(e,QI):`https://${s.config.authDomain}/${KI}`,a={apiKey:e.apiKey,appName:s.name,v:go},l=XI.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Zl(a).slice(1)}`}async function JI(s){const e=await GI(s),i=Li().gapi;return _e(i,s,"internal-error"),e.open({where:document.body,url:$I(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ki(s,"network-request-failed"),p=Li().setTimeout(()=>{c(d)},FI.get());function _(){Li().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const ZI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WI=500,eN=600,tN="_blank",nN="http://localhost";class L0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iN(s,e,i,a=WI,l=eN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...ZI,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=HT(y)?tN:i),BT(y)&&(e=e||nN,_.scrollbars="yes");const b=Object.entries(_).reduce((O,[X,W])=>`${O}${X}=${W},`,"");if(wC(y)&&p!=="_self")return sN(e||"",p),new L0(null);const A=window.open(e||"",p,b);_e(A,s,"popup-blocked");try{A.focus()}catch{}return new L0(A)}function sN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const rN="__/auth/handler",aN="emulator/auth/handler",oN=encodeURIComponent("fac");async function U0(s,e,i,a,l,c){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:go,eventId:l};if(e instanceof WT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",wS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof ou){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${oN}=${encodeURIComponent(_)}`:"";return`${lN(s)}?${Zl(p).slice(1)}${y}`}function lN({config:s}){return s.emulator?Np(s,aN):`https://${s.authDomain}/${rN}`}const lm="webStorageSupport";class uN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a1,this._completeRedirectFn=MI,this._overrideRedirectResult=xI}async _openPopup(e,i,a,l){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await U0(e,i,a,Vm(),l);return iN(e,c,Vp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await U0(e,i,a,Vm(),l);return fI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await JI(e),a=new kI(e);return i.register("authEvent",l=>(_e(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(lm,{type:lm},l=>{const c=l?.[0]?.[lm];c!==void 0&&i(!!c),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return YT()||qT()||Dp()}}const cN=uN;var P0="@firebase/auth",z0="1.12.0";class hN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dN(s){ao(new Wr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(s)},y=new DC(a,l,c,_);return BC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ao(new Wr("auth-internal",e=>{const i=oa(e.getProvider("auth").getImmediate());return(a=>new hN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(P0,z0,fN(s)),ar(P0,z0,"esm2020")}const mN=300,pN=X0("authIdTokenMaxAge")||mN;let j0=null;const gN=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>pN)return;const l=i?.token;j0!==l&&(j0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yN(s=Hm()){const e=qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=jC(s,{popupRedirectResolver:cN,persistence:[TI,uI,a1]}),a=X0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=gN(c.toString());rI(i,d,()=>d(i.currentUser)),sI(i,p=>d(p))}}const l=Q0("auth");return l&&qC(i,`http://${l}`),i}function _N(){return document.getElementsByTagName("head")?.[0]??document}OC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",_N().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dN("Browser");const d1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const vN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const EN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const B0=s=>{const e=EN(s);return e.charAt(0).toUpperCase()+e.slice(1)};var TN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const SN=Ye.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Ye.createElement("svg",{ref:_,...TN,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:d1("lucide",l),...!c&&!bN(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Ye.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ot=(s,e)=>{const i=Ye.forwardRef(({className:a,...l},c)=>Ye.createElement(SN,{ref:c,iconNode:e,className:d1(`lucide-${vN(B0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=B0(s),i};const AN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],wN=ot("clock",AN);const RN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],CN=ot("compass",RN);const IN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],NN=ot("crown",IN);const xN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],DN=ot("external-link",xN);const ON=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Fc=ot("gamepad-2",ON);const MN=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],VN=ot("gamepad",MN);const kN=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],LN=ot("layout-grid",kN);const UN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],PN=ot("lock",UN);const zN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jN=ot("log-out",zN);const BN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qN=ot("mail",BN);const HN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],um=ot("message-square",HN);const GN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],FN=ot("palette",GN);const KN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QN=ot("refresh-cw",KN);const YN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],XN=ot("search",YN);const $N=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],JN=ot("shield-check",$N);const ZN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],WN=ot("shield",ZN);const ex=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],tx=ot("skull",ex);const nx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ix=ot("target",nx);const sx=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],q0=ot("timer",sx);const rx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ax=ot("trash-2",rx);const ox=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],lx=ot("tv",ox);const ux=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cx=ot("user-plus",ux);const hx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fx=ot("users",hx);const dx=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],cm=ot("video",dx);const mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hm=ot("x",mx);const px=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],gx=ot("youtube",px);const yx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_x=ot("zap",yx),vx={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},Ex="jacklancet@gmail.com",Tx=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(s){console.error("Failed to parse environment firebase config",s)}return vx},nh=Tx(),Pm=!!(nh&&nh.apiKey&&nh.apiKey.startsWith("AIza")),bx=typeof __app_id<"u"?__app_id:"community_calendar_production",sn=bx.replace(/[^a-zA-Z0-9]/g,"_");let fm,Wa,gt;if(Pm)try{fm=CA().length>0?Hm():eE(nh),Wa=yN(fm),gt=FR(fm)}catch(s){console.error("Firebase Initialization Error:",s)}const H0={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"}},Sx=()=>{const[s,e]=Ye.useState(null),[i,a]=Ye.useState(!0),[l,c]=Ye.useState("login"),[d,p]=Ye.useState({email:"",password:"",displayName:""}),[_,y]=Ye.useState(null),[b,A]=Ye.useState([]),[O,X]=Ye.useState([]),[W,se]=Ye.useState("all"),[ie,me]=Ye.useState("calendar"),[Ae,Ee]=Ye.useState(!1),[Ge,lt]=Ye.useState(!1),[ze,I]=Ye.useState(!1),[S,C]=Ye.useState(null),[V,x]=Ye.useState(null),[L,w]=Ye.useState(!1),[We,Et]=Ye.useState(""),[K,ne]=Ye.useState(!1),[ce,xe]=Ye.useState({name:"",desc:""}),[Be,M]=Ye.useState(""),[U,ee]=Ye.useState({displayName:"Operator",joinedGuilds:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""]}),G=H0[U.theme]||H0.light,[ae,ye]=Ye.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});Ye.useEffect(()=>{if(!Pm||!Wa){a(!1);return}const F=aI(Wa,he=>{e(he),a(!1)});return()=>F()},[]),Ye.useEffect(()=>{if(!s||!gt)return;const F=Fn(gt,"artifacts",sn,"users",s.uid,"profile","info");(async()=>(await E0(F)).exists()||await rm(F,{displayName:d.displayName||`Operator_${s.uid.slice(0,4)}`,joinedGuilds:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""],createdAt:sm()}))();const pe=am(Il(gt,"artifacts",sn,"public","data","sessions"),Ut=>{A(Ut.docs.map(Ue=>({id:Ue.id,...Ue.data()})))}),Qe=am(Il(gt,"artifacts",sn,"public","data","guilds"),Ut=>{X(Ut.docs.map(Ue=>({id:Ue.id,...Ue.data()})))}),rt=am(F,Ut=>{Ut.exists()&&ee(Ue=>({...Ue,...Ut.data()}))});return()=>{pe(),Qe(),rt()}},[s]);const De=async F=>{F.preventDefault(),y(null),a(!0);try{l==="register"?await nI(Wa,d.email,d.password):await iI(Wa,d.email,d.password)}catch(he){y(he.message)}finally{a(!1)}},ut=async F=>{!s||!gt||(ne(!0),await rm(Fn(gt,"artifacts",sn,"users",s.uid,"profile","info"),F,{merge:!0}),await rm(Fn(gt,"artifacts",sn,"public","data","user_directory",s.uid),{displayName:F.displayName,handles:F.handles||{},showcaseGames:F.showcaseGames||[],theme:F.theme||"light",uid:s.uid},{merge:!0}),setTimeout(()=>ne(!1),500))},st=async F=>{if(gt){w(!0);try{const he=await E0(Fn(gt,"artifacts",sn,"public","data","user_directory",F));he.exists()&&x(he.data())}finally{w(!1)}}},zi=F=>{F.preventDefault();const he=encodeURIComponent(`GAMESYNC FEEDBACK: From ${U.displayName}`),pe=encodeURIComponent(`OPERATOR INTEL:
Display Name: ${U.displayName}
Operator ID: ${s.uid}
---------------------------------

MESSAGE:
${Be}`);window.location.href=`mailto:${Ex}?subject=${he}&body=${pe}`,I(!1),M("")},ji=async F=>{const Qe=(await sC(Il(gt,"artifacts",sn,"public","data","sessions"))).docs.filter(rt=>rt.data().guildId===F).map(rt=>Hc(rt.ref));await Promise.all(Qe)},_s=async F=>{window.confirm("PERMANENT DISBAND: Delete guild and missions?")&&(await Hc(Fn(gt,"artifacts",sn,"public","data","guilds",F)),await ji(F))},vs=async()=>{if(!ce.name||!s||!gt)return;const F=await T0(Il(gt,"artifacts",sn,"public","data","guilds"),{name:ce.name,desc:ce.desc||"Active Tactical Sector",ownerId:s.uid,members:[{uid:s.uid,name:U.displayName}],createdAt:sm()}),he=[...U.joinedGuilds||[],F.id];await ut({...U,joinedGuilds:he}),xe({name:"",desc:""}),lt(!1)},xn=async F=>{if(!s||!gt)return;const he=U.joinedGuilds||[],pe=he.includes(F.id),Qe=F.members||[];if(pe){const rt=he.filter(Ue=>Ue!==F.id);if(await ut({...U,joinedGuilds:rt}),Qe.filter(Ue=>(Ue.uid||Ue)!==s.uid).length===0)await Hc(Fn(gt,"artifacts",sn,"public","data","guilds",F.id)),await ji(F.id);else{const Ue=Qe.find(Dn=>(Dn.uid||Dn)===s.uid);await qc(Fn(gt,"artifacts",sn,"public","data","guilds",F.id),{members:tC(Ue)})}}else await ut({...U,joinedGuilds:[...he,F.id]}),await qc(Fn(gt,"artifacts",sn,"public","data","guilds",F.id),{members:eC({uid:s.uid,name:U.displayName})})},vr=async F=>{if(!gt||!s)return;const he=F.participants||[],pe=he.some(rt=>rt.uid===s.uid),Qe=Number(F.maxOpenings)+1;if(pe){const rt=he.filter(Ut=>Ut.uid!==s.uid);await qc(Fn(gt,"artifacts",sn,"public","data","sessions",F.id),{participants:rt})}else{if(he.length>=Qe)return;const rt=[...he,{uid:s.uid,name:U.displayName}];await qc(Fn(gt,"artifacts",sn,"public","data","sessions",F.id),{participants:rt})}},Bi=async F=>{if(F.preventDefault(),!gt||!s)return;const he=ae.guildId||W;he!=="all"&&(await T0(Il(gt,"artifacts",sn,"public","data","sessions"),{...ae,maxOpenings:Number(ae.maxOpenings),guildId:he,userId:s.uid,userName:U.displayName,participants:[{uid:s.uid,name:U.displayName}],createdAt:sm()}),Ee(!1))},Er=Ye.useMemo(()=>{const F=U.joinedGuilds||[],he=b.filter(Qe=>(W==="all"?F.includes(Qe.guildId):Qe.guildId===W)&&String(Qe.gameTitle).toLowerCase().includes(We.toLowerCase())).sort((Qe,rt)=>String(Qe.date).localeCompare(String(rt.date))),pe={};return he.forEach(Qe=>{const rt=String(Qe.date);pe[rt]||(pe[rt]=[]),pe[rt].push(Qe)}),pe},[b,W,U.joinedGuilds,We]);return Pm?i?N.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:N.jsx(Fc,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):s?N.jsxs("div",{className:`min-h-screen ${G.bg} ${G.text} transition-colors duration-500`,children:[N.jsxs("header",{className:`${G.header} border-b ${G.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[N.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>me("calendar"),children:[N.jsx(Fc,{className:`w-8 h-8 ${G.accent}`}),N.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),N.jsxs("nav",{className:"flex items-center gap-4",children:[N.jsx("button",{onClick:()=>me("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${ie==="calendar"?G.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),N.jsx("button",{onClick:()=>me("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${ie==="profile"?G.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),N.jsx("button",{onClick:()=>I(!0),className:"p-2 opacity-40 hover:text-indigo-500 transition",children:N.jsx(um,{className:"w-4 h-4"})}),N.jsx("button",{onClick:()=>Wa.signOut(),className:"p-2 opacity-40 hover:text-rose-500 transition",children:N.jsx(jN,{className:"w-4 h-4"})})]})]}),N.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[N.jsxs("aside",{className:"w-full md:w-72",children:[N.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Tactical Sectors"}),N.jsx("button",{onClick:()=>se("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${W==="all"?G.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),N.jsx("div",{className:"mt-6 space-y-2",children:O.filter(F=>U.joinedGuilds?.includes(F.id)).map(F=>N.jsxs("div",{className:"flex items-center gap-1 group",children:[N.jsx("button",{onClick:()=>se(F.id),className:`flex-1 text-left p-3 rounded-xl font-bold text-xs transition truncate ${W===F.id?G.button:"hover:bg-slate-500/10"}`,children:String(F.name)}),N.jsx("button",{onClick:()=>C(F),className:"p-3 rounded-xl bg-slate-500/5 hover:bg-indigo-500 hover:text-white transition opacity-0 group-hover:opacity-100",children:N.jsx(fx,{className:"w-4 h-4"})})]},F.id))}),N.jsxs("button",{onClick:()=>lt(!0),className:"w-full p-4 mt-6 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[N.jsx(CN,{className:"w-4 h-4"})," Find Sectors"]})]}),N.jsx("div",{className:"flex-1",children:ie==="calendar"?N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[N.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:W==="all"?"The Hub":O.find(F=>F.id===W)?.name}),N.jsxs("div",{className:"flex gap-4",children:[N.jsxs("div",{className:"relative group",children:[N.jsx(XN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),N.jsx("input",{type:"text",placeholder:"Filter...",value:We,onChange:F=>Et(F.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${G.card} border ${G.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),N.jsx("button",{onClick:()=>Ee(!0),className:`${G.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg`,children:"+ New Mission"})]})]}),N.jsx("div",{className:"space-y-12",children:Object.entries(Er).map(([F,he])=>N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[N.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:F}),N.jsx("div",{className:`flex-1 h-px ${G.border}`})]}),N.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:he.map(pe=>{const Qe=pe.participants?.some(Ue=>Ue.uid===s?.uid),rt=(Number(pe.maxOpenings)||0)+1,Ut=(pe.participants?.length||0)>=rt;return N.jsxs("div",{className:`${G.card} border ${G.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[pe.isStreaming&&N.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 bg-rose-600 text-white px-3 py-1 rounded-full animate-pulse shadow-lg",children:[N.jsx(cm,{className:"w-3 h-3"}),N.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:pe.streamPlatform})]}),N.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors leading-tight mb-4",children:String(pe.gameTitle)}),N.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 opacity-40",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(wN,{className:"w-3 h-3"}),N.jsx("span",{className:"text-[10px] font-black uppercase",children:String(pe.startTime)})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(q0,{className:"w-3 h-3"}),N.jsxs("span",{className:"text-[10px] font-black uppercase",children:[pe.duration," HR"]})]})]}),N.jsxs("div",{className:"mb-8 flex-1",children:[N.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-4",children:[pe.participants?.length||0," / ",rt," Enlisted"]}),N.jsx("div",{className:"flex flex-wrap gap-2",children:pe.participants?.map((Ue,Dn)=>N.jsxs("button",{onClick:()=>st(Ue.uid),className:`flex items-center gap-2 text-[9px] font-black px-4 py-2 rounded-full ${G.bg} border ${G.border} uppercase shadow-sm hover:border-indigo-500 transition`,children:[N.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),String(Ue.name)]},Dn))})]}),N.jsxs("div",{className:"flex gap-3 mt-auto",children:[N.jsx("button",{onClick:()=>vr(pe),disabled:Ut&&!Qe,className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition active:scale-95 ${Qe?"bg-rose-500/10 text-rose-500 border border-rose-500/20":Ut?"bg-slate-500/10 text-slate-400 opacity-50 cursor-not-allowed":G.button}`,children:Qe?"Retire":Ut?"Full":"Enlist"}),pe.userId===s?.uid&&N.jsx("button",{onClick:()=>Hc(Fn(gt,"artifacts",sn,"public","data","sessions",pe.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:N.jsx(ax,{className:"w-5 h-5"})})]})]},pe.id)})})]},F))})]}):N.jsx("div",{className:"max-w-4xl mx-auto pb-20",children:N.jsxs("div",{className:`${G.card} border ${G.border} rounded-[5rem] p-12 shadow-2xl relative overflow-hidden`,children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600"}),N.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[N.jsxs("div",{className:"w-full md:w-1/3 text-center",children:[N.jsx("div",{className:"w-32 h-32 mx-auto mb-8 rounded-[3rem] bg-indigo-600 flex items-center justify-center text-white text-5xl font-black shadow-2xl",children:U.displayName.charAt(0)}),N.jsx("input",{type:"text",value:U.displayName,onChange:F=>ee({...U,displayName:F.target.value}),className:"w-full bg-transparent text-center text-3xl font-black italic uppercase outline-none focus:text-indigo-600 transition"}),N.jsxs("div",{className:"mt-12 space-y-4",children:[N.jsxs("button",{onClick:()=>ut({...U,theme:"light"}),className:`w-full p-4 rounded-2xl border-2 transition flex items-center justify-center gap-3 ${U.theme==="light"?"border-indigo-600":"border-transparent opacity-40"}`,children:[N.jsx(FN,{className:"w-4 h-4"}),N.jsx("span",{className:"text-[10px] font-black uppercase",children:"Standard"})]}),N.jsxs("button",{onClick:()=>ut({...U,theme:"dark"}),className:`w-full p-4 rounded-2xl border-2 transition flex items-center justify-center gap-3 ${U.theme==="dark"?"border-indigo-400":"border-transparent opacity-40"}`,children:[N.jsx(_x,{className:"w-4 h-4"}),N.jsx("span",{className:"text-[10px] font-black uppercase",children:"Midnight"})]})]}),N.jsxs("button",{onClick:()=>ut(U),className:`w-full mt-10 py-5 rounded-3xl ${G.button} font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2`,children:[K?N.jsx(QN,{className:"w-4 h-4 animate-spin"}):N.jsx(JN,{className:"w-4 h-4"})," SYNC PROFILE"]}),N.jsxs("button",{onClick:()=>I(!0),className:"w-full mt-4 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition tracking-widest flex items-center justify-center gap-2 underline underline-offset-4 decoration-dotted",children:[N.jsx(um,{className:"w-3 h-3"})," Report Issue / Feedback"]})]}),N.jsxs("div",{className:"flex-1 space-y-10",children:[N.jsxs("div",{children:[N.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest flex items-center gap-2",children:[N.jsx(PN,{className:"w-3 h-3"})," Identity Matrix"]}),N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[N.jsxs("div",{className:"relative group",children:[N.jsx(LN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-20"}),N.jsx("input",{placeholder:"STEAM",className:`w-full pl-12 p-4 rounded-2xl ${G.bg} border ${G.border} outline-none text-[10px] font-black uppercase`,value:U.handles?.steam,onChange:F=>ee({...U,handles:{...U.handles,steam:F.target.value}})})]}),N.jsxs("div",{className:"relative group",children:[N.jsx(Fc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-20"}),N.jsx("input",{placeholder:"PSN",className:`w-full pl-12 p-4 rounded-2xl ${G.bg} border ${G.border} outline-none text-[10px] font-black uppercase`,value:U.handles?.psn,onChange:F=>ee({...U,handles:{...U.handles,psn:F.target.value}})})]}),N.jsxs("div",{className:"relative group",children:[N.jsx(VN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-20"}),N.jsx("input",{placeholder:"XBOX",className:`w-full pl-12 p-4 rounded-2xl ${G.bg} border ${G.border} outline-none text-[10px] font-black uppercase`,value:U.handles?.xbox,onChange:F=>ee({...U,handles:{...U.handles,xbox:F.target.value}})})]})]})]}),N.jsxs("div",{children:[N.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest flex items-center gap-2",children:[N.jsx(cm,{className:"w-3 h-3"})," Broadcast Hub"]}),N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[N.jsxs("div",{className:"relative group",children:[N.jsx(lx,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-20"}),N.jsx("input",{placeholder:"TWITCH",className:`w-full pl-12 p-4 rounded-2xl ${G.bg} border ${G.border} outline-none text-[10px] font-black uppercase`,value:U.handles?.twitch,onChange:F=>ee({...U,handles:{...U.handles,twitch:F.target.value}})})]}),N.jsxs("div",{className:"relative group",children:[N.jsx(gx,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-20"}),N.jsx("input",{placeholder:"YOUTUBE",className:`w-full pl-12 p-4 rounded-2xl ${G.bg} border ${G.border} outline-none text-[10px] font-black uppercase`,value:U.handles?.youtube,onChange:F=>ee({...U,handles:{...U.handles,youtube:F.target.value}})})]}),N.jsxs("div",{className:"relative group",children:[N.jsx(DN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-20"}),N.jsx("input",{placeholder:"KICK",className:`w-full pl-12 p-4 rounded-2xl ${G.bg} border ${G.border} outline-none text-[10px] font-black uppercase`,value:U.handles?.kick,onChange:F=>ee({...U,handles:{...U.handles,kick:F.target.value}})})]})]})]}),N.jsxs("div",{children:[N.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest flex items-center gap-2",children:[N.jsx(ix,{className:"w-3 h-3"})," Interest Showcase (Top 5 Games)"]}),N.jsx("div",{className:"space-y-3",children:[0,1,2,3,4].map(F=>N.jsx("input",{placeholder:`GAME 0${F+1}`,className:`w-full p-4 rounded-2xl ${G.bg} border ${G.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:U.showcaseGames?.[F]||"",onChange:he=>{const pe=[...U.showcaseGames||["","","","",""]];pe[F]=he.target.value,ee({...U,showcaseGames:pe})}},F))})]})]})]})]})})})]}),ze&&N.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:N.jsxs("div",{className:`${G.card} border ${G.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl relative`,children:[N.jsx("button",{onClick:()=>I(!1),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:N.jsx(hm,{})}),N.jsxs("div",{className:"text-center mb-10",children:[N.jsx(um,{className:"w-12 h-12 text-indigo-500 mx-auto mb-6"}),N.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Submit Intelligence"}),N.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mt-2 tracking-widest",children:"Reports go directly to primary command"})]}),N.jsxs("form",{onSubmit:zi,className:"space-y-6",children:[N.jsx("textarea",{required:!0,placeholder:"DESCRIBE ISSUE OR SUGGESTION...",className:`w-full h-40 p-6 rounded-[2rem] ${G.bg} border ${G.border} outline-none font-black uppercase text-xs focus:border-indigo-500 transition shadow-inner resize-none`,value:Be,onChange:F=>M(F.target.value)}),N.jsxs("button",{type:"submit",className:`w-full py-5 rounded-3xl ${G.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition flex items-center justify-center gap-2`,children:[N.jsx(qN,{className:"w-4 h-4"})," GENERATE EMAIL DRAFT"]})]})]})}),V&&N.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl transition-all",children:N.jsxs("div",{className:`${V.theme==="dark"?"bg-zinc-900 border-zinc-800 text-white":"bg-white border-slate-100 text-slate-900"} border rounded-[5rem] p-12 max-w-xl w-full shadow-2xl relative`,children:[N.jsx("button",{onClick:()=>x(null),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:N.jsx(hm,{})}),N.jsxs("div",{className:"text-center mb-10",children:[N.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-indigo-600 flex items-center justify-center text-white text-4xl font-black shadow-xl",children:V.displayName.charAt(0)}),N.jsx("h3",{className:"text-3xl font-black italic uppercase tracking-tight",children:V.displayName}),N.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mt-1",children:"Registry Record"})]}),N.jsx("div",{className:"grid grid-cols-3 gap-4 mb-10",children:Object.entries(V.handles||{}).map(([F,he])=>he&&N.jsxs("div",{className:"p-3 bg-slate-500/5 border border-slate-500/10 rounded-xl text-center",children:[N.jsx("p",{className:"text-[7px] font-black uppercase opacity-40 mb-1",children:F}),N.jsx("p",{className:"text-[9px] font-black uppercase truncate",children:he})]},F))}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 text-center tracking-widest",children:"Tactical Interests"}),V.showcaseGames?.map((F,he)=>F&&N.jsxs("div",{className:"p-3 bg-black/20 rounded-xl border border-white/5 flex items-center gap-4",children:[N.jsxs("span",{className:"text-[9px] font-black opacity-20",children:["0",he+1]}),N.jsx("span",{className:"text-xs font-black uppercase tracking-tight italic",children:F})]},he))]}),N.jsx("button",{onClick:()=>x(null),className:"w-full mt-10 py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest shadow-xl",children:"Close Intel Deck"})]})}),S&&N.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:N.jsxs("div",{className:`${G.card} border ${G.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[N.jsxs("div",{className:"flex justify-between items-start mb-10",children:[N.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:S.name}),N.jsx("button",{onClick:()=>C(null),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:N.jsx(hm,{})})]}),N.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:S.members?.map((F,he)=>N.jsxs("button",{onClick:()=>st(F.uid||F),className:`w-full text-left ${G.bg} p-4 rounded-3xl border ${G.border} flex items-center gap-4 hover:border-indigo-500 transition group`,children:[N.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-600 flex items-center justify-center text-[11px] font-black text-white shadow-lg group-hover:scale-110 transition",children:String(F.name||"O").charAt(0)}),N.jsxs("div",{className:"flex-1 overflow-hidden",children:[N.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate",children:String(F.name||"Unknown Op")}),N.jsx("p",{className:"text-[8px] opacity-20 font-bold truncate",children:F.uid||F})]}),(F.uid||F)===S.ownerId&&N.jsx(NN,{className:"w-4 h-4 text-amber-500"})]},he))}),N.jsx("button",{onClick:()=>C(null),className:"w-full py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest transition",children:"Close Roster"})]})}),Ge&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:N.jsxs("div",{className:`${G.card} border ${G.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[N.jsxs("div",{className:"flex justify-between items-start mb-10",children:[N.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Directory"}),N.jsx("button",{onClick:()=>lt(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),N.jsx("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:O.map(F=>N.jsxs("div",{className:`${G.bg} p-6 rounded-[2.5rem] border ${G.border} flex justify-between items-center group`,children:[N.jsxs("div",{className:"flex-1",children:[N.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(F.name)}),N.jsxs("p",{className:"text-[9px] font-black opacity-30 mt-1 uppercase",children:[F.members?.length||0," Members"]})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("button",{onClick:()=>xn(F),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${U.joinedGuilds?.includes(F.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":G.button}`,children:U.joinedGuilds?.includes(F.id)?"Retire":"Enlist"}),F.ownerId===s?.uid&&N.jsx("button",{onClick:()=>_s(F.id),className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:N.jsx(tx,{className:"w-4 h-4"})})]})]},F.id))}),N.jsxs("div",{className:`pt-10 border-t ${G.border} space-y-4`,children:[N.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"Establish Tactical Sector"}),N.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${G.bg} border ${G.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:ce.name,onChange:F=>xe({...ce,name:F.target.value})}),N.jsx("button",{onClick:vs,className:`w-full py-5 rounded-3xl ${G.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Commission Registry"})]})]})}),Ae&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:N.jsxs("div",{className:`${G.card} border ${G.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[N.jsxs("div",{className:"flex justify-between items-start mb-8",children:[N.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),N.jsx("button",{onClick:()=>Ee(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),N.jsxs("form",{onSubmit:Bi,className:"space-y-6",children:[N.jsx("input",{placeholder:"GAME / OPERATION NAME",className:`w-full p-5 rounded-2xl ${G.bg} border ${G.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:ae.gameTitle,onChange:F=>ye({...ae,gameTitle:F.target.value}),required:!0}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[N.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${G.bg} border ${G.border} outline-none text-xs font-black`,value:ae.date,onChange:F=>ye({...ae,date:F.target.value})}),N.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${G.bg} border ${G.border} outline-none text-xs font-black`,value:ae.startTime,onChange:F=>ye({...ae,startTime:F.target.value})}),N.jsxs("div",{className:"relative",children:[N.jsx(q0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),N.jsx("input",{type:"number",placeholder:"HR",className:`w-full pl-12 p-5 rounded-2xl ${G.bg} border ${G.border} outline-none text-xs font-black`,value:ae.duration,onChange:F=>ye({...ae,duration:F.target.value})})]})]}),N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[N.jsxs("select",{className:`w-full p-5 rounded-2xl ${G.bg} border ${G.border} outline-none text-xs font-black uppercase`,value:ae.guildId,onChange:F=>ye({...ae,guildId:F.target.value}),required:!0,children:[N.jsx("option",{value:"",children:"Select Guild"}),O.filter(F=>U.joinedGuilds?.includes(F.id)).map(F=>N.jsx("option",{value:F.id,children:String(F.name)},F.id))]}),N.jsxs("div",{className:"relative",children:[N.jsx(cx,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),N.jsx("input",{type:"number",placeholder:"SLOTS",className:`w-full pl-12 p-5 rounded-2xl ${G.bg} border ${G.border} outline-none text-xs font-black`,value:ae.maxOpenings,onChange:F=>ye({...ae,maxOpenings:F.target.value})})]})]}),N.jsxs("div",{className:`${G.bg} p-6 rounded-3xl border ${G.border} flex items-center justify-between`,children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx(cm,{className:"w-5 h-5 opacity-40"}),N.jsx("div",{children:N.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:"Broadcast Mission"})})]}),N.jsx("button",{type:"button",onClick:()=>ye({...ae,isStreaming:!ae.isStreaming}),className:`w-14 h-8 rounded-full transition-colors relative ${ae.isStreaming?"bg-indigo-600":"bg-slate-300 dark:bg-zinc-800"}`,children:N.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${ae.isStreaming?"left-7 shadow-lg":"left-1"}`})})]}),N.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${G.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition mt-4`,children:"Deploy Mission"})]})]})})]}):N.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:N.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),N.jsxs("div",{className:"text-center mb-10",children:[N.jsx(Fc,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),N.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"}),N.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.3em] opacity-30 mt-2",children:"Operator Identity Registry"})]}),N.jsxs("form",{onSubmit:De,className:"space-y-4",children:[N.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.email,onChange:F=>p({...d,email:F.target.value})}),N.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.password,onChange:F=>p({...d,password:F.target.value})}),_&&N.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),N.jsx("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Establish Link"})]}),N.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):N.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[N.jsx(WN,{className:"w-16 h-16 text-rose-500 mb-6"}),N.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"}),N.jsx("p",{className:"opacity-50 text-sm",children:"Check Firebase keys in App.jsx."})]})};Wb.createRoot(document.getElementById("root")).render(N.jsx(Ye.StrictMode,{children:N.jsx(Sx,{})}));
