(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Bd={exports:{}},Al={};var Z_;function BS(){if(Z_)return Al;Z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var W_;function qS(){return W_||(W_=1,Bd.exports=BS()),Bd.exports}var j=qS(),qd={exports:{}},Tt={};var tv;function HS(){if(tv)return Tt;tv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,nt={};function ft(O,Q,et){this.props=O,this.context=Q,this.refs=nt,this.updater=et||W}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function At(){}At.prototype=ft.prototype;function vt(O,Q,et){this.props=O,this.context=Q,this.refs=nt,this.updater=et||W}var Gt=vt.prototype=new At;Gt.constructor=vt,it(Gt,ft.prototype),Gt.isPureReactComponent=!0;var se=Array.isArray;function It(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,Q,et){var rt=et.ref;return{$$typeof:r,type:O,key:Q,ref:rt!==void 0?rt:null,props:et}}function V(O,Q){return I(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Q[et]})}var w=/\/+/g;function mt(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Q.toString(36)}function me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(It,It):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,Q,et,rt,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Nt=!1;if(O===null)Nt=!0;else switch(bt){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(O.$$typeof){case r:case t:Nt=!0;break;case S:return Nt=O._init,L(Nt(O._payload),Q,et,rt,_t)}}if(Nt)return _t=_t(O),Nt=rt===""?"."+mt(O,0):rt,se(_t)?(et="",Nt!=null&&(et=Nt.replace(w,"$&/")+"/"),L(_t,Q,et,"",function(jt){return jt})):_t!=null&&(N(_t)&&(_t=V(_t,et+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Nt)),Q.push(_t)),1;Nt=0;var X=rt===""?".":rt+":";if(se(O))for(var pt=0;pt<O.length;pt++)rt=O[pt],bt=X+mt(rt,pt),Nt+=L(rt,Q,et,bt,_t);else if(pt=K(O),typeof pt=="function")for(O=pt.call(O),pt=0;!(rt=O.next()).done;)rt=rt.value,bt=X+mt(rt,pt++),Nt+=L(rt,Q,et,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return L(me(O),Q,et,rt,_t);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function Z(O,Q,et){if(O==null)return O;var rt=[],_t=0;return L(O,rt,"","",function(bt){return Q.call(et,bt,_t++)}),rt}function lt(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ot={map:Z,forEach:function(O,Q,et){Z(O,function(){Q.apply(this,arguments)},et)},count:function(O){var Q=0;return Z(O,function(){Q++}),Q},toArray:function(O){return Z(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=b,Tt.Children=Ot,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=vt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,Q,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=it({},O.props),_t=O.key;if(Q!=null)for(bt in Q.key!==void 0&&(_t=""+Q.key),Q)!A.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(rt[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)rt.children=et;else if(1<bt){for(var Nt=Array(bt),X=0;X<bt;X++)Nt[X]=arguments[X+2];rt.children=Nt}return I(O.type,_t,rt)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,Q,et){var rt,_t={},bt=null;if(Q!=null)for(rt in Q.key!==void 0&&(bt=""+Q.key),Q)A.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Q[rt]);var Nt=arguments.length-2;if(Nt===1)_t.children=et;else if(1<Nt){for(var X=Array(Nt),pt=0;pt<Nt;pt++)X[pt]=arguments[pt+2];_t.children=X}if(O&&O.defaultProps)for(rt in Nt=O.defaultProps,Nt)_t[rt]===void 0&&(_t[rt]=Nt[rt]);return I(O,bt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=N,Tt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:lt}},Tt.memo=function(O,Q){return{$$typeof:y,type:O,compare:Q===void 0?null:Q}},Tt.startTransition=function(O){var Q=C.T,et={};C.T=et;try{var rt=O(),_t=C.S;_t!==null&&_t(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(It,Pt)}catch(bt){Pt(bt)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),C.T=Q}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(O){return C.H.use(O)},Tt.useActionState=function(O,Q,et){return C.H.useActionState(O,Q,et)},Tt.useCallback=function(O,Q){return C.H.useCallback(O,Q)},Tt.useContext=function(O){return C.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},Tt.useEffect=function(O,Q){return C.H.useEffect(O,Q)},Tt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(O,Q,et){return C.H.useImperativeHandle(O,Q,et)},Tt.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},Tt.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},Tt.useMemo=function(O,Q){return C.H.useMemo(O,Q)},Tt.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},Tt.useReducer=function(O,Q,et){return C.H.useReducer(O,Q,et)},Tt.useRef=function(O){return C.H.useRef(O)},Tt.useState=function(O){return C.H.useState(O)},Tt.useSyncExternalStore=function(O,Q,et){return C.H.useSyncExternalStore(O,Q,et)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.4",Tt}var ev;function km(){return ev||(ev=1,qd.exports=HS()),qd.exports}var ae=km(),Hd={exports:{}},bl={},Gd={exports:{}},Fd={};var nv;function GS(){return nv||(nv=1,(function(r){function t(L,Z){var lt=L.length;L.push(Z);t:for(;0<lt;){var Pt=lt-1>>>1,Ot=L[Pt];if(0<l(Ot,Z))L[Pt]=Z,L[lt]=Ot,lt=Pt;else break t}}function i(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var Z=L[0],lt=L.pop();if(lt!==Z){L[0]=lt;t:for(var Pt=0,Ot=L.length,O=Ot>>>1;Pt<O;){var Q=2*(Pt+1)-1,et=L[Q],rt=Q+1,_t=L[rt];if(0>l(et,lt))rt<Ot&&0>l(_t,et)?(L[Pt]=_t,L[rt]=lt,Pt=rt):(L[Pt]=et,L[Q]=lt,Pt=Q);else if(rt<Ot&&0>l(_t,lt))L[Pt]=_t,L[rt]=lt,Pt=rt;else break t}}return Z}function l(L,Z){var lt=L.sortIndex-Z.sortIndex;return lt!==0?lt:L.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],S=1,b=null,x=3,K=!1,W=!1,it=!1,nt=!1,ft=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function Gt(L){for(var Z=i(y);Z!==null;){if(Z.callback===null)a(y);else if(Z.startTime<=L)a(y),Z.sortIndex=Z.expirationTime,t(_,Z);else break;Z=i(y)}}function se(L){if(it=!1,Gt(L),!W)if(i(_)!==null)W=!0,It||(It=!0,k());else{var Z=i(y);Z!==null&&me(se,Z.startTime-L)}}var It=!1,C=-1,A=5,I=-1;function V(){return nt?!0:!(r.unstable_now()-I<A)}function N(){if(nt=!1,It){var L=r.unstable_now();I=L;var Z=!0;try{t:{W=!1,it&&(it=!1,At(C),C=-1),K=!0;var lt=x;try{e:{for(Gt(L),b=i(_);b!==null&&!(b.expirationTime>L&&V());){var Pt=b.callback;if(typeof Pt=="function"){b.callback=null,x=b.priorityLevel;var Ot=Pt(b.expirationTime<=L);if(L=r.unstable_now(),typeof Ot=="function"){b.callback=Ot,Gt(L),Z=!0;break e}b===i(_)&&a(_),Gt(L)}else a(_);b=i(_)}if(b!==null)Z=!0;else{var O=i(y);O!==null&&me(se,O.startTime-L),Z=!1}}break t}finally{b=null,x=lt,K=!1}Z=void 0}}finally{Z?k():It=!1}}}var k;if(typeof vt=="function")k=function(){vt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,mt=w.port2;w.port1.onmessage=N,k=function(){mt.postMessage(null)}}else k=function(){ft(N,0)};function me(L,Z){C=ft(function(){L(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(L){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var lt=x;x=Z;try{return L()}finally{x=lt}},r.unstable_requestPaint=function(){nt=!0},r.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var lt=x;x=L;try{return Z()}finally{x=lt}},r.unstable_scheduleCallback=function(L,Z,lt){var Pt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,L){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=lt+Ot,L={id:S++,callback:Z,priorityLevel:L,startTime:lt,expirationTime:Ot,sortIndex:-1},lt>Pt?(L.sortIndex=lt,t(y,L),i(_)===null&&L===i(y)&&(it?(At(C),C=-1):it=!0,me(se,lt-Pt))):(L.sortIndex=Ot,t(_,L),W||K||(W=!0,It||(It=!0,k()))),L},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(L){var Z=x;return function(){var lt=x;x=Z;try{return L.apply(this,arguments)}finally{x=lt}}}})(Fd)),Fd}var iv;function FS(){return iv||(iv=1,Gd.exports=GS()),Gd.exports}var Kd={exports:{}},en={};var rv;function KS(){if(rv)return en;rv=1;var r=km();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},en.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:K}):S==="script"&&a.d.X(_,{crossOrigin:b,integrity:x,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},en.requestFormReset=function(_){a.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.4",en}var sv;function QS(){if(sv)return Kd.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Kd.exports=KS(),Kd.exports}var av;function YS(){if(av)return bl;av=1;var r=FS(),t=km(),i=QS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case nt:return"StrictMode";case se:return"Suspense";case It:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case vt:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case Gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:mt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return mt(e(n))}catch{}}return null}var me=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Pt=[],Ot=-1;function O(e){return{current:e}}function Q(e){0>Ot||(e.current=Pt[Ot],Pt[Ot]=null,Ot--)}function et(e,n){Ot++,Pt[Ot]=e.current,e.current=n}var rt=O(null),_t=O(null),bt=O(null),Nt=O(null);function X(e,n){switch(et(bt,n),et(_t,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T_(n),e=S_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),et(rt,e)}function pt(){Q(rt),Q(_t),Q(bt)}function jt(e){e.memoizedState!==null&&et(Nt,e);var n=rt.current,s=S_(n,e.type);n!==s&&(et(_t,e),et(rt,s))}function Wt(e){_t.current===e&&(Q(rt),Q(_t)),Nt.current===e&&(Q(Nt),vl._currentValue=lt)}var Qt,ye;function Xt(e){if(Qt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qt=n&&n[1]||"",ye=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+e+ye}var li=!1;function ps(e,n){if(!e||li)return"";li=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{li=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Xt(s):""}function Eo(e,n){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==n&&n!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return ps(e.type,!1);case 11:return ps(e.type.render,!1);case 1:return ps(e.type,!0);case 31:return Xt("Activity");default:return""}}function To(e){try{var n="",s=null;do n+=Eo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var we=Object.prototype.hasOwnProperty,Le=r.unstable_scheduleCallback,pr=r.unstable_cancelCallback,qh=r.unstable_shouldYield,ou=r.unstable_requestPaint,on=r.unstable_now,gs=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,lu=r.unstable_IdlePriority,uu=r.log,cu=r.unstable_setDisableYieldValue,Qn=null,Ge=null;function xn(e){if(typeof uu=="function"&&cu(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Qn,e)}catch{}}var _e=Math.clz32?Math.clz32:fu,hu=Math.log,ra=Math.LN2;function fu(e){return e>>>=0,e===0?32:31-(hu(e)/ra|0)|0}var ui=256,ys=262144,Re=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(g&=E,g!==0?h=ci(g):s||(s=E&~e,s!==0&&(h=ci(s))))):(E=o&~f,E!==0?h=ci(E):g!==0?h=ci(g):s||(s=o&~e,s!==0&&(h=ci(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _s(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-_e(s),Y=1<<G;E[G]=0,R[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&vs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function vs(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function bo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function wo(e,n){var s=n&-n;return s=(s&42)!==0?1:Es(s),(s&(e.suspendedLanes|n))!==0?0:s}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mu(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function Xn(e,n){var s=Z.p;try{return Z.p=e,n()}finally{Z.p=s}}var $n=Math.random().toString(36).slice(2),Ce="__reactFiber$"+$n,je="__reactProps$"+$n,di="__reactContainer$"+$n,sa="__reactEvents$"+$n,Kh="__reactListeners$"+$n,pu="__reactHandles$"+$n,gu="__reactResources$"+$n,mi="__reactMarker$"+$n;function aa(e){delete e[Ce],delete e[je],delete e[sa],delete e[Kh],delete e[pu]}function pi(e){var n=e[Ce];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[Ce]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=N_(e);e!==null;){if(s=e[Ce])return s;e=N_(e)}return n}e=s,s=e.parentNode}return null}function On(e){if(e=e[Ce]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[gu];return n||(n=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[mi]=!0}var Ro=new Set,Co={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Co[e]=n,e=0;e<n.length;e++)Ro.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function yu(e){return we.call(Do,e)?!0:we.call(No,e)?!1:Io.test(e)?Do[e]=!0:(No[e]=!0,!1)}function oa(e,n,s){if(yu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Sn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=yr(e)?"checked":"value";e._valueTracker=xo(e,n,""+e[n])}}function Ts(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=yr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ss=/[\n"\\]/g;function cn(e){return e.replace(Ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,g,Be(n)):s!=null?Oo(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function _u(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function Oo(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _r(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function vu(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function vr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),$t(e)}function hn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Eu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Mo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var ko=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,Ei=null;function As(e){var n=On(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(la(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Ts(o)}break t;case"textarea":vu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&_r(e,!!s.multiple,n,!1)}}}var ha=!1;function Sr(e,n,s){if(ha)return e(n,s);ha=!0;try{var o=e(n);return o}finally{if(ha=!1,(Tr!==null||Ei!==null)&&(mc(),Tr&&(n=Tr,e=Ei,Ei=Tr=null,As(n),e)))for(n=0;n<e.length;n++)As(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(Mn)try{var te={};Object.defineProperty(te,"passive",{get:function(){bs=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{bs=!1}var Ti=null,Lo=null,ws=null;function Uo(){if(ws)return ws;var e,n=Lo,s=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return ws=h.slice(e,1<o?1-o:void 0)}function Rs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Wn(){return!1}function Fe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Wn,this.isPropagationStopped=Wn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Fe(Bi),Ar=b({},Bi,{view:0,detail:0}),Po=Fe(Ar),br,fa,Ai,da=b({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(br=e.screenX-Ai.screenX,fa=e.screenY-Ai.screenY):fa=br=0,Ai=e),br)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),zo=Fe(da),Cs=b({},da,{dataTransfer:0}),Su=Fe(Cs),Au=b({},Ar,{relatedTarget:0}),Is=Fe(Au),jo=b({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Fe(jo),ma=b({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wu=Fe(ma),Ru=b({},Bi,{data:0}),bi=Fe(Ru),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nu[e])?!!n[e]:!1}function wr(){return Du}var ln=b({},Ar,{key:function(e){if(e.key){var n=Cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=Fe(ln),Ou=b({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Fe(Ou),u=b({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),m=Fe(u),v=b({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Fe(v),U=b({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Fe(U),tt=b({},Bi,{newState:0,oldState:0}),wt=Fe(tt),ve=[9,13,27,32],Ft=Mn&&"CompositionEvent"in window,he=null;Mn&&"documentMode"in document&&(he=document.documentMode);var kn=Mn&&"TextEvent"in window&&!he,wi=Mn&&(!Ft||he&&8<he&&11>=he),ti=" ",ei=!1;function Ns(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function h1(e,n){switch(e){case"compositionend":return pa(n);case"keypress":return n.which!==32?null:(ei=!0,ti);case"textInput":return e=n.data,e===ti&&ei?null:e;default:return null}}function f1(e,n){if(ga)return e==="compositionend"||!Ft&&Ns(e,n)?(e=Uo(),ws=Lo=Ti=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!d1[e.type]:n==="textarea"}function Vp(e,n,s,o){Tr?Ei?Ei.push(o):Ei=[o]:Tr=o,n=Tc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Bo=null,qo=null;function m1(e){p_(e,0)}function Vu(e){var n=Tn(e);if(Ts(n))return e}function Mp(e,n){if(e==="change")return n}var kp=!1;if(Mn){var Qh;if(Mn){var Yh="oninput"in document;if(!Yh){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Yh=typeof Lp.oninput=="function"}Qh=Yh}else Qh=!1;kp=Qh&&(!document.documentMode||9<document.documentMode)}function Up(){Bo&&(Bo.detachEvent("onpropertychange",Pp),qo=Bo=null)}function Pp(e){if(e.propertyName==="value"&&Vu(qo)){var n=[];Vp(n,qo,e,Vn(e)),Sr(m1,n)}}function p1(e,n,s){e==="focusin"?(Up(),Bo=n,qo=s,Bo.attachEvent("onpropertychange",Pp)):e==="focusout"&&Up()}function g1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(qo)}function y1(e,n){if(e==="click")return Vu(n)}function _1(e,n){if(e==="input"||e==="change")return Vu(n)}function v1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:v1;function Ho(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!we.call(n,h)||!An(e[h],n[h]))return!1}return!0}function zp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,n){var s=zp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=zp(s)}}function Bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function Xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var E1=Mn&&"documentMode"in document&&11>=document.documentMode,ya=null,$h=null,Go=null,Jh=!1;function Hp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||ya==null||ya!==vi(o)||(o=ya,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Ho(Go,o)||(Go=o,o=Tc($h,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ya)))}function Ds(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var _a={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Zh={},Gp={};Mn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function xs(e){if(Zh[e])return Zh[e];if(!_a[e])return e;var n=_a[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Gp)return Zh[e]=n[s];return e}var Fp=xs("animationend"),Kp=xs("animationiteration"),Qp=xs("animationstart"),T1=xs("transitionrun"),S1=xs("transitionstart"),A1=xs("transitioncancel"),Yp=xs("transitionend"),Xp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function ni(e,n){Xp.set(e,n),yi(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],va=0,tf=0;function ku(){for(var e=va,n=tf=va=0;n<e;){var s=Ln[n];Ln[n++]=null;var o=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&$p(s,h,f)}}function Lu(e,n,s,o){Ln[va++]=e,Ln[va++]=n,Ln[va++]=s,Ln[va++]=o,tf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ef(e,n,s,o){return Lu(e,n,s,o),Uu(e)}function Os(e,n){return Lu(e,null,null,n),Uu(e)}function $p(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Uu(e){if(50<fl)throw fl=0,hd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function b1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,s,o){return new b1(e,n,s,o)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var s=e.alternate;return s===null?(s=bn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Jp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Pu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")nf(e)&&(g=1);else if(typeof e=="string")g=NS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=bn(31,s,n,h),e.elementType=I,e.lanes=f,e;case it:return Vs(s.children,h,f,n);case nt:g=8,h|=24;break;case ft:return e=bn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case se:return e=bn(13,s,n,h),e.elementType=se,e.lanes=f,e;case It:return e=bn(19,s,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:g=10;break t;case At:g=9;break t;case Gt:g=11;break t;case C:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=bn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Vs(e,n,s,o){return e=bn(7,e,o,n),e.lanes=s,e}function rf(e,n,s){return e=bn(6,e,null,n),e.lanes=s,e}function Zp(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function sf(e,n,s){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wp=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=Wp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:To(n)},Wp.set(e,n),n)}return{value:e,source:n,stack:To(n)}}var Ta=[],Sa=0,zu=null,Fo=0,Pn=[],zn=0,Rr=null,Ri=1,Ci="";function Gi(e,n){Ta[Sa++]=Fo,Ta[Sa++]=zu,zu=e,Fo=n}function tg(e,n,s){Pn[zn++]=Ri,Pn[zn++]=Ci,Pn[zn++]=Rr,Rr=e;var o=Ri;e=Ci;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ri=1<<32-_e(n)+h|s<<h|o,Ci=f+e}else Ri=1<<f|s<<h|o,Ci=e}function af(e){e.return!==null&&(Gi(e,1),tg(e,1,0))}function of(e){for(;e===zu;)zu=Ta[--Sa],Ta[Sa]=null,Fo=Ta[--Sa],Ta[Sa]=null;for(;e===Rr;)Rr=Pn[--zn],Pn[zn]=null,Ci=Pn[--zn],Pn[zn]=null,Ri=Pn[--zn],Pn[zn]=null}function eg(e,n){Pn[zn++]=Ri,Pn[zn++]=Ci,Pn[zn++]=Rr,Ri=n.id,Ci=n.overflow,Rr=e}var Ke=null,oe=null,zt=!1,Cr=null,jn=!1,lf=Error(a(519));function Ir(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Un(n,e)),lf}function ng(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ce]=e,n[je]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<ml.length;s++)xt(ml[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),_u(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),vr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||v_(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Ir(e,!0)}function ig(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ke=Ke.return}}function Aa(e){if(e!==Ke)return!1;if(!zt)return ig(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Rd(e.type,e.memoizedProps)),s=!s),s&&oe&&Ir(e),ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=I_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=I_(e)}else n===27?(n=oe,qr(e.type)?(e=xd,xd=null,oe=e):oe=n):oe=Ke?qn(e.stateNode.nextSibling):null;return!0}function Ms(){oe=Ke=null,zt=!1}function uf(){var e=Cr;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Cr=null),e}function Ko(e){Cr===null?Cr=[e]:Cr.push(e)}var cf=O(null),ks=null,Fi=null;function Nr(e,n,s){et(cf,n._currentValue),n._currentValue=s}function Ki(e){e._currentValue=cf.current,Q(cf)}function hf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function ff(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),hf(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),hf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ba(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Nt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&ff(n,e,s,o),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){ks=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return rg(ks,e)}function Bu(e,n){return ks===null&&Ls(e),rg(e,n)}function rg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return s}var w1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},R1=r.unstable_scheduleCallback,C1=r.unstable_NormalPriority,De={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new w1,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&R1(C1,function(){e.controller.abort()})}var Yo=null,mf=0,wa=0,Ra=null;function I1(e,n){if(Yo===null){var s=Yo=[];mf=0,wa=yd(),Ra={status:"pending",value:void 0,then:function(o){s.push(o)}}}return mf++,n.then(sg,sg),n}function sg(){if(--mf===0&&Yo!==null){Ra!==null&&(Ra.status="fulfilled");var e=Yo;Yo=null,wa=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function N1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ag=L.S;L.S=function(e,n){Hy=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&I1(e,n),ag!==null&&ag(e,n)};var Us=O(null);function pf(){var e=Us.current;return e!==null?e:re.pooledCache}function qu(e,n){n===null?et(Us,Us.current):et(Us,n.pool)}function og(){var e=pf();return e===null?null:{parent:De._currentValue,pool:e}}var Ca=Error(a(460)),gf=Error(a(474)),Hu=Error(a(542)),Gu={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ug(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e}throw zs=n,Ca}}function Ps(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zs=s,Ca):s}}var zs=null;function cg(){if(zs===null)throw Error(a(459));var e=zs;return zs=null,e}function hg(e){if(e===Ca||e===Hu)throw Error(a(483))}var Ia=null,Xo=0;function Fu(e){var n=Xo;return Xo+=1,Ia===null&&(Ia=[]),ug(Ia,e,n)}function $o(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ku(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fg(e){function n(M,D){if(e){var P=M.deletions;P===null?(M.deletions=[D],M.flags|=16):P.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Hi(M,D),M.index=0,M.sibling=null,M}function f(M,D,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<D?(M.flags|=67108866,D):P):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,P,F){return D===null||D.tag!==6?(D=rf(P,M.mode,F),D.return=M,D):(D=h(D,P),D.return=M,D)}function R(M,D,P,F){var ct=P.type;return ct===it?G(M,D,P.props.children,F,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Ps(ct)===D.type)?(D=h(D,P.props),$o(D,P),D.return=M,D):(D=Pu(P.type,P.key,P.props,null,M.mode,F),$o(D,P),D.return=M,D)}function z(M,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=sf(P,M.mode,F),D.return=M,D):(D=h(D,P.children||[]),D.return=M,D)}function G(M,D,P,F,ct){return D===null||D.tag!==7?(D=Vs(P,M.mode,F,ct),D.return=M,D):(D=h(D,P),D.return=M,D)}function Y(M,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=rf(""+D,M.mode,P),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return P=Pu(D.type,D.key,D.props,null,M.mode,P),$o(P,D),P.return=M,P;case W:return D=sf(D,M.mode,P),D.return=M,D;case A:return D=Ps(D),Y(M,D,P)}if(me(D)||k(D))return D=Vs(D,M.mode,P,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Fu(D),P);if(D.$$typeof===vt)return Y(M,Bu(M,D),P);Ku(M,D)}return null}function B(M,D,P,F){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(M,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===ct?R(M,D,P,F):null;case W:return P.key===ct?z(M,D,P,F):null;case A:return P=Ps(P),B(M,D,P,F)}if(me(P)||k(P))return ct!==null?null:G(M,D,P,F,null);if(typeof P.then=="function")return B(M,D,Fu(P),F);if(P.$$typeof===vt)return B(M,D,Bu(M,P),F);Ku(M,P)}return null}function H(M,D,P,F,ct){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(P)||null,E(D,M,""+F,ct);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case K:return M=M.get(F.key===null?P:F.key)||null,R(D,M,F,ct);case W:return M=M.get(F.key===null?P:F.key)||null,z(D,M,F,ct);case A:return F=Ps(F),H(M,D,P,F,ct)}if(me(F)||k(F))return M=M.get(P)||null,G(D,M,F,ct,null);if(typeof F.then=="function")return H(M,D,P,Fu(F),ct);if(F.$$typeof===vt)return H(M,D,P,Bu(D,F),ct);Ku(D,F)}return null}function at(M,D,P,F){for(var ct=null,qt=null,ut=D,Ct=D=0,Mt=null;ut!==null&&Ct<P.length;Ct++){ut.index>Ct?(Mt=ut,ut=null):Mt=ut.sibling;var Ht=B(M,ut,P[Ct],F);if(Ht===null){ut===null&&(ut=Mt);break}e&&ut&&Ht.alternate===null&&n(M,ut),D=f(Ht,D,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht,ut=Mt}if(Ct===P.length)return s(M,ut),zt&&Gi(M,Ct),ct;if(ut===null){for(;Ct<P.length;Ct++)ut=Y(M,P[Ct],F),ut!==null&&(D=f(ut,D,Ct),qt===null?ct=ut:qt.sibling=ut,qt=ut);return zt&&Gi(M,Ct),ct}for(ut=o(ut);Ct<P.length;Ct++)Mt=H(ut,M,Ct,P[Ct],F),Mt!==null&&(e&&Mt.alternate!==null&&ut.delete(Mt.key===null?Ct:Mt.key),D=f(Mt,D,Ct),qt===null?ct=Mt:qt.sibling=Mt,qt=Mt);return e&&ut.forEach(function(Qr){return n(M,Qr)}),zt&&Gi(M,Ct),ct}function dt(M,D,P,F){if(P==null)throw Error(a(151));for(var ct=null,qt=null,ut=D,Ct=D=0,Mt=null,Ht=P.next();ut!==null&&!Ht.done;Ct++,Ht=P.next()){ut.index>Ct?(Mt=ut,ut=null):Mt=ut.sibling;var Qr=B(M,ut,Ht.value,F);if(Qr===null){ut===null&&(ut=Mt);break}e&&ut&&Qr.alternate===null&&n(M,ut),D=f(Qr,D,Ct),qt===null?ct=Qr:qt.sibling=Qr,qt=Qr,ut=Mt}if(Ht.done)return s(M,ut),zt&&Gi(M,Ct),ct;if(ut===null){for(;!Ht.done;Ct++,Ht=P.next())Ht=Y(M,Ht.value,F),Ht!==null&&(D=f(Ht,D,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return zt&&Gi(M,Ct),ct}for(ut=o(ut);!Ht.done;Ct++,Ht=P.next())Ht=H(ut,M,Ct,Ht.value,F),Ht!==null&&(e&&Ht.alternate!==null&&ut.delete(Ht.key===null?Ct:Ht.key),D=f(Ht,D,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return e&&ut.forEach(function(jS){return n(M,jS)}),zt&&Gi(M,Ct),ct}function ie(M,D,P,F){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===it){if(D.tag===7){s(M,D.sibling),F=h(D,P.props.children),F.return=M,M=F;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Ps(ct)===D.type){s(M,D.sibling),F=h(D,P.props),$o(F,P),F.return=M,M=F;break t}s(M,D);break}else n(M,D);D=D.sibling}P.type===it?(F=Vs(P.props.children,M.mode,F,P.key),F.return=M,M=F):(F=Pu(P.type,P.key,P.props,null,M.mode,F),$o(F,P),F.return=M,M=F)}return g(M);case W:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(M,D.sibling),F=h(D,P.children||[]),F.return=M,M=F;break t}else{s(M,D);break}else n(M,D);D=D.sibling}F=sf(P,M.mode,F),F.return=M,M=F}return g(M);case A:return P=Ps(P),ie(M,D,P,F)}if(me(P))return at(M,D,P,F);if(k(P)){if(ct=k(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),dt(M,D,P,F)}if(typeof P.then=="function")return ie(M,D,Fu(P),F);if(P.$$typeof===vt)return ie(M,D,Bu(M,P),F);Ku(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(M,D.sibling),F=h(D,P),F.return=M,M=F):(s(M,D),F=rf(P,M.mode,F),F.return=M,M=F),g(M)):s(M,D)}return function(M,D,P,F){try{Xo=0;var ct=ie(M,D,P,F);return Ia=null,ct}catch(ut){if(ut===Ca||ut===Hu)throw ut;var qt=bn(29,ut,null,M.mode);return qt.lanes=F,qt.return=M,qt}}}var js=fg(!0),dg=fg(!1),Dr=!1;function yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Uu(e),$p(e,null,s),n}return Lu(e,o,n,s),Uu(e)}function Jo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}function vf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ef=!1;function Zo(){if(Ef){var e=Ra;if(e!==null)throw e}}function Wo(e,n,s,o){Ef=!1;var h=e.updateQueue;Dr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Vt&B)===B:(o&B)===B){B!==0&&B===wa&&(Ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;B=n;var ie=s;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Y=at.call(ie,Y,B);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,B=typeof at=="function"?at.call(ie,Y,B):at,B==null)break t;Y=b({},Y,B);break t;case 2:Dr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,R=Y):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ur|=g,e.lanes=g,e.memoizedState=Y}}function mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function pg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)mg(s[e],n)}var Na=O(null),Qu=O(0);function gg(e,n){e=er,et(Qu,e),et(Na,n),er=e|n.baseLanes}function Tf(){et(Qu,er),et(Na,Na.current)}function Sf(){er=Qu.current,Q(Na),Q(Qu)}var wn=O(null),Bn=null;function Vr(e){var n=e.alternate;et(Ee,Ee.current&1),et(wn,e),Bn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(Bn=e)}function Af(e){et(Ee,Ee.current),et(wn,e),Bn===null&&(Bn=e)}function yg(e){e.tag===22?(et(Ee,Ee.current),et(wn,e),Bn===null&&(Bn=e)):Mr()}function Mr(){et(Ee,Ee.current),et(wn,wn.current)}function Rn(e){Q(wn),Bn===e&&(Bn=null),Q(Ee)}var Ee=O(0);function Yu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Nd(s)||Dd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Rt=null,ee=null,xe=null,Xu=!1,Da=!1,Bs=!1,$u=0,tl=0,xa=null,D1=0;function pe(){throw Error(a(321))}function bf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function wf(e,n,s,o,h,f){return Qi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?ty:jf,Bs=!1,f=s(o,h),Bs=!1,Da&&(f=vg(n,s,o,h)),_g(e),f}function _g(e){L.H=il;var n=ee!==null&&ee.next!==null;if(Qi=0,xe=ee=Rt=null,Xu=!1,tl=0,xa=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&ju(e)&&(Oe=!0))}function vg(e,n,s,o){Rt=e;var h=0;do{if(Da&&(xa=null),tl=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,xe=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=ey,f=n(s,o)}while(Da);return f}function x1(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?el(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Rf(){var e=$u!==0;return $u=0,e}function Cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function If(e){if(Xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xu=!1}Qi=0,xe=ee=Rt=null,Da=!1,tl=$u=0,xa=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Rt.memoizedState=xe=e:xe=xe.next=e,xe}function Te(){if(ee===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=xe===null?Rt.memoizedState:xe.next;if(n!==null)xe=n,ee=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},xe===null?Rt.memoizedState=xe=e:xe=xe.next=e}return xe}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var n=tl;return tl+=1,xa===null&&(xa=[]),e=ug(xa,e,n),n=Rt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?ty:jf),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===vt)return Qe(e)}throw Error(a(438,String(e)))}function Nf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ju(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Yi(e,n){return typeof n=="function"?n(e):n}function Wu(e){var n=Te();return Df(n,ee,e)}function Df(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(Qi&Y)===Y){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===wa&&(G=!0);else if((Qi&B)===B){z=z.next,B===wa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Rt.lanes|=B,Ur|=B;Y=z.action,Bs&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,Rt.lanes|=Y,Ur|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!An(f,e.memoizedState)&&(Oe=!0,G&&(s=Ra,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function xf(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Eg(e,n,s){var o=Rt,h=Te(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!An((ee||h).memoizedState,s);if(g&&(h.memoizedState=s,Oe=!0),h=h.queue,Mf(Ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Sg.bind(null,o,h,s,n),null),re===null)throw Error(a(349));f||(Qi&127)!==0||Tg(o,n,s)}return s}function Tg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Ju(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Sg(e,n,s,o){n.value=s,n.getSnapshot=o,bg(n)&&wg(e)}function Ag(e,n,s){return s(function(){bg(n)&&wg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function wg(e){var n=Os(e,2);n!==null&&gn(n,e,2)}function Of(e){var n=un();if(typeof e=="function"){var s=e;if(e=s(),Bs){xn(!0);try{s()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function Rg(e,n,s,o){return e.baseState=s,Df(e,ee,typeof o=="function"?o:Yi)}function O1(e,n,s,o,h){if(nc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Cg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Cg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=s(h,o),R=L.S;R!==null&&R(g,E),Ig(e,n,E)}catch(z){Vf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=s(h,o),Ig(e,n,f)}catch(z){Vf(e,n,z)}}function Ig(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Ng(e,n,o)},function(o){return Vf(e,n,o)}):Ng(e,n,s)}function Ng(e,n,s){n.status="fulfilled",n.value=s,Dg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Cg(e,s)))}function Vf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Dg(n),n=n.next;while(n!==o)}e.action=null}function Dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function Og(e,n){if(zt){var s=re.formState;if(s!==null){t:{var o=Rt;if(zt){if(oe){e:{for(var h=oe,f=jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=qn(h.nextSibling),o=h.data==="F!";break t}}Ir(o)}o=!1}o&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},s.queue=o,s=Jg.bind(null,Rt,o),o.dispatch=s,o=Of(!1),f=zf.bind(null,Rt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=O1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Vg(e){var n=Te();return Mg(n,ee,e)}function Mg(e,n,s){if(n=Df(e,n,xg)[0],e=Wu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(g){throw g===Ca?Hu:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Oa(9,{destroy:void 0},V1.bind(null,h,s),null)),[o,f,e]}function V1(e,n){e.action=n}function kg(e){var n=Te(),s=ee;if(s!==null)return Mg(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Oa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Ju(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Lg(){return Te().memoizedState}function tc(e,n,s,o){var h=un();Rt.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},s,o===void 0?null:o)}function ec(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&bf(o,ee.memoizedState.deps)?h.memoizedState=Oa(n,f,s,o):(Rt.flags|=e,h.memoizedState=Oa(1|n,f,s,o))}function Ug(e,n){tc(8390656,8,e,n)}function Mf(e,n){ec(2048,8,e,n)}function M1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Ju(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Pg(e){var n=Te().memoizedState;return M1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zg(e,n){return ec(4,2,e,n)}function jg(e,n){return ec(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qg(e,n,s){s=s!=null?s.concat([e]):null,ec(4,4,Bg.bind(null,n,e),s)}function kf(){}function Hg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Gg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=e(),Bs){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o}function Lf(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Fy(),Rt.lanes|=e,Ur|=e,s)}function Fg(e,n,s,o){return An(s,n)?s:Na.current!==null?(e=Lf(e,s,o),An(e,n)||(Oe=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Vt&261930)===0?(Oe=!0,e.memoizedState=s):(e=Fy(),Rt.lanes|=e,Ur|=e,n)}function Kg(e,n,s,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,zf(e,!1,n,s);try{var R=h(),z=L.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=N1(R,o);nl(e,n,G,Nn(e))}else nl(e,n,o,Nn(e))}catch(Y){nl(e,n,{then:function(){},status:"rejected",reason:Y},Nn())}finally{Z.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function k1(){}function Uf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Qg(e).queue;Kg(e,h,n,lt,s===null?k1:function(){return Yg(e),s(o)})}function Qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:lt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yg(e){var n=Qg(e);n.next===null&&(n=e.alternate.memoizedState),nl(e,n.next.queue,{},Nn())}function Pf(){return Qe(vl)}function Xg(){return Te().memoizedState}function $g(){return Te().memoizedState}function L1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Nn();e=xr(s);var o=Or(n,e,s);o!==null&&(gn(o,n,s),Jo(o,n,s)),n={cache:df()},e.payload=n;return}n=n.return}}function U1(e,n,s){var o=Nn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},nc(e)?Zg(n,s):(s=ef(e,n,s,o),s!==null&&(gn(s,e,o),Wg(s,n,o)))}function Jg(e,n,s){var o=Nn();nl(e,n,s,o)}function nl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(nc(e))Zg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return Lu(e,n,h,0),re===null&&ku(),!1}catch{}if(s=ef(e,n,h,o),s!==null)return gn(s,e,o),Wg(s,n,o),!0}return!1}function zf(e,n,s,o){if(o={lane:2,revertLane:yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(n)throw Error(a(479))}else n=ef(e,s,o,2),n!==null&&gn(n,e,2)}function nc(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Zg(e,n){Da=Xu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Wg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}var il={readContext:Qe,use:Zu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};il.useEffectEvent=pe;var ty={readContext:Qe,use:Zu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:Ug,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,tc(4194308,4,Bg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return tc(4194308,4,e,n)},useInsertionEffect:function(e,n){tc(4,2,e,n)},useMemo:function(e,n){var s=un();n=n===void 0?null:n;var o=e();if(Bs){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=un();if(s!==void 0){var h=s(n);if(Bs){xn(!0);try{s(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=U1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=Of(e);var n=e.queue,s=Jg.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:kf,useDeferredValue:function(e,n){var s=un();return Lf(s,e,n)},useTransition:function(){var e=Of(!1);return e=Kg.bind(null,Rt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=un();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),re===null)throw Error(a(349));(Vt&127)!==0||Tg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ug(Ag.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Sg.bind(null,o,f,s,n),null),s},useId:function(){var e=un(),n=re.identifierPrefix;if(zt){var s=Ci,o=Ri;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=$u++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=D1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Og,useActionState:Og,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=zf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Nf,useCacheRefresh:function(){return un().memoizedState=L1.bind(null,Rt)},useEffectEvent:function(e){var n=un(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},jf={readContext:Qe,use:Zu,useCallback:Hg,useContext:Qe,useEffect:Mf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Gg,useReducer:Wu,useRef:Lg,useState:function(){return Wu(Yi)},useDebugValue:kf,useDeferredValue:function(e,n){var s=Te();return Fg(s,ee.memoizedState,e,n)},useTransition:function(){var e=Wu(Yi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Pf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,n){var s=Te();return Rg(s,ee,e,n)},useMemoCache:Nf,useCacheRefresh:$g};jf.useEffectEvent=Pg;var ey={readContext:Qe,use:Zu,useCallback:Hg,useContext:Qe,useEffect:Mf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Gg,useReducer:xf,useRef:Lg,useState:function(){return xf(Yi)},useDebugValue:kf,useDeferredValue:function(e,n){var s=Te();return ee===null?Lf(s,e,n):Fg(s,ee.memoizedState,e,n)},useTransition:function(){var e=xf(Yi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Pf,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var s=Te();return ee!==null?Rg(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:$g};ey.useEffectEvent=Pg;function Bf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var qf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Nn(),h=xr(o);h.payload=n,s!=null&&(h.callback=s),n=Or(e,h,o),n!==null&&(gn(n,e,o),Jo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Nn(),h=xr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Or(e,h,o),n!==null&&(gn(n,e,o),Jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Nn(),o=xr(s);o.tag=2,n!=null&&(o.callback=n),n=Or(e,o,s),n!==null&&(gn(n,e,s),Jo(n,e,s))}};function ny(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ho(s,o)||!Ho(h,f):!0}function iy(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&qf.enqueueReplaceState(n,n.state,null)}function qs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function ry(e){Mu(e)}function sy(e){console.error(e)}function ay(e){Mu(e)}function ic(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function oy(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,n,s){return s=xr(s),s.tag=3,s.payload={element:null},s.callback=function(){ic(e,n)},s}function ly(e){return e=xr(e),e.tag=3,e}function uy(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){oy(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){oy(n,s,o),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function P1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ba(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?pc():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Gu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),md(e,o,h)),!1;case 22:return s.flags|=65536,o===Gu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),md(e,o,h)),!1}throw Error(a(435,s.tag))}return md(e,o,h),pc(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==lf&&(e=Error(a(422),{cause:o}),Ko(Un(e,s)))):(o!==lf&&(n=Error(a(423),{cause:o}),Ko(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,s),h=Hf(e.stateNode,o,h),vf(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:o});if(f=Un(f,s),hl===null?hl=[f]:hl.push(f),ge!==4&&(ge=2),n===null)return!0;o=Un(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Hf(s.stateNode,o,e),vf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pr===null||!Pr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ly(h),uy(h,e,s,o),vf(s,h),!1}s=s.return}while(s!==null);return!1}var Gf=Error(a(461)),Oe=!1;function Ye(e,n,s,o){n.child=e===null?dg(n,null,s,o):js(n,e.child,s,o)}function cy(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ls(n),o=wf(e,n,s,g,f,h),E=Rf(),e!==null&&!Oe?(Cf(e,n,h),Xi(e,n,h)):(zt&&E&&af(n),n.flags|=1,Ye(e,n,o,h),n.child)}function hy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fy(e,n,f,o,h)):(e=Pu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(g,o)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,o),e.ref=n.ref,e.return=n,n.child=e}function fy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Zf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Ff(e,n,s,o,h)}function dy(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return my(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(n,f!==null?f.cachePool:null),f!==null?gg(n,f):Tf(),yg(n);else return o=n.lanes=536870912,my(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(qu(n,f.cachePool),gg(n,f),Mr(),n.memoizedState=null):(e!==null&&qu(n,null),Tf(),Mr());return Ye(e,n,h,s),n.child}function rl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(e,n,s,o,h){var f=pf();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&qu(n,null),Tf(),yg(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function rc(e,n){return n=ac({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function py(e,n,s){return js(n,e.child,null,s),e=rc(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function z1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=rc(n,o),n.lanes=536870912,rl(null,e);if(Af(n),(e=oe)?(e=C_(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Zp(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Ir(n);return n.lanes=536870912,null}return rc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=py(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||ba(e,n,s,!1),h=(s&e.childLanes)!==0,Oe||h){if(o=re,o!==null&&(g=wo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Os(e,g),gn(o,e,g),Gf;pc(),n=py(e,n,s)}else e=f.treeContext,oe=qn(g.nextSibling),Ke=n,zt=!0,Cr=null,jn=!1,e!==null&&eg(n,e),n=rc(n,o),n.flags|=4096;return n}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function sc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ff(e,n,s,o,h){return Ls(n),s=wf(e,n,s,o,void 0,h),o=Rf(),e!==null&&!Oe?(Cf(e,n,h),Xi(e,n,h)):(zt&&o&&af(n),n.flags|=1,Ye(e,n,s,h),n.child)}function gy(e,n,s,o,h,f){return Ls(n),n.updateQueue=null,s=vg(n,o,s,h),_g(e),o=Rf(),e!==null&&!Oe?(Cf(e,n,f),Xi(e,n,f)):(zt&&o&&af(n),n.flags|=1,Ye(e,n,s,f),n.child)}function yy(e,n,s,o,h){if(Ls(n),n.stateNode===null){var f=Ea,g=s.contextType;typeof g=="object"&&g!==null&&(f=Qe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},yf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Qe(g):Ea,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Bf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qf.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=qs(s,E);f.props=R;var z=f.context,G=s.contextType;g=Ea,typeof G=="object"&&G!==null&&(g=Qe(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&iy(n,f,o,g),Dr=!1;var B=n.memoizedState;f.state=B,Wo(n,o,f,h),Zo(),z=n.memoizedState,E||B!==z||Dr?(typeof Y=="function"&&(Bf(n,s,Y,o),z=n.memoizedState),(R=Dr||ny(n,s,R,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,_f(e,n),g=n.memoizedProps,G=qs(s,g),f.props=G,Y=n.pendingProps,B=f.context,z=s.contextType,R=Ea,typeof z=="object"&&z!==null&&(R=Qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||B!==R)&&iy(n,f,o,R),Dr=!1,B=n.memoizedState,f.state=B,Wo(n,o,f,h),Zo();var H=n.memoizedState;g!==Y||B!==H||Dr||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof E=="function"&&(Bf(n,s,E,o),H=n.memoizedState),(G=Dr||ny(n,s,G,o,B,H,R)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=js(n,e.child,null,h),n.child=js(n,null,s,h)):Ye(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function _y(e,n,s,o){return Ms(),n.flags|=256,Ye(e,n,s,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(e){return{baseLanes:e,cachePool:og()}}function Yf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function vy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Vr(n):Mr(),(e=oe)?(e=C_(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Zp(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Ir(n);return Dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Mr(),h=n.mode,E=ac({mode:"hidden",children:E},h),o=Vs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Qf(s),o.childLanes=Yf(e,g,s),n.memoizedState=Kf,rl(null,o)):(Vr(n),Xf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Vr(n),n.flags&=-257,n=$f(e,n,s)):n.memoizedState!==null?(Mr(),n.child=e.child,n.flags|=128,n=null):(Mr(),E=o.fallback,h=n.mode,o=ac({mode:"visible",children:o.children},h),E=Vs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,js(n,e.child,null,s),o=n.child,o.memoizedState=Qf(s),o.childLanes=Yf(e,g,s),n.memoizedState=Kf,n=rl(null,o));else if(Vr(n),Dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Ko({value:o,source:null,stack:null}),n=$f(e,n,s)}else if(Oe||ba(e,n,s,!1),g=(s&e.childLanes)!==0,Oe||g){if(g=re,g!==null&&(o=wo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Os(e,o),gn(g,e,o),Gf;Nd(E)||pc(),n=$f(e,n,s)}else Nd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=qn(E.nextSibling),Ke=n,zt=!0,Cr=null,jn=!1,e!==null&&eg(n,e),n=Xf(n,o.children),n.flags|=4096);return n}return h?(Mr(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Hi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Hi(z,E):(E=Vs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,rl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Qf(s):(h=E.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=og(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Yf(e,g,s),n.memoizedState=Kf,rl(e.child,o)):(Vr(n),s=e.child,e=s.sibling,s=Hi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Xf(e,n){return n=ac({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ac(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function $f(e,n,s){return js(n,e.child,null,s),e=Xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ey(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),hf(e.return,n,s)}function Jf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Ty(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Ee,g),Ye(e,n,o,s),o=zt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,s,n);else if(e.tag===19)Ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Yu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Jf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Jf(n,!0,s,null,f,o);break;case"together":Jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ur|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ba(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Hi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Hi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function j1(e,n,s){switch(n.tag){case 3:X(n,n.stateNode.containerInfo),Nr(n,De,e.memoizedState.cache),Ms();break;case 27:case 5:jt(n);break;case 4:X(n,n.stateNode.containerInfo);break;case 10:Nr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?vy(e,n,s):(Vr(n),e=Xi(e,n,s),e!==null?e.sibling:null);Vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ba(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ty(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,dy(e,n,s,n.pendingProps);case 24:Nr(n,De,e.memoizedState.cache)}return Xi(e,n,s)}function Sy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Zf(e,s)&&(n.flags&128)===0)return Oe=!1,j1(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,zt&&(n.flags&1048576)!==0&&tg(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ps(n.elementType),n.type=e,typeof e=="function")nf(e)?(o=qs(e,o),n.tag=1,n=yy(null,n,e,o,s)):(n.tag=0,n=Ff(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Gt){n.tag=11,n=cy(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=hy(null,n,e,o,s);break t}}throw n=mt(e)||e,Error(a(306,n,""))}}return n;case 0:return Ff(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=qs(o,n.pendingProps),yy(e,n,o,h,s);case 3:t:{if(X(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,_f(e,n),Wo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Nr(n,De,o),o!==f.cache&&ff(n,[De],s,!0),Zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(e,n,o,s);break t}else if(o!==h){h=Un(Error(a(424)),n),Ko(h),n=_y(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=qn(e.firstChild),Ke=n,zt=!0,Cr=null,jn=!0,s=dg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ms(),o===h){n=Xi(e,n,s);break t}Ye(e,n,o,s)}n=n.child}return n;case 26:return sc(e,n),e===null?(s=V_(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=Sc(bt.current).createElement(s),o[Ce]=n,o[je]=e,Xe(o,s,e),Ie(o),n.stateNode=o):n.memoizedState=V_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return jt(n),e===null&&zt&&(o=n.stateNode=D_(n.type,n.pendingProps,bt.current),Ke=n,jn=!0,h=oe,qr(n.type)?(xd=h,oe=qn(o.firstChild)):oe=h),Ye(e,n,n.pendingProps.children,s),sc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=oe)&&(o=gS(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,Ke=n,oe=qn(o.firstChild),jn=!1,h=!0):h=!1),h||Ir(n)),jt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Rd(h,f)?o=null:g!==null&&Rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=wf(e,n,x1,null,null,s),vl._currentValue=h),sc(e,n),Ye(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=oe)&&(s=yS(s,n.pendingProps,jn),s!==null?(n.stateNode=s,Ke=n,oe=null,e=!0):e=!1),e||Ir(n)),null;case 13:return vy(e,n,s);case 4:return X(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=js(n,null,o,s):Ye(e,n,o,s),n.child;case 11:return cy(e,n,n.type,n.pendingProps,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Nr(n,n.type,o.value),Ye(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ls(n),h=Qe(h),o=o(h),n.flags|=1,Ye(e,n,o,s),n.child;case 14:return hy(e,n,n.type,n.pendingProps,s);case 15:return fy(e,n,n.type,n.pendingProps,s);case 19:return Ty(e,n,s);case 31:return z1(e,n,s);case 22:return dy(e,n,s,n.pendingProps);case 24:return Ls(n),o=Qe(De),e===null?(h=pf(),h===null&&(h=re,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},yf(n),Nr(n,De,h)):((e.lanes&s)!==0&&(_f(e,n),Wo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Nr(n,De,o)):(o=f.cache,Nr(n,De,o),o!==h.cache&&ff(n,[De],s,!0))),Ye(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function Wf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Xy())e.flags|=8192;else throw zs=Gu,gf}else e.flags&=-16777217}function Ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P_(n))if(Xy())e.flags|=8192;else throw zs=Gu,gf}function oc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?du():536870912,e.lanes|=n,La|=n)}function sl(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function B1(e,n,s){var o=n.pendingProps;switch(of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ki(De),pt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(le(n),Ay(n,f)):(le(n),Wf(n,h,null,o,s))):f?f!==e.memoizedState?($i(n),le(n),Ay(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),le(n),Wf(n,h,e,o,s)),null;case 27:if(Wt(n),s=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=rt.current,Aa(n)?ng(n):(e=D_(h,o,s),n.stateNode=e,$i(n))}return le(n),null;case 5:if(Wt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=rt.current,Aa(n))ng(n);else{var g=Sc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ce]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return le(n),Wf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,Aa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||v_(e.nodeValue,s)),e||Ir(n,!0)}else e=Sc(e).createTextNode(o),e[Ce]=n,n.stateNode=e}return le(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ce]=n}else Ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else s=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ce]=n}else Ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),oc(n,n.updateQueue),le(n),null);case 4:return pt(),e===null&&Td(n.stateNode.containerInfo),le(n),null;case 10:return Ki(n.type),le(n),null;case 19:if(Q(Ee),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Yu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,oc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Jp(s,e),s=s.sibling;return et(Ee,Ee.current&1|2),zt&&Gi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&on()>fc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Yu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,oc(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return le(n),null}else 2*on()-o.renderingStartTime>fc&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=on(),e.sibling=null,s=Ee.current,et(Ee,h?s&1|2:s&1),zt&&Gi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return Rn(n),Sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&oc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Us),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ki(De),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function q1(e,n){switch(of(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ki(De),pt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Wt(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));Ms()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ms()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Ee),null;case 4:return pt(),null;case 10:return Ki(n.type),null;case 22:case 23:return Rn(n),Sf(),e!==null&&Q(Us),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ki(De),null;case 25:return null;default:return null}}function by(e,n){switch(of(n),n.tag){case 3:Ki(De),pt();break;case 26:case 27:case 5:Wt(n);break;case 4:pt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Q(Ee);break;case 10:Ki(n.type);break;case 22:case 23:Rn(n),Sf(),e!==null&&Q(Us);break;case 24:Ki(De)}}function al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Zt(n,n.return,E)}}function kr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){Zt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Zt(n,n.return,G)}}function wy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{pg(n,s)}catch(o){Zt(e,e.return,o)}}}function Ry(e,n,s){s.props=qs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Zt(e,n,o)}}function ol(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Zt(e,n,h)}}function Ii(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Zt(e,n,h)}else s.current=null}function Cy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Zt(e,e.return,h)}}function td(e,n,s){try{var o=e.stateNode;cS(o,e.type,s,n),o[je]=n}catch(h){Zt(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nd(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&qr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(nd(e,n,s),e=e.sibling;e!==null;)nd(e,n,s),e=e.sibling}function lc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&qr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(lc(e,n,s),e=e.sibling;e!==null;)lc(e,n,s),e=e.sibling}function Ny(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,s),n[Ce]=e,n[je]=s}catch(f){Zt(e,e.return,f)}}var Ji=!1,Ve=!1,id=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,qe=null;function H1(e,n){if(e=e.containerInfo,bd=Nc,e=qp(e),Xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,B=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break e;if(B===s&&++z===h&&(E=g),B===f&&++G===o&&(R=g),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(wd={focusedElem:e,selectionRange:s},Nc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=qs(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Zt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Id(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function xy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(e,s),o&4&&al(5,s);break;case 1:if(Wi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Zt(s,s.return,g)}else{var h=qs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Zt(s,s.return,g)}}o&64&&wy(s),o&512&&ol(s,s.return);break;case 3:if(Wi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{pg(e,n)}catch(g){Zt(s,s.return,g)}}break;case 27:n===null&&o&4&&Ny(s);case 26:case 5:Wi(e,s),n===null&&o&4&&Cy(s),o&512&&ol(s,s.return);break;case 12:Wi(e,s);break;case 31:Wi(e,s),o&4&&My(e,s);break;case 13:Wi(e,s),o&4&&ky(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Z1.bind(null,s),_S(e,s))));break;case 22:if(o=s.memoizedState!==null||Ji,!o){n=n!==null&&n.memoizedState!==null||Ve,h=Ji;var f=Ve;Ji=o,(Ve=n)&&!f?tr(e,s,(s.subtreeFlags&8772)!==0):Wi(e,s),Ji=h,Ve=f}break;case 30:break;default:Wi(e,s)}}function Oy(e){var n=e.alternate;n!==null&&(e.alternate=null,Oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,fn=!1;function Zi(e,n,s){for(s=s.child;s!==null;)Vy(e,n,s),s=s.sibling}function Vy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Ve||Ii(s,n),Zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Ii(s,n);var o=fe,h=fn;qr(s.type)&&(fe=s.stateNode,fn=!1),Zi(e,n,s),gl(s.stateNode),fe=o,fn=h;break;case 5:Ve||Ii(s,n);case 6:if(o=fe,h=fn,fe=null,Zi(e,n,s),fe=o,fn=h,fe!==null)if(fn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(f){Zt(s,n,f)}else try{fe.removeChild(s.stateNode)}catch(f){Zt(s,n,f)}break;case 18:fe!==null&&(fn?(e=fe,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ga(e)):w_(fe,s.stateNode));break;case 4:o=fe,h=fn,fe=s.stateNode.containerInfo,fn=!0,Zi(e,n,s),fe=o,fn=h;break;case 0:case 11:case 14:case 15:kr(2,s,n),Ve||kr(4,s,n),Zi(e,n,s);break;case 1:Ve||(Ii(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ry(s,n,o)),Zi(e,n,s);break;case 21:Zi(e,n,s);break;case 22:Ve=(o=Ve)||s.memoizedState!==null,Zi(e,n,s),Ve=o;break;default:Zi(e,n,s)}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(s){Zt(n,n.return,s)}}}function ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(s){Zt(n,n.return,s)}}function G1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dy),n;default:throw Error(a(435,e.tag))}}function uc(e,n){var s=G1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=W1.bind(null,e,o);o.then(h,h)}})}function dn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(qr(E.type)){fe=E.stateNode,fn=!1;break t}break;case 5:fe=E.stateNode,fn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));Vy(f,g,h),fe=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ly(n,e),n=n.sibling}var ii=null;function Ly(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),o&4&&(kr(3,e,e.return),al(3,e),kr(5,e,e.return));break;case 1:dn(n,e),mn(e),o&512&&(Ve||s===null||Ii(s,s.return)),o&64&&Ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ii;if(dn(n,e),mn(e),o&512&&(Ve||s===null||Ii(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,s),f[Ce]=e,Ie(f),o=f;break t;case"link":var g=L_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=L_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ce]=e,Ie(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=k_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?U_(h,e.type,e.stateNode):k_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&td(e,e.memoizedProps,s.memoizedProps)}break;case 27:dn(n,e),mn(e),o&512&&(Ve||s===null||Ii(s,s.return)),s!==null&&o&4&&td(e,e.memoizedProps,s.memoizedProps);break;case 5:if(dn(n,e),mn(e),o&512&&(Ve||s===null||Ii(s,s.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(at){Zt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,td(e,h,s!==null?s.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(dn(n,e),mn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Zt(e,e.return,at)}}break;case 3:if(wc=null,h=ii,ii=Ac(n.containerInfo),dn(n,e),ii=h,mn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(at){Zt(e,e.return,at)}id&&(id=!1,Uy(e));break;case 4:o=ii,ii=Ac(e.stateNode.containerInfo),dn(n,e),mn(e),ii=o;break;case 12:dn(n,e),mn(e);break;case 31:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(hc=on()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Ji,G=Ve;if(Ji=z||h,Ve=G||R,dn(n,e),Ve=G,Ji=z,mn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Ji||Ve||Hs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Zt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Zt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;h?R_(H,!0):R_(R.stateNode,!1)}catch(at){Zt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,uc(e,s))));break;case 19:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Iy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=ed(e);lc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(hn(g,""),s.flags&=-33);var E=ed(e);lc(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=ed(e);nd(e,z,R);break;default:throw Error(a(161))}}catch(G){Zt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(e,n.alternate,n),n=n.sibling}function Hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:kr(4,n,n.return),Hs(n);break;case 1:Ii(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ry(n,n.return,s),Hs(n);break;case 27:gl(n.stateNode);case 26:case 5:Ii(n,n.return),Hs(n);break;case 22:n.memoizedState===null&&Hs(n);break;case 30:Hs(n);break;default:Hs(n)}e=e.sibling}}function tr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:tr(h,f,s),al(4,f);break;case 1:if(tr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)mg(R[h],E)}catch(z){Zt(o,o.return,z)}}s&&g&64&&wy(f),ol(f,f.return);break;case 27:Ny(f);case 26:case 5:tr(h,f,s),s&&o===null&&g&4&&Cy(f),ol(f,f.return);break;case 12:tr(h,f,s);break;case 31:tr(h,f,s),s&&g&4&&My(h,f);break;case 13:tr(h,f,s),s&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&tr(h,f,s),ol(f,f.return);break;case 30:break;default:tr(h,f,s)}n=n.sibling}}function rd(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function sd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function ri(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(e,n,s,o),n=n.sibling}function Py(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,s,o),h&2048&&al(9,n);break;case 1:ri(e,n,s,o);break;case 3:ri(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){ri(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else ri(e,n,s,o);break;case 31:ri(e,n,s,o);break;case 13:ri(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,s,o):ll(e,n):f._visibility&2?ri(e,n,s,o):(f._visibility|=2,Va(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(g,n);break;case 24:ri(e,n,s,o),h&2048&&sd(n.alternate,n);break;default:ri(e,n,s,o)}}function Va(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,R,h),al(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Va(f,g,E,R,h):ll(f,g):(G._visibility|=2,Va(f,g,E,R,h)),h&&z&2048&&rd(g.alternate,g);break;case 24:Va(f,g,E,R,h),h&&z&2048&&sd(g.alternate,g);break;default:Va(f,g,E,R,h)}n=n.sibling}}function ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ll(s,o),h&2048&&rd(o.alternate,o);break;case 24:ll(s,o),h&2048&&sd(o.alternate,o);break;default:ll(s,o)}n=n.sibling}}var ul=8192;function Ma(e,n,s){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)zy(e,n,s),e=e.sibling}function zy(e,n,s){switch(e.tag){case 26:Ma(e,n,s),e.flags&ul&&e.memoizedState!==null&&DS(s,ii,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,s);break;case 3:case 4:var o=ii;ii=Ac(e.stateNode.containerInfo),Ma(e,n,s),ii=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Ma(e,n,s),ul=o):Ma(e,n,s));break;default:Ma(e,n,s)}}function jy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,qy(o,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&kr(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cc(e)):cl(e);break;default:cl(e)}}function cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,qy(o,e)}jy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:kr(8,n,n.return),cc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,cc(n));break;default:cc(n)}e=e.sibling}}function qy(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:kr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(Oy(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var F1={getCacheForType:function(e){var n=Qe(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Qe(De).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Dt=null,Vt=0,Jt=0,Cn=null,Lr=!1,ka=!1,ad=!1,er=0,ge=0,Ur=0,Gs=0,od=0,In=0,La=0,hl=null,pn=null,ld=!1,hc=0,Hy=0,fc=1/0,dc=null,Pr=null,Ue=0,zr=null,Ua=null,nr=0,ud=0,cd=null,Gy=null,fl=0,hd=null;function Nn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:L.T!==null?yd():mu()}function Fy(){if(In===0)if((Vt&536870912)===0||zt){var e=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),In=e}else In=536870912;return e=wn.current,e!==null&&(e.flags|=32),In}function gn(e,n,s){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),jr(e,Vt,In,!1)),_s(e,s),((Kt&2)===0||e!==re)&&(e===re&&((Kt&2)===0&&(Gs|=s),ge===4&&jr(e,Vt,In,!1)),Ni(e))}function Ky(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),h=o?X1(e,n):dd(e,n,!0),f=o;do{if(h===0){ka&&!o&&jr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!Q1(s)){h=dd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=hl;var R=E.current.memoizedState.isDehydrated;if(R&&(Pa(E,g).flags|=256),g=dd(E,g,!1),g!==2){if(ad&&!R){E.errorRecoveryDisabledLanes|=f,Gs|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),jr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:jr(o,n,In,!Lr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=hc+300-on(),10<h)){if(jr(o,n,In,!Lr),hi(o,0,!0)!==0)break t;nr=n,o.timeoutHandle=A_(Qy.bind(null,o,s,pn,dc,ld,n,In,Gs,La,Lr,f,"Throttled",-0,0),h);break t}Qy(o,s,pn,dc,ld,n,In,Gs,La,Lr,f,null,-0,0)}}break}while(!0);Ni(e)}function Qy(e,n,s,o,h,f,g,E,R,z,G,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},zy(n,f,Y);var at=(f&62914560)===f?hc-on():(f&4194048)===f?Hy-on():0;if(at=xS(Y,at),at!==null){nr=f,e.cancelPendingCommit=at(e_.bind(null,e,n,f,s,o,h,g,E,R,G,Y,null,B,H)),jr(e,f,g,!z);return}}e_(e,n,f,s,o,h,g,E,R)}function Q1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function jr(e,n,s,o){n&=~od,n&=~Gs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&vs(e,s,n)}function mc(){return(Kt&6)===0?(dl(0),!1):!0}function fd(){if(Dt!==null){if(Jt===0)var e=Dt.return;else e=Dt,Fi=ks=null,If(e),Ia=null,Xo=0,e=Dt;for(;e!==null;)by(e.alternate,e),e=e.return;Dt=null}}function Pa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,dS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),nr=0,fd(),re=e,Dt=s=Hi(e.current,null),Vt=n,Jt=0,Cn=null,Lr=!1,ka=Yn(e,n),ad=!1,La=In=od=Gs=Ur=ge=0,pn=hl=null,ld=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return er=n,ku(),s}function Yy(e,n){Rt=null,L.H=il,n===Ca||n===Hu?(n=cg(),Jt=3):n===gf?(n=cg(),Jt=4):Jt=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Dt===null&&(ge=1,ic(e,Un(n,e.current)))}function Xy(){var e=wn.current;return e===null?!0:(Vt&4194048)===Vt?Bn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Bn:!1}function $y(){var e=L.H;return L.H=il,e===null?il:e}function Jy(){var e=L.A;return L.A=F1,e}function pc(){ge=4,Lr||(Vt&4194048)!==Vt&&wn.current!==null||(ka=!0),(Ur&134217727)===0&&(Gs&134217727)===0||re===null||jr(re,Vt,In,!1)}function dd(e,n,s){var o=Kt;Kt|=2;var h=$y(),f=Jy();(re!==e||Vt!==n)&&(dc=null,Pa(e,n)),n=!1;var g=ge;t:do try{if(Jt!==0&&Dt!==null){var E=Dt,R=Cn;switch(Jt){case 8:fd(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Jt;if(Jt=0,Cn=null,za(e,E,R,z),s&&ka){g=0;break t}break;default:z=Jt,Jt=0,Cn=null,za(e,E,R,z)}}Y1(),g=ge;break}catch(G){Yy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Fi=ks=null,Kt=o,L.H=h,L.A=f,Dt===null&&(re=null,Vt=0,ku()),g}function Y1(){for(;Dt!==null;)Zy(Dt)}function X1(e,n){var s=Kt;Kt|=2;var o=$y(),h=Jy();re!==e||Vt!==n?(dc=null,fc=on()+500,Pa(e,n)):ka=Yn(e,n);t:do try{if(Jt!==0&&Dt!==null){n=Dt;var f=Cn;e:switch(Jt){case 1:Jt=0,Cn=null,za(e,n,f,1);break;case 2:case 9:if(lg(f)){Jt=0,Cn=null,Wy(n);break}n=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Ni(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:lg(f)?(Jt=0,Cn=null,Wy(n)):(Jt=0,Cn=null,za(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?P_(g):E.stateNode.complete){Jt=0,Cn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,gc(z)):Dt=null}break e}}Jt=0,Cn=null,za(e,n,f,5);break;case 6:Jt=0,Cn=null,za(e,n,f,6);break;case 8:fd(),ge=6;break t;default:throw Error(a(462))}}$1();break}catch(G){Yy(e,G)}while(!0);return Fi=ks=null,L.H=o,L.A=h,Kt=s,Dt!==null?0:(re=null,Vt=0,ku(),ge)}function $1(){for(;Dt!==null&&!qh();)Zy(Dt)}function Zy(e){var n=Sy(e.alternate,e,er);e.memoizedProps=e.pendingProps,n===null?gc(e):Dt=n}function Wy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=gy(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=gy(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:If(n);default:by(s,n),n=Dt=Jp(n,er),n=Sy(s,n,er)}e.memoizedProps=e.pendingProps,n===null?gc(e):Dt=n}function za(e,n,s,o){Fi=ks=null,If(n),Ia=null,Xo=0;var h=n.return;try{if(P1(e,h,n,s,Vt)){ge=1,ic(e,Un(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ge=1,ic(e,Un(s,e.current)),Dt=null;return}n.flags&32768?(zt||o===1?e=!0:ka||(Vt&536870912)!==0?e=!1:(Lr=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,e)):gc(n)}function gc(e){var n=e;do{if((n.flags&32768)!==0){t_(n,Lr);return}e=n.return;var s=B1(n.alternate,n,er);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ge===0&&(ge=5)}function t_(e,n){do{var s=q1(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);ge=6,Dt=null}function e_(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do yc();while(Ue!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Fh(e,s,f,g,E,R),e===re&&(Dt=re=null,Vt=0),Ua=n,zr=e,nr=s,ud=f,cd=h,Gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tS(gr,function(){return a_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=Z.p,Z.p=2,g=Kt,Kt|=4;try{H1(e,n,s)}finally{Kt=g,Z.p=h,L.T=o}}Ue=1,n_(),i_(),r_()}}function n_(){if(Ue===1){Ue=0;var e=zr,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var o=Z.p;Z.p=2;var h=Kt;Kt|=4;try{Ly(n,e);var f=wd,g=qp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Bp(E.ownerDocument.documentElement,E)){if(R!==null&&Xh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),at=E.textContent.length,dt=Math.min(R.start,at),ie=R.end===void 0?dt:Math.min(R.end,at);!H.extend&&dt>ie&&(g=ie,ie=dt,dt=g);var M=jp(E,dt),D=jp(E,ie);if(M&&D&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(M.node,M.offset),H.removeAllRanges(),dt>ie?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Nc=!!bd,wd=bd=null}finally{Kt=h,Z.p=o,L.T=s}}e.current=n,Ue=2}}function i_(){if(Ue===2){Ue=0;var e=zr,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var o=Z.p;Z.p=2;var h=Kt;Kt|=4;try{xy(e,n.alternate,n)}finally{Kt=h,Z.p=o,L.T=s}}Ue=3}}function r_(){if(Ue===4||Ue===3){Ue=0,ou();var e=zr,n=Ua,s=nr,o=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ua=zr=null,s_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pr=null),zi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,h=Z.p,Z.p=2,L.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,Z.p=h}}(nr&3)!==0&&yc(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===hd?fl++:(fl=0,hd=e):fl=0,dl(0)}}function s_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function yc(){return n_(),i_(),r_(),a_()}function a_(){if(Ue!==5)return!1;var e=zr,n=ud;ud=0;var s=zi(nr),o=L.T,h=Z.p;try{Z.p=32>s?32:s,L.T=null,s=cd,cd=null;var f=zr,g=nr;if(Ue=0,Ua=zr=null,nr=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,By(f.current),Py(f,f.current,g,s),Kt=E,dl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{Z.p=h,L.T=o,s_(e,n)}}function o_(e,n,s){n=Un(s,n),n=Hf(e.stateNode,n,2),e=Or(e,n,2),e!==null&&(_s(e,2),Ni(e))}function Zt(e,n,s){if(e.tag===3)o_(e,e,s);else for(;n!==null;){if(n.tag===3){o_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pr===null||!Pr.has(o))){e=Un(s,e),s=ly(2),o=Or(n,s,2),o!==null&&(uy(s,o,n,e),_s(o,2),Ni(o));break}}n=n.return}}function md(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new K1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ad=!0,h.add(s),e=J1.bind(null,e,n,s),n.then(e,e))}function J1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Vt&s)===s&&(ge===4||ge===3&&(Vt&62914560)===Vt&&300>on()-hc?(Kt&2)===0&&Pa(e,0):od|=s,La===Vt&&(La=0)),Ni(e)}function l_(e,n){n===0&&(n=du()),e=Os(e,n),e!==null&&(_s(e,n),Ni(e))}function Z1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),l_(e,s)}function W1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),l_(e,s)}function tS(e,n){return Le(e,n)}var _c=null,ja=null,pd=!1,vc=!1,gd=!1,Br=0;function Ni(e){e!==ja&&e.next===null&&(ja===null?_c=ja=e:ja=ja.next=e),vc=!0,pd||(pd=!0,nS())}function dl(e,n){if(!gd&&vc){gd=!0;do for(var s=!1,o=_c;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,f_(o,f))}else f=Vt,f=hi(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(s=!0,f_(o,f));o=o.next}while(s);gd=!1}}function eS(){u_()}function u_(){vc=pd=!1;var e=0;Br!==0&&fS()&&(e=Br);for(var n=on(),s=null,o=_c;o!==null;){var h=o.next,f=c_(o,n);f===0?(o.next=null,s===null?_c=h:s.next=h,h===null&&(ja=s)):(s=o,(e!==0||(f&3)!==0)&&(vc=!0)),o=h}Ue!==0&&Ue!==5||dl(e),Br!==0&&(Br=0)}function c_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Gh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,s=Vt,s=hi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&pr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&pr(o),zi(s)){case 2:case 8:s=Ao;break;case 32:s=gr;break;case 268435456:s=lu;break;default:s=gr}return o=h_.bind(null,e),s=Le(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&pr(o),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(yc()&&e.callbackNode!==s)return null;var o=Vt;return o=hi(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ky(e,o,n),c_(e,on()),e.callbackNode!=null&&e.callbackNode===s?h_.bind(null,e):null)}function f_(e,n){if(yc())return null;Ky(e,n,!0)}function nS(){mS(function(){(Kt&6)!==0?Le(So,eS):u_()})}function yd(){if(Br===0){var e=wa;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Br=e}return Br}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function m_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function iS(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=d_((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?d_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Br!==0){var R=g?m_(h,g):new FormData(h);Uf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?m_(h,g):new FormData(h),Uf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],rS=vd.toLowerCase(),sS=vd[0].toUpperCase()+vd.slice(1);ni(rS,"on"+sS)}ni(Fp,"onAnimationEnd"),ni(Kp,"onAnimationIteration"),ni(Qp,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(T1,"onTransitionRun"),ni(S1,"onTransitionStart"),ni(A1,"onTransitionCancel"),ni(Yp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function p_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Mu(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Mu(G)}h.currentTarget=null,f=R}}}}function xt(e,n){var s=n[sa];s===void 0&&(s=n[sa]=new Set);var o=e+"__bubble";s.has(o)||(g_(n,e,2,!1),s.add(o))}function Ed(e,n,s){var o=0;n&&(o|=4),g_(s,e,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[Ec]){e[Ec]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(aS.has(s)||Ed(s,!1,e),Ed(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,Ed("selectionchange",!1,n))}}function g_(e,n,s,o){switch(F_(n)){case 2:var h=MS;break;case 8:h=kS;break;default:h=Ld}s=h.bind(null,n,s,e),h=void 0,!bs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Sd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=pi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Sr(function(){var z=f,G=Vn(s),Y=[];t:{var B=Xp.get(e);if(B!==void 0){var H=Si,at=e;switch(e){case"keypress":if(Rs(s)===0)break t;case"keydown":case"keyup":H=xu;break;case"focusin":at="focus",H=Is;break;case"focusout":at="blur",H=Is;break;case"beforeblur":case"afterblur":H=Is;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fp:case Kp:case Qp:H=bu;break;case Yp:H=T;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qi;break;case"toggle":case"beforetoggle":H=wt}var dt=(n&4)!==0,ie=!dt&&(e==="scroll"||e==="scrollend"),M=dt?B!==null?B+"Capture":null:B;dt=[];for(var D=z,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||M===null||(F=Zn(D,M),F!=null&&dt.push(pl(D,F,P))),ie)break;D=D.return}0<dt.length&&(B=new H(B,at,null,s,G),Y.push({event:B,listeners:dt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==ko&&(at=s.relatedTarget||s.fromElement)&&(pi(at)||at[di]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=z,at=at?pi(at):null,at!==null&&(ie=c(at),dt=at.tag,at!==ie||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(dt=zo,F="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=qi,F="onPointerLeave",M="onPointerEnter",D="pointer"),ie=H==null?B:Tn(H),P=at==null?B:Tn(at),B=new dt(F,D+"leave",H,s,G),B.target=ie,B.relatedTarget=P,F=null,pi(G)===z&&(dt=new dt(M,D+"enter",at,s,G),dt.target=P,dt.relatedTarget=ie,F=dt),ie=F,H&&at)e:{for(dt=oS,M=H,D=at,P=0,F=M;F;F=dt(F))P++;F=0;for(var ct=D;ct;ct=dt(ct))F++;for(;0<P-F;)M=dt(M),P--;for(;0<F-P;)D=dt(D),F--;for(;P--;){if(M===D||D!==null&&M===D.alternate){dt=M;break e}M=dt(M),D=dt(D)}dt=null}else dt=null;H!==null&&y_(Y,B,H,dt,!1),at!==null&&ie!==null&&y_(Y,ie,at,dt,!0)}}t:{if(B=z?Tn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qt=Mp;else if(Op(B))if(kp)qt=_1;else{qt=g1;var ut=p1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ua(z.elementType)&&(qt=Mp):qt=y1;if(qt&&(qt=qt(e,z))){Vp(Y,qt,s,G);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Oo(B,"number",B.value)}switch(ut=z?Tn(z):window,e){case"focusin":(Op(ut)||ut.contentEditable==="true")&&(ya=ut,$h=z,Go=null);break;case"focusout":Go=$h=ya=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Hp(Y,s,G);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":Hp(Y,s,G)}var Ct;if(Ft)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ga?Ns(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(wi&&s.locale!=="ko"&&(ga||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ga&&(Ct=Uo()):(Ti=G,Lo="value"in Ti?Ti.value:Ti.textContent,ga=!0)),ut=Tc(z,Mt),0<ut.length&&(Mt=new bi(Mt,e,null,s,G),Y.push({event:Mt,listeners:ut}),Ct?Mt.data=Ct:(Ct=pa(s),Ct!==null&&(Mt.data=Ct)))),(Ct=kn?h1(e,s):f1(e,s))&&(Mt=Tc(z,"onBeforeInput"),0<Mt.length&&(ut=new bi("onBeforeInput","beforeinput",null,s,G),Y.push({event:ut,listeners:Mt}),ut.data=Ct)),iS(Y,e,z,s,G)}p_(Y,n)})}function pl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Tc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&o.unshift(pl(e,h,f)),h=Zn(e,n),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function oS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Zn(s,f),z!=null&&g.unshift(pl(s,z,R))):h||(z=Zn(s,f),z!=null&&g.push(pl(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var lS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function __(e){return(typeof e=="string"?e:""+e).replace(lS,`
`).replace(uS,"")}function v_(e,n){return n=__(n),__(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(e,""+o);break;case"className":Sn(e,"class",o);break;case"tabIndex":Sn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,s,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){Sn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Tu.get(s)||s,oa(e,s,o))}}function Ad(e,n,s,o,h,f){switch(s){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):oa(e,s,o)}}}function Xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,o,G,s,null)}}_u(e,f,E,R,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?_r(e,!!o,n,!1):s!=null&&_r(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,s,null)}vr(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,R,o,s,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)xt(ml[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,z,o,s,null)}return;default:if(ua(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&Ad(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,n,E,o,s,null))}function cS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,Y)}}for(var B in o){var H=o[B];if(Y=s[B],o.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ne(e,n,B,H,o,Y)}}la(e,g,E,R,z,G,f,h);return;case"select":H=g=E=B=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,s=g,o=H,B!=null?_r(e,!!s,B,!1):!!o!=!!s&&(n!=null?_r(e,!!s,n,!0):_r(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}vu(e,B,H);return;case"option":for(var at in s)B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:ne(e,n,at,null,o,B));for(R in o)B=o[R],H=s[R],o.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null)&&(R==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ne(e,n,R,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)B=s[dt],s.hasOwnProperty(dt)&&B!=null&&!o.hasOwnProperty(dt)&&ne(e,n,dt,null,o,B);for(z in o)if(B=o[z],H=s[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ne(e,n,z,B,o,H)}return;default:if(ua(n)){for(var ie in s)B=s[ie],s.hasOwnProperty(ie)&&B!==void 0&&!o.hasOwnProperty(ie)&&Ad(e,n,ie,void 0,o,B);for(G in o)B=o[G],H=s[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Ad(e,n,G,B,o,H);return}}for(var M in s)B=s[M],s.hasOwnProperty(M)&&B!=null&&!o.hasOwnProperty(M)&&ne(e,n,M,null,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B==null&&H==null||ne(e,n,Y,B,o,H)}function E_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&E_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&E_(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bd=null,wd=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function fS(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(pS)}:A_;function pS(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function w_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ga(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&gl(e.ownerDocument.body);s=h}while(s);Ga(n)}function R_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Id(s),aa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function gS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function yS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qn(e.nextSibling),e===null))return null;return e}function C_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _S(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var xd=null;function I_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return qn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function D_(e,n,s){switch(n=Sc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var Hn=new Map,x_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ir=Z.d;Z.d={f:vS,r:ES,D:TS,C:SS,L:AS,m:bS,X:RS,S:wS,M:CS};function vS(){var e=ir.f(),n=mc();return e||n}function ES(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Yg(n):ir.r(e)}var Ba=typeof document>"u"?null:document;function O_(e,n,s){var o=Ba;if(o&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),x_.has(h)||(x_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ie(n),o.head.appendChild(n)))}}function TS(e){ir.D(e),O_("dns-prefetch",e,null)}function SS(e,n){ir.C(e,n),O_("preconnect",e,n)}function AS(e,n,s){ir.L(e,n,s);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+cn(s.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=Ha(e)}Hn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Hn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),Xe(n,"link",e),Ie(n),o.head.appendChild(n)))}}function bS(e,n){ir.m(e,n);var s=Ba;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!Hn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Hn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_l(f)))return}o=s.createElement("link"),Xe(o,"link",e),Ie(o),s.head.appendChild(o)}}}function wS(e,n,s){ir.S(e,n,s);var o=Ba;if(o&&e){var h=gi(o).hoistableStyles,f=qa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(yl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Hn.get(f))&&Od(e,s);var R=g=o.createElement("link");Ie(R),Xe(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function RS(e,n){ir.X(e,n);var s=Ba;if(s&&e){var o=gi(s).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=b({src:e,async:!0},n),(n=Hn.get(h))&&Vd(e,n),f=s.createElement("script"),Ie(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function CS(e,n){ir.M(e,n);var s=Ba;if(s&&e){var o=gi(s).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&Vd(e,n),f=s.createElement("script"),Ie(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V_(e,n,s,o){var h=(h=bt.current)?Ac(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qa(s.href),s=gi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=qa(s.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(yl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(e,s),f||IS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(s),s=gi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qa(e){return'href="'+cn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function IS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",s),Ie(n),e.head.appendChild(n))}function Ha(e){return'[src="'+cn(e)+'"]'}function _l(e){return"script[async]"+e}function k_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+cn(s.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),Xe(o,"style",h),bc(o,s.precedence,e),n.instance=o;case"stylesheet":h=qa(s.href);var f=e.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=M_(s),(h=Hn.get(h))&&Od(o,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),n.state.loading|=4,bc(f,s.precedence,e),n.instance=f;case"script":return f=Ha(s.src),(h=e.querySelector(_l(f)))?(n.instance=h,Ie(h),h):(o=s,(h=Hn.get(f))&&(o=b({},s),Vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,s.precedence,e));return n.instance}function bc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var wc=null;function L_(e,n,s){if(wc===null){var o=new Map,h=wc=new Map;h.set(s,o)}else h=wc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function U_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function NS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function DS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qa(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ie(f);return}f=n.ownerDocument||n,o=M_(o),(h=Hn.get(h))&&Od(o,h),f=f.createElement("link"),Ie(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Rc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Md=0;function xS(e,n){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Md===0&&(Md=62500*hS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function Ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,n.forEach(OS,e),Cc=null,Rc.call(e))}function OS(e,n){if(!(n.state.loading&4)){var s=Cc.get(e);if(s)var o=s.get(null);else{s=new Map,Cc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vl={$$typeof:vt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function VS(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function z_(e,n,s,o,h,f,g,E,R,z,G,Y){return e=new VS(e,n,s,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=df(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},yf(f),e}function j_(e){return e?(e=Ea,e):Ea}function B_(e,n,s,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=xr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Or(e,o,n),s!==null&&(gn(s,e,n),Jo(s,e,n))}function q_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function kd(e,n){q_(e,n),(e=e.alternate)&&q_(e,n)}function H_(e){if(e.tag===13||e.tag===31){var n=Os(e,67108864);n!==null&&gn(n,e,67108864),kd(e,67108864)}}function G_(e){if(e.tag===13||e.tag===31){var n=Nn();n=Es(n);var s=Os(e,n);s!==null&&gn(s,e,n),kd(e,n)}}var Nc=!0;function MS(e,n,s,o){var h=L.T;L.T=null;var f=Z.p;try{Z.p=2,Ld(e,n,s,o)}finally{Z.p=f,L.T=h}}function kS(e,n,s,o){var h=L.T;L.T=null;var f=Z.p;try{Z.p=8,Ld(e,n,s,o)}finally{Z.p=f,L.T=h}}function Ld(e,n,s,o){if(Nc){var h=Ud(o);if(h===null)Sd(e,n,o,Dc,s),K_(e,o);else if(US(h,e,n,s,o))o.stopPropagation();else if(K_(e,o),n&4&&-1<LS.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ci(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-_e(g);E.entanglements[1]|=R,g&=~R}Ni(f),(Kt&6)===0&&(fc=on()+500,dl(0))}}break;case 31:case 13:E=Os(f,2),E!==null&&gn(E,f,2),mc(),kd(f,2)}if(f=Ud(o),f===null&&Sd(e,n,o,Dc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(e,n,o,null,s)}}function Ud(e){return e=Vn(e),Pd(e)}var Dc=null;function Pd(e){if(Dc=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Dc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case So:return 2;case Ao:return 8;case gr:case Hh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var zd=!1,Hr=null,Gr=null,Fr=null,El=new Map,Tl=new Map,Kr=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(e,n){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function Sl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&H_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function US(e,n,s,o,h){switch(n){case"focusin":return Hr=Sl(Hr,e,n,s,o,h),!0;case"dragenter":return Gr=Sl(Gr,e,n,s,o,h),!0;case"mouseover":return Fr=Sl(Fr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Sl(El.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Sl(Tl.get(f)||null,e,n,s,o,h)),!0}return!1}function Q_(e){var n=pi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){G_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){G_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);ko=o,s.target.dispatchEvent(o),ko=null}else return n=On(s),n!==null&&H_(n),e.blockedOn=s,!1;n.shift()}return!0}function Y_(e,n,s){xc(e)&&s.delete(n)}function PS(){zd=!1,Hr!==null&&xc(Hr)&&(Hr=null),Gr!==null&&xc(Gr)&&(Gr=null),Fr!==null&&xc(Fr)&&(Fr=null),El.forEach(Y_),Tl.forEach(Y_)}function Oc(e,n){e.blockedOn===n&&(e.blockedOn=null,zd||(zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,PS)))}var Vc=null;function X_(e){Vc!==e&&(Vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Pd(o||s)===null)continue;break}var f=On(s);f!==null&&(e.splice(n,3),n-=3,Uf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ga(e){function n(R){return Oc(R,e)}Hr!==null&&Oc(Hr,e),Gr!==null&&Oc(Gr,e),Fr!==null&&Oc(Fr,e),El.forEach(n),Tl.forEach(n);for(var s=0;s<Kr.length;s++){var o=Kr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Kr.length&&(s=Kr[0],s.blockedOn===null);)Q_(s),s.blockedOn===null&&Kr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[je]||null;if(typeof f=="function")g||X_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(Pd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),X_(s)}}}function $_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(e){this._internalRoot=e}Mc.prototype.render=jd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Nn();B_(s,o,e,n,null,null)},Mc.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;B_(e.current,2,null,e,null,null),mc(),n[di]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=mu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Kr.length&&n!==0&&n<Kr[s].priority;s++);Kr.splice(s,0,e),s===0&&Q_(e)}};var J_=t.version;if(J_!=="19.2.4")throw Error(a(527,J_,"19.2.4"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var zS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Qn=kc.inject(zS),Ge=kc}catch{}}return bl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=ry,f=sy,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=z_(e,1,!1,null,null,s,o,null,h,f,g,$_),e[di]=n.current,Td(e),new jd(n)},bl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=ry,g=sy,E=ay,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=z_(e,1,!0,n,s??null,o,h,R,f,g,E,$_),n.context=j_(null),s=n.current,o=Nn(),o=Es(o),h=xr(o),h.callback=null,Or(s,h,o),s=o,n.current.lanes=s,_s(n,s),Ni(n),e[di]=n.current,Td(e),new Mc(n)},bl.version="19.2.4",bl}var ov;function XS(){if(ov)return Hd.exports;ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=YS(),Hd.exports}var $S=XS();const JS=()=>{};var lv={};const B0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},ZS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,K=y&63;_||(K=64,d||(x=64)),a.push(i[S],i[b],i[x],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(B0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ZS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new WS;const x=c<<2|p>>4;if(a.push(x),y!==64){const K=p<<4&240|y>>2;if(a.push(K),b!==64){const W=y<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(r){const t=B0(r);return q0.encodeByteArray(t,!0)},eh=function(r){return tA(r).replace(/\./g,"")},H0=function(r){try{return q0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nA=()=>eA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof lv>"u")return;const r=lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&H0(r[1]);return t&&JSON.parse(t)},Eh=()=>{try{return JS()||nA()||iA()||rA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},G0=r=>Eh()?.emulatorHosts?.[r],sA=r=>{const t=G0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},F0=()=>Eh()?.config,K0=r=>Eh()?.[`_${r}`];class aA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q0(r){return(await fetch(r,{credentials:"include"})).ok}function oA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const Vl={};function lA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?r.emulator.push(t):r.prod.push(t);return r}function uA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let uv=!1;function Y0(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Vl[r]===t||Vl[r]||uv)return;Vl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=lA().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,K){x.setAttribute("width","24"),x.setAttribute("id",K),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{uv=!0,d()},x}function S(x,K){x.setAttribute("id",K),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=uA(a),K=i("text"),W=document.getElementById(K)||document.createElement("span"),it=i("learnmore"),nt=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),At=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const vt=x.element;p(vt),S(nt,it);const Gt=y();_(At,ft),vt.append(At,W,nt,Gt),document.body.appendChild(vt)}c?(W.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function hA(){const r=Eh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pA(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gA(){return!hA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const vA="FirebaseError";class mr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=vA,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?EA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new mr(l,p,a)}}function EA(r,t){return r.replace(TA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const TA=/\{\$([^}]+)}/g;function SA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function lr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(cv(c)&&cv(d)){if(!lr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function cv(r){return r!==null&&typeof r=="object"}function $l(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Cl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Il(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function AA(r,t){const i=new bA(r,t);return i.subscribe.bind(i)}class bA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Qd(){}function Ze(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fs="[DEFAULT]";class RA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new aA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IA(t))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fs){return this.instances.has(t)}getOptions(t=Fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fs){return this.component?this.component.multipleInstances?t:Fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(r){return r===Fs?void 0:r}function IA(r){return r.instantiationMode==="EAGER"}class NA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new RA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const DA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},xA=kt.INFO,OA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},VA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=OA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=xA,this._logHandler=VA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const MA=(r,t)=>t.some(i=>r instanceof i);let hv,fv;function kA(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X0=new WeakMap,um=new WeakMap,$0=new WeakMap,Yd=new WeakMap,Um=new WeakMap;function UA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ts(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&X0.set(i,r)}).catch(()=>{}),Um.set(t,r),t}function PA(r){if(um.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});um.set(r,t)}let cm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return um.get(r);if(t==="objectStoreNames")return r.objectStoreNames||$0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ts(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function zA(r){cm=r(cm)}function jA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Xd(this),t,...i);return $0.set(a,t.sort?t.sort():[t]),ts(a)}:LA().includes(r)?function(...t){return r.apply(Xd(this),t),ts(X0.get(this))}:function(...t){return ts(r.apply(Xd(this),t))}}function BA(r){return typeof r=="function"?jA(r):(r instanceof IDBTransaction&&PA(r),MA(r,kA())?new Proxy(r,cm):r)}function ts(r){if(r instanceof IDBRequest)return UA(r);if(Yd.has(r))return Yd.get(r);const t=BA(r);return t!==r&&(Yd.set(r,t),Um.set(t,r)),t}const Xd=r=>Um.get(r);function qA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=ts(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ts(d.result),_.oldVersion,_.newVersion,ts(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const HA=["get","getKey","getAll","getAllKeys","count"],GA=["put","add","delete","clear"],$d=new Map;function dv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=GA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||HA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return $d.set(t,c),c}zA(r=>({...r,get:(t,i,a)=>dv(t,i)||r.get(t,i,a),has:(t,i)=>!!dv(t,i)||r.has(t,i)}));class FA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function KA(r){return r.getComponent()?.type==="VERSION"}const hm="@firebase/app",mv="0.14.8";const ur=new Lm("@firebase/app"),QA="@firebase/app-compat",YA="@firebase/analytics-compat",XA="@firebase/analytics",$A="@firebase/app-check-compat",JA="@firebase/app-check",ZA="@firebase/auth",WA="@firebase/auth-compat",tb="@firebase/database",eb="@firebase/data-connect",nb="@firebase/database-compat",ib="@firebase/functions",rb="@firebase/functions-compat",sb="@firebase/installations",ab="@firebase/installations-compat",ob="@firebase/messaging",lb="@firebase/messaging-compat",ub="@firebase/performance",cb="@firebase/performance-compat",hb="@firebase/remote-config",fb="@firebase/remote-config-compat",db="@firebase/storage",mb="@firebase/storage-compat",pb="@firebase/firestore",gb="@firebase/ai",yb="@firebase/firestore-compat",_b="firebase",vb="12.9.0";const fm="[DEFAULT]",Eb={[hm]:"fire-core",[QA]:"fire-core-compat",[XA]:"fire-analytics",[YA]:"fire-analytics-compat",[JA]:"fire-app-check",[$A]:"fire-app-check-compat",[ZA]:"fire-auth",[WA]:"fire-auth-compat",[tb]:"fire-rtdb",[eb]:"fire-data-connect",[nb]:"fire-rtdb-compat",[ib]:"fire-fn",[rb]:"fire-fn-compat",[sb]:"fire-iid",[ab]:"fire-iid-compat",[ob]:"fire-fcm",[lb]:"fire-fcm-compat",[ub]:"fire-perf",[cb]:"fire-perf-compat",[hb]:"fire-rc",[fb]:"fire-rc-compat",[db]:"fire-gcs",[mb]:"fire-gcs-compat",[pb]:"fire-fst",[yb]:"fire-fst-compat",[gb]:"fire-vertex","fire-js":"fire-js",[_b]:"fire-js-all"};const zl=new Map,Tb=new Map,dm=new Map;function pv(r,t){try{r.container.addComponent(t)}catch(i){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function no(r){const t=r.name;if(dm.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,r);for(const i of zl.values())pv(i,r);for(const i of Tb.values())pv(i,r);return!0}function Pm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Gn(r){return r==null?!1:r.settings!==void 0}const Sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Xl("app","Firebase",Sb);class Ab{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const ho=vb;function J0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:fm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw es.create("bad-app-name",{appName:String(l)});if(i||(i=F0()),!i)throw es.create("no-options");const c=zl.get(l);if(c){if(lr(i,c.options)&&lr(a,c.config))return c;throw es.create("duplicate-app",{appName:l})}const d=new NA(l);for(const _ of dm.values())d.addComponent(_);const p=new Ab(i,a,d);return zl.set(l,p),p}function zm(r=fm){const t=zl.get(r);if(!t&&r===fm&&F0())return J0();if(!t)throw es.create("no-app",{appName:r});return t}function bb(){return Array.from(zl.values())}function ns(r,t,i){let a=Eb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(d.join(" "));return}no(new Xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const wb="firebase-heartbeat-database",Rb=1,jl="firebase-heartbeat-store";let Jd=null;function Z0(){return Jd||(Jd=qA(wb,Rb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function Cb(r){try{const i=(await Z0()).transaction(jl),a=await i.objectStore(jl).get(W0(r));return await i.done,a}catch(t){if(t instanceof mr)ur.warn(t.message);else{const i=es.create("idb-get",{originalErrorMessage:t?.message});ur.warn(i.message)}}}async function gv(r,t){try{const a=(await Z0()).transaction(jl,"readwrite");await a.objectStore(jl).put(t,W0(r)),await a.done}catch(i){if(i instanceof mr)ur.warn(i.message);else{const a=es.create("idb-set",{originalErrorMessage:i?.message});ur.warn(a.message)}}}function W0(r){return`${r.name}!${r.options.appId}`}const Ib=1024,Nb=30;class Db{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ob(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Nb){const l=Vb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ur.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yv(),{heartbeatsToSend:i,unsentEntries:a}=xb(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ur.warn(t),""}}}function yv(){return new Date().toISOString().substring(0,10)}function xb(r,t=Ib){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_v(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_v(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ob{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Cb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function _v(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function Vb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Mb(r){no(new Xs("platform-logger",t=>new FA(t),"PRIVATE")),no(new Xs("heartbeat",t=>new Db(t),"PRIVATE")),ns(hm,mv,r),ns(hm,mv,"esm2020"),ns("fire-js","")}Mb("");var kb="firebase",Lb="12.9.0";ns(kb,Lb,"app");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,tE;(function(){var r;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,k){for(var w=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)w[mt-2]=arguments[mt];return A.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],N=C.g[2];let k=C.g[3],w;w=A+(k^I&(N^k))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(k^I&(N^k))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(k^I&(N^k))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(k^I&(N^k))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(N^k&(I^N))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(I^N))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(I^N))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(I^N))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(I^N^k)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^k)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^k)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^k)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(N^(I|~k))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~k))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~k))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~k))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(V[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<A;)if(V[N++]=C[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;V&&k==A||(I[N]=k,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return nt(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return nt(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=b;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var b=_(0),x=_(1),K=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-nt(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(it(this))return"-"+nt(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const N=Gt(I,A).g;I=ft(I,N.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,W(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function it(C){return C.h==-1}r.l=function(C){return C=ft(this,C),it(C)?-1:W(C)?0:1};function nt(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(x)}r.abs=function(){return it(this)?nt(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let k=V+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,k&=65535,w&=65535,I[N]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,A){return C.add(nt(A))}r.j=function(C){if(W(this)||W(C))return b;if(it(this))return it(C)?nt(this).j(nt(C)):nt(nt(this).j(C));if(it(C))return nt(this.j(nt(C)));if(this.l(K)<0&&C.l(K)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const k=this.i(V)>>>16,w=this.i(V)&65535,mt=C.i(N)>>>16,me=C.i(N)&65535;I[2*V+2*N]+=w*me,At(I,2*V+2*N),I[2*V+2*N+1]+=k*me,At(I,2*V+2*N+1),I[2*V+2*N+1]+=w*mt,At(I,2*V+2*N+1),I[2*V+2*N+2]+=k*mt,At(I,2*V+2*N+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function At(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function vt(C,A){this.g=C,this.h=A}function Gt(C,A){if(W(A))throw Error("division by zero");if(W(C))return new vt(b,b);if(it(C))return A=Gt(nt(C),A),new vt(nt(A.g),nt(A.h));if(it(A))return A=Gt(C,nt(A)),new vt(nt(A.g),A.h);if(C.g.length>30){if(it(C)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=A;V.l(C)<=0;)I=se(I),V=se(V);var N=It(I,1),k=It(V,1);for(V=It(V,2),I=It(I,2);!W(V);){var w=k.add(V);w.l(C)<=0&&(N=N.add(I),k=w),V=It(V,1),I=It(I,1)}return A=ft(C,N.j(A)),new vt(N,A)}for(N=b;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(I),w=k.j(A);it(w)||w.l(C)>0;)I-=V,k=y(I),w=k.j(A);W(k)&&(k=x),N=N.add(k),C=ft(C,w)}return new vt(N,C)}r.B=function(C){return Gt(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function se(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function It(C,A){const I=A>>5;A%=32;const V=C.g.length-I,N=[];for(let k=0;k<V;k++)N[k]=A>0?C.i(k+I)>>>A|C.i(k+I+1)<<32-A:C.i(k+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,tE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,is=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eE,Nl,nE,Gc,mm,iE,rE,sE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[U].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=U[tt]}else u.push(U)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,v){const T=vt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var vt=new it(()=>new Gt,u=>u.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,It=!1,C=new At,A=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){nt(v)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function mt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(mt,N),mt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),L=0;function Z(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ot(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=bt(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new Z(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(lt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),X={};function pt(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)pt(u,m[q],v,T,U);return null}return v=To(v),u&&u[me]?u.J(m,v,p(T)?!!T.capture:!1,U):jt(u,m,v,!1,T,U)}function jt(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let wt=ps(u);if(wt||(u[Nt]=wt=new rt(u)),v=wt.add(m,v,T,tt,q),v.proxy)return v;if(T=Wt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Xt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wt(){function u(v){return m.call(u.src,u.listener,v)}const m=li;return u}function Qt(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qt(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=To(v),u&&u[me]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=bt(m,v,T,U),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,U)),(v=u>-1?m[u]:null)&&ye(v))}function ye(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Xt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ps(m))?(_t(v,u),v.h==0&&(v.src=null,m[Nt]=null)):lt(u)}}}function Xt(u){return u in X?X[u]:X[u]="on"+u}function li(u,m){if(u.da)u=!0;else{m=new mt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ye(u),u=v.call(T,m)}return u}function ps(u){return u=u[Nt],u instanceof rt?u:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(u){return typeof u=="function"?u:(u[Eo]||(u[Eo]=function(m){return u.handleEvent(m)}),u[Eo])}function we(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}b(we,V),we.prototype[me]=!0,we.prototype.removeEventListener=function(u,m,v,T){Qt(this,u,m,v,T)};function Le(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),et(m,U)}U=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],U=pr(q,T,!0,m)&&U;if(q=m.g=u,U=pr(q,T,!0,m)&&U,U=pr(q,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],U=pr(q,T,!1,m)&&U}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)lt(v[T]);delete u.g[m],u.h--}}this.G=null},we.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},we.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function pr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,ve=tt.ha||tt.src;tt.fa&&_t(u.i,tt),U=wt.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function qh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ou(u){u.g=qh(()=>{u.g=null,u.i&&(u.i=!1,ou(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(u){V.call(this),this.h=u,this.g={}}b(gs,V);var So=[];function Ao(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ye(m)},u),u.g={}}gs.prototype.N=function(){gs.Z.N.call(this),Ao(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=d.JSON.stringify,Hh=d.JSON.parse,lu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function uu(){}function cu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}b(Ge,N);function xn(){N.call(this,"c")}b(xn,N);var _e={},hu=null;function ra(){return hu=hu||new we}_e.Ia="serverreachability";function fu(u){N.call(this,_e.Ia,u)}b(fu,N);function ui(u){const m=ra();Le(m,new fu(m))}_e.STAT_EVENT="statevent";function ys(u,m){N.call(this,_e.STAT_EVENT,u),this.stat=m}b(ys,N);function Re(u){const m=ra();Le(m,new ys(m,u))}_e.Ja="timingevent";function ci(u,m){N.call(this,_e.Ja,u),this.size=m}b(ci,N);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Gh(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var tt="",wt=q.split("&");for(let Ft=0;Ft<wt.length;Ft++){var ve=wt[Ft].split("=");if(ve.length>1){const he=ve[0];ve=ve[1];const kn=he.split("_");tt=kn.length>=2&&kn[1]=="type"?tt+(he+"="+ve+"&"):tt+(he+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function du(u,m,v,T,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+tt})}function fi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(u,v)+(T?" "+T:"")})}function _s(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Fh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return gr(q)}catch{return m}}var vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function Es(){}b(Es,uu),Es.prototype.g=function(){return new XMLHttpRequest},wo=new Es;function zi(u){return encodeURIComponent(String(u))}function mu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Xn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Ce={},je={};function di(u,m,v){u.M=1,u.A=Ts(Ne(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),mi(u),u.B=Ne(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new $n,u.g=Nu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new on(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(So[0]=U.toString()),U=So);for(let q=0;q<U.length;q++){const tt=pt(v,U[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Wn(this.g),ve=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||wt!=4||ve==7||(ve==8||Ft<=0?ui(3):ui(2)),pi(this);var m=this.g.ca();this.X=m;var v=Kh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Re(12),Tn(this),On(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=gu(this,v),he==je){wt==4&&(this.m=4,Re(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ce){this.m=4,Re(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,he,null),gi(this,he);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(tt),tt.P=!0,Re(11))}}else fi(this.i,this.l,v,null),gi(this,v);wt==4&&Tn(this),this.o&&!this.K&&(wt==4?wu(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Tn(this),On(this)}}}catch{}};function Kh(u){if(!pu(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let v="";const T=m.length,U=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),On(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function pu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?Ce:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}Xn.prototype.cancel=function(){this.K=!0,Tn(this)};function mi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_s(this.i,this.B),this.M!=2&&(ui(),Re(17)),Tn(this),this.m=2,On(this)):aa(this,this.T-u)};function On(u){u.j.I==0||u.K||wu(u.j,u)}function Tn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),br(v);else break t;Is(v),Re(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(y(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((u.L||v.g==u)&&ma(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ft=U[m];const he=Ft[0];if(!(he<=v.K))if(v.K=he,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const kn=Ft[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const wi=Ft[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const ti=Ft[5];ti!=null&&typeof ti=="number"&&ti>0&&(T=1.5*ti,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ei=u.g;if(ei){const Ns=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var q=T.h;q.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(T.G){const pa=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(T.wa=pa,$t(T.J,T.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Iu(T,T.L?T.ba:null,T.W),tt.L){No(T.h,tt);var wt=tt,ve=T.O;ve&&(wt.H=ve),wt.D&&(pi(wt),mi(wt)),T.g=tt}else Au(T);v.i.length>0&&Ai(v)}else Ft[0]!="stop"&&Ft[0]!="close"||bi(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?bi(v,7):Po(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ui(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function No(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,yr(this,u.u),this.h=u.h,xo(this,Tu(u.i)),this.m=u.m):u&&(m=String(u).match(yu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),yr(this,m[4]),this.h=vi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ss(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ss(m,la,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ss(v,v.charAt(0)=="/"?Oo:_u,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ss(v,vu)),u.join("")},Sn.prototype.resolve=function(u){const m=Ne(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)yr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let tt=0;tt<U.length;){const wt=U[tt++];wt=="."?T&&tt==U.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==U.length&&q.push("")):(q.push(wt),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?xo(m,Tu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ne(u){return new Sn(u)}function Be(u,m,v){u.j=v?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function yr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof vr?(u.i=m,ca(u.i,u.l)):(v||(m=Ss(m,_r)),u.i=new vr(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Ts(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ss(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,_u=/[#\?:]/g,Oo=/[#\?]/g,_r=/[#\?@]/g,vu=/#/g;function vr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=vr.prototype,r.add=function(u,m){hn(this),this.i=null,u=Er(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Eu(u,m){hn(u),m=Er(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return hn(u),m=Er(u,m),u.g.has(m)}r.forEach=function(u,m){hn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Mo(u,m){hn(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(Er(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return hn(this),this.i=null,u=Er(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){Eu(u,m),v.length>0&&(u.i=null,u.g.set(Er(u,m),K(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=zi(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let tt=U;v[q]!==""&&(tt+="="+zi(v[q])),u.push(tt)}}return this.i=u.join("&")};function Tu(u){const m=new vr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Er(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(Eu(this,T),ua(this,U,v))},u)),u.j=m}function Jn(u,m){const v=new Yn;if(d.Image){const T=new Image;T.onload=S(Vn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Vn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Vn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Vn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ko(u,m){const v=new Yn,T=new AbortController,U=setTimeout(()=>{T.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Tr(){this.g=new lu}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ei,uu),Ei.prototype.g=function(){return new As(this.i,this.h)};function As(u,m){we.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(As,we),r=As.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Sr(this):Zn(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Sr(this))},r.Na=function(u){this.g&&(this.response=u,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function bs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&zi(v):$t(u,m,v))}function te(u){we.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(te,we);var Ti=/^https?$/i,Lo=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ws(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ws(this,q)}};function ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),ji(u)}function Uo(u){u.A||(u.A=!0,Le(u,"complete"),Le(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Le(this,"complete"),Le(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},r.Xa=function(){Rs(this)};function Rs(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Le(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let tt=String(u.D).match(yu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ti.test(tt?tt.toLowerCase():"")}v=T}if(v)Le(u,"complete"),Le(u,"success");else{u.o=6;try{var U=Wn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Uo(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Le(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hh(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=mu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Ot(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ar(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new Tr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Re(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),Ai(this)};function Po(u){if(fa(u),u.I==3){var m=u.V++,v=Ne(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Cs(u,v),m=new Xn(u,u.j,m),m.M=2,m.A=Ts(Ne(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}Cu(u)}function br(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function fa(u){br(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;se||A(),It||(se(),It=!0),C.add(m,u),u.D=0}}function da(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Xn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Su(this,U,m),v=Ne(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Cs(this,v),q&&(this.R?m="headers="+zi(Mn(q))+"&"+m:this.u&&bs(v,this.u,q)),Io(this.h,U),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),U.U=!0,di(U,v,null)):di(U,v,m),this.I=2}}else this.I==3&&(u?zo(this,u):this.i.length==0||Co(this.h)||zo(this))};function zo(u,m){var v;m?v=m.l:v=u.V++;const T=Ne(u.J);$t(T,"SID",u.M),$t(T,"RID",v),$t(T,"AID",u.K),Cs(u,T),u.u&&u.o&&bs(T,u.u,u.o),v=new Xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),di(v,T,m)}function Cs(u,m){u.H&&Pt(u.H,function(v,T){$t(m,T,v)}),u.l&&Pt({},function(v,T){$t(m,T,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const ve=["count="+v];wt==-1?v>0?(wt=U[0].g,ve.push("ofs="+wt)):wt=0:ve.push("ofs="+wt);let Ft=!0;for(let he=0;he<v;he++){var q=U[he].g;const kn=U[he].map;if(q-=wt,q<0)wt=Math.max(0,U[he].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var tt=kn instanceof Map?kn:Object.entries(kn);for(const[wi,ti]of tt){let ei=ti;p(ti)&&(ei=gr(ti)),ve.push(q+wi+"="+encodeURIComponent(ei))}}catch(wi){throw ve.push(q+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(kn)}}if(Ft){tt=ve.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;se||A(),It||(se(),It=!0),C.add(m,u),u.A=0}}function Is(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),Ru(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),br(this),bu(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Cs(u,m),u.u&&u.o&&bs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ts(Ne(m)),v.u=null,v.R=!0,sa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,br(this),Is(this),Re(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wu(u,m){var v=null;if(u.g==m){ma(u),jo(u),u.g=null;var T=2}else if(_i(u.h,m))v=m.G,No(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ra(),Le(T,new ci(T,v)),Ai(u)}else Au(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&da(u,m)||T==2&&Is(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function Ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),Ts(T),U?Jn(T.toString(),v):ko(T.toString(),v)}else Re(2);u.I=0,u.l&&u.l.pa(m),Cu(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Cu(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var T=v instanceof Sn?Ne(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),yr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Sn(null);T&&Be(q,T),m&&(q.g=m),U&&yr(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&$t(T,v,m),$t(T,"VER",u.ka),Cs(u,T),T}function Nu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Ei({ab:v})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){we.call(this),this.g=new Ar(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}b(ln,we),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Po(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gr(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Ai(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,ln.Z.N.call(this)};function xu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(xu,Ge);function Ou(){xn.call(this),this.status=1}b(Ou,xn);function qi(u){this.g=u}b(qi,Du),qi.prototype.ra=function(){Le(this.g,"a")},qi.prototype.qa=function(u){Le(this.g,new xu(u))},qi.prototype.pa=function(u){Le(this.g,new Ou)},qi.prototype.oa=function(){Le(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,sE=function(){return new wr},rE=function(){return ra()},iE=_e,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,Gc=vs,bo.COMPLETE="complete",nE=bo,cu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",we.prototype.listen=we.prototype.J,Nl=cu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,eE=te}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let fo="12.9.0";function Ub(r){fo=r}const $s=new Lm("@firebase/firestore");function Fa(){return $s.logLevel}function st(r,...t){if($s.logLevel<=kt.DEBUG){const i=t.map(jm);$s.debug(`Firestore (${fo}): ${r}`,...i)}}function cr(r,...t){if($s.logLevel<=kt.ERROR){const i=t.map(jm);$s.error(`Firestore (${fo}): ${r}`,...i)}}function Js(r,...t){if($s.logLevel<=kt.WARN){const i=t.map(jm);$s.warn(`Firestore (${fo}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,aE(r,a,i)}function aE(r,t,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw cr(a),new Error(a)}function Yt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||aE(t,l,a)}function St(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends mr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class oE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class zb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class jb{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new oE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class Bb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Bb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Gb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function pm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Zd(l)===Zd(c)?Lt(l,c):Zd(l)?1:-1}return Lt(r.length,t.length)}const Fb=55296,Kb=57343;function Zd(r){const t=r.charCodeAt(0);return t>=Fb&&t<=Kb}function io(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Tv="__name__";class xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=xi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=xi.isNumericId(t),l=xi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?xi.extractNumericId(t).compare(xi.extractNumericId(i)):pm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return is.fromString(t.substring(4,t.length-2))}}class ue extends xi{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const Qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends xi{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return Qb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new Je([Tv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ue.fromString(t))}static fromName(t){return new ht(ue.fromString(t).popFirst(5))}static empty(){return new ht(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ue(t.slice()))}}function lE(r,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Yb(r,t,i,a){if(t===!0&&a===!0)throw new ot(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Sv(r){if(!ht.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Av(r){if(ht.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function En(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(r);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function ke(r,t){const i={typeString:r};return t&&(i.value=t),i}function Jl(r,t){if(!uE(r))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const bv=-62135596800,wv=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*wv);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<bv)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:ke("string",ce._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ce(0,0))}static max(){return new Et(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function Xb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new ss(l,ht.empty(),t)}function $b(r){return new ss(r.readTime,r.key,Bl)}class ss{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ss(Et.min(),ht.empty(),Bl)}static max(){return new ss(Et.max(),ht.empty(),Bl)}}function Jb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}const Zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Zb)throw r;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function tw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(r){return r.name==="IndexedDbTransactionError"}class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;const Hm=-1;function Sh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function ew(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const cE="";function nw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Rv(t)),t=iw(r.get(i),t);return Rv(t)}function iw(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case cE:i+="";break;default:i+=c}}return i}function Rv(r){return r+cE+""}function Cv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function hs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function hE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new ze(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=rw.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const dE="server_timestamp",mE="__type__",pE="__previous_value__",gE="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[mE]?.stringValue===dE}function Ah(r){const t=r.mapValue.fields[pE];return Gm(t)?Ah(t):t}function ql(r){const t=as(r.mapValue.fields[gE].timestampValue);return new ce(t.seconds,t.nanos)}class sw{constructor(t,i,a,l,c,d,p,_,y,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=b}}const ih="(default)";class Hl{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}function aw(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(r.options.projectId,t)}const yE="__type__",ow="__max__",Pc={mapValue:{}},_E="__vector__",rh="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:uw(r)?9007199254740991:lw(r)?10:11:yt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const i=ls(r);if(i!==ls(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ql(r).isEqual(ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=as(l.timestampValue),p=as(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return os(l.bytesValue).isEqual(os(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Cv(d)!==Cv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ui(d[_],p[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Gl(r,t){return(r.values||[]).find((i=>Ui(i,t)))!==void 0}function ro(r,t){if(r===t)return 0;const i=ls(r),a=ls(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),_=Ae(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Nv(r.timestampValue,t.timestampValue);case 4:return Nv(ql(r),ql(t));case 5:return pm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=os(c),_=os(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const S=Lt(p[y],_[y]);if(S!==0)return S}return Lt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(Ae(c.latitude),Ae(d.latitude));return p!==0?p:Lt(Ae(c.longitude),Ae(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Dv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[rh]?.arrayValue,S=_[rh]?.arrayValue,b=Lt(y?.values?.length||0,S?.values?.length||0);return b!==0?b:Dv(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let b=0;b<_.length&&b<S.length;++b){const x=pm(_[b],S[b]);if(x!==0)return x;const K=ro(p[_[b]],y[S[b]]);if(K!==0)return K}return Lt(_.length,S.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Nv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=as(r),a=as(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function Dv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ro(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function so(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=as(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return os(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=gm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Fc(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(r);return t?16+Fc(t):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return hs(a.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function ym(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function Ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function lw(r){return(r?.mapValue?.fields||{})[yE]?.stringValue===_E}function Ml(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return hs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ml(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ml(r.arrayValue.values[i]);return t}return{...r}}function uw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ow}class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ml(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){hs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new vn(Ml(this.value))}}function vE(r){const t=[];return hs(r.fields,((i,a)=>{const l=new Je([i]);if(Kc(a)){const c=vE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Dn(t)}class sn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,Et.min(),Et.min(),Et.min(),vn.empty(),0)}static newFoundDocument(t,i,a,l){return new sn(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new sn(t,2,i,Et.min(),Et.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,Et.min(),Et.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(t,i){this.position=t,this.inclusive=i}}function Vv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ui(r.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function cw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class EE{}class Pe extends EE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new fw(t,i,a):i==="array-contains"?new pw(t,a):i==="in"?new gw(t,a):i==="not-in"?new yw(t,a):i==="array-contains-any"?new _w(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new dw(t,a):new mw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&ls(this.value)===ls(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends EE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Pi(t,i)}matches(t){return TE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TE(r){return r.op==="and"}function SE(r){return hw(r)&&TE(r)}function hw(r){for(const t of r.filters)if(t instanceof Pi)return!1;return!0}function _m(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+so(r.value);if(SE(r))return r.filters.map((t=>_m(t))).join(",");{const t=r.filters.map((i=>_m(i))).join(",");return`${r.op}(${t})`}}function AE(r,t){return r instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&Ui(a.value,l.value)})(r,t):r instanceof Pi?(function(a,l){return l instanceof Pi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&AE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function bE(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(r):r instanceof Pi?(function(i){return i.op.toString()+" {"+i.getFilters().map(bE).join(" ,")+"}"})(r):"Filter"}class fw extends Pe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class dw extends Pe{constructor(t,i){super(t,"in",i),this.keys=wE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class mw extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=wE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function wE(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class pw extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Gl(i.arrayValue,this.value)}}class gw extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class yw extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class _w extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Gl(this.value.arrayValue,a)))}}class vw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function kv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new vw(r,t,i,a,l,c,d)}function Km(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>so(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>so(a))).join(",")),t.Te=i}return t.Te}function Qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!cw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!AE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Mv(r.startAt,t.startAt)&&Mv(r.endAt,t.endAt)}function vm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class bh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ew(r,t,i,a,l,c,d,p){return new bh(r,t,i,a,l,c,d,p)}function wh(r){return new bh(r)}function Lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Tw(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Sw(r){return r.collectionGroup!==null}function kl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Je.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new ah(Je.keyField(),a))}return t.Ie}function Oi(r){const t=St(r);return t.Ee||(t.Ee=Aw(t,kl(r))),t.Ee}function Aw(r,t){if(r.limitType==="F")return kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Em(r,t,i){return new bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Qm(Oi(r),Oi(t))&&r.limitType===t.limitType}function RE(r){return`${Km(Oi(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>bE(l))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${a})`})(Oi(r))}; limitType=${r.limitType})`}function Ch(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of kl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Vv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,kl(a),l)||a.endAt&&!(function(d,p,_){const y=Vv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,kl(a),l))})(r,t)}function bw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CE(r){return(t,i)=>{let a=!1;for(const l of kl(r)){const c=ww(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ww(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?ro(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}const Rw=new de(ht.comparator);function hr(){return Rw}const IE=new de(ht.comparator);function Dl(...r){let t=IE;for(const i of r)t=t.insert(i.key,i);return t}function NE(r){let t=IE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ks(){return Ll()}function DE(){return Ll()}function Ll(){return new ea((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Cw=new de(ht.comparator),Iw=new ze(ht.comparator);function Ut(...r){let t=Iw;for(const i of r)t=t.add(i);return t}const Nw=new ze(Lt);function Dw(){return Nw}function Ym(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function xE(r){return{integerValue:""+r}}function xw(r,t){return ew(t)?xE(t):Ym(r,t)}class Ih{constructor(){this._=void 0}}function Ow(r,t,i){return r instanceof Fl?(function(l,c){const d={fields:{[mE]:{stringValue:dE},[gE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=Ah(c)),c&&(d.fields[pE]=c),{mapValue:d}})(i,t):r instanceof ao?VE(r,t):r instanceof oo?ME(r,t):(function(l,c){const d=OE(l,c),p=Uv(d)+Uv(l.Ae);return ym(d)&&ym(l.Ae)?xE(p):Ym(l.serializer,p)})(r,t)}function Vw(r,t,i){return r instanceof ao?VE(r,t):r instanceof oo?ME(r,t):i}function OE(r,t){return r instanceof oh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Fl extends Ih{}class ao extends Ih{constructor(t){super(),this.elements=t}}function VE(r,t){const i=kE(t);for(const a of r.elements)i.some((l=>Ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class oo extends Ih{constructor(t){super(),this.elements=t}}function ME(r,t){let i=kE(t);for(const a of r.elements)i=i.filter((l=>!Ui(l,a)));return{arrayValue:{values:i}}}class oh extends Ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Uv(r){return Ae(r.integerValue||r.doubleValue)}function kE(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Xm{constructor(t,i){this.field=t,this.transform=i}}function Mw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ao&&l instanceof ao||a instanceof oo&&l instanceof oo?io(a.elements,l.elements,Ui):a instanceof oh&&l instanceof oh?Ui(a.Ae,l.Ae):a instanceof Fl&&l instanceof Fl})(r.transform,t.transform)}class kw{constructor(t,i){this.version=t,this.transformResults=i}}class Kn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Kn}static exists(t){return new Kn(void 0,t)}static updateTime(t){return new Kn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Nh{}function LE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new $m(r.key,Kn.none()):new Zl(r.key,r.data,Kn.none());{const i=r.data,a=vn.empty();let l=new ze(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new fs(r.key,a,new Dn(l.toArray()),Kn.none())}}function Lw(r,t,i){r instanceof Zl?(function(l,c,d){const p=l.value.clone(),_=zv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof fs?(function(l,c,d){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=zv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(UE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ul(r,t,i,a){return r instanceof Zl?(function(c,d,p,_){if(!Qc(c.precondition,d))return p;const y=c.value.clone(),S=jv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof fs?(function(c,d,p,_){if(!Qc(c.precondition,d))return p;const y=jv(c.fieldTransforms,_,d),S=d.data;return S.setAll(UE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Uw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=OE(a.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function Pv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((c,d)=>Mw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zl extends Nh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fs extends Nh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function zv(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Vw(d,p,i[l]))}return a}function jv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Ow(c,d,t))}return a}class $m extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Lw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=DE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=LE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,a)=>Pv(i,a)))&&io(this.baseMutations,t.baseMutations,((i,a)=>Pv(i,a)))}}class Jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Cw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Jm(t,i,a,l)}}class jw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Bt;function qw(r){switch(r){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function PE(r){if(r===void 0)return cr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Me.OK:return J.OK;case Me.CANCELLED:return J.CANCELLED;case Me.UNKNOWN:return J.UNKNOWN;case Me.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Me.INTERNAL:return J.INTERNAL;case Me.UNAVAILABLE:return J.UNAVAILABLE;case Me.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Me.NOT_FOUND:return J.NOT_FOUND;case Me.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Me.ABORTED:return J.ABORTED;case Me.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Me.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:r})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function Hw(){return new TextEncoder}const Gw=new is([4294967295,4294967295],0);function Bv(r){const t=Hw().encode(r),i=new tE;return i.update(t),new Uint8Array(i.digest())}function qv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new is([i,a],0),new is([l,c],0)]}class Zm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=is.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(is.fromNumber(a)));return l.compare(Gw)===1&&(l=new is([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Bv(t),[a,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Zm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Bv(t),[a,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Dh(Et.min(),l,new de(Lt),hr(),Ut())}}class Wl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Wl(a,i,Ut(),Ut(),Ut())}}class Yc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class zE{constructor(t,i){this.targetId=t,this.Ce=i}}class jE{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Hv{constructor(){this.ve=0,this.Fe=Gv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Gv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Fw{constructor(t){this.Ge=t,this.ze=new Map,this.je=hr(),this.He=zc(),this.Je=zc(),this.Ze=new de(Lt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(vm(c))if(a===0){const d=new ht(c.path);this.et(i,d,sn.newNoDocument(d,Et.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=os(a).toUint8Array()}catch(_){if(_ instanceof fE)return Js("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Zm(d,l,c)}catch(_){return Js(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&vm(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,sn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ut();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Dh(t,i,this.Ze,this.je,a);return this.je=hr(),this.He=zc(),this.Je=zc(),this.Ze=new de(Lt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Hv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ze(Lt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ze(Lt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Hv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function zc(){return new de(ht.comparator)}function Gv(){return new de(ht.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},Qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yw={and:"AND",or:"OR"};class Xw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Tm(r,t){return r.useProto3Json||Sh(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function $w(r,t){return lh(r,t.toTimestamp())}function Vi(r){return Yt(!!r,49232),Et.fromTimestamp((function(i){const a=as(i);return new ce(a.seconds,a.nanos)})(r))}function Wm(r,t){return Sm(r,t).canonicalString()}function Sm(r,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function qE(r){const t=ue.fromString(r);return Yt(QE(t),10190,{key:t.toString()}),t}function Am(r,t){return Wm(r.databaseId,t.path)}function Wd(r,t){const i=qE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(GE(i))}function HE(r,t){return Wm(r.databaseId,t)}function Jw(r){const t=qE(r);return t.length===4?ue.emptyPath():GE(t)}function bm(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Fv(r,t,i){return{name:Am(r,t),fields:i.value.mapValue.fields}}function Zw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Yt(S===void 0||typeof S=="string",58123),We.fromBase64String(S||"")):(Yt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),We.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:PE(y.code);return new ot(S,y.message||"")})(d);i=new jE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Wd(r,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):Et.min(),p=new vn({mapValue:{fields:a.document.fields}}),_=sn.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Yc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Wd(r,a.document),c=a.readTime?Vi(a.readTime):Et.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Wd(r,a.document),c=a.removedTargetIds||[];i=new Yc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Bw(l,c),p=a.targetId;i=new zE(p,d)}}return i}function Ww(r,t){let i;if(t instanceof Zl)i={update:Fv(r,t.key,t.value)};else if(t instanceof $m)i={delete:Am(r,t.key)};else if(t instanceof fs)i={update:Fv(r,t.key,t.data),updateMask:lR(t.fieldMask)};else{if(!(t instanceof Pw))return yt(16599,{dt:t.type});i={verify:Am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$w(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function tR(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(Et.min())&&(d=Vi(c)),new kw(d,l.transformResults||[])})(i,t)))):[]}function eR(r,t){return{documents:[HE(r,t.path)]}}function nR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=HE(r,l);const c=(function(y){if(y.length!==0)return KE(Pi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(x){return{field:Qa(x.field),direction:sR(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Tm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function iR(r){let t=Jw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const x=FE(b);return x instanceof Pi&&SE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(W){return new ah(Ya(W.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,Sh(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(b){const x=!!b.before,K=b.values||[];return new sh(K,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const x=!b.before,K=b.values||[];return new sh(K,x)})(i.endAt)),Ew(t,l,d,c,p,"F",_,y)}function rR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function FE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ya(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Pi.create(i.compositeFilter.filters.map((a=>FE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function sR(r){return Kw[r]}function aR(r){return Qw[r]}function oR(r){return Yw[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Je.fromServerFormat(r.fieldPath)}function KE(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(Ov(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ov(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:aR(i.op),value:i.value}}})(r):r instanceof Pi?(function(i){const a=i.getFilters().map((l=>KE(l)));return a.length===1?a[0]:{compositeFilter:{op:oR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function lR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function QE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function YE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Wr{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=We.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class uR{constructor(t){this.yt=t}}function cR(r){const t=iR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(t,t.limit,"L"):t}class hR{constructor(){this.Sn=new fR}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(ss.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(ss.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class fR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(ue.comparator)).toArray()}}const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(XE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const Qv="LruGarbageCollector",dR=1048576;function Yv([r,t],[i,a]){const l=Lt(r,i);return l===0?Lt(t,a):l}class mR{constructor(t){this.Pr=t,this.buffer=new ze(Yv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Yv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?st(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Ar(3e5)}))}}class gR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Th.ce);const a=new mR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Kv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),Fa()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function yR(r,t){return new gR(r,t)}class _R{constructor(){this.changes=new ea((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class ER{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ul(a.mutation,l,Dn.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=Ks();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Dl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ks();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=hr();const d=Ll(),p=(function(){return Ll()})();return i.forEach(((_,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof fs)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Ul(S.mutation,y,S.mutation.getFieldMask(),ce.now())):d.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new vR(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ll();let l=new de(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||Dn.empty();S=p.applyToLocalView(y,S),a.set(_,S);const b=(l.get(p.batchId)||Ut()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,S=_.value,b=DE();S.forEach((x=>{if(!c.has(x)){const K=LE(i.get(x),a.get(x));K!==null&&b.set(x,K),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return Tw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Sw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Ks());let p=Bl,_=c;return d.next((y=>$.forEach(y,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{_=_.insert(S,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ut()))).next((S=>({batchId:p,changes:NE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=Dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(b,x){return new bh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,sn.newInvalidDocument(S)))}));let p=Dl();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Ul(S.mutation,y,Dn.empty(),ce.now()),Ch(i,y)&&(p=p.insert(_,y))})),p}))}}class TR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:cR(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),$.resolve()}}class SR{constructor(){this.overlays=new de(ht.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ks();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Ks(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new de(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Ks(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=Ks(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new jw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ut(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class AR{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class tp{constructor(){this.kr=new ze(He.Kr),this.qr=new ze(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new He(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new He(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new ue([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new ue([])),a=new He(i,t),l=new He(i,t+1);let c=Ut();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Lt(t.Hr,i.Hr)}static Ur(t,i){return Lt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class bR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(He.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Hm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Lt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new He(new ht(c),0);let p=new ze(Lt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new He(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wR{constructor(t){this.ti=t,this.docs=(function(){return new de(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=hr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=hr();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Jb($b(S),a)<=0||(l.has(S.key)||Ch(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new RR(this)}getSize(t){return $.resolve(this.size)}}class RR extends _R{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class CR{constructor(t){this.persistence=t,this.ri=new ea((i=>Km(i)),Qm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new tp,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new lo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class $E{constructor(t,i){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new AR,this.referenceDelegate=t(this),this.li=new CR(this),this.indexManager=new hR,this.remoteDocumentCache=(function(l){return new wR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new uR(i),this.Pi=new TR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new SR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new bR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new IR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class IR extends Wb{constructor(t){super(),this.currentSequenceNumber=t}}class ep{constructor(t){this.persistence=t,this.Ri=new tp,this.Ai=null}static Vi(t){return new ep(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class uh{constructor(t,i){this.persistence=t,this.fi=new ea((a=>nw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=yR(this,i)}static Vi(t,i){return new uh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Fc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class np{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new np(t,i.fromCache,a,l)}}class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class DR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gA()?8:tw(an())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new NR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Fa()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Fa()<=kt.DEBUG&&st("QueryEngine","Query:",Ka(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Fa()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):$.resolve())}gs(t,i){if(Lv(i))return $.resolve(null);let a=Oi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),a=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,Em(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return Lv(i)||l.isEqual(Et.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(Fa()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(i)),this.Ds(t,d,i,Xb(l,Bl)).next((p=>p)))}))}bs(t,i){let a=new ze(CE(t));return i.forEach(((l,c)=>{Ch(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Fa()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.fs.getDocumentsMatchingQuery(t,i,ss.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ip="LocalStore",xR=3e8;class OR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new de(Lt),this.Fs=new ea((c=>Km(c)),Qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ER(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function VR(r,t,i,a){return new OR(r,t,i,a)}async function JE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ut();for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function MR(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,S){const b=y.batch,x=b.keys();let K=$.resolve();return x.forEach((W=>{K=K.next((()=>S.getEntry(_,W))).next((it=>{const nt=y.docVersions.get(W);Yt(nt!==null,48541),it.version.compareTo(nt)<0&&(b.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),S.addEntry(it)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function ZE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function kR(r,t){const i=St(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,b)=>{const x=l.get(b);if(!x)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let K=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(We.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),l=l.insert(b,K),(function(it,nt,ft){return it.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=xR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(x,K,S)&&p.push(i.li.updateTargetData(c,K))}));let _=hr(),y=Ut();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(LR(c,d,t.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!a.isEqual(Et.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function LR(r,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=hr();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):st(ip,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function UR(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function PR(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Wr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function wm(r,t,i){const a=St(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;st(ip,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Xv(r,t,i){const a=St(r);let l=Et.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const b=St(_),x=b.Fs.get(S);return x!==void 0?$.resolve(b.vs.get(x)):b.li.getTargetData(y,S)})(a,d,Oi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Ut()))).next((p=>(zR(a,bw(t),p),{documents:p,ks:c})))))}function zR(r,t,i){let a=r.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class $v{constructor(){this.activeTargetIds=Dw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jR{constructor(){this.vo=new $v,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new $v,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class BR{Mo(t){}shutdown(){}}const Jv="ConnectivityMonitor";class Zv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(Jv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(Jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Rm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const tm="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=Rm(),p=this.Qo(t,i.toUriEncodedString());st(tm,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),S=co(y);return this.zo(t,p,_,a,S).then((b=>(st(tm,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Js(tm,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=qR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class GR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",wl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ja extends HR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ja.c_){const t=rE();wl(t,iE.STAT_EVENT,(i=>{i.stat===mm.PROXY?st(nn,"STAT_EVENT: detected buffering proxy"):i.stat===mm.NOPROXY&&st(nn,"STAT_EVENT: detected no buffering proxy")})),Ja.c_=!0}}zo(t,i,a,l,c){const d=Rm();return new Promise(((p,_)=>{const y=new eE;y.setWithCredentials(!0),y.listenOnce(nE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const b=y.getResponseJson();st(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Gc.TIMEOUT:st(nn,`RPC '${t}' ${d} timed out`),_(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const x=y.getStatus();if(st(nn,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const it=(function(ft){const At=ft.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(At)>=0?At:J.UNKNOWN})(W.status);_(new ot(it,W.message))}else _(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(nn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=Rm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");st(nn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const S=d.createWebChannel(y,p);this.I_(S);let b=!1,x=!1;const K=new GR({Ho:W=>{x?st(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(b||(st(nn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),st(nn,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Jo:()=>S.close()});return wl(S,Nl.EventType.OPEN,(()=>{x||(st(nn,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),wl(S,Nl.EventType.CLOSE,(()=>{x||(x=!0,st(nn,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(S))})),wl(S,Nl.EventType.ERROR,(W=>{x||(x=!0,Js(nn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),K.o_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),wl(S,Nl.EventType.MESSAGE,(W=>{if(!x){const it=W.data[0];Yt(!!it,16349);const nt=it,ft=nt?.error||nt[0]?.error;if(ft){st(nn,`RPC '${t}' stream ${l} received error:`,ft);const At=ft.status;let vt=(function(It){const C=Me[It];if(C!==void 0)return PE(C)})(At),Gt=ft.message;At==="NOT_FOUND"&&Gt.includes("database")&&Gt.includes("does not exist")&&Gt.includes(this.databaseId.database)&&Js(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),vt===void 0&&(vt=J.INTERNAL,Gt="Unknown error status: "+At+" with message "+ft.message),x=!0,K.o_(new ot(vt,Gt)),S.close()}else st(nn,`RPC '${t}' stream ${l} received:`,it),K.__(it)}})),Ja.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sE()}}function FR(r){return new Ja(r)}function em(){return typeof document<"u"?document:null}function xh(r){return new Xw(r,!0)}Ja.c_=!1;class WE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Wv="PersistentStream";class tT{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(cr(i.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KR extends tT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Zw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Vi(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=vm(_)?{documents:eR(c,_)}:{query:nR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=BE(c,d.resumeToken);const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=rR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=bm(this.serializer),i.removeTarget=t,this.K_(i)}}class QR extends tT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=tR(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=bm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Ww(this.serializer,a)))};this.K_(i)}}class YR{}class XR extends YR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Sm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $R(r,t,i,a){return new XR(r,t,i,a)}class JR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zs="RemoteStore";class ZR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{na(this)&&(st(Zs,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await tu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Va=new JR(a,l)}}async function Oh(r){if(na(r))for(const t of r.Ra)await t(!0)}async function tu(r){for(const t of r.Ra)await t(!1)}function eT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),op(i)?ap(i):go(i).O_()&&sp(i,t))}function rp(r,t){const i=St(r),a=go(i);i.Ia.delete(t),a.O_()&&nT(i,t),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Va.set("Unknown"))}function sp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(r).Z_(t)}function nT(r,t){r.da.$e(t),go(r).X_(t)}function ap(r){r.da=new Fw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Va.ua()}function op(r){return na(r)&&!go(r).x_()&&r.Ia.size>0}function na(r){return St(r).Ea.size===0}function iT(r){r.da=void 0}async function WR(r){r.Va.set("Online")}async function t2(r){r.Ia.forEach(((t,i)=>{sp(r,t)}))}async function e2(r,t){iT(r),op(r)?(r.Va.ha(t),ap(r)):r.Va.set("Unknown")}async function n2(r,t,i){if(r.Va.set("Online"),t instanceof jE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){st(Zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ch(r,a)}else if(t instanceof Yc?r.da.Xe(t):t instanceof zE?r.da.st(t):r.da.tt(t),!i.isEqual(Et.min()))try{const a=await ZE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(We.EMPTY_BYTE_STRING,S.snapshotVersion)),nT(c,_);const b=new Wr(S.target,_,y,S.sequenceNumber);sp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Zs,"Failed to raise snapshot:",a),await ch(r,a)}}async function ch(r,t,i){if(!po(t))throw t;r.Ea.add(1),await tu(r),r.Va.set("Offline"),i||(i=()=>ZE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Zs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Oh(r)}))}function rT(r,t){return t().catch((i=>ch(r,i,t)))}async function Vh(r){const t=St(r),i=us(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hm;for(;i2(t);)try{const l=await UR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,r2(t,l)}catch(l){await ch(t,l)}sT(t)&&aT(t)}function i2(r){return na(r)&&r.Ta.length<10}function r2(r,t){r.Ta.push(t);const i=us(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function sT(r){return na(r)&&!us(r).x_()&&r.Ta.length>0}function aT(r){us(r).start()}async function s2(r){us(r).ra()}async function a2(r){const t=us(r);for(const i of r.Ta)t.ea(i.mutations)}async function o2(r,t,i){const a=r.Ta.shift(),l=Jm.from(a,t,i);await rT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Vh(r)}async function l2(r,t){t&&us(r).Y_&&await(async function(a,l){if((function(d){return qw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();us(a).B_(),await rT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(a)}})(r,t),sT(r)&&aT(r)}async function t0(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(Zs,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await tu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function u2(r,t){const i=St(r);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await tu(i),i.Va.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new KR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:WR.bind(null,r),Yo:t2.bind(null,r),t_:e2.bind(null,r),J_:n2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),op(r)?ap(r):r.Va.set("Unknown")):(await r.ma.stop(),iT(r))}))),r.ma}function us(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new QR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:s2.bind(null,r),t_:l2.bind(null,r),ta:a2.bind(null,r),na:o2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Zs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class lp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new lp(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(r,t){if(cr("AsyncQueue",`${t}: ${r}`),po(r))return new ot(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Dl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class e0{constructor(){this.ga=new de(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class uo{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new uo(t,i,Za.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class c2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class h2{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=n0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function n0(){return new ea((r=>RE(r)),Rh)}async function cp(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new c2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=up(d,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&fp(i)}async function hp(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function f2(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&fp(i)}function d2(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function fp(r){r.Ca.forEach((t=>{t.next()}))}var Cm,i0;(i0=Cm||(Cm={})).Ma="default",i0.Cache="cache";class dp{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new uo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}class oT{constructor(t){this.key=t}}class lT{constructor(t){this.key=t}}class m2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=CE(t),this.tu=new Za(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new e0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const x=l.get(S),K=Ch(this.query,b)?b:null,W=!!x&&this.mutatedKeys.has(x.key),it=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let nt=!1;x&&K?x.data.isEqual(K.data)?W!==it&&(a.track({type:3,doc:K}),nt=!0):this.su(x,K)||(a.track({type:2,doc:K}),nt=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(p=!0)):!x&&K?(a.track({type:0,doc:K}),nt=!0):x&&!K&&(a.track({type:1,doc:x}),nt=!0,(_||y)&&(p=!0)),nt&&(K?(d=d.add(K),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(K,W){const it=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:nt})}};return it(K)-it(W)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new lT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new oT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mp="SyncEngine";class p2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class g2{constructor(t){this.key=t,this.hu=!1}}class y2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((p=>RE(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new de(ht.comparator),this.Au=new Map,this.Vu=new tp,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _2(r,t,i=!0){const a=mT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await uT(a,t,i,!0),l}async function v2(r,t){const i=mT(r);await uT(i,t,!0,!1)}async function uT(r,t,i,a){const l=await PR(r.localStore,Oi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await E2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&eT(r.remoteStore,l),p}async function E2(r,t,i,a,l){r.pu=(b,x,K)=>(async function(it,nt,ft,At){let vt=nt.view.ru(ft);vt.Ss&&(vt=await Xv(it.localStore,nt.query,!1).then((({documents:C})=>nt.view.ru(C,vt))));const Gt=At&&At.targetChanges.get(nt.targetId),se=At&&At.targetMismatches.get(nt.targetId)!=null,It=nt.view.applyChanges(vt,it.isPrimaryClient,Gt,se);return s0(it,nt.targetId,It.au),It.snapshot})(r,b,x,K);const c=await Xv(r.localStore,t,!0),d=new m2(t,c.ks),p=d.ru(c.documents),_=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);s0(r,i,y.au);const S=new p2(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function T2(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await wm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&rp(a.remoteStore,l.targetId),Im(a,l.targetId)})).catch(mo)):(Im(a,l.targetId),await wm(a.localStore,l.targetId,!0))}async function S2(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rp(i.remoteStore,a.targetId))}async function A2(r,t,i){const a=D2(r);try{const l=await(function(d,p){const _=St(d),y=ce.now(),S=p.reduce(((K,W)=>K.add(W.key)),Ut());let b,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=hr(),it=Ut();return _.xs.getEntries(K,S).next((nt=>{W=nt,W.forEach(((ft,At)=>{At.isValidDocument()||(it=it.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,W))).next((nt=>{b=nt;const ft=[];for(const At of p){const vt=Uw(At,b.get(At.key).overlayedDocument);vt!=null&&ft.push(new fs(At.key,vt,vE(vt.value.mapValue),Kn.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,ft,p)})).next((nt=>{x=nt;const ft=nt.applyToLocalDocumentSet(b,it);return _.documentOverlayCache.saveOverlays(K,nt.batchId,ft)}))})).then((()=>({batchId:x.batchId,changes:NE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new de(Lt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await eu(a,l.changes),await Vh(a.remoteStore)}catch(l){const c=up(l,"Failed to persist write");i.reject(c)}}async function cT(r,t){const i=St(r);try{const a=await kR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await eu(i,a,t)}catch(a){await mo(a)}}function r0(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=St(d);_.onlineState=p;let y=!1;_.queries.forEach(((S,b)=>{for(const x of b.ba)x.va(p)&&(y=!0)})),y&&fp(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function b2(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new de(ht.comparator);d=d.insert(c,sn.newNoDocument(c,Et.min()));const p=Ut().add(c),_=new Dh(Et.min(),new Map,new de(Lt),d,p);await cT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),pp(a)}else await wm(a.localStore,t,!1).then((()=>Im(a,t,i))).catch(mo)}async function w2(r,t){const i=St(r),a=t.batch.batchId;try{const l=await MR(i.localStore,t);fT(i,a,null),hT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,l)}catch(l){await mo(l)}}async function R2(r,t,i){const a=St(r);try{const l=await(function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Yt(b!==null,37113),S=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);fT(a,t,i),hT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eu(a,l)}catch(l){await mo(l)}}function hT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function fT(r,t,i){const a=St(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Im(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||dT(r,a)}))}function dT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(rp(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),pp(r))}function s0(r,t,i){for(const a of i)a instanceof oT?(r.Vu.addReference(a.key,t),C2(r,a)):a instanceof lT?(st(mp,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||dT(r,a.key)):yt(19791,{wu:a})}function C2(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(st(mp,"New document in limbo: "+i),r.Eu.add(a),pp(r))}function pp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(ue.fromString(t)),a=r.fu.next();r.Au.set(a,new g2(i)),r.Ru=r.Ru.insert(i,a),eT(r.remoteStore,new Wr(Oi(wh(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function eu(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){l.push(y);const S=np.Es(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const S=St(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(y,(x=>$.forEach(x.Ts,(K=>S.persistence.referenceDelegate.addReference(b,x.targetId,K))).next((()=>$.forEach(x.Is,(K=>S.persistence.referenceDelegate.removeReference(b,x.targetId,K)))))))))}catch(b){if(!po(b))throw b;st(ip,"Failed to update sequence numbers: "+b)}for(const b of y){const x=b.targetId;if(!b.fromCache){const K=S.vs.get(x),W=K.snapshotVersion,it=K.withLastLimboFreeSnapshotVersion(W);S.vs=S.vs.insert(x,it)}}})(a.localStore,c))}async function I2(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){st(mp,"User change. New user:",t.toKey());const a=await JE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ot(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ns)}}function N2(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function mT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=N2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b2.bind(null,t),t.Pu.J_=f2.bind(null,t.eventManager),t.Pu.yu=d2.bind(null,t.eventManager),t}function D2(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R2.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return VR(this.persistence,new DR,t.initialUser,this.serializer)}Cu(t){return new $E(ep.Vi,this.serializer)}Du(t){return new jR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class x2 extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new pR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new $E((a=>uh.Vi(a,i)),this.serializer)}}class Nm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>r0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=I2.bind(null,this.syncEngine),await u2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new h2})()}createDatastore(t){const i=xh(t.databaseInfo.databaseId),a=FR(t.databaseInfo);return $R(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new ZR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>r0(this.syncEngine,i,0)),(function(){return Zv.v()?new Zv:new BR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,S){const b=new y2(l,c,d,p,_,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);st(Zs,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class gp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cs="FirestoreClient";class O2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(cs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(cs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=up(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function nm(r,t){r.asyncQueue.verifyOperationInProgress(),st(cs,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await JE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function a0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await V2(r);st(cs,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>t0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>t0(t.remoteStore,l))),r._onlineComponents=t}async function V2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(cs,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Js("Error using user provided cache. Falling back to memory cache: "+i),await nm(r,new hh)}}else st(cs,"Using default OfflineComponentProvider"),await nm(r,new x2(void 0));return r._offlineComponents}async function pT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(cs,"Using user provided OnlineComponentProvider"),await a0(r,r._uninitializedComponentsProvider._online)):(st(cs,"Using default OnlineComponentProvider"),await a0(r,new Nm))),r._onlineComponents}function M2(r){return pT(r).then((t=>t.syncEngine))}async function fh(r){const t=await pT(r),i=t.eventManager;return i.onListen=_2.bind(null,t.syncEngine),i.onUnlisten=T2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=v2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=S2.bind(null,t.syncEngine),i}function k2(r,t,i,a){const l=new gp(a),c=new dp(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>cp(await fh(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>hp(await fh(r),c)))}}function L2(r,t,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const S=new gp({next:x=>{S.Nu(),d.enqueueAndForget((()=>hp(c,b)));const K=x.docs.has(p);!K&&x.fromCache?y.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&x.fromCache&&_&&_.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new dp(wh(p.path),S,{includeMetadataChanges:!0,Ka:!0});return cp(c,b)})(await fh(r),r.asyncQueue,t,i,a))),a.promise}function U2(r,t,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const S=new gp({next:x=>{S.Nu(),d.enqueueAndForget((()=>hp(c,b))),x.fromCache&&_.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new dp(p,S,{includeMetadataChanges:!0,Ka:!0});return cp(c,b)})(await fh(r),r.asyncQueue,t,i,a))),a.promise}function P2(r,t){const i=new ar;return r.asyncQueue.enqueueAndForget((async()=>A2(await M2(r),t,i))),i.promise}function gT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const z2="ComponentProvider",o0=new Map;function j2(r,t,i,a,l){return new sw(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,gT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const yT="firestore.googleapis.com",l0=!0;class u0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yT,this.ssl=l0}else this.host=t.host,this.ssl=t.ssl??l0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dR)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Yb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Pb;switch(a.type){case"firstParty":return new qb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=o0.get(i);a&&(st(z2,"Removing Datastore"),o0.delete(i),a.terminate())})(this),Promise.resolve()}}function B2(r,t,i,a={}){r=En(r,Mh);const l=co(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Q0(`https://${p}`),Y0("Firestore",!0)),c.host!==yT&&c.host!==p&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!lr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=rn.MOCK_USER;else{y=oA(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new rn(b)}r._authCredentials=new zb(new oE(y,S))}}class nu{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new nu(this.firestore,t,this._query)}}class be{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Jl(i,be._jsonSchema))return new be(t,a||null,new ht(ue.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:ke("string",be._jsonSchemaVersion),referencePath:ke("string")};class rs extends nu{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new ht(t))}withConverter(t){return new rs(this.firestore,t,this._path)}}function Rl(r,t,...i){if(r=Ze(r),lE("collection","path",t),r instanceof Mh){const a=ue.fromString(t,...i);return Av(a),new rs(r,null,a)}{if(!(r instanceof be||r instanceof rs))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return Av(a),new rs(r.firestore,null,a)}}function Di(r,t,...i){if(r=Ze(r),arguments.length===1&&(t=Bm.newId()),lE("doc","path",t),r instanceof Mh){const a=ue.fromString(t,...i);return Sv(a),new be(r,null,new ht(a))}{if(!(r instanceof be||r instanceof rs))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return Sv(a),new be(r.firestore,r instanceof rs?r.converter:null,new ht(a))}}const c0="AsyncQueue";class h0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&st(c0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;st(c0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",f0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=lp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:f0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function f0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class fr extends Mh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new h0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new h0(t),this._firestoreClient=void 0,await t}}}function q2(r,t){const i=typeof r=="object"?r:zm(),a=typeof r=="string"?r:ih,l=Pm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=sA("firestore");c&&B2(l,...c)}return l}function kh(r){if(r._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||H2(r),r._firestoreClient}function H2(r){const t=r._freezeSettings(),i=j2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new O2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:ke("string",Fn._jsonSchemaVersion),bytes:ke("string")};class yp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yo{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:ke("string",Mi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ai(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:ke("string",ai._jsonSchemaVersion),vectorValues:ke("object")};const G2=/^__.*__$/;class F2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new fs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class _T{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new fs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function vT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class Lh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Lh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(vT(this.dataSource)&&G2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class K2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||xh(t)}createContext(t,i,a,l=!1){return new Lh({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(r){const t=r._freezeSettings(),i=xh(r._databaseId);return new K2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function ET(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);Sp("Data must be an object, but it was:",d,a);const p=ST(a,d);let _,y;if(c.merge)_=new Dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const x=Kl(t,b,i);if(!d.contains(x))throw new ot(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);wT(S,x)||S.push(x)}_=new Dn(S),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new F2(new vn(p),_,y)}class Uh extends yo{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}function TT(r,t,i){return new Lh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:r._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class vp extends yo{_toFieldTransform(t){return new Xm(t.path,new Fl)}isEqual(t){return t instanceof vp}}class Ep extends yo{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=TT(this,t,!0),a=this.Ac.map((c=>_o(c,i))),l=new ao(a);return new Xm(t.path,l)}isEqual(t){return t instanceof Ep&&lr(this.Ac,t.Ac)}}class Tp extends yo{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=TT(this,t,!0),a=this.Ac.map((c=>_o(c,i))),l=new oo(a);return new Xm(t.path,l)}isEqual(t){return t instanceof Tp&&lr(this.Ac,t.Ac)}}function Q2(r,t,i,a){const l=r.createContext(1,t,i);Sp("Data must be an object, but it was:",l,a);const c=[],d=vn.empty();hs(a,((_,y)=>{const S=bT(t,_,i);y=Ze(y);const b=l.childContextForFieldPath(S);if(y instanceof Uh)c.push(S);else{const x=_o(y,b);x!=null&&(c.push(S),d.set(S,x))}}));const p=new Dn(c);return new _T(d,p,l.fieldTransforms)}function Y2(r,t,i,a,l,c){const d=r.createContext(1,t,i),p=[Kl(t,a,i)],_=[l];if(c.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Kl(t,c[x])),_.push(c[x+1]);const y=[],S=vn.empty();for(let x=p.length-1;x>=0;--x)if(!wT(y,p[x])){const K=p[x];let W=_[x];W=Ze(W);const it=d.childContextForFieldPath(K);if(W instanceof Uh)y.push(K);else{const nt=_o(W,it);nt!=null&&(y.push(K),S.set(K,nt))}}const b=new Dn(y);return new _T(S,b,d.fieldTransforms)}function _o(r,t){if(AT(r=Ze(r)))return Sp("Unsupported field value:",t,r),ST(r,t);if(r instanceof yo)return(function(a,l){if(!vT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=_o(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:lh(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(a instanceof Mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:BE(l.serializer,a._byteString)};if(a instanceof be){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ai)return(function(d,p){const _=d instanceof ai?d.toArray():d;return{mapValue:{fields:{[yE]:{stringValue:_E},[rh]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Ym(p.serializer,S)}))}}}}}})(a,l);if(YE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${qm(a)}`)})(r,t)}function ST(r,t){const i={};return hE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(r,((a,l)=>{const c=_o(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function AT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof Mi||r instanceof Fn||r instanceof be||r instanceof yo||r instanceof ai||YE(r))}function Sp(r,t,i){if(!AT(i)||!uE(i)){const a=qm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Kl(r,t,i){if((t=Ze(t))instanceof yp)return t._internalPath;if(typeof t=="string")return bT(r,t);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const X2=new RegExp("[~\\*/\\[\\]]");function bT(r,t,i){if(t.search(X2)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new yp(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ot(J.INVALID_ARGUMENT,p+r+_)}function wT(r,t){return r.some((i=>i.isEqual(t)))}class $2{convertValue(t,i="none"){switch(ls(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return hs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[rh].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new ai(i)}convertGeoPoint(t){return new Mi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=as(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Yt(QE(a),9688,{name:t});const l=new Hl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||cr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Ap extends $2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,i)}}function im(){return new vp("serverTimestamp")}function J2(...r){return new Ep("arrayUnion",r)}function Z2(...r){return new Tp("arrayRemove",r)}const d0="@firebase/firestore",m0="4.11.0";function p0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class RT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Kl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class W2 extends RT{data(){return super.data()}}function CT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function IT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Ol{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qs extends RT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Kl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:ke("string",Qs._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Xc extends Qs{data(t={}){return super.data(t)}}class Ys{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Ol(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:tC(p.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ys._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:ke("string",Ys._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};function eC(r){r=En(r,be);const t=En(r.firestore,fr),i=kh(t);return L2(i,r._key).then((a=>NT(t,r,a)))}function nC(r){r=En(r,nu);const t=En(r.firestore,fr),i=kh(t),a=new Ap(t);return CT(r._query),U2(i,r._query).then((l=>new Ys(t,a,r,l)))}function g0(r,t,i){r=En(r,be);const a=En(r.firestore,fr),l=IT(r.converter,t,i),c=_p(a);return Ph(a,[ET(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Kn.none())])}function Bc(r,t,i,...a){r=En(r,be);const l=En(r.firestore,fr),c=_p(l);let d;return d=typeof(t=Ze(t))=="string"||t instanceof yp?Y2(c,"updateDoc",r._key,t,i,a):Q2(c,"updateDoc",r._key,t),Ph(l,[d.toMutation(r._key,Kn.exists(!0))])}function qc(r){return Ph(En(r.firestore,fr),[new $m(r._key,Kn.none())])}function y0(r,t){const i=En(r.firestore,fr),a=Di(r),l=IT(r.converter,t),c=_p(r.firestore);return Ph(i,[ET(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Kn.exists(!1))]).then((()=>a))}function rm(r,...t){r=Ze(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||p0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(p0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof be)d=En(r.firestore,fr),p=wh(r._key.path),c={next:y=>{t[a]&&t[a](NT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=En(r,nu);d=En(y.firestore,fr),p=y._query;const S=new Ap(d);c={next:b=>{t[a]&&t[a](new Ys(d,S,y,b))},error:t[a+1],complete:t[a+2]},CT(r._query)}const _=kh(d);return k2(_,p,l,c)}function Ph(r,t){const i=kh(r);return P2(i,t)}function NT(r,t,i){const a=i.docs.get(t._key),l=new Ap(r);return new Qs(r,l,t._key,a,new Ol(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){Ub(ho),no(new Xs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new fr(new jb(a.getProvider("auth-internal")),new Hb(d,a.getProvider("app-check-internal")),aw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ns(d0,m0,t),ns(d0,m0,"esm2020")})();function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iC=DT,xT=new Xl("auth","Firebase",DT());const mh=new Lm("@firebase/auth");function rC(r,...t){mh.logLevel<=kt.WARN&&mh.warn(`Auth (${ho}): ${r}`,...t)}function $c(r,...t){mh.logLevel<=kt.ERROR&&mh.error(`Auth (${ho}): ${r}`,...t)}function oi(r,...t){throw bp(r,...t)}function ki(r,...t){return bp(r,...t)}function OT(r,t,i){const a={...iC(),[t]:i};return new Xl("auth","Firebase",a).create(t,{appName:r.name})}function or(r){return OT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return xT.create(r,...t)}function gt(r,t,...i){if(!r)throw bp(t,...i)}function rr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function dr(r,t){r||rr(t)}function Dm(){return typeof self<"u"&&self.location?.href||""}function sC(){return _0()==="http:"||_0()==="https:"}function _0(){return typeof self<"u"&&self.location?.protocol||null}function aC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||dA()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class iu{constructor(t,i){this.shortDelay=t,this.longDelay=i,dr(i>t,"Short delay should be less than long delay!"),this.isMobile=cA()||mA()}get(){return aC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wp(r,t){dr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class VT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cC=new iu(3e4,6e4);function ds(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ms(r,t,i,a,l={}){return MT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=$l({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return fA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),VT.fetch()(await kT(r,r.config.apiHost,i,p),y)})}async function MT(r,t,i){r._canInitEmulator=!1;const a={...lC,...t};try{const l=new fC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Hc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Hc(r,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw OT(r,S,y);oi(r,S)}}catch(l){if(l instanceof mr)throw l;oi(r,"network-request-failed",{message:String(l)})}}async function ru(r,t,i,a,l={}){const c=await ms(r,t,i,a,l);return"mfaPendingCredential"in c&&oi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function kT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?wp(r.config,l):`${r.config.apiScheme}://${l}`;return uC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function hC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),cC.get())})}}function Hc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ki(r,t,a);return l.customData._tokenResponse=i,l}function v0(r){return r!==void 0&&r.enterprise!==void 0}class dC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return hC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mC(r,t){return ms(r,"GET","/v2/recaptchaConfig",ds(r,t))}async function pC(r,t){return ms(r,"POST","/v1/accounts:delete",t)}async function ph(r,t){return ms(r,"POST","/v1/accounts:lookup",t)}function Pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gC(r,t=!1){const i=Ze(r),a=await i.getIdToken(t),l=Rp(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Pl(sm(l.auth_time)),issuedAtTime:Pl(sm(l.iat)),expirationTime:Pl(sm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function Rp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=H0(i);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function E0(r){const t=Rp(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ql(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof mr&&yC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function yC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class _C{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const t=r.auth,i=await r.getIdToken(),a=await Ql(r,ph(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?LT(l.providerUserInfo):[],d=EC(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function vC(r){const t=Ze(r);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function EC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function LT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function TC(r,t){const i=await MT(r,{},async()=>{const a=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await kT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),VT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function SC(r,t){return ms(r,"POST","/v2/accounts:revokeToken",ds(r,t))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=E0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await TC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Wa;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Yr(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gC(this,t)}reload(){return vC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(or(this.auth));const t=await this.getIdToken();return await Ql(this,pC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:K,providerData:W,stsTokenManager:it}=i;gt(b&&it,t,"internal-error");const nt=Wa.fromJSON(this.name,it);gt(typeof b=="string",t,"internal-error"),Yr(a,t.name),Yr(l,t.name),gt(typeof x=="boolean",t,"internal-error"),gt(typeof K=="boolean",t,"internal-error"),Yr(c,t.name),Yr(d,t.name),Yr(p,t.name),Yr(_,t.name),Yr(y,t.name),Yr(S,t.name);const ft=new si({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:nt,createdAt:y,lastLoginAt:S});return W&&Array.isArray(W)&&(ft.providerData=W.map(At=>({...At}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await gh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?LT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Wa;p.updateFromIdToken(a);const _=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const T0=new Map;function sr(r){dr(r instanceof Function,"Expected a class definition");let t=T0.get(r);return t?(dr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,T0.set(r,t),t)}class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}UT.type="NONE";const S0=UT;function Jc(r,t,i){return`firebase:${r}:${t}:${i}`}class to{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ph(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new to(sr(S0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||sr(S0);const d=Jc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const x=await ph(t,{idToken:S}).catch(()=>{});if(!x)break;b=await si._fromGetAccountInfoResponse(t,x,S)}else b=si._fromJSON(t,S);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new to(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new to(c,t,a))}}function A0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HT(t))return"Blackberry";if(GT(t))return"Webos";if(zT(t))return"Safari";if((t.includes("chrome/")||jT(t))&&!t.includes("edge/"))return"Chrome";if(qT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function PT(r=an()){return/firefox\//i.test(r)}function zT(r=an()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jT(r=an()){return/crios\//i.test(r)}function BT(r=an()){return/iemobile/i.test(r)}function qT(r=an()){return/android/i.test(r)}function HT(r=an()){return/blackberry/i.test(r)}function GT(r=an()){return/webos/i.test(r)}function Cp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AC(r=an()){return Cp(r)&&!!window.navigator?.standalone}function bC(){return pA()&&document.documentMode===10}function FT(r=an()){return Cp(r)||qT(r)||GT(r)||HT(r)||/windows phone/i.test(r)||BT(r)}function KT(r,t=[]){let i;switch(r){case"Browser":i=A0(an());break;case"Worker":i=`${A0(an())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}class wC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function RC(r,t={}){return ms(r,"GET","/v2/passwordPolicy",ds(r,t))}const CC=6;class IC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??CC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class NC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new wC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=sr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ph(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(or(this));const i=t?Ze(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await RC(this),i=new IC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await SC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&sr(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[sr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ia(r){return Ze(r)}class b0{constructor(t){this.auth=t,this.observer=null,this.addObserver=AA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(r){zh=r}function QT(r){return zh.loadJS(r)}function xC(){return zh.recaptchaEnterpriseScript}function OC(){return zh.gapiScript}function VC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class MC{constructor(){this.enterprise=new kC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class kC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const LC="recaptcha-enterprise",YT="NO_RECAPTCHA";class UC{constructor(t){this.type=LC,this.auth=ia(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{mC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new dC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;v0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(YT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&v0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=xC();_.length!==0&&(_+=p),QT(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function w0(r,t,i,a=!1,l=!1){const c=new UC(r);let d;if(l)d=YT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Om(r,t,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await w0(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await w0(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function PC(r,t){const i=Pm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(lr(c,t??{}))return l;oi(l,"already-initialized")}return i.initialize({options:t})}function zC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(sr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function jC(r,t,i){const a=ia(r);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=XT(t),{host:d,port:p}=BC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(lr(y,a.config.emulator)&&lr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,co(d)?(Q0(`${c}//${d}${_}`),Y0("Auth",!0)):qC()}function XT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function BC(r){const t=XT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:R0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:R0(d)}}}function R0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function qC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ip{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,i){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function HC(r,t){return ms(r,"POST","/v1/accounts:signUp",t)}async function GC(r,t){return ru(r,"POST","/v1/accounts:signInWithPassword",ds(r,t))}async function FC(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,t))}async function KC(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,t))}class Yl extends Ip{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Yl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Yl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(t,i,"signInWithPassword",GC);case"emailLink":return FC(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(t,a,"signUpPassword",HC);case"emailLink":return KC(t,{idToken:i,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function eo(r,t){return ru(r,"POST","/v1/accounts:signInWithIdp",ds(r,t))}const QC="http://localhost";class Ws extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Ws(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return eo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,eo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,eo(t,i)}buildRequest(){const t={requestUri:QC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=$l(i)}return t}}function YC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XC(r){const t=Cl(Il(r)).link,i=t?Cl(Il(t)).deep_link_id:null,a=Cl(Il(r)).deep_link_id;return(a?Cl(Il(a)).link:null)||a||i||t||r}class Np{constructor(t){const i=Cl(Il(t)),a=i.apiKey??null,l=i.oobCode??null,c=YC(i.mode??null);gt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=XC(t);try{return new Np(i)}catch{return null}}}class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(t,i){return Yl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Np.parseLink(i);return gt(a,"argument-error"),Yl._fromEmailAndCode(t,a.code,a.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $T{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class su extends $T{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xr extends su{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";class $r extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ws._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return $r.credential(i,a)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";class Jr extends su{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Zr extends su{constructor(){super("twitter.com")}static credential(t,i){return Ws._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Zr.credential(i,a)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";async function $C(r,t){return ru(r,"POST","/v1/accounts:signUp",ds(r,t))}class ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=C0(a);return new ta({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=C0(a);return new ta({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function C0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class yh extends mr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new yh(t,i,a,l)}}function JT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,c,t,a):c})}async function JC(r,t,i=!1){const a=await Ql(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ta._forOperation(r,"link",a)}async function ZC(r,t,i=!1){const{auth:a}=r;if(Gn(a.app))return Promise.reject(or(a));const l="reauthenticate";try{const c=await Ql(r,JT(a,l,t,r),i);gt(c.idToken,a,"internal-error");const d=Rp(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(r.uid===p,a,"user-mismatch"),ta._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&oi(a,"user-mismatch"),c}}async function ZT(r,t,i=!1){if(Gn(r.app))return Promise.reject(or(r));const a="signIn",l=await JT(r,a,t),c=await ta._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function WC(r,t){return ZT(ia(r),t)}async function WT(r){const t=ia(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function tI(r,t,i){if(Gn(r.app))return Promise.reject(or(r));const a=ia(r),d=await Om(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$C).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&WT(r),_}),p=await ta._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function eI(r,t,i){return Gn(r.app)?Promise.reject(or(r)):WC(Ze(r),vo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&WT(r),a})}function nI(r,t,i,a){return Ze(r).onIdTokenChanged(t,i,a)}function iI(r,t,i){return Ze(r).beforeAuthStateChanged(t,i)}function rI(r,t,i,a){return Ze(r).onAuthStateChanged(t,i,a)}const _h="__sak";class t1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sI=1e3,aI=10;class e1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);bC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,aI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}e1.type="LOCAL";const oI=e1;class n1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}n1.type="SESSION";const i1=n1;function lI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class jh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new jh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await lI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];function Dp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class uI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Dp("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function cI(r){Li().location.href=r}function r1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function hI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fI(){return navigator?.serviceWorker?.controller||null}function dI(){return r1()?self:null}const s1="firebaseLocalStorageDb",mI=1,vh="firebaseLocalStorage",a1="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Bh(r,t){return r.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function pI(){const r=indexedDB.deleteDatabase(s1);return new au(r).toPromise()}function Vm(){const r=indexedDB.open(s1,mI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(vh,{keyPath:a1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(vh)?t(a):(a.close(),await pI(),t(await Vm()))})})}async function I0(r,t,i){const a=Bh(r,!0).put({[a1]:t,value:i});return new au(a).toPromise()}async function gI(r,t){const i=Bh(r,!1).get(t),a=await new au(i).toPromise();return a===void 0?null:a.value}function N0(r,t){const i=Bh(r,!0).delete(t);return new au(i).toPromise()}const yI=800,_I=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>_I)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(dI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hI(),!this.activeServiceWorker)return;this.sender=new uI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vm();return await I0(t,_h,"1"),await N0(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>I0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>gI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>N0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Bh(l,!1).getAll();return new au(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const vI=o1;new iu(3e4,6e4);function EI(r,t){return t?sr(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xp extends Ip{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return eo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function TI(r){return ZT(r.auth,new xp(r),r.bypassAuthState)}function SI(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),ZC(i,new xp(r),r.bypassAuthState)}async function AI(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),JC(i,new xp(r),r.bypassAuthState)}class l1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TI;case"linkViaPopup":case"linkViaRedirect":return AI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:oi(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bI=new iu(2e3,1e4);class $a extends l1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bI.get())};t()}}$a.currentPopupAction=null;const wI="pendingRedirect",Zc=new Map;class RI extends l1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const a=await CI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CI(r,t){const i=DI(t),a=NI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function II(r,t){Zc.set(r._key(),t)}function NI(r){return sr(r._redirectPersistence)}function DI(r){return Jc(wI,r.config.apiKey,r.name)}async function xI(r,t,i=!1){if(Gn(r.app))return Promise.reject(or(r));const a=ia(r),l=EI(a,t),d=await new RI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const OI=600*1e3;class VI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!u1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=OI&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(t))}saveEventToCache(t){this.cachedEventUids.add(D0(t)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function u1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function MI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(r);default:return!1}}async function kI(r,t={}){return ms(r,"GET","/v1/projects",t)}const LI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function PI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await kI(r);for(const i of t)try{if(zI(i))return}catch{}oi(r,"unauthorized-domain")}function zI(r){const t=Dm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!UI.test(i))return!1;if(LI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const jI=new iu(3e4,6e4);function x0(){const r=Li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function BI(r){return new Promise((t,i)=>{function a(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),i(ki(r,"network-request-failed"))},timeout:jI.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const l=VC("iframefcb");return Li()[l]=()=>{gapi.load?a():i(ki(r,"network-request-failed"))},QT(`${OC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function qI(r){return Wc=Wc||BI(r),Wc}const HI=new iu(5e3,15e3),GI="__/auth/iframe",FI="emulator/auth/iframe",KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YI(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wp(t,FI):`https://${r.config.authDomain}/${GI}`,a={apiKey:t.apiKey,appName:r.name,v:ho},l=QI.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$l(a).slice(1)}`}async function XI(r){const t=await qI(r),i=Li().gapi;return gt(i,r,"internal-error"),t.open({where:document.body,url:YI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ki(r,"network-request-failed"),p=Li().setTimeout(()=>{c(d)},HI.get());function _(){Li().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JI=500,ZI=600,WI="_blank",tN="http://localhost";class O0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(r,t,i,a=JI,l=ZI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...$I,width:a.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(p=jT(y)?WI:i),PT(y)&&(t=t||tN,_.scrollbars="yes");const S=Object.entries(_).reduce((x,[K,W])=>`${x}${K}=${W},`,"");if(AC(y)&&p!=="_self")return nN(t||"",p),new O0(null);const b=window.open(t||"",p,S);gt(b,r,"popup-blocked");try{b.focus()}catch{}return new O0(b)}function nN(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const iN="__/auth/handler",rN="emulator/auth/handler",sN=encodeURIComponent("fac");async function V0(r,t,i,a,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(t instanceof $T){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",SA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof su){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await r._getAppCheckToken(),y=_?`#${sN}=${encodeURIComponent(_)}`:"";return`${aN(r)}?${$l(p).slice(1)}${y}`}function aN({config:r}){return r.emulator?wp(r,rN):`https://${r.authDomain}/${iN}`}const am="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=xI,this._overrideRedirectResult=II}async _openPopup(t,i,a,l){dr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await V0(t,i,a,Dm(),l);return eN(t,c,Dp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await V0(t,i,a,Dm(),l);return cI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(dr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await XI(t),a=new VI(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(am,{type:am},l=>{const c=l?.[0]?.[am];c!==void 0&&i(!!c),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=PI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return FT()||zT()||Cp()}}const lN=oN;var M0="@firebase/auth",k0="1.12.0";class uN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(r){no(new Xs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(r)},y=new NC(a,l,c,_);return zC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),no(new Xs("auth-internal",t=>{const i=ia(t.getProvider("auth").getImmediate());return(a=>new uN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(M0,k0,cN(r)),ns(M0,k0,"esm2020")}const fN=300,dN=K0("authIdTokenMaxAge")||fN;let L0=null;const mN=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>dN)return;const l=i?.token;L0!==l&&(L0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pN(r=zm()){const t=Pm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=PC(r,{popupRedirectResolver:lN,persistence:[vI,oI,i1]}),a=K0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=mN(c.toString());iI(i,d,()=>d(i.currentUser)),nI(i,p=>d(p))}}const l=G0("auth");return l&&jC(i,`http://${l}`),i}function gN(){return document.getElementsByTagName("head")?.[0]??document}DC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",gN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");const c1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const yN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _N=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const U0=r=>{const t=_N(r);return t.charAt(0).toUpperCase()+t.slice(1)};var vN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const TN=ae.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>ae.createElement("svg",{ref:_,...vN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:c1("lucide",l),...!c&&!EN(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>ae.createElement(y,S)),...Array.isArray(c)?c:[c]]));const tn=(r,t)=>{const i=ae.forwardRef(({className:a,...l},c)=>ae.createElement(TN,{ref:c,iconNode:t,className:c1(`lucide-${yN(U0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=U0(r),i};const SN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],AN=tn("calendar",SN);const bN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],wN=tn("clock",bN);const RN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],CN=tn("compass",RN);const IN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],NN=tn("crown",IN);const DN=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],om=tn("gamepad-2",DN);const xN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ON=tn("log-out",xN);const VN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],MN=tn("palette",VN);const kN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LN=tn("search",kN);const UN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],PN=tn("shield",UN);const zN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],jN=tn("skull",zN);const BN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],P0=tn("timer",BN);const qN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],HN=tn("trash-2",qN);const GN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],FN=tn("user-plus",GN);const KN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],QN=tn("users",KN);const YN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],z0=tn("video",YN);const XN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$N=tn("x",XN);const JN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZN=tn("zap",JN),WN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},tD=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(r){console.error("Failed to parse environment firebase config",r)}return WN},th=tD(),Mm=!!(th&&th.apiKey&&th.apiKey.startsWith("AIza")),eD=typeof __app_id<"u"?__app_id:"community-calendar-production",yn=eD.replace(/[^a-zA-Z0-9]/g,"_");let lm,Xa,Se;if(Mm)try{lm=bb().length>0?zm():J0(th),Xa=pN(lm),Se=q2(lm)}catch(r){console.error("Firebase Initialization Error:",r)}const j0={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-500 hover:bg-indigo-600 text-white"}},nD=()=>{const[r,t]=ae.useState(null),[i,a]=ae.useState(!0),[l,c]=ae.useState("login"),[d,p]=ae.useState({email:"",password:"",displayName:""}),[_,y]=ae.useState(null),[S,b]=ae.useState([]),[x,K]=ae.useState([]),[W,it]=ae.useState("all"),[nt,ft]=ae.useState("calendar"),[At,vt]=ae.useState(!1),[Gt,se]=ae.useState(!1),[It,C]=ae.useState(null),[A,I]=ae.useState(""),[V,N]=ae.useState(!1),[k,w]=ae.useState({name:"",desc:""}),[mt,me]=ae.useState({displayName:"Operator",joinedGuilds:[],theme:"light"}),L=j0[mt.theme]||j0.light,[Z,lt]=ae.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});ae.useEffect(()=>{if(!Mm||!Xa){a(!1);return}const X=rI(Xa,pt=>{t(pt),a(!1)});return()=>X()},[]),ae.useEffect(()=>{if(!r||!Se)return;const X=Di(Se,"artifacts",yn,"users",r.uid,"profile","info");(async()=>(await eC(X)).exists()||await g0(X,{displayName:d.displayName||`Operator_${r.uid.slice(0,4)}`,joinedGuilds:[],theme:"light",createdAt:im()}))();const jt=rm(Rl(Se,"artifacts",yn,"public","data","sessions"),ye=>{b(ye.docs.map(Xt=>({id:Xt.id,...Xt.data()})))}),Wt=rm(Rl(Se,"artifacts",yn,"public","data","guilds"),ye=>{K(ye.docs.map(Xt=>({id:Xt.id,...Xt.data()})))}),Qt=rm(X,ye=>{ye.exists()&&me(Xt=>({...Xt,...ye.data()}))});return()=>{jt(),Wt(),Qt()}},[r]);const Pt=async X=>{X.preventDefault(),y(null),a(!0);try{l==="register"?await tI(Xa,d.email,d.password):await eI(Xa,d.email,d.password)}catch(pt){y(pt.message)}finally{a(!1)}},Ot=async X=>{!r||!Se||(N(!0),await g0(Di(Se,"artifacts",yn,"users",r.uid,"profile","info"),X,{merge:!0}),setTimeout(()=>N(!1),500))},O=async X=>{const Wt=(await nC(Rl(Se,"artifacts",yn,"public","data","sessions"))).docs.filter(Qt=>Qt.data().guildId===X).map(Qt=>qc(Qt.ref));await Promise.all(Wt)},Q=async X=>{window.confirm("PERMANENT DISBAND: This will delete the guild and all active missions. Continue?")&&(await qc(Di(Se,"artifacts",yn,"public","data","guilds",X)),await O(X))},et=async()=>{if(!k.name||!r||!Se)return;const X=await y0(Rl(Se,"artifacts",yn,"public","data","guilds"),{name:k.name,desc:k.desc||"Active Tactical Sector",ownerId:r.uid,members:[{uid:r.uid,name:mt.displayName}],createdAt:im()}),pt=[...mt.joinedGuilds||[],X.id];await Ot({...mt,joinedGuilds:pt}),w({name:"",desc:""}),se(!1)},rt=async X=>{if(!r||!Se)return;const pt=mt.joinedGuilds||[],jt=pt.includes(X.id),Wt=X.members||[];if(jt){const Qt=pt.filter(Xt=>Xt!==X.id);if(await Ot({...mt,joinedGuilds:Qt}),Wt.filter(Xt=>(Xt.uid||Xt)!==r.uid).length===0)await qc(Di(Se,"artifacts",yn,"public","data","guilds",X.id)),await O(X.id);else{const Xt=Wt.find(li=>(li.uid||li)===r.uid);await Bc(Di(Se,"artifacts",yn,"public","data","guilds",X.id),{members:Z2(Xt)})}}else await Ot({...mt,joinedGuilds:[...pt,X.id]}),await Bc(Di(Se,"artifacts",yn,"public","data","guilds",X.id),{members:J2({uid:r.uid,name:mt.displayName})})},_t=async X=>{if(!Se||!r)return;const pt=X.participants||[],jt=pt.some(Qt=>Qt.uid===r.uid),Wt=Number(X.maxOpenings||0)+1;if(jt){const Qt=pt.filter(ye=>ye.uid!==r.uid);await Bc(Di(Se,"artifacts",yn,"public","data","sessions",X.id),{participants:Qt})}else{if(pt.length>=Wt)return;const Qt=[...pt,{uid:r.uid,name:mt.displayName}];await Bc(Di(Se,"artifacts",yn,"public","data","sessions",X.id),{participants:Qt})}},bt=async X=>{if(X.preventDefault(),!Se||!r)return;const pt=Z.guildId||W;pt!=="all"&&(await y0(Rl(Se,"artifacts",yn,"public","data","sessions"),{...Z,maxOpenings:Number(Z.maxOpenings),guildId:pt,userId:r.uid,userName:mt.displayName,participants:[{uid:r.uid,name:mt.displayName}],createdAt:im()}),vt(!1))},Nt=ae.useMemo(()=>{const X=mt.joinedGuilds||[],pt=S.filter(Wt=>(W==="all"?X.includes(Wt.guildId):Wt.guildId===W)&&String(Wt.gameTitle).toLowerCase().includes(A.toLowerCase())).sort((Wt,Qt)=>String(Wt.date).localeCompare(String(Qt.date))),jt={};return pt.forEach(Wt=>{const Qt=String(Wt.date);jt[Qt]||(jt[Qt]=[]),jt[Qt].push(Wt)}),jt},[S,W,mt.joinedGuilds,A]);return Mm?i?j.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:j.jsx(om,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):r?j.jsxs("div",{className:`min-h-screen ${L.bg} ${L.text} transition-colors duration-500`,children:[j.jsxs("header",{className:`${L.header} border-b ${L.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[j.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>ft("calendar"),children:[j.jsx(om,{className:`w-8 h-8 ${L.accent}`}),j.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),j.jsxs("nav",{className:"flex items-center gap-4",children:[j.jsx("button",{onClick:()=>ft("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${nt==="calendar"?L.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),j.jsx("button",{onClick:()=>ft("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${nt==="profile"?L.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),j.jsx("button",{onClick:()=>Xa.signOut(),className:"p-2 opacity-40 hover:text-rose-500 transition",children:j.jsx(ON,{className:"w-4 h-4"})})]})]}),j.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[j.jsxs("aside",{className:"w-full md:w-72",children:[j.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Command Stream"}),j.jsx("button",{onClick:()=>it("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${W==="all"?L.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),j.jsxs("div",{className:"mt-6 space-y-2",children:[j.jsx("p",{className:"text-[9px] font-black uppercase opacity-20 ml-2 mb-2 tracking-widest",children:"Joined Sectors"}),x.filter(X=>mt.joinedGuilds?.includes(X.id)).map(X=>j.jsxs("div",{className:"flex items-center gap-1 group",children:[j.jsx("button",{onClick:()=>it(X.id),className:`flex-1 text-left p-3 rounded-xl font-bold text-xs transition truncate ${W===X.id?L.button:"hover:bg-slate-500/10"}`,children:String(X.name)}),j.jsx("button",{onClick:()=>C(X),className:"p-3 rounded-xl bg-slate-500/5 hover:bg-indigo-500 hover:text-white transition opacity-0 group-hover:opacity-100",title:"View Roster",children:j.jsx(QN,{className:"w-4 h-4"})})]},X.id))]}),j.jsxs("button",{onClick:()=>se(!0),className:"w-full p-4 mt-6 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[j.jsx(CN,{className:"w-4 h-4"})," Find Sectors"]})]}),j.jsx("div",{className:"flex-1",children:nt==="calendar"?j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[j.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:W==="all"?"The Hub":x.find(X=>X.id===W)?.name}),j.jsxs("div",{className:"flex gap-4",children:[j.jsxs("div",{className:"relative group",children:[j.jsx(LN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),j.jsx("input",{type:"text",placeholder:"Filter...",value:A,onChange:X=>I(X.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${L.card} border ${L.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),j.jsx("button",{onClick:()=>vt(!0),className:`${L.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg active:scale-95 transition`,children:"+ New Mission"})]})]}),j.jsx("div",{className:"space-y-12",children:Object.entries(Nt).length===0?j.jsxs("div",{className:"py-20 text-center opacity-20 border-2 border-dashed rounded-[3rem] border-slate-500/30",children:[j.jsx(AN,{className:"mx-auto mb-4 w-12 h-12"}),j.jsx("p",{className:"font-black uppercase tracking-widest text-xs italic",children:"Sector Empty"})]}):Object.entries(Nt).map(([X,pt])=>j.jsxs("div",{children:[j.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[j.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:X}),j.jsx("div",{className:`flex-1 h-px ${L.border}`})]}),j.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:pt.map(jt=>{const Wt=jt.participants?.some(Xt=>Xt.uid===r?.uid),Qt=(Number(jt.maxOpenings)||0)+1,ye=(jt.participants?.length||0)>=Qt;return j.jsxs("div",{className:`${L.card} border ${L.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[jt.isStreaming&&j.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 bg-rose-600 text-white px-3 py-1 rounded-full animate-pulse shadow-lg",children:[j.jsx(z0,{className:"w-3 h-3"}),j.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest",children:[jt.streamPlatform," Live"]})]}),j.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors leading-tight mb-4",children:String(jt.gameTitle)}),j.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[j.jsxs("div",{className:"flex items-center gap-2 opacity-40",children:[j.jsx(wN,{className:"w-3 h-3"}),j.jsx("span",{className:"text-[10px] font-black uppercase",children:String(jt.startTime)})]}),j.jsxs("div",{className:"flex items-center gap-2 opacity-40",children:[j.jsx(P0,{className:"w-3 h-3"}),j.jsxs("span",{className:"text-[10px] font-black uppercase",children:[jt.duration," HR"]})]})]}),j.jsxs("div",{className:"mb-8 flex-1",children:[j.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-4",children:[jt.participants?.length||0," / ",Qt," Enlisted"]}),j.jsx("div",{className:"flex flex-wrap gap-2",children:jt.participants?.map((Xt,li)=>j.jsxs("div",{className:`flex items-center gap-2 text-[9px] font-black px-4 py-2 rounded-full ${L.bg} border ${L.border} uppercase shadow-sm`,children:[j.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),String(Xt.name)]},li))})]}),j.jsxs("div",{className:"flex gap-3 mt-auto",children:[j.jsx("button",{onClick:()=>_t(jt),disabled:ye&&!Wt,className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition active:scale-95 ${Wt?"bg-rose-500/10 text-rose-500 border border-rose-500/20":ye?"bg-slate-500/10 text-slate-400 opacity-50 cursor-not-allowed":L.button}`,children:Wt?"Retire":ye?"Mission Full":"Enlist"}),jt.userId===r?.uid&&j.jsx("button",{onClick:()=>qc(Di(Se,"artifacts",yn,"public","data","sessions",jt.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:j.jsx(HN,{className:"w-5 h-5"})})]})]},jt.id)})})]},X))})]}):j.jsxs("div",{className:`${L.card} border ${L.border} rounded-[5rem] p-16 text-center shadow-2xl max-w-2xl mx-auto`,children:[j.jsx("div",{className:"w-32 h-32 mx-auto mb-10 rounded-[3rem] bg-indigo-600 flex items-center justify-center text-white text-6xl font-black shadow-2xl",children:String(mt.displayName).charAt(0)}),j.jsx("input",{type:"text",value:mt.displayName,onChange:X=>me({...mt,displayName:X.target.value}),onBlur:()=>Ot(mt),className:"w-full bg-transparent text-center text-5xl font-black italic uppercase outline-none focus:text-indigo-600 transition mb-12"}),j.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-10 border-t border-slate-500/10",children:[j.jsx("button",{onClick:()=>Ot({...mt,theme:"light"}),className:`p-8 rounded-[2.5rem] border-2 transition ${mt.theme==="light"?"border-indigo-600 bg-white shadow-xl":"border-transparent opacity-40 hover:opacity-100"}`,children:j.jsx(MN,{className:"w-8 h-8 text-indigo-600"})}),j.jsx("button",{onClick:()=>Ot({...mt,theme:"dark"}),className:`p-8 rounded-[2.5rem] border-2 transition ${mt.theme==="dark"?"border-indigo-400 bg-zinc-900 shadow-xl":"border-transparent opacity-40"}`,children:j.jsx(ZN,{className:"w-8 h-8 text-indigo-400"})})]})]})})]}),It&&j.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:j.jsxs("div",{className:`${L.card} border ${L.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[j.jsxs("div",{className:"flex justify-between items-start mb-10",children:[j.jsxs("div",{children:[j.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:It.name}),j.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mt-2 tracking-widest",children:"Active Personnel Intel"})]}),j.jsx("button",{onClick:()=>C(null),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:j.jsx($N,{})})]}),j.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:It.members?.map((X,pt)=>j.jsxs("div",{className:`${L.bg} p-4 rounded-3xl border ${L.border} flex items-center gap-4`,children:[j.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-600 flex items-center justify-center text-[11px] font-black text-white",children:String(X.name||"O").charAt(0)}),j.jsxs("div",{className:"flex-1 overflow-hidden",children:[j.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate",children:String(X.name||"Unknown Op")}),j.jsx("p",{className:"text-[8px] opacity-20 font-bold uppercase truncate",children:X.uid||X})]}),(X.uid||X)===It.ownerId&&j.jsx(NN,{className:"w-4 h-4 text-amber-500"})]},pt))}),j.jsx("button",{onClick:()=>C(null),className:"w-full py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest transition shadow-xl active:scale-95",children:"Close Deck"})]})}),Gt&&j.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:j.jsxs("div",{className:`${L.card} border ${L.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[j.jsxs("div",{className:"flex justify-between items-start mb-10",children:[j.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Directory"}),j.jsx("button",{onClick:()=>se(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),j.jsx("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:x.map(X=>j.jsxs("div",{className:`${L.bg} p-6 rounded-[2.5rem] border ${L.border} flex justify-between items-center group`,children:[j.jsxs("div",{className:"flex-1",children:[j.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(X.name)}),j.jsxs("p",{className:"text-[9px] font-black opacity-30 mt-1 uppercase",children:[X.members?.length||0," Members"]})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("button",{onClick:()=>rt(X),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${mt.joinedGuilds?.includes(X.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":L.button}`,children:mt.joinedGuilds?.includes(X.id)?"Retire":"Enlist"}),X.ownerId===r?.uid&&j.jsx("button",{onClick:()=>Q(X.id),className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:j.jsx(jN,{className:"w-4 h-4"})})]})]},X.id))}),j.jsxs("div",{className:`pt-10 border-t ${L.border} space-y-4`,children:[j.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"New Tactical Sector"}),j.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:k.name,onChange:X=>w({...k,name:X.target.value})}),j.jsx("button",{onClick:et,className:`w-full py-5 rounded-3xl ${L.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Commission Registry"})]})]})}),At&&j.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:j.jsxs("div",{className:`${L.card} border ${L.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[j.jsxs("div",{className:"flex justify-between items-start mb-8",children:[j.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),j.jsx("button",{onClick:()=>vt(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),j.jsxs("form",{onSubmit:bt,className:"space-y-6",children:[j.jsx("input",{placeholder:"GAME / OPERATION NAME",className:`w-full p-5 rounded-2xl ${L.bg} border ${L.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:Z.gameTitle,onChange:X=>lt({...Z,gameTitle:X.target.value}),required:!0}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[j.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black`,value:Z.date,onChange:X=>lt({...Z,date:X.target.value})}),j.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black`,value:Z.startTime,onChange:X=>lt({...Z,startTime:X.target.value})}),j.jsxs("div",{className:"relative",children:[j.jsx(P0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),j.jsx("input",{type:"number",placeholder:"HR",className:`w-full pl-12 p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black`,value:Z.duration,onChange:X=>lt({...Z,duration:X.target.value})})]})]}),j.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[j.jsxs("select",{className:`w-full p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black uppercase`,value:Z.guildId,onChange:X=>lt({...Z,guildId:X.target.value}),required:!0,children:[j.jsx("option",{value:"",children:"Select Guild"}),x.filter(X=>mt.joinedGuilds?.includes(X.id)).map(X=>j.jsx("option",{value:X.id,children:String(X.name)},X.id))]}),j.jsxs("div",{className:"relative",children:[j.jsx(FN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),j.jsx("input",{type:"number",placeholder:"SLOTS",className:`w-full pl-12 p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black`,value:Z.maxOpenings,onChange:X=>lt({...Z,maxOpenings:X.target.value})})]})]}),j.jsxs("div",{className:`${L.bg} p-6 rounded-3xl border ${L.border} flex items-center justify-between`,children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx(z0,{className:"w-5 h-5 opacity-40"}),j.jsx("div",{children:j.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:"Broadcast Mission"})})]}),j.jsx("button",{type:"button",onClick:()=>lt({...Z,isStreaming:!Z.isStreaming}),className:`w-14 h-8 rounded-full transition-colors relative ${Z.isStreaming?"bg-indigo-600":"bg-slate-300 dark:bg-zinc-800"}`,children:j.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${Z.isStreaming?"left-7 shadow-lg":"left-1"}`})})]}),j.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${L.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition mt-4`,children:"Deploy Mission"})]})]})})]}):j.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:j.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[j.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),j.jsxs("div",{className:"text-center mb-10",children:[j.jsx(om,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),j.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"}),j.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.3em] opacity-30 mt-2",children:"Operator Identity Registry"})]}),j.jsxs("form",{onSubmit:Pt,className:"space-y-4",children:[j.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase",value:d.email,onChange:X=>p({...d,email:X.target.value})}),j.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase",value:d.password,onChange:X=>p({...d,password:X.target.value})}),_&&j.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),j.jsx("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition flex items-center justify-center gap-2",children:"Establish Link"})]}),j.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):j.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[j.jsx(PN,{className:"w-16 h-16 text-rose-500 mb-6"}),j.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"}),j.jsx("p",{className:"opacity-50 text-sm",children:"Update Firebase keys in src/App.jsx."})]})};$S.createRoot(document.getElementById("root")).render(j.jsx(ae.StrictMode,{children:j.jsx(nD,{})}));
