(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},_l={};var B_;function xS(){if(B_)return _l;B_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var q_;function VS(){return q_||(q_=1,kd.exports=xS()),kd.exports}var H=VS(),Ld={exports:{}},At={};var H_;function MS(){if(H_)return At;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function K(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,nt={};function dt(N,Q,et){this.props=N,this.context=Q,this.refs=nt,this.updater=et||Z}dt.prototype.isReactComponent={},dt.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},dt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function wt(){}wt.prototype=dt.prototype;function _t(N,Q,et){this.props=N,this.context=Q,this.refs=nt,this.updater=et||Z}var qt=_t.prototype=new wt;qt.constructor=_t,it(qt,dt.prototype),qt.isPureReactComponent=!0;var ee=Array.isArray;function Ot(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(N,Q,et){var rt=et.ref;return{$$typeof:r,type:N,key:Q,ref:rt!==void 0?rt:null,props:et}}function V(N,Q){return C(N.type,Q,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function M(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(et){return Q[et]})}var w=/\/+/g;function vt(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):Q.toString(36)}function he(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ot,Ot):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function L(N,Q,et,rt,yt){var $=typeof N;($==="undefined"||$==="boolean")&&(N=null);var ut=!1;if(N===null)ut=!0;else switch($){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(N.$$typeof){case r:case t:ut=!0;break;case S:return ut=N._init,L(ut(N._payload),Q,et,rt,yt)}}if(ut)return yt=yt(N),ut=rt===""?"."+vt(N,0):rt,ee(yt)?(et="",ut!=null&&(et=ut.replace(w,"$&/")+"/"),L(yt,Q,et,"",function(ue){return ue})):yt!=null&&(O(yt)&&(yt=V(yt,et+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+ut)),Q.push(yt)),1;ut=0;var St=rt===""?".":rt+":";if(ee(N))for(var Et=0;Et<N.length;Et++)rt=N[Et],$=St+vt(rt,Et),ut+=L(rt,Q,et,$,yt);else if(Et=K(N),typeof Et=="function")for(N=Et.call(N),Et=0;!(rt=N.next()).done;)rt=rt.value,$=St+vt(rt,Et++),ut+=L(rt,Q,et,$,yt);else if($==="object"){if(typeof N.then=="function")return L(he(N),Q,et,rt,yt);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ut}function W(N,Q,et){if(N==null)return N;var rt=[],yt=0;return L(N,rt,"","",function($){return Q.call(et,$,yt++)}),rt}function ct(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(et){(N._status===0||N._status===-1)&&(N._status=1,N._result=et)},function(et){(N._status===0||N._status===-1)&&(N._status=2,N._result=et)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Ut=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ht={map:W,forEach:function(N,Q,et){W(N,function(){Q.apply(this,arguments)},et)},count:function(N){var Q=0;return W(N,function(){Q++}),Q},toArray:function(N){return W(N,function(Q){return Q})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return At.Activity=b,At.Children=Ht,At.Component=dt,At.Fragment=i,At.Profiler=l,At.PureComponent=_t,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},At.cache=function(N){return function(){return N.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(N,Q,et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var rt=it({},N.props),yt=N.key;if(Q!=null)for($ in Q.key!==void 0&&(yt=""+Q.key),Q)!A.call(Q,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&Q.ref===void 0||(rt[$]=Q[$]);var $=arguments.length-2;if($===1)rt.children=et;else if(1<$){for(var ut=Array($),St=0;St<$;St++)ut[St]=arguments[St+2];rt.children=ut}return C(N.type,yt,rt)},At.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},At.createElement=function(N,Q,et){var rt,yt={},$=null;if(Q!=null)for(rt in Q.key!==void 0&&($=""+Q.key),Q)A.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=Q[rt]);var ut=arguments.length-2;if(ut===1)yt.children=et;else if(1<ut){for(var St=Array(ut),Et=0;Et<ut;Et++)St[Et]=arguments[Et+2];yt.children=St}if(N&&N.defaultProps)for(rt in ut=N.defaultProps,ut)yt[rt]===void 0&&(yt[rt]=ut[rt]);return C(N,$,yt)},At.createRef=function(){return{current:null}},At.forwardRef=function(N){return{$$typeof:p,render:N}},At.isValidElement=O,At.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:ct}},At.memo=function(N,Q){return{$$typeof:y,type:N,compare:Q===void 0?null:Q}},At.startTransition=function(N){var Q=I.T,et={};I.T=et;try{var rt=N(),yt=I.S;yt!==null&&yt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,Ut)}catch($){Ut($)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),I.T=Q}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(N){return I.H.use(N)},At.useActionState=function(N,Q,et){return I.H.useActionState(N,Q,et)},At.useCallback=function(N,Q){return I.H.useCallback(N,Q)},At.useContext=function(N){return I.H.useContext(N)},At.useDebugValue=function(){},At.useDeferredValue=function(N,Q){return I.H.useDeferredValue(N,Q)},At.useEffect=function(N,Q){return I.H.useEffect(N,Q)},At.useEffectEvent=function(N){return I.H.useEffectEvent(N)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(N,Q,et){return I.H.useImperativeHandle(N,Q,et)},At.useInsertionEffect=function(N,Q){return I.H.useInsertionEffect(N,Q)},At.useLayoutEffect=function(N,Q){return I.H.useLayoutEffect(N,Q)},At.useMemo=function(N,Q){return I.H.useMemo(N,Q)},At.useOptimistic=function(N,Q){return I.H.useOptimistic(N,Q)},At.useReducer=function(N,Q,et){return I.H.useReducer(N,Q,et)},At.useRef=function(N){return I.H.useRef(N)},At.useState=function(N){return I.H.useState(N)},At.useSyncExternalStore=function(N,Q,et){return I.H.useSyncExternalStore(N,Q,et)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.4",At}var G_;function Dm(){return G_||(G_=1,Ld.exports=MS()),Ld.exports}var ne=Dm(),Ud={exports:{}},vl={},Pd={exports:{}},zd={};var F_;function kS(){return F_||(F_=1,(function(r){function t(L,W){var ct=L.length;L.push(W);t:for(;0<ct;){var Ut=ct-1>>>1,Ht=L[Ut];if(0<l(Ht,W))L[Ut]=W,L[ct]=Ht,ct=Ut;else break t}}function i(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var W=L[0],ct=L.pop();if(ct!==W){L[0]=ct;t:for(var Ut=0,Ht=L.length,N=Ht>>>1;Ut<N;){var Q=2*(Ut+1)-1,et=L[Q],rt=Q+1,yt=L[rt];if(0>l(et,ct))rt<Ht&&0>l(yt,et)?(L[Ut]=yt,L[rt]=ct,Ut=rt):(L[Ut]=et,L[Q]=ct,Ut=Q);else if(rt<Ht&&0>l(yt,ct))L[Ut]=yt,L[rt]=ct,Ut=rt;else break t}}return W}function l(L,W){var ct=L.sortIndex-W.sortIndex;return ct!==0?ct:L.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],S=1,b=null,x=3,K=!1,Z=!1,it=!1,nt=!1,dt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function qt(L){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=L)a(y),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(y)}}function ee(L){if(it=!1,qt(L),!Z)if(i(_)!==null)Z=!0,Ot||(Ot=!0,M());else{var W=i(y);W!==null&&he(ee,W.startTime-L)}}var Ot=!1,I=-1,A=5,C=-1;function V(){return nt?!0:!(r.unstable_now()-C<A)}function O(){if(nt=!1,Ot){var L=r.unstable_now();C=L;var W=!0;try{t:{Z=!1,it&&(it=!1,wt(I),I=-1),K=!0;var ct=x;try{e:{for(qt(L),b=i(_);b!==null&&!(b.expirationTime>L&&V());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,x=b.priorityLevel;var Ht=Ut(b.expirationTime<=L);if(L=r.unstable_now(),typeof Ht=="function"){b.callback=Ht,qt(L),W=!0;break e}b===i(_)&&a(_),qt(L)}else a(_);b=i(_)}if(b!==null)W=!0;else{var N=i(y);N!==null&&he(ee,N.startTime-L),W=!1}}break t}finally{b=null,x=ct,K=!1}W=void 0}}finally{W?M():Ot=!1}}}var M;if(typeof _t=="function")M=function(){_t(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,vt=w.port2;w.port1.onmessage=O,M=function(){vt.postMessage(null)}}else M=function(){dt(O,0)};function he(L,W){I=dt(function(){L(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(L){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ct=x;x=W;try{return L()}finally{x=ct}},r.unstable_requestPaint=function(){nt=!0},r.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ct=x;x=L;try{return W()}finally{x=ct}},r.unstable_scheduleCallback=function(L,W,ct){var Ut=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ut+ct:Ut):ct=Ut,L){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,L={id:S++,callback:W,priorityLevel:L,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>Ut?(L.sortIndex=ct,t(y,L),i(_)===null&&L===i(y)&&(it?(wt(I),I=-1):it=!0,he(ee,ct-Ut))):(L.sortIndex=Ht,t(_,L),Z||K||(Z=!0,Ot||(Ot=!0,M()))),L},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(L){var W=x;return function(){var ct=x;x=W;try{return L.apply(this,arguments)}finally{x=ct}}}})(zd)),zd}var K_;function LS(){return K_||(K_=1,Pd.exports=kS()),Pd.exports}var jd={exports:{}},$e={};var Q_;function US(){if(Q_)return $e;Q_=1;var r=Dm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},$e.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},$e.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},$e.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},$e.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:K}):S==="script"&&a.d.X(_,{crossOrigin:b,integrity:x,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},$e.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},$e.requestFormReset=function(_){a.d.r(_)},$e.unstable_batchedUpdates=function(_,y){return _(y)},$e.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var Y_;function PS(){if(Y_)return jd.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=US(),jd.exports}var X_;function zS(){if(X_)return vl;X_=1;var r=LS(),t=Dm(),i=PS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function vt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case dt:return"Profiler";case nt:return"StrictMode";case ee:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case _t:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:vt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return vt(e(n))}catch{}}return null}var he=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function N(e){return{current:e}}function Q(e){0>Ht||(e.current=Ut[Ht],Ut[Ht]=null,Ht--)}function et(e,n){Ht++,Ut[Ht]=e.current,e.current=n}var rt=N(null),yt=N(null),$=N(null),ut=N(null);function St(e,n){switch(et($,n),et(yt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?c_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=c_(n),e=h_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),et(rt,e)}function Et(){Q(rt),Q(yt),Q($)}function ue(e){e.memoizedState!==null&&et(ut,e);var n=rt.current,s=h_(n,e.type);n!==s&&(et(yt,e),et(rt,s))}function Xe(e){yt.current===e&&(Q(rt),Q(yt)),ut.current===e&&(Q(ut),ml._currentValue=ct)}var an,ea;function si(e){if(an===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);an=n&&n[1]||"",ea=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+e+ea}var mo=!1;function us(e,n){if(!e||mo)return"";mo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?si(s):""}function po(e,n){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==n&&n!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return si("Activity");default:return""}}function go(e){try{var n="",s=null;do n+=po(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Lh=r.unstable_shouldYield,nu=r.unstable_requestPaint,en=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Uh=r.unstable_LowPriority,iu=r.unstable_IdlePriority,ru=r.log,su=r.unstable_setDisableYieldValue,qn=null,je=null;function Cn(e){if(typeof ru=="function"&&su(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var me=Math.clz32?Math.clz32:ou,au=Math.log,na=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(au(e)/na|0)|0}var ai=256,hs=262144,Te=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(g&=E,g!==0?h=oi(g):s||(s=E&~e,s!==0&&(h=oi(s))))):(E=o&~f,E!==0?h=oi(E):g!==0?h=oi(g):s||(s=o&~e,s!==0&&(h=oi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ui(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-me(s),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ds(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-me(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-me(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:ms(s),(s&(e.suspendedLanes|n))!==0?0:s}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:M_(e.type))}function Gn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Fn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Fn,ke="__reactProps$"+Fn,ci="__reactContainer$"+Fn,ia="__reactEvents$"+Fn,jh="__reactListeners$"+Fn,cu="__reactHandles$"+Fn,hu="__reactResources$"+Fn,hi="__reactMarker$"+Fn;function ra(e){delete e[Se],delete e[ke],delete e[ia],delete e[jh],delete e[cu]}function fi(e){var n=e[Se];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ci]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=__(e);e!==null;){if(s=e[Se])return s;e=__(e)}return n}e=s,s=e.parentNode}return null}function In(e){if(e=e[Se]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function di(e){var n=e[hu];return n||(n=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[hi]=!0}var To=new Set,So={};function mi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(So[e]=n,e=0;e<n.length;e++)To.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function fu(e){return Ee.call(wo,e)?!0:Ee.call(bo,e)?!1:Ao.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function sa(e,n,s){if(fu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function yn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function on(e){return e.replace(gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Le(n)):s!=null?Co(e,g,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function du(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function Co(e,n,s){n==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function mu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function fr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(he(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function ln(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||pu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function No(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Do=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,yi=null;function ys(e){var n=In(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ps(o)}break t;case"textarea":mu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hr(e,!!s.multiple,n,!1)}}}var ua=!1;function pr(e,n,s){if(ua)return e(n,s);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(mr!==null||yi!==null)&&(uc(),mr&&(n=mr,e=yi,yi=mr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(Dn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){_s=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{_s=!1}var _i=null,Oo=null,vs=null;function xo(){if(vs)return vs;var e,n=Oo,s=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Yn(){return!1}function Be(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Be(Ui),gr=b({},Ui,{view:0,detail:0}),Vo=Be(gr),yr,ca,Ei,ha=b({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(yr=e.screenX-Ei.screenX,ca=e.screenY-Ei.screenY):ca=yr=0,Ei=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Mo=Be(ha),Ts=b({},ha,{dataTransfer:0}),yu=Be(Ts),_u=b({},gr,{relatedTarget:0}),Ss=Be(_u),ko=b({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Be(ko),fa=b({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eu=Be(fa),Tu=b({},Ui,{data:0}),Ti=Be(Tu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function _r(){return wu}var nn=b({},gr,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ru=Be(nn),Cu=b({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Be(Cu),u=b({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=Be(u),v=b({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),U=b({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(U),tt=b({},Ui,{newState:0,oldState:0}),Rt=Be(tt),pe=[9,13,27,32],Gt=Dn&&"CompositionEvent"in window,oe=null;Dn&&"documentMode"in document&&(oe=document.documentMode);var On=Dn&&"TextEvent"in window&&!oe,Si=Dn&&(!Gt||oe&&8<oe&&11>=oe),Xn=" ",$n=!1;function As(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function n1(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function i1(e,n){if(ma)return e==="compositionend"||!Gt&&As(e,n)?(e=xo(),vs=Oo=_i=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var r1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!r1[e.type]:n==="textarea"}function Sp(e,n,s,o){mr?yi?yi.push(o):yi=[o]:mr=o,n=gc(n,"onChange"),0<n.length&&(s=new vi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Lo=null,Uo=null;function s1(e){r_(e,0)}function Iu(e){var n=gn(e);if(ps(n))return e}function Ap(e,n){if(e==="change")return n}var bp=!1;if(Dn){var Bh;if(Dn){var qh="oninput"in document;if(!qh){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),qh=typeof wp.oninput=="function"}Bh=qh}else Bh=!1;bp=Bh&&(!document.documentMode||9<document.documentMode)}function Rp(){Lo&&(Lo.detachEvent("onpropertychange",Cp),Uo=Lo=null)}function Cp(e){if(e.propertyName==="value"&&Iu(Uo)){var n=[];Sp(n,Uo,e,Nn(e)),pr(s1,n)}}function a1(e,n,s){e==="focusin"?(Rp(),Lo=n,Uo=s,Lo.attachEvent("onpropertychange",Cp)):e==="focusout"&&Rp()}function o1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Uo)}function l1(e,n){if(e==="click")return Iu(n)}function u1(e,n){if(e==="input"||e==="change")return Iu(n)}function c1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:c1;function Po(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ee.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function Ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,n){var s=Ip(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ip(s)}}function Dp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Op(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gi(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var h1=Dn&&"documentMode"in document&&11>=document.documentMode,pa=null,Gh=null,zo=null,Fh=!1;function xp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fh||pa==null||pa!==gi(o)||(o=pa,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=gc(Gh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=pa)))}function bs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ga={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Kh={},Vp={};Dn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function ws(e){if(Kh[e])return Kh[e];if(!ga[e])return e;var n=ga[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vp)return Kh[e]=n[s];return e}var Mp=ws("animationend"),kp=ws("animationiteration"),Lp=ws("animationstart"),f1=ws("transitionrun"),d1=ws("transitionstart"),m1=ws("transitioncancel"),Up=ws("transitionend"),Pp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Jn(e,n){Pp.set(e,n),mi(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ya=0,Yh=0;function Du(){for(var e=ya,n=Yh=ya=0;n<e;){var s=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&zp(s,h,f)}}function Ou(e,n,s,o){xn[ya++]=e,xn[ya++]=n,xn[ya++]=s,xn[ya++]=o,Yh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,s,o){return Ou(e,n,s,o),xu(e)}function Rs(e,n){return Ou(e,null,null,n),xu(e)}function zp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function xu(e){if(50<ol)throw ol=0,sd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function p1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,s,o){return new p1(e,n,s,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var s=e.alternate;return s===null?(s=vn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function jp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")$h(e)&&(g=1);else if(typeof e=="string")g=ES(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=vn(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Cs(s.children,h,f,n);case nt:g=8,h|=24;break;case dt:return e=vn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ee:return e=vn(13,s,n,h),e.elementType=ee,e.lanes=f,e;case Ot:return e=vn(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case wt:g=9;break t;case qt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=vn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cs(e,n,s,o){return e=vn(7,e,o,n),e.lanes=s,e}function Jh(e,n,s){return e=vn(6,e,null,n),e.lanes=s,e}function Bp(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,s){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var qp=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=qp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:go(n)},qp.set(e,n),n)}return{value:e,source:n,stack:go(n)}}var va=[],Ea=0,Mu=null,jo=0,Mn=[],kn=0,vr=null,Ai=1,bi="";function ji(e,n){va[Ea++]=jo,va[Ea++]=Mu,Mu=e,jo=n}function Hp(e,n,s){Mn[kn++]=Ai,Mn[kn++]=bi,Mn[kn++]=vr,vr=e;var o=Ai;e=bi;var h=32-me(o)-1;o&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-me(n)+h|s<<h|o,bi=f+e}else Ai=1<<f|s<<h|o,bi=e}function Wh(e){e.return!==null&&(ji(e,1),Hp(e,1,0))}function tf(e){for(;e===Mu;)Mu=va[--Ea],va[Ea]=null,jo=va[--Ea],va[Ea]=null;for(;e===vr;)vr=Mn[--kn],Mn[kn]=null,bi=Mn[--kn],Mn[kn]=null,Ai=Mn[--kn],Mn[kn]=null}function Gp(e,n){Mn[kn++]=Ai,Mn[kn++]=bi,Mn[kn++]=vr,Ai=n.id,bi=n.overflow,vr=e}var qe=null,ie=null,Pt=!1,Er=null,Ln=!1,ef=Error(a(519));function Tr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Vn(n,e)),ef}function Fp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Se]=e,n[ke]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Dt(ul[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),fr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||l_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Tr(e,!0)}function Kp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:qe=qe.return}}function Ta(e){if(e!==qe)return!1;if(!Pt)return Kp(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ed(e.type,e.memoizedProps)),s=!s),s&&ie&&Tr(e),Kp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=y_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=y_(e)}else n===27?(n=ie,kr(e.type)?(e=wd,wd=null,ie=e):ie=n):ie=qe?Pn(e.stateNode.nextSibling):null;return!0}function Is(){ie=qe=null,Pt=!1}function nf(){var e=Er;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Er=null),e}function Bo(e){Er===null?Er=[e]:Er.push(e)}var rf=N(null),Ns=null,Bi=null;function Sr(e,n,s){et(rf,n._currentValue),n._currentValue=s}function qi(e){e._currentValue=rf.current,Q(rf)}function sf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function af(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),sf(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),sf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&af(n,e,s,o),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Ns=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Qp(Ns,e)}function Lu(e,n){return Ns===null&&Ds(e),Qp(e,n)}function Qp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Bi===null){if(e===null)throw Error(a(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return s}var g1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},y1=r.unstable_scheduleCallback,_1=r.unstable_NormalPriority,we={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new g1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&y1(_1,function(){e.controller.abort()})}var Ho=null,lf=0,Aa=0,ba=null;function v1(e,n){if(Ho===null){var s=Ho=[];lf=0,Aa=hd(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lf++,n.then(Yp,Yp),n}function Yp(){if(--lf===0&&Ho!==null){ba!==null&&(ba.status="fulfilled");var e=Ho;Ho=null,Aa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function E1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Xp=L.S;L.S=function(e,n){xy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&v1(e,n),Xp!==null&&Xp(e,n)};var Os=N(null);function uf(){var e=Os.current;return e!==null?e:te.pooledCache}function Uu(e,n){n===null?et(Os,Os.current):et(Os,n.pool)}function $p(){var e=uf();return e===null?null:{parent:we._currentValue,pool:e}}var wa=Error(a(460)),cf=Error(a(474)),Pu=Error(a(542)),zu={then:function(){}};function Jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tg(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tg(e),e}throw Vs=n,wa}}function xs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vs=s,wa):s}}var Vs=null;function Wp(){if(Vs===null)throw Error(a(459));var e=Vs;return Vs=null,e}function tg(e){if(e===wa||e===Pu)throw Error(a(483))}var Ra=null,Go=0;function ju(e){var n=Go;return Go+=1,Ra===null&&(Ra=[]),Zp(Ra,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function eg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=zi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,F){return D===null||D.tag!==6?(D=Jh(P,k.mode,F),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,F){var ht=P.type;return ht===it?G(k,D,P.props.children,F,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&xs(ht)===D.type)?(D=h(D,P.props),Fo(D,P),D.return=k,D):(D=Vu(P.type,P.key,P.props,null,k.mode,F),Fo(D,P),D.return=k,D)}function z(k,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zh(P,k.mode,F),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function G(k,D,P,F,ht){return D===null||D.tag!==7?(D=Cs(P,k.mode,F,ht),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return P=Vu(D.type,D.key,D.props,null,k.mode,P),Fo(P,D),P.return=k,P;case Z:return D=Zh(D,k.mode,P),D.return=k,D;case A:return D=xs(D),Y(k,D,P)}if(he(D)||M(D))return D=Cs(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,ju(D),P);if(D.$$typeof===_t)return Y(k,Lu(k,D),P);Bu(k,D)}return null}function j(k,D,P,F){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===ht?R(k,D,P,F):null;case Z:return P.key===ht?z(k,D,P,F):null;case A:return P=xs(P),j(k,D,P,F)}if(he(P)||M(P))return ht!==null?null:G(k,D,P,F,null);if(typeof P.then=="function")return j(k,D,ju(P),F);if(P.$$typeof===_t)return j(k,D,Lu(k,P),F);Bu(k,P)}return null}function q(k,D,P,F,ht){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(P)||null,E(D,k,""+F,ht);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case K:return k=k.get(F.key===null?P:F.key)||null,R(D,k,F,ht);case Z:return k=k.get(F.key===null?P:F.key)||null,z(D,k,F,ht);case A:return F=xs(F),q(k,D,P,F,ht)}if(he(F)||M(F))return k=k.get(P)||null,G(D,k,F,ht,null);if(typeof F.then=="function")return q(k,D,P,ju(F),ht);if(F.$$typeof===_t)return q(k,D,P,Lu(D,F),ht);Bu(D,F)}return null}function at(k,D,P,F){for(var ht=null,jt=null,ot=D,It=D=0,Vt=null;ot!==null&&It<P.length;It++){ot.index>It?(Vt=ot,ot=null):Vt=ot.sibling;var Bt=j(k,ot,P[It],F);if(Bt===null){ot===null&&(ot=Vt);break}e&&ot&&Bt.alternate===null&&n(k,ot),D=f(Bt,D,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,ot=Vt}if(It===P.length)return s(k,ot),Pt&&ji(k,It),ht;if(ot===null){for(;It<P.length;It++)ot=Y(k,P[It],F),ot!==null&&(D=f(ot,D,It),jt===null?ht=ot:jt.sibling=ot,jt=ot);return Pt&&ji(k,It),ht}for(ot=o(ot);It<P.length;It++)Vt=q(ot,k,It,P[It],F),Vt!==null&&(e&&Vt.alternate!==null&&ot.delete(Vt.key===null?It:Vt.key),D=f(Vt,D,It),jt===null?ht=Vt:jt.sibling=Vt,jt=Vt);return e&&ot.forEach(function(jr){return n(k,jr)}),Pt&&ji(k,It),ht}function mt(k,D,P,F){if(P==null)throw Error(a(151));for(var ht=null,jt=null,ot=D,It=D=0,Vt=null,Bt=P.next();ot!==null&&!Bt.done;It++,Bt=P.next()){ot.index>It?(Vt=ot,ot=null):Vt=ot.sibling;var jr=j(k,ot,Bt.value,F);if(jr===null){ot===null&&(ot=Vt);break}e&&ot&&jr.alternate===null&&n(k,ot),D=f(jr,D,It),jt===null?ht=jr:jt.sibling=jr,jt=jr,ot=Vt}if(Bt.done)return s(k,ot),Pt&&ji(k,It),ht;if(ot===null){for(;!Bt.done;It++,Bt=P.next())Bt=Y(k,Bt.value,F),Bt!==null&&(D=f(Bt,D,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return Pt&&ji(k,It),ht}for(ot=o(ot);!Bt.done;It++,Bt=P.next())Bt=q(ot,k,It,Bt.value,F),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?It:Bt.key),D=f(Bt,D,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(OS){return n(k,OS)}),Pt&&ji(k,It),ht}function Wt(k,D,P,F){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===it){if(D.tag===7){s(k,D.sibling),F=h(D,P.props.children),F.return=k,k=F;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&xs(ht)===D.type){s(k,D.sibling),F=h(D,P.props),Fo(F,P),F.return=k,k=F;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===it?(F=Cs(P.props.children,k.mode,F,P.key),F.return=k,k=F):(F=Vu(P.type,P.key,P.props,null,k.mode,F),Fo(F,P),F.return=k,k=F)}return g(k);case Z:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),F=h(D,P.children||[]),F.return=k,k=F;break t}else{s(k,D);break}else n(k,D);D=D.sibling}F=Zh(P,k.mode,F),F.return=k,k=F}return g(k);case A:return P=xs(P),Wt(k,D,P,F)}if(he(P))return at(k,D,P,F);if(M(P)){if(ht=M(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),mt(k,D,P,F)}if(typeof P.then=="function")return Wt(k,D,ju(P),F);if(P.$$typeof===_t)return Wt(k,D,Lu(k,P),F);Bu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),F=h(D,P),F.return=k,k=F):(s(k,D),F=Jh(P,k.mode,F),F.return=k,k=F),g(k)):s(k,D)}return function(k,D,P,F){try{Go=0;var ht=Wt(k,D,P,F);return Ra=null,ht}catch(ot){if(ot===wa||ot===Pu)throw ot;var jt=vn(29,ot,null,k.mode);return jt.lanes=F,jt.return=k,jt}}}var Ms=eg(!0),ng=eg(!1),Ar=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),zp(e,null,s),n}return Ou(e,o,n,s),xu(e)}function Ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function df(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var mf=!1;function Qo(){if(mf){var e=ba;if(e!==null)throw e}}function Yo(e,n,s,o){mf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(xt&j)===j:(o&j)===j){j!==0&&j===Aa&&(mf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;j=n;var Wt=s;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call(Wt,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,j=typeof at=="function"?at.call(Wt,Y,j):at,j==null)break t;Y=b({},Y,j);break t;case 2:Ar=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=Y):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Dr|=g,e.lanes=g,e.memoizedState=Y}}function ig(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ig(s[e],n)}var Ca=N(null),qu=N(0);function sg(e,n){e=Ji,et(qu,e),et(Ca,n),Ji=e|n.baseLanes}function pf(){et(qu,Ji),et(Ca,Ca.current)}function gf(){Ji=qu.current,Q(Ca),Q(qu)}var En=N(null),Un=null;function Rr(e){var n=e.alternate;et(ge,ge.current&1),et(En,e),Un===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Un=e)}function yf(e){et(ge,ge.current),et(En,e),Un===null&&(Un=e)}function ag(e){e.tag===22?(et(ge,ge.current),et(En,e),Un===null&&(Un=e)):Cr()}function Cr(){et(ge,ge.current),et(En,En.current)}function Tn(e){Q(En),Un===e&&(Un=null),Q(ge)}var ge=N(0);function Hu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ad(s)||bd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Ct=null,Jt=null,Re=null,Gu=!1,Ia=!1,ks=!1,Fu=0,Xo=0,Na=null,T1=0;function fe(){throw Error(a(321))}function _f(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!_n(e[s],n[s]))return!1;return!0}function vf(e,n,s,o,h,f){return Hi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Hg:Mf,ks=!1,f=s(o,h),ks=!1,Ia&&(f=lg(n,s,o,h)),og(e),f}function og(e){L.H=Zo;var n=Jt!==null&&Jt.next!==null;if(Hi=0,Re=Jt=Ct=null,Gu=!1,Xo=0,Na=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&ku(e)&&(Ce=!0))}function lg(e,n,s,o){Ct=e;var h=0;do{if(Ia&&(Na=null),Xo=0,Ia=!1,25<=h)throw Error(a(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Gg,f=n(s,o)}while(Ia);return f}function S1(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Ef(){var e=Fu!==0;return Fu=0,e}function Tf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Sf(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}Hi=0,Re=Jt=Ct=null,Ia=!1,Xo=Fu=0,Na=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ct.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?Ct.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Ct.memoizedState=Re=e:Re=Re.next=e}return Re}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Na===null&&(Na=[]),e=Zp(Na,e,n),n=Ct,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Hg:Mf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===_t)return He(e)}throw Error(a(438,String(e)))}function Af(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ku(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Gi(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=ye();return bf(n,Jt,e)}function bf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xt&Y)===Y:(Hi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Aa&&(G=!0);else if((Hi&j)===j){z=z.next,j===Aa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Ct.lanes|=j,Dr|=j;Y=z.action,ks&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Ct.lanes|=Y,Dr|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!_n(f,e.memoizedState)&&(Ce=!0,G&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ug(e,n,s){var o=Ct,h=ye(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!_n((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ce=!0),h=h.queue,If(fg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},hg.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(Hi&127)!==0||cg(o,n,s)}return s}function cg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Ku(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function hg(e,n,s,o){n.value=s,n.getSnapshot=o,dg(n)&&mg(e)}function fg(e,n,s){return s(function(){dg(n)&&mg(e)})}function dg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!_n(e,s)}catch{return!0}}function mg(e){var n=Rs(e,2);n!==null&&dn(n,e,2)}function Rf(e){var n=rn();if(typeof e=="function"){var s=e;if(e=s(),ks){Cn(!0);try{s()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function pg(e,n,s,o){return e.baseState=s,bf(e,Jt,typeof o=="function"?o:Gi)}function A1(e,n,s,o,h){if(Ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,gg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function gg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=s(h,o),R=L.S;R!==null&&R(g,E),yg(e,n,E)}catch(z){Cf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=s(h,o),yg(e,n,f)}catch(z){Cf(e,n,z)}}function yg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){_g(e,n,o)},function(o){return Cf(e,n,o)}):_g(e,n,s)}function _g(e,n,s){n.status="fulfilled",n.value=s,vg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,gg(e,s)))}function Cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,vg(n),n=n.next;while(n!==o)}e.action=null}function vg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Eg(e,n){return n}function Tg(e,n){if(Pt){var s=te.formState;if(s!==null){t:{var o=Ct;if(Pt){if(ie){e:{for(var h=ie,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Pn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},s.queue=o,s=jg.bind(null,Ct,o),o.dispatch=s,o=Rf(!1),f=Vf.bind(null,Ct,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=A1.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Sg(e){var n=ye();return Ag(n,Jt,e)}function Ag(e,n,s){if(n=bf(e,n,Eg)[0],e=Yu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===wa?Pu:g}else o=n;n=ye();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,Da(9,{destroy:void 0},b1.bind(null,h,s),null)),[o,f,e]}function b1(e,n){e.action=n}function bg(e){var n=ye(),s=Jt;if(s!==null)return Ag(n,s,e);ye(),n=n.memoizedState,s=ye();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Da(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Ku(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function wg(){return ye().memoizedState}function Xu(e,n,s,o){var h=rn();Ct.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},s,o===void 0?null:o)}function $u(e,n,s,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&_f(o,Jt.memoizedState.deps)?h.memoizedState=Da(n,f,s,o):(Ct.flags|=e,h.memoizedState=Da(1|n,f,s,o))}function Rg(e,n){Xu(8390656,8,e,n)}function If(e,n){$u(2048,8,e,n)}function w1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Ku(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Cg(e){var n=ye().memoizedState;return w1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ig(e,n){return $u(4,2,e,n)}function Ng(e,n){return $u(4,4,e,n)}function Dg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Og(e,n,s){s=s!=null?s.concat([e]):null,$u(4,4,Dg.bind(null,n,e),s)}function Nf(){}function xg(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Vg(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),ks){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o}function Df(e,n,s){return s===void 0||(Hi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=My(),Ct.lanes|=e,Dr|=e,s)}function Mg(e,n,s,o){return _n(s,n)?s:Ca.current!==null?(e=Df(e,s,o),_n(e,n)||(Ce=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(xt&261930)===0?(Ce=!0,e.memoizedState=s):(e=My(),Ct.lanes|=e,Dr|=e,n)}function kg(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,Vf(e,!1,n,s);try{var R=h(),z=L.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=E1(R,o);Jo(e,n,G,bn(e))}else Jo(e,n,o,bn(e))}catch(Y){Jo(e,n,{then:function(){},status:"rejected",reason:Y},bn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function R1(){}function Of(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Lg(e).queue;kg(e,h,n,ct,s===null?R1:function(){return Ug(e),s(o)})}function Lg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ug(e){var n=Lg(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},bn())}function xf(){return He(ml)}function Pg(){return ye().memoizedState}function zg(){return ye().memoizedState}function C1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=br(s);var o=wr(n,e,s);o!==null&&(dn(o,n,s),Ko(o,n,s)),n={cache:of()},e.payload=n;return}n=n.return}}function I1(e,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Bg(n,s):(s=Xh(e,n,s,o),s!==null&&(dn(s,e,o),qg(s,n,o)))}function jg(e,n,s){var o=bn();Jo(e,n,s,o)}function Jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Bg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return Ou(e,n,h,0),te===null&&Du(),!1}catch{}if(s=Xh(e,n,h,o),s!==null)return dn(s,e,o),qg(s,n,o),!0}return!1}function Vf(e,n,s,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(a(479))}else n=Xh(e,s,o,2),n!==null&&dn(n,e,2)}function Ju(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Bg(e,n){Ia=Gu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function qg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var Zo={readContext:He,use:Qu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Zo.useEffectEvent=fe;var Hg={readContext:He,use:Qu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Rg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Xu(4194308,4,Dg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Xu(4194308,4,e,n)},useInsertionEffect:function(e,n){Xu(4,2,e,n)},useMemo:function(e,n){var s=rn();n=n===void 0?null:n;var o=e();if(ks){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=rn();if(s!==void 0){var h=s(n);if(ks){Cn(!0);try{s(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=I1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,s=jg.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Nf,useDeferredValue:function(e,n){var s=rn();return Df(s,e,n)},useTransition:function(){var e=Rf(!1);return e=kg.bind(null,Ct,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=rn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(xt&127)!==0||cg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Rg(fg.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},hg.bind(null,o,f,s,n),null),s},useId:function(){var e=rn(),n=te.identifierPrefix;if(Pt){var s=bi,o=Ai;s=(o&~(1<<32-me(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Fu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=T1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:Tg,useActionState:Tg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Vf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return rn().memoizedState=C1.bind(null,Ct)},useEffectEvent:function(e){var n=rn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Mf={readContext:He,use:Qu,useCallback:xg,useContext:He,useEffect:If,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Vg,useReducer:Yu,useRef:wg,useState:function(){return Yu(Gi)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=ye();return Mg(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Yu(Gi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:xf,useFormState:Sg,useActionState:Sg,useOptimistic:function(e,n){var s=ye();return pg(s,Jt,e,n)},useMemoCache:Af,useCacheRefresh:zg};Mf.useEffectEvent=Cg;var Gg={readContext:He,use:Qu,useCallback:xg,useContext:He,useEffect:If,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Vg,useReducer:wf,useRef:wg,useState:function(){return wf(Gi)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=ye();return Jt===null?Df(s,e,n):Mg(s,Jt.memoizedState,e,n)},useTransition:function(){var e=wf(Gi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:xf,useFormState:bg,useActionState:bg,useOptimistic:function(e,n){var s=ye();return Jt!==null?pg(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Af,useCacheRefresh:zg};Gg.useEffectEvent=Cg;function kf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Lf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=bn(),h=br(o);h.payload=n,s!=null&&(h.callback=s),n=wr(e,h,o),n!==null&&(dn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=bn(),h=br(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=wr(e,h,o),n!==null&&(dn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),o=br(s);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,s),n!==null&&(dn(n,e,s),Ko(n,e,s))}};function Fg(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function Kg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function Ls(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Qg(e){Nu(e)}function Yg(e){console.error(e)}function Xg(e){Nu(e)}function Zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $g(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,n,s){return s=br(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(e,n)},s}function Jg(e){return e=br(e),e.tag=3,e}function Zg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){$g(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){$g(n,s,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function N1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Sa(n,s,h,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?cc():s.alternate===null&&de===0&&(de=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===zu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return s.flags|=65536,o===zu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ld(e,o,h)),!1}throw Error(a(435,s.tag))}return ld(e,o,h),cc(),!1}if(Pt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(a(422),{cause:o}),Bo(Vn(e,s)))):(o!==ef&&(n=Error(a(423),{cause:o}),Bo(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,s),h=Uf(e.stateNode,o,h),df(e,h),de!==4&&(de=2)),!1;var f=Error(a(520),{cause:o});if(f=Vn(f,s),al===null?al=[f]:al.push(f),de!==4&&(de=2),n===null)return!0;o=Vn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Uf(s.stateNode,o,e),df(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Jg(h),Zg(h,e,s,o),df(s,h),!1}s=s.return}while(s!==null);return!1}var Pf=Error(a(461)),Ce=!1;function Ge(e,n,s,o){n.child=e===null?ng(n,null,s,o):Ms(n,e.child,s,o)}function Wg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ds(n),o=vf(e,n,s,g,f,h),E=Ef(),e!==null&&!Ce?(Tf(e,n,h),Fi(e,n,h)):(Pt&&E&&Wh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function ty(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ey(e,n,f,o,h)):(e=Vu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(g,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ey(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,Kf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return zf(e,n,s,o,h)}function ny(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return iy(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):pf(),ag(n);else return o=n.lanes=536870912,iy(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),sg(n,f),Cr(),n.memoizedState=null):(e!==null&&Uu(n,null),pf(),Cr());return Ge(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(e,n,s,o,h){var f=uf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(n,null),pf(),ag(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function Wu(e,n){return n=ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ry(e,n,s){return Ms(n,e.child,null,s),e=Wu(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function D1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Wu(n,o),n.lanes=536870912,Wo(null,e);if(yf(n),(e=ie)?(e=g_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Bp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return Wu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=ry(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ce||Sa(e,n,s,!1),h=(s&e.childLanes)!==0,Ce||h){if(o=te,o!==null&&(g=Eo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rs(e,g),dn(o,e,g),Pf;cc(),n=ry(e,n,s)}else e=f.treeContext,ie=Pn(g.nextSibling),qe=n,Pt=!0,Er=null,Ln=!1,e!==null&&Gp(n,e),n=Wu(n,o),n.flags|=4096;return n}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function tc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function zf(e,n,s,o,h){return Ds(n),s=vf(e,n,s,o,void 0,h),o=Ef(),e!==null&&!Ce?(Tf(e,n,h),Fi(e,n,h)):(Pt&&o&&Wh(n),n.flags|=1,Ge(e,n,s,h),n.child)}function sy(e,n,s,o,h,f){return Ds(n),n.updateQueue=null,s=lg(n,o,s,h),og(e),o=Ef(),e!==null&&!Ce?(Tf(e,n,f),Fi(e,n,f)):(Pt&&o&&Wh(n),n.flags|=1,Ge(e,n,s,f),n.child)}function ay(e,n,s,o,h){if(Ds(n),n.stateNode===null){var f=_a,g=s.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?He(g):_a,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(kf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ls(s,E);f.props=R;var z=f.context,G=s.contextType;g=_a,typeof G=="object"&&G!==null&&(g=He(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Kg(n,f,o,g),Ar=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Qo(),z=n.memoizedState,E||j!==z||Ar?(typeof Y=="function"&&(kf(n,s,Y,o),z=n.memoizedState),(R=Ar||Fg(n,s,R,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),g=n.memoizedProps,G=Ls(s,g),f.props=G,Y=n.pendingProps,j=f.context,z=s.contextType,R=_a,typeof z=="object"&&z!==null&&(R=He(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Kg(n,f,o,R),Ar=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Qo();var q=n.memoizedState;g!==Y||j!==q||Ar||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(kf(n,s,E,o),q=n.memoizedState),(G=Ar||Fg(n,s,G,o,j,q,R)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ms(n,e.child,null,h),n.child=Ms(n,null,s,h)):Ge(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function oy(e,n,s,o){return Is(),n.flags|=256,Ge(e,n,s,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:$p()}}function qf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=An),e}function ly(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Rr(n):Cr(),(e=ie)?(e=g_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Bp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Tr(n);return bd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Cr(),h=n.mode,E=ec({mode:"hidden",children:E},h),o=Cs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(e,g,s),n.memoizedState=jf,Wo(null,o)):(Rr(n),Hf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=Gf(e,n,s)):n.memoizedState!==null?(Cr(),n.child=e.child,n.flags|=128,n=null):(Cr(),E=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),E=Cs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ms(n,e.child,null,s),o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(e,g,s),n.memoizedState=jf,n=Wo(null,o));else if(Rr(n),bd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Gf(e,n,s)}else if(Ce||Sa(e,n,s,!1),g=(s&e.childLanes)!==0,Ce||g){if(g=te,g!==null&&(o=Eo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Rs(e,o),dn(g,e,o),Pf;Ad(E)||cc(),n=Gf(e,n,s)}else Ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ie=Pn(E.nextSibling),qe=n,Pt=!0,Er=null,Ln=!1,e!==null&&Gp(n,e),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Cr(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=zi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=zi(z,E):(E=Cs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Bf(s):(h=E.cachePool,h!==null?(R=we._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=$p(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=qf(e,g,s),n.memoizedState=jf,Wo(e.child,o)):(Rr(n),s=e.child,e=s.sibling,s=zi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Hf(e,n){return n=ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ec(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function Gf(e,n,s){return Ms(n,e.child,null,s),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function uy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),sf(e.return,n,s)}function Ff(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function cy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(ge,g),Ge(e,n,o,s),o=Pt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uy(e,s,n);else if(e.tag===19)uy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Hu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Ff(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Ff(n,!0,s,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Dr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Sa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function O1(e,n,s){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),Sr(n,we,e.memoizedState.cache),Is();break;case 27:case 5:ue(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:Sr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ly(e,n,s):(Rr(n),e=Fi(e,n,s),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Sa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return cy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ge,ge.current),o)break;return null;case 22:return n.lanes=0,ny(e,n,s,n.pendingProps);case 24:Sr(n,we,e.memoizedState.cache)}return Fi(e,n,s)}function hy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Kf(e,s)&&(n.flags&128)===0)return Ce=!1,O1(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,Pt&&(n.flags&1048576)!==0&&Hp(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=xs(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=Ls(e,o),n.tag=1,n=ay(null,n,e,o,s)):(n.tag=0,n=zf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Wg(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=ty(null,n,e,o,s);break t}}throw n=vt(e)||e,Error(a(306,n,""))}}return n;case 0:return zf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ls(o,n.pendingProps),ay(e,n,o,h,s);case 3:t:{if(St(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),Yo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Sr(n,we,o),o!==f.cache&&af(n,[we],s,!0),Qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=oy(e,n,o,s);break t}else if(o!==h){h=Vn(Error(a(424)),n),Bo(h),n=oy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Pn(e.firstChild),qe=n,Pt=!0,Er=null,Ln=!0,s=ng(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Is(),o===h){n=Fi(e,n,s);break t}Ge(e,n,o,s)}n=n.child}return n;case 26:return tc(e,n),e===null?(s=S_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=yc($.current).createElement(s),o[Se]=n,o[ke]=e,Fe(o,s,e),Ae(o),n.stateNode=o):n.memoizedState=S_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ue(n),e===null&&Pt&&(o=n.stateNode=v_(n.type,n.pendingProps,$.current),qe=n,Ln=!0,h=ie,kr(n.type)?(wd=h,ie=Pn(o.firstChild)):ie=h),Ge(e,n,n.pendingProps.children,s),tc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ie)&&(o=oS(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,qe=n,ie=Pn(o.firstChild),Ln=!1,h=!0):h=!1),h||Tr(n)),ue(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Ed(h,f)?o=null:g!==null&&Ed(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,S1,null,null,s),ml._currentValue=h),tc(e,n),Ge(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=ie)&&(s=lS(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,qe=n,ie=null,e=!0):e=!1),e||Tr(n)),null;case 13:return ly(e,n,s);case 4:return St(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ms(n,null,o,s):Ge(e,n,o,s),n.child;case 11:return Wg(e,n,n.type,n.pendingProps,s);case 7:return Ge(e,n,n.pendingProps,s),n.child;case 8:return Ge(e,n,n.pendingProps.children,s),n.child;case 12:return Ge(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Sr(n,n.type,o.value),Ge(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ds(n),h=He(h),o=o(h),n.flags|=1,Ge(e,n,o,s),n.child;case 14:return ty(e,n,n.type,n.pendingProps,s);case 15:return ey(e,n,n.type,n.pendingProps,s);case 19:return cy(e,n,s);case 31:return D1(e,n,s);case 22:return ny(e,n,s,n.pendingProps);case 24:return Ds(n),o=He(we),e===null?(h=uf(),h===null&&(h=te,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},hf(n),Sr(n,we,h)):((e.lanes&s)!==0&&(ff(e,n),Yo(n,null,null,s),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sr(n,we,o)):(o=f.cache,Sr(n,we,o),o!==h.cache&&af(n,[we],s,!0))),Ge(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ki(e){e.flags|=4}function Qf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw Vs=zu,cf}else e.flags&=-16777217}function fy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!C_(n))if(Py())e.flags|=8192;else throw Vs=zu,cf}function nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lu():536870912,e.lanes|=n,Ma|=n)}function tl(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function x1(e,n,s){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qi(we),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ki(n),f!==null?(re(n),fy(n,f)):(re(n),Qf(n,h,null,o,s))):f?f!==e.memoizedState?(Ki(n),re(n),fy(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(n),re(n),Qf(n,h,e,o,s)),null;case 27:if(Xe(n),s=$.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=rt.current,Ta(n)?Fp(n):(e=v_(h,o,s),n.stateNode=e,Ki(n))}return re(n),null;case 5:if(Xe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=rt.current,Ta(n))Fp(n);else{var g=yc($.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(n)}}return re(n),Qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=$.current,Ta(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||l_(e.nodeValue,s)),e||Tr(n,!0)}else e=yc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),nc(n,n.updateQueue),re(n),null);case 4:return Et(),e===null&&pd(n.stateNode.containerInfo),re(n),null;case 10:return qi(n.type),re(n),null;case 19:if(Q(ge),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Hu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,nc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)jp(s,e),s=s.sibling;return et(ge,ge.current&1|2),Pt&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>oc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Hu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,nc(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return re(n),null}else 2*en()-o.renderingStartTime>oc&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,s=ge.current,et(ge,h?s&1|2:s&1),Pt&&ji(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return Tn(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&nc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Os),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),qi(we),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function V1(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(we),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xe(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(a(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(ge),null;case 4:return Et(),null;case 10:return qi(n.type),null;case 22:case 23:return Tn(n),gf(),e!==null&&Q(Os),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(we),null;case 25:return null;default:return null}}function dy(e,n){switch(tf(n),n.tag){case 3:qi(we),Et();break;case 26:case 27:case 5:Xe(n);break;case 4:Et();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:Q(ge);break;case 10:qi(n.type);break;case 22:case 23:Tn(n),gf(),e!==null&&Q(Os);break;case 24:qi(we)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Ir(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){Xt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(n,n.return,G)}}function my(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{rg(n,s)}catch(o){Xt(e,e.return,o)}}}function py(e,n,s){s.props=Ls(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function wi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function gy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Yf(e,n,s){try{var o=e.stateNode;eS(o,e.type,s,n),o[ke]=n}catch(h){Xt(e,e.return,h)}}function yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&kr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,s),e=e.sibling;e!==null;)$f(e,n,s),e=e.sibling}function ic(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ic(e,n,s),e=e.sibling;e!==null;)ic(e,n,s),e=e.sibling}function _y(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[Se]=e,n[ke]=s}catch(f){Xt(e,e.return,f)}}var Qi=!1,Ie=!1,Jf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function M1(e,n){if(e=e.containerInfo,_d=bc,e=Op(e),Hh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(vd={focusedElem:e,selectionRange:s},bc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Ls(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Xt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Ey(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(e,s),o&4&&el(5,s);break;case 1:if(Xi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=Ls(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&my(s),o&512&&nl(s,s.return);break;case 3:if(Xi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{rg(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&_y(s);case 26:case 5:Xi(e,s),n===null&&o&4&&gy(s),o&512&&nl(s,s.return);break;case 12:Xi(e,s);break;case 31:Xi(e,s),o&4&&Ay(e,s);break;case 13:Xi(e,s),o&4&&by(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=H1.bind(null,s),uS(e,s))));break;case 22:if(o=s.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Ie,h=Qi;var f=Ie;Qi=o,(Ie=n)&&!f?$i(e,s,(s.subtreeFlags&8772)!==0):Xi(e,s),Qi=h,Ie=f}break;case 30:break;default:Xi(e,s)}}function Ty(e){var n=e.alternate;n!==null&&(e.alternate=null,Ty(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,un=!1;function Yi(e,n,s){for(s=s.child;s!==null;)Sy(e,n,s),s=s.sibling}function Sy(e,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:Ie||wi(s,n),Yi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||wi(s,n);var o=le,h=un;kr(s.type)&&(le=s.stateNode,un=!1),Yi(e,n,s),hl(s.stateNode),le=o,un=h;break;case 5:Ie||wi(s,n);case 6:if(o=le,h=un,le=null,Yi(e,n,s),le=o,un=h,le!==null)if(un)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:le!==null&&(un?(e=le,m_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qa(e)):m_(le,s.stateNode));break;case 4:o=le,h=un,le=s.stateNode.containerInfo,un=!0,Yi(e,n,s),le=o,un=h;break;case 0:case 11:case 14:case 15:Ir(2,s,n),Ie||Ir(4,s,n),Yi(e,n,s);break;case 1:Ie||(wi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&py(s,n,o)),Yi(e,n,s);break;case 21:Yi(e,n,s);break;case 22:Ie=(o=Ie)||s.memoizedState!==null,Yi(e,n,s),Ie=o;break;default:Yi(e,n,s)}}function Ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(s){Xt(n,n.return,s)}}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(s){Xt(n,n.return,s)}}function k1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new vy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new vy),n;default:throw Error(a(435,e.tag))}}function rc(e,n){var s=k1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=G1.bind(null,e,o);o.then(h,h)}})}function cn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){le=E.stateNode,un=!1;break t}break;case 5:le=E.stateNode,un=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(le===null)throw Error(a(160));Sy(f,g,h),le=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wy(n,e),n=n.sibling}var Zn=null;function wy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(Ir(3,e,e.return),el(3,e),Ir(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(Ie||s===null||wi(s,s.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Zn;if(cn(n,e),hn(e),o&512&&(Ie||s===null||wi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[Se]=e,Ae(f),o=f;break t;case"link":var g=w_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=w_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else R_(h,e.type,e.stateNode);else e.stateNode=b_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?R_(h,e.type,e.stateNode):b_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,s.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(Ie||s===null||wi(s,s.return)),s!==null&&o&4&&Yf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(Ie||s===null||wi(s,s.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(at){Xt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Xt(e,e.return,at)}}break;case 3:if(Ec=null,h=Zn,Zn=_c(n.containerInfo),cn(n,e),Zn=h,hn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(at){Xt(e,e.return,at)}Jf&&(Jf=!1,Ry(e));break;case 4:o=Zn,Zn=_c(e.stateNode.containerInfo),cn(n,e),hn(e),Zn=o;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ac=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Qi,G=Ie;if(Qi=z||h,Ie=G||R,cn(n,e),Ie=G,Qi=z,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Qi||Ie||Us(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Xt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Xt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?p_(q,!0):p_(R.stateNode,!1)}catch(at){Xt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,rc(e,s))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(yy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Xf(e);ic(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(ln(g,""),s.flags&=-33);var E=Xf(e);ic(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Xf(e);$f(e,z,R);break;default:throw Error(a(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ry(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(e,n.alternate,n),n=n.sibling}function Us(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ir(4,n,n.return),Us(n);break;case 1:wi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&py(n,n.return,s),Us(n);break;case 27:hl(n.stateNode);case 26:case 5:wi(n,n.return),Us(n);break;case 22:n.memoizedState===null&&Us(n);break;case 30:Us(n);break;default:Us(n)}e=e.sibling}}function $i(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,s),el(4,f);break;case 1:if($i(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ig(R[h],E)}catch(z){Xt(o,o.return,z)}}s&&g&64&&my(f),nl(f,f.return);break;case 27:_y(f);case 26:case 5:$i(h,f,s),s&&o===null&&g&4&&gy(f),nl(f,f.return);break;case 12:$i(h,f,s);break;case 31:$i(h,f,s),s&&g&4&&Ay(h,f);break;case 13:$i(h,f,s),s&&g&4&&by(h,f);break;case 22:f.memoizedState===null&&$i(h,f,s),nl(f,f.return);break;case 30:break;default:$i(h,f,s)}n=n.sibling}}function Zf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qo(s))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function Wn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(e,n,s,o),n=n.sibling}function Cy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,o),h&2048&&el(9,n);break;case 1:Wn(e,n,s,o);break;case 3:Wn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){Wn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Wn(e,n,s,o);break;case 31:Wn(e,n,s,o);break;case 13:Wn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,o):il(e,n):f._visibility&2?Wn(e,n,s,o):(f._visibility|=2,Oa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:Wn(e,n,s,o),h&2048&&Wf(n.alternate,n);break;default:Wn(e,n,s,o)}}function Oa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,R,h),el(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Oa(f,g,E,R,h):il(f,g):(G._visibility|=2,Oa(f,g,E,R,h)),h&&z&2048&&Zf(g.alternate,g);break;case 24:Oa(f,g,E,R,h),h&&z&2048&&Wf(g.alternate,g);break;default:Oa(f,g,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Zf(o.alternate,o);break;case 24:il(s,o),h&2048&&Wf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var rl=8192;function xa(e,n,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Iy(e,n,s),e=e.sibling}function Iy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&rl&&e.memoizedState!==null&&TS(s,Zn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var o=Zn;Zn=_c(e.stateNode.containerInfo),xa(e,n,s),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,xa(e,n,s),rl=o):xa(e,n,s));break;default:xa(e,n,s)}}function Ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Oy(o,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):sl(e);break;default:sl(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Oy(o,e)}Ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ir(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function Oy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Ir(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Ty(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var L1={getCacheForType:function(e){var n=He(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return He(we).controller.signal}},U1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Nt=null,xt=0,Yt=0,Sn=null,Nr=!1,Va=!1,td=!1,Ji=0,de=0,Dr=0,Ps=0,ed=0,An=0,Ma=0,al=null,fn=null,nd=!1,ac=0,xy=0,oc=1/0,lc=null,Or=null,xe=0,xr=null,ka=null,Zi=0,id=0,rd=null,Vy=null,ol=0,sd=null;function bn(){return(Ft&2)!==0&&xt!==0?xt&-xt:L.T!==null?hd():uu()}function My(){if(An===0)if((xt&536870912)===0||Pt){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),An=e}else An=536870912;return e=En.current,e!==null&&(e.flags|=32),An}function dn(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Vr(e,xt,An,!1)),fs(e,s),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(Ps|=s),de===4&&Vr(e,xt,An,!1)),Ri(e))}function ky(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?j1(e,n):od(e,n,!0),f=o;do{if(h===0){Va&&!o&&Vr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!P1(s)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(La(E,g).flags|=256),g=od(E,g,!1),g!==2){if(td&&!R){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Vr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,An,!Nr);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-en(),10<h)){if(Vr(o,n,An,!Nr),li(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=f_(Ly.bind(null,o,s,fn,lc,nd,n,An,Ps,Ma,Nr,f,"Throttled",-0,0),h);break t}Ly(o,s,fn,lc,nd,n,An,Ps,Ma,Nr,f,null,-0,0)}}break}while(!0);Ri(e)}function Ly(e,n,s,o,h,f,g,E,R,z,G,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Iy(n,f,Y);var at=(f&62914560)===f?ac-en():(f&4194048)===f?xy-en():0;if(at=SS(Y,at),at!==null){Zi=f,e.cancelPendingCommit=at(Gy.bind(null,e,n,f,s,o,h,g,E,R,G,Y,null,j,q)),Vr(e,f,g,!z);return}}Gy(e,n,f,s,o,h,g,E,R)}function P1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,s,o){n&=~ed,n&=~Ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ds(e,s,n)}function uc(){return(Ft&6)===0?(ll(0),!1):!0}function ad(){if(Nt!==null){if(Yt===0)var e=Nt.return;else e=Nt,Bi=Ns=null,Sf(e),Ra=null,Go=0,e=Nt;for(;e!==null;)dy(e.alternate,e),e=e.return;Nt=null}}function La(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,rS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Zi=0,ad(),te=e,Nt=s=zi(e.current,null),xt=n,Yt=0,Sn=null,Nr=!1,Va=Hn(e,n),td=!1,Ma=An=ed=Ps=Dr=de=0,fn=al=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-me(o),f=1<<h;n|=e[h],o&=~f}return Ji=n,Du(),s}function Uy(e,n){Ct=null,L.H=Zo,n===wa||n===Pu?(n=Wp(),Yt=3):n===cf?(n=Wp(),Yt=4):Yt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Nt===null&&(de=1,Zu(e,Vn(n,e.current)))}function Py(){var e=En.current;return e===null?!0:(xt&4194048)===xt?Un===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Un:!1}function zy(){var e=L.H;return L.H=Zo,e===null?Zo:e}function jy(){var e=L.A;return L.A=L1,e}function cc(){de=4,Nr||(xt&4194048)!==xt&&En.current!==null||(Va=!0),(Dr&134217727)===0&&(Ps&134217727)===0||te===null||Vr(te,xt,An,!1)}function od(e,n,s){var o=Ft;Ft|=2;var h=zy(),f=jy();(te!==e||xt!==n)&&(lc=null,La(e,n)),n=!1;var g=de;t:do try{if(Yt!==0&&Nt!==null){var E=Nt,R=Sn;switch(Yt){case 8:ad(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var z=Yt;if(Yt=0,Sn=null,Ua(e,E,R,z),s&&Va){g=0;break t}break;default:z=Yt,Yt=0,Sn=null,Ua(e,E,R,z)}}z1(),g=de;break}catch(G){Uy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Bi=Ns=null,Ft=o,L.H=h,L.A=f,Nt===null&&(te=null,xt=0,Du()),g}function z1(){for(;Nt!==null;)By(Nt)}function j1(e,n){var s=Ft;Ft|=2;var o=zy(),h=jy();te!==e||xt!==n?(lc=null,oc=en()+500,La(e,n)):Va=Hn(e,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var f=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,Ua(e,n,f,1);break;case 2:case 9:if(Jp(f)){Yt=0,Sn=null,qy(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Ri(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Jp(f)?(Yt=0,Sn=null,qy(n)):(Yt=0,Sn=null,Ua(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?C_(g):E.stateNode.complete){Yt=0,Sn=null;var R=E.sibling;if(R!==null)Nt=R;else{var z=E.return;z!==null?(Nt=z,hc(z)):Nt=null}break e}}Yt=0,Sn=null,Ua(e,n,f,5);break;case 6:Yt=0,Sn=null,Ua(e,n,f,6);break;case 8:ad(),de=6;break t;default:throw Error(a(462))}}B1();break}catch(G){Uy(e,G)}while(!0);return Bi=Ns=null,L.H=o,L.A=h,Ft=s,Nt!==null?0:(te=null,xt=0,Du(),de)}function B1(){for(;Nt!==null&&!Lh();)By(Nt)}function By(e){var n=hy(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,n===null?hc(e):Nt=n}function qy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=sy(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=sy(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Sf(n);default:dy(s,n),n=Nt=jp(n,Ji),n=hy(s,n,Ji)}e.memoizedProps=e.pendingProps,n===null?hc(e):Nt=n}function Ua(e,n,s,o){Bi=Ns=null,Sf(n),Ra=null,Go=0;var h=n.return;try{if(N1(e,h,n,s,xt)){de=1,Zu(e,Vn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;de=1,Zu(e,Vn(s,e.current)),Nt=null;return}n.flags&32768?(Pt||o===1?e=!0:Va||(xt&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hy(n,e)):hc(n)}function hc(e){var n=e;do{if((n.flags&32768)!==0){Hy(n,Nr);return}e=n.return;var s=x1(n.alternate,n,Ji);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);de===0&&(de=5)}function Hy(e,n){do{var s=V1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);de=6,Nt=null}function Gy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do fc();while(xe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,zh(e,s,f,g,E,R),e===te&&(Nt=te=null,xt=0),ka=n,xr=e,Zi=s,id=f,rd=h,Vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,F1(ur,function(){return Xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=W.p,W.p=2,g=Ft,Ft|=4;try{M1(e,n,s)}finally{Ft=g,W.p=h,L.T=o}}xe=1,Fy(),Ky(),Qy()}}function Fy(){if(xe===1){xe=0;var e=xr,n=ka,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var o=W.p;W.p=2;var h=Ft;Ft|=4;try{wy(n,e);var f=vd,g=Op(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Dp(E.ownerDocument.documentElement,E)){if(R!==null&&Hh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,mt=Math.min(R.start,at),Wt=R.end===void 0?mt:Math.min(R.end,at);!q.extend&&mt>Wt&&(g=Wt,Wt=mt,mt=g);var k=Np(E,mt),D=Np(E,Wt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),mt>Wt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}bc=!!_d,vd=_d=null}finally{Ft=h,W.p=o,L.T=s}}e.current=n,xe=2}}function Ky(){if(xe===2){xe=0;var e=xr,n=ka,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var o=W.p;W.p=2;var h=Ft;Ft|=4;try{Ey(e,n.alternate,n)}finally{Ft=h,W.p=o,L.T=s}}xe=3}}function Qy(){if(xe===4||xe===3){xe=0,nu();var e=xr,n=ka,s=Zi,o=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,ka=xr=null,Yy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),ki(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,h=W.p,W.p=2,L.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,W.p=h}}(Zi&3)!==0&&fc(),Ri(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===sd?ol++:(ol=0,sd=e):ol=0,ll(0)}}function Yy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function fc(){return Fy(),Ky(),Qy(),Xy()}function Xy(){if(xe!==5)return!1;var e=xr,n=id;id=0;var s=ki(Zi),o=L.T,h=W.p;try{W.p=32>s?32:s,L.T=null,s=rd,rd=null;var f=xr,g=Zi;if(xe=0,ka=xr=null,Zi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,Dy(f.current),Cy(f,f.current,g,s),Ft=E,ll(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{W.p=h,L.T=o,Yy(e,n)}}function $y(e,n,s){n=Vn(s,n),n=Uf(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(fs(e,2),Ri(e))}function Xt(e,n,s){if(e.tag===3)$y(e,e,s);else for(;n!==null;){if(n.tag===3){$y(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=Vn(s,e),s=Jg(2),o=wr(n,s,2),o!==null&&(Zg(s,o,n,e),fs(o,2),Ri(o));break}}n=n.return}}function ld(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new U1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(td=!0,h.add(s),e=q1.bind(null,e,n,s),n.then(e,e))}function q1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(xt&s)===s&&(de===4||de===3&&(xt&62914560)===xt&&300>en()-ac?(Ft&2)===0&&La(e,0):ed|=s,Ma===xt&&(Ma=0)),Ri(e)}function Jy(e,n){n===0&&(n=lu()),e=Rs(e,n),e!==null&&(fs(e,n),Ri(e))}function H1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Jy(e,s)}function G1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Jy(e,s)}function F1(e,n){return Oe(e,n)}var dc=null,Pa=null,ud=!1,mc=!1,cd=!1,Mr=0;function Ri(e){e!==Pa&&e.next===null&&(Pa===null?dc=Pa=e:Pa=Pa.next=e),mc=!0,ud||(ud=!0,Q1())}function ll(e,n){if(!cd&&mc){cd=!0;do for(var s=!1,o=dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,e_(o,f))}else f=xt,f=li(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(s=!0,e_(o,f));o=o.next}while(s);cd=!1}}function K1(){Zy()}function Zy(){mc=ud=!1;var e=0;Mr!==0&&iS()&&(e=Mr);for(var n=en(),s=null,o=dc;o!==null;){var h=o.next,f=Wy(o,n);f===0?(o.next=null,s===null?dc=h:s.next=h,h===null&&(Pa=s)):(s=o,(e!==0||(f&3)!==0)&&(mc=!0)),o=h}xe!==0&&xe!==5||ll(e),Mr!==0&&(Mr=0)}function Wy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ph(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=xt,s=li(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&lr(o),ki(s)){case 2:case 8:s=_o;break;case 32:s=ur;break;case 268435456:s=iu;break;default:s=ur}return o=t_.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function t_(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(fc()&&e.callbackNode!==s)return null;var o=xt;return o=li(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ky(e,o,n),Wy(e,en()),e.callbackNode!=null&&e.callbackNode===s?t_.bind(null,e):null)}function e_(e,n){if(fc())return null;ky(e,n,!0)}function Q1(){sS(function(){(Ft&6)!==0?Oe(yo,K1):Zy()})}function hd(){if(Mr===0){var e=Aa;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Mr=e}return Mr}function n_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function i_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Y1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=n_((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?n_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mr!==0){var R=g?i_(h,g):new FormData(h);Of(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?i_(h,g):new FormData(h),Of(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var fd=0;fd<Qh.length;fd++){var dd=Qh[fd],X1=dd.toLowerCase(),$1=dd[0].toUpperCase()+dd.slice(1);Jn(X1,"on"+$1)}Jn(Mp,"onAnimationEnd"),Jn(kp,"onAnimationIteration"),Jn(Lp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(f1,"onTransitionRun"),Jn(d1,"onTransitionStart"),Jn(m1,"onTransitionCancel"),Jn(Up,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function r_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=R}}}}function Dt(e,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var o=e+"__bubble";s.has(o)||(s_(n,e,2,!1),s.add(o))}function md(e,n,s){var o=0;n&&(o|=4),s_(s,e,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[pc]){e[pc]=!0,To.forEach(function(s){s!=="selectionchange"&&(J1.has(s)||md(s,!1,e),md(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,md("selectionchange",!1,n))}}function s_(e,n,s,o){switch(M_(n)){case 2:var h=wS;break;case 8:h=RS;break;default:h=Dd}s=h.bind(null,n,s,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function gd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}pr(function(){var z=f,G=Nn(s),Y=[];t:{var j=Pp.get(e);if(j!==void 0){var q=vi,at=e;switch(e){case"keypress":if(Es(s)===0)break t;case"keydown":case"keyup":q=Ru;break;case"focusin":at="focus",q=Ss;break;case"focusout":at="blur",q=Ss;break;case"beforeblur":case"afterblur":q=Ss;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mp:case kp:case Lp:q=vu;break;case Up:q=T;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Pi;break;case"toggle":case"beforetoggle":q=Rt}var mt=(n&4)!==0,Wt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||k===null||(F=Qn(D,k),F!=null&&mt.push(cl(D,F,P))),Wt)break;D=D.return}0<mt.length&&(j=new q(j,at,null,s,G),Y.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Do&&(at=s.relatedTarget||s.fromElement)&&(fi(at)||at[ci]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=z,at=at?fi(at):null,at!==null&&(Wt=c(at),mt=at.tag,at!==Wt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(mt=Mo,F="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Pi,F="onPointerLeave",k="onPointerEnter",D="pointer"),Wt=q==null?j:gn(q),P=at==null?j:gn(at),j=new mt(F,D+"leave",q,s,G),j.target=Wt,j.relatedTarget=P,F=null,fi(G)===z&&(mt=new mt(k,D+"enter",at,s,G),mt.target=P,mt.relatedTarget=Wt,F=mt),Wt=F,q&&at)e:{for(mt=Z1,k=q,D=at,P=0,F=k;F;F=mt(F))P++;F=0;for(var ht=D;ht;ht=mt(ht))F++;for(;0<P-F;)k=mt(k),P--;for(;0<F-P;)D=mt(D),F--;for(;P--;){if(k===D||D!==null&&k===D.alternate){mt=k;break e}k=mt(k),D=mt(D)}mt=null}else mt=null;q!==null&&a_(Y,j,q,mt,!1),at!==null&&Wt!==null&&a_(Y,Wt,at,mt,!0)}}t:{if(j=z?gn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var jt=Ap;else if(Tp(j))if(bp)jt=u1;else{jt=o1;var ot=a1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&oa(z.elementType)&&(jt=Ap):jt=l1;if(jt&&(jt=jt(e,z))){Sp(Y,jt,s,G);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(ot=z?gn(z):window,e){case"focusin":(Tp(ot)||ot.contentEditable==="true")&&(pa=ot,Gh=z,zo=null);break;case"focusout":zo=Gh=pa=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,xp(Y,s,G);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":xp(Y,s,G)}var It;if(Gt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ma?As(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Si&&s.locale!=="ko"&&(ma||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ma&&(It=xo()):(_i=G,Oo="value"in _i?_i.value:_i.textContent,ma=!0)),ot=gc(z,Vt),0<ot.length&&(Vt=new Ti(Vt,e,null,s,G),Y.push({event:Vt,listeners:ot}),It?Vt.data=It:(It=da(s),It!==null&&(Vt.data=It)))),(It=On?n1(e,s):i1(e,s))&&(Vt=gc(z,"onBeforeInput"),0<Vt.length&&(ot=new Ti("onBeforeInput","beforeinput",null,s,G),Y.push({event:ot,listeners:Vt}),ot.data=It)),Y1(Y,e,z,s,G)}r_(Y,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function gc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,s),h!=null&&o.unshift(cl(e,h,f)),h=Qn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function a_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Qn(s,f),z!=null&&g.unshift(cl(s,z,R))):h||(z=Qn(s,f),z!=null&&g.push(cl(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var W1=/\r\n?/g,tS=/\u0000|\uFFFD/g;function o_(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(tS,"")}function l_(e,n){return n=o_(n),o_(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,s,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,sa(e,s,o))}}function yd(e,n,s,o,h,f){switch(s){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Zt(e,n,o,G,s,null)}}du(e,f,E,R,z,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):s!=null&&hr(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,s,null)}fr(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Dt(ul[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,o,s,null)}return;default:if(oa(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&yd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function eS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Zt(e,n,j,q,o,Y)}}aa(e,g,E,R,z,G,f,h);return;case"select":q=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,s=g,o=q,j!=null?hr(e,!!s,j,!1):!!o!=!!s&&(n!=null?hr(e,!!s,n,!0):hr(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}mu(e,j,q);return;case"option":for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,j));for(R in o)j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)j=s[mt],s.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Zt(e,n,z,j,o,q)}return;default:if(oa(n)){for(var Wt in s)j=s[Wt],s.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&yd(e,n,Wt,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||yd(e,n,G,j,o,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Zt(e,n,k,null,o,j);for(Y in o)j=o[Y],q=s[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Zt(e,n,Y,j,o,q)}function u_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&u_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&u_(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function c_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function iS(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(e){return d_.resolve(null).then(e).catch(aS)}:f_;function aS(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function m_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);qa(n)}function p_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Sd(s),ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function oS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function lS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pn(e.nextSibling),e===null))return null;return e}function g_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function y_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function __(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function v_(e,n,s){switch(n=yc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var zn=new Map,E_=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=W.d;W.d={f:cS,r:hS,D:fS,C:dS,L:mS,m:pS,X:yS,S:gS,M:_S};function cS(){var e=Wi.f(),n=uc();return e||n}function hS(e){var n=In(e);n!==null&&n.tag===5&&n.type==="form"?Ug(n):Wi.r(e)}var za=typeof document>"u"?null:document;function T_(e,n,s){var o=za;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),E_.has(h)||(E_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function fS(e){Wi.D(e),T_("dns-prefetch",e,null)}function dS(e,n){Wi.C(e,n),T_("preconnect",e,n)}function mS(e,n,s){Wi.L(e,n,s);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}zn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function pS(e,n){Wi.m(e,n);var s=za;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!zn.has(f)&&(e=b({rel:"modulepreload",href:e},n),zn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),Fe(o,"link",e),Ae(o),s.head.appendChild(o)}}}function gS(e,n,s){Wi.S(e,n,s);var o=za;if(o&&e){var h=di(o).hoistableStyles,f=ja(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(f))&&Rd(e,s);var R=g=o.createElement("link");Ae(R),Fe(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function yS(e,n){Wi.X(e,n);var s=za;if(s&&e){var o=di(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=b({src:e,async:!0},n),(n=zn.get(h))&&Cd(e,n),f=s.createElement("script"),Ae(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function _S(e,n){Wi.M(e,n);var s=za;if(s&&e){var o=di(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Cd(e,n),f=s.createElement("script"),Ae(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function S_(e,n,s,o){var h=(h=$.current)?_c(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=di(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ja(s.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),f||vS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(s),s=di(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ja(e){return'href="'+on(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function A_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function vS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),Ae(n),e.head.appendChild(n))}function Ba(e){return'[src="'+on(e)+'"]'}function dl(e){return"script[async]"+e}function b_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Fe(o,"style",h),vc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ja(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=A_(s),(h=zn.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),n.state.loading|=4,vc(f,s.precedence,e),n.instance=f;case"script":return f=Ba(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ae(h),h):(o=s,(h=zn.get(f))&&(o=b({},s),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,s.precedence,e));return n.instance}function vc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ec=null;function w_(e,n,s){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(s,o)}else h=Ec,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[hi]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function R_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ES(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function TS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Tc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ae(f);return}f=n.ownerDocument||n,o=A_(o),(h=zn.get(h))&&Rd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Tc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Id=0;function SS(e,n){return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Id===0&&(Id=62500*nS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Id?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function Ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(AS,e),Sc=null,Tc.call(e))}function AS(e,n){if(!(n.state.loading&4)){var s=Sc.get(e);if(s)var o=s.get(null);else{s=new Map,Sc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function bS(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function I_(e,n,s,o,h,f,g,E,R,z,G,Y){return e=new bS(e,n,s,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},hf(f),e}function N_(e){return e?(e=_a,e):_a}function D_(e,n,s,o,h,f){h=N_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=wr(e,o,n),s!==null&&(dn(s,e,n),Ko(s,e,n))}function O_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Nd(e,n){O_(e,n),(e=e.alternate)&&O_(e,n)}function x_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&dn(n,e,67108864),Nd(e,67108864)}}function V_(e){if(e.tag===13||e.tag===31){var n=bn();n=ms(n);var s=Rs(e,n);s!==null&&dn(s,e,n),Nd(e,n)}}var bc=!0;function wS(e,n,s,o){var h=L.T;L.T=null;var f=W.p;try{W.p=2,Dd(e,n,s,o)}finally{W.p=f,L.T=h}}function RS(e,n,s,o){var h=L.T;L.T=null;var f=W.p;try{W.p=8,Dd(e,n,s,o)}finally{W.p=f,L.T=h}}function Dd(e,n,s,o){if(bc){var h=Od(o);if(h===null)gd(e,n,o,wc,s),k_(e,o);else if(IS(h,e,n,s,o))o.stopPropagation();else if(k_(e,o),n&4&&-1<CS.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-me(g);E.entanglements[1]|=R,g&=~R}Ri(f),(Ft&6)===0&&(oc=en()+500,ll(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&dn(E,f,2),uc(),Nd(f,2)}if(f=Od(o),f===null&&gd(e,n,o,wc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,s)}}function Od(e){return e=Nn(e),xd(e)}var wc=null;function xd(e){if(wc=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wc=e,null}function M_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case yo:return 2;case _o:return 8;case ur:case Uh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var Vd=!1,Lr=null,Ur=null,Pr=null,pl=new Map,gl=new Map,zr=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&x_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function IS(e,n,s,o,h){switch(n){case"focusin":return Lr=yl(Lr,e,n,s,o,h),!0;case"dragenter":return Ur=yl(Ur,e,n,s,o,h),!0;case"mouseover":return Pr=yl(Pr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0}return!1}function L_(e){var n=fi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){V_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){V_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Od(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Do=o,s.target.dispatchEvent(o),Do=null}else return n=In(s),n!==null&&x_(n),e.blockedOn=s,!1;n.shift()}return!0}function U_(e,n,s){Rc(e)&&s.delete(n)}function NS(){Vd=!1,Lr!==null&&Rc(Lr)&&(Lr=null),Ur!==null&&Rc(Ur)&&(Ur=null),Pr!==null&&Rc(Pr)&&(Pr=null),pl.forEach(U_),gl.forEach(U_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NS)))}var Ic=null;function P_(e){Ic!==e&&(Ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(xd(o||s)===null)continue;break}var f=In(s);f!==null&&(e.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function qa(e){function n(R){return Cc(R,e)}Lr!==null&&Cc(Lr,e),Ur!==null&&Cc(Ur,e),Pr!==null&&Cc(Pr,e),pl.forEach(n),gl.forEach(n);for(var s=0;s<zr.length;s++){var o=zr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(s=zr[0],s.blockedOn===null);)L_(s),s.blockedOn===null&&zr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ke]||null;if(typeof f=="function")g||P_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),P_(s)}}}function z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(e){this._internalRoot=e}Nc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();D_(s,o,e,n,null,null)},Nc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;D_(e.current,2,null,e,null,null),uc(),n[ci]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=uu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zr.length&&n!==0&&n<zr[s].priority;s++);zr.splice(s,0,e),s===0&&L_(e)}};var j_=t.version;if(j_!=="19.2.4")throw Error(a(527,j_,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var DS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{qn=Dc.inject(DS),je=Dc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Qg,f=Yg,g=Xg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=I_(e,1,!1,null,null,s,o,null,h,f,g,z_),e[ci]=n.current,pd(e),new Md(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Qg,g=Yg,E=Xg,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=I_(e,1,!0,n,s??null,o,h,R,f,g,E,z_),n.context=N_(null),s=n.current,o=bn(),o=ms(o),h=br(o),h.callback=null,wr(s,h,o),s=o,n.current.lanes=s,fs(n,s),Ri(n),e[ci]=n.current,pd(e),new Nc(n)},vl.version="19.2.4",vl}var $_;function jS(){if($_)return Ud.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=zS(),Ud.exports}var BS=jS();const qS=()=>{};var J_={};const IE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},HS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},NE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,K=y&63;_||(K=64,d||(x=64)),a.push(i[S],i[b],i[x],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(IE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):HS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new GS;const x=c<<2|p>>4;if(a.push(x),y!==64){const K=p<<4&240|y>>2;if(a.push(K),b!==64){const Z=y<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(r){const t=IE(r);return NE.encodeByteArray(t,!0)},$c=function(r){return FS(r).replace(/\./g,"")},DE=function(r){try{return NE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function KS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QS=()=>KS().__FIREBASE_DEFAULTS__,YS=()=>{if(typeof process>"u"||typeof J_>"u")return;const r=J_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&DE(r[1]);return t&&JSON.parse(t)},mh=()=>{try{return qS()||QS()||YS()||XS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},OE=r=>mh()?.emulatorHosts?.[r],$S=r=>{const t=OE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},xE=()=>mh()?.config,VE=r=>mh()?.[`_${r}`];class JS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ME(r){return(await fetch(r,{credentials:"include"})).ok}function ZS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const Cl={};function WS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?r.emulator.push(t):r.prod.push(t);return r}function tA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Z_=!1;function kE(r,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Cl[r]===t||Cl[r]||Z_)return;Cl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=WS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,K){x.setAttribute("width","24"),x.setAttribute("id",K),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Z_=!0,d()},x}function S(x,K){x.setAttribute("id",K),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=tA(a),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),it=i("learnmore"),nt=document.getElementById(it)||document.createElement("a"),dt=i("preprendIcon"),wt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const _t=x.element;p(_t),S(nt,it);const qt=y();_(wt,dt),_t.append(wt,Z,nt,qt),document.body.appendChild(_t)}c?(Z.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function nA(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const cA="FirebaseError";class or extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=cA,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?hA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new or(l,p,a)}}function hA(r,t){return r.replace(fA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const fA=/\{\$([^}]+)}/g;function dA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(W_(c)&&W_(d)){if(!Gs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function W_(r){return r!==null&&typeof r=="object"}function Kl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Tl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Sl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function mA(r,t){const i=new pA(r,t);return i.subscribe.bind(i)}class pA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");gA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function ze(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class yA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new JS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vA(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_A(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _A(r){return r===js?void 0:r}function vA(r){return r.instantiationMode==="EAGER"}class EA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new yA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const TA={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},SA=Mt.INFO,AA={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},bA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=AA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=SA,this._logHandler=bA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const wA=(r,t)=>t.some(i=>r instanceof i);let tv,ev;function RA(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,im=new WeakMap,UE=new WeakMap,qd=new WeakMap,xm=new WeakMap;function IA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&LE.set(i,r)}).catch(()=>{}),xm.set(t,r),t}function NA(r){if(im.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});im.set(r,t)}let rm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return im.get(r);if(t==="objectStoreNames")return r.objectStoreNames||UE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DA(r){rm=r(rm)}function OA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Hd(this),t,...i);return UE.set(a,t.sort?t.sort():[t]),Qr(a)}:CA().includes(r)?function(...t){return r.apply(Hd(this),t),Qr(LE.get(this))}:function(...t){return Qr(r.apply(Hd(this),t))}}function xA(r){return typeof r=="function"?OA(r):(r instanceof IDBTransaction&&NA(r),wA(r,RA())?new Proxy(r,rm):r)}function Qr(r){if(r instanceof IDBRequest)return IA(r);if(qd.has(r))return qd.get(r);const t=xA(r);return t!==r&&(qd.set(r,t),xm.set(t,r)),t}const Hd=r=>xm.get(r);function VA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Qr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Qr(d.result),_.oldVersion,_.newVersion,Qr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const MA=["get","getKey","getAll","getAllKeys","count"],kA=["put","add","delete","clear"],Gd=new Map;function nv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=kA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||MA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Gd.set(t,c),c}DA(r=>({...r,get:(t,i,a)=>nv(t,i)||r.get(t,i,a),has:(t,i)=>!!nv(t,i)||r.has(t,i)}));class LA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function UA(r){return r.getComponent()?.type==="VERSION"}const sm="@firebase/app",iv="0.14.8";const ir=new Om("@firebase/app"),PA="@firebase/app-compat",zA="@firebase/analytics-compat",jA="@firebase/analytics",BA="@firebase/app-check-compat",qA="@firebase/app-check",HA="@firebase/auth",GA="@firebase/auth-compat",FA="@firebase/database",KA="@firebase/data-connect",QA="@firebase/database-compat",YA="@firebase/functions",XA="@firebase/functions-compat",$A="@firebase/installations",JA="@firebase/installations-compat",ZA="@firebase/messaging",WA="@firebase/messaging-compat",tb="@firebase/performance",eb="@firebase/performance-compat",nb="@firebase/remote-config",ib="@firebase/remote-config-compat",rb="@firebase/storage",sb="@firebase/storage-compat",ab="@firebase/firestore",ob="@firebase/ai",lb="@firebase/firestore-compat",ub="firebase",cb="12.9.0";const am="[DEFAULT]",hb={[sm]:"fire-core",[PA]:"fire-core-compat",[jA]:"fire-analytics",[zA]:"fire-analytics-compat",[qA]:"fire-app-check",[BA]:"fire-app-check-compat",[HA]:"fire-auth",[GA]:"fire-auth-compat",[FA]:"fire-rtdb",[KA]:"fire-data-connect",[QA]:"fire-rtdb-compat",[YA]:"fire-fn",[XA]:"fire-fn-compat",[$A]:"fire-iid",[JA]:"fire-iid-compat",[ZA]:"fire-fcm",[WA]:"fire-fcm-compat",[tb]:"fire-perf",[eb]:"fire-perf-compat",[nb]:"fire-rc",[ib]:"fire-rc-compat",[rb]:"fire-gcs",[sb]:"fire-gcs-compat",[ab]:"fire-fst",[lb]:"fire-fst-compat",[ob]:"fire-vertex","fire-js":"fire-js",[ub]:"fire-js-all"};const Vl=new Map,fb=new Map,om=new Map;function rv(r,t){try{r.container.addComponent(t)}catch(i){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const t=r.name;if(om.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,r);for(const i of Vl.values())rv(i,r);for(const i of fb.values())rv(i,r);return!0}function Vm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function jn(r){return r==null?!1:r.settings!==void 0}const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Fl("app","Firebase",db);class mb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const oo=cb;function PE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:am,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Yr.create("bad-app-name",{appName:String(l)});if(i||(i=xE()),!i)throw Yr.create("no-options");const c=Vl.get(l);if(c){if(Gs(i,c.options)&&Gs(a,c.config))return c;throw Yr.create("duplicate-app",{appName:l})}const d=new EA(l);for(const _ of om.values())d.addComponent(_);const p=new mb(i,a,d);return Vl.set(l,p),p}function Mm(r=am){const t=Vl.get(r);if(!t&&r===am&&xE())return PE();if(!t)throw Yr.create("no-app",{appName:r});return t}function pb(){return Array.from(Vl.values())}function Xr(r,t,i){let a=hb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(d.join(" "));return}to(new Fs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const gb="firebase-heartbeat-database",yb=1,Ml="firebase-heartbeat-store";let Fd=null;function zE(){return Fd||(Fd=VA(gb,yb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),Fd}async function _b(r){try{const i=(await zE()).transaction(Ml),a=await i.objectStore(Ml).get(jE(r));return await i.done,a}catch(t){if(t instanceof or)ir.warn(t.message);else{const i=Yr.create("idb-get",{originalErrorMessage:t?.message});ir.warn(i.message)}}}async function sv(r,t){try{const a=(await zE()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(t,jE(r)),await a.done}catch(i){if(i instanceof or)ir.warn(i.message);else{const a=Yr.create("idb-set",{originalErrorMessage:i?.message});ir.warn(a.message)}}}function jE(r){return`${r.name}!${r.options.appId}`}const vb=1024,Eb=30;class Tb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ab(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Eb){const l=bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=av(),{heartbeatsToSend:i,unsentEntries:a}=Sb(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ir.warn(t),""}}}function av(){return new Date().toISOString().substring(0,10)}function Sb(r,t=vb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ov(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ov(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ab{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _b(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ov(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function bb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function wb(r){to(new Fs("platform-logger",t=>new LA(t),"PRIVATE")),to(new Fs("heartbeat",t=>new Tb(t),"PRIVATE")),Xr(sm,iv,r),Xr(sm,iv,"esm2020"),Xr("fire-js","")}wb("");var Rb="firebase",Cb="12.9.0";Xr(Rb,Cb,"app");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,BE;(function(){var r;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,O,M){for(var w=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)w[vt-2]=arguments[vt];return A.prototype[O].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],O=I.g[2];let M=I.g[3],w;w=A+(M^C&(O^M))+V[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=M+(O^A&(C^O))+V[1]+3905402710&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(C^M&(A^C))+V[2]+606105819&4294967295,O=M+(w<<17&4294967295|w>>>15),w=C+(A^O&(M^A))+V[3]+3250441966&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(M^C&(O^M))+V[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=M+(O^A&(C^O))+V[5]+1200080426&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(C^M&(A^C))+V[6]+2821735955&4294967295,O=M+(w<<17&4294967295|w>>>15),w=C+(A^O&(M^A))+V[7]+4249261313&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(M^C&(O^M))+V[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=M+(O^A&(C^O))+V[9]+2336552879&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(C^M&(A^C))+V[10]+4294925233&4294967295,O=M+(w<<17&4294967295|w>>>15),w=C+(A^O&(M^A))+V[11]+2304563134&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(M^C&(O^M))+V[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=M+(O^A&(C^O))+V[13]+4254626195&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(C^M&(A^C))+V[14]+2792965006&4294967295,O=M+(w<<17&4294967295|w>>>15),w=C+(A^O&(M^A))+V[15]+1236535329&4294967295,C=O+(w<<22&4294967295|w>>>10),w=A+(O^M&(C^O))+V[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=M+(C^O&(A^C))+V[6]+3225465664&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(M^A))+V[11]+643717713&4294967295,O=M+(w<<14&4294967295|w>>>18),w=C+(M^A&(O^M))+V[0]+3921069994&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(O^M&(C^O))+V[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=M+(C^O&(A^C))+V[10]+38016083&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(M^A))+V[15]+3634488961&4294967295,O=M+(w<<14&4294967295|w>>>18),w=C+(M^A&(O^M))+V[4]+3889429448&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(O^M&(C^O))+V[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=M+(C^O&(A^C))+V[14]+3275163606&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(M^A))+V[3]+4107603335&4294967295,O=M+(w<<14&4294967295|w>>>18),w=C+(M^A&(O^M))+V[8]+1163531501&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(O^M&(C^O))+V[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=M+(C^O&(A^C))+V[2]+4243563512&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^C&(M^A))+V[7]+1735328473&4294967295,O=M+(w<<14&4294967295|w>>>18),w=C+(M^A&(O^M))+V[12]+2368359562&4294967295,C=O+(w<<20&4294967295|w>>>12),w=A+(C^O^M)+V[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=M+(A^C^O)+V[8]+2272392833&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^C)+V[11]+1839030562&4294967295,O=M+(w<<16&4294967295|w>>>16),w=C+(O^M^A)+V[14]+4259657740&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(C^O^M)+V[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=M+(A^C^O)+V[4]+1272893353&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^C)+V[7]+4139469664&4294967295,O=M+(w<<16&4294967295|w>>>16),w=C+(O^M^A)+V[10]+3200236656&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(C^O^M)+V[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=M+(A^C^O)+V[0]+3936430074&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^C)+V[3]+3572445317&4294967295,O=M+(w<<16&4294967295|w>>>16),w=C+(O^M^A)+V[6]+76029189&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(C^O^M)+V[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=M+(A^C^O)+V[12]+3873151461&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^C)+V[15]+530742520&4294967295,O=M+(w<<16&4294967295|w>>>16),w=C+(O^M^A)+V[2]+3299628645&4294967295,C=O+(w<<23&4294967295|w>>>9),w=A+(O^(C|~M))+V[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=M+(C^(A|~O))+V[7]+1126891415&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~C))+V[14]+2878612391&4294967295,O=M+(w<<15&4294967295|w>>>17),w=C+(M^(O|~A))+V[5]+4237533241&4294967295,C=O+(w<<21&4294967295|w>>>11),w=A+(O^(C|~M))+V[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=M+(C^(A|~O))+V[3]+2399980690&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~C))+V[10]+4293915773&4294967295,O=M+(w<<15&4294967295|w>>>17),w=C+(M^(O|~A))+V[1]+2240044497&4294967295,C=O+(w<<21&4294967295|w>>>11),w=A+(O^(C|~M))+V[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=M+(C^(A|~O))+V[15]+4264355552&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~C))+V[6]+2734768916&4294967295,O=M+(w<<15&4294967295|w>>>17),w=C+(M^(O|~A))+V[13]+1309151649&4294967295,C=O+(w<<21&4294967295|w>>>11),w=A+(O^(C|~M))+V[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=M+(C^(A|~O))+V[11]+3174756917&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~C))+V[2]+718787259&4294967295,O=M+(w<<15&4294967295|w>>>17),w=C+(M^(O|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,V=this.C;let O=this.h,M=0;for(;M<A;){if(O==0)for(;M<=C;)l(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<A;)if(V[O++]=I.charCodeAt(M++),O==this.blockSize){l(this,V),O=0;break}}else for(;M<A;)if(V[O++]=I[M++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[A++]=this.g[C]>>>V&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let V=!0;for(let O=I.length-1;O>=0;O--){const M=I[O]|0;V&&M==A||(C[O]=M,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return nt(y(-I));const A=[];let C=1;for(let V=0;I>=C;V++)A[V]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return nt(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=b;for(let M=0;M<I.length;M+=8){var O=Math.min(8,I.length-M);const w=parseInt(I.substring(M,M+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var b=_(0),x=_(1),K=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-nt(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(it(this))return"-"+nt(this).toString(I);const A=y(Math.pow(I,6));var C=this;let V="";for(;;){const O=qt(C,A).g;C=dt(C,O.j(A));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,Z(C))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=dt(this,I),it(I)?-1:Z(I)?0:1};function nt(I){const A=I.g.length,C=[];for(let V=0;V<A;V++)C[V]=~I.g[V];return new d(C,~I.h).add(x)}r.abs=function(){return it(this)?nt(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let O=0;O<=A;O++){let M=V+(this.i(O)&65535)+(I.i(O)&65535),w=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=w>>>16,M&=65535,w&=65535,C[O]=w<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(I,A){return I.add(nt(A))}r.j=function(I){if(Z(this)||Z(I))return b;if(it(this))return it(I)?nt(this).j(nt(I)):nt(nt(this).j(I));if(it(I))return nt(this.j(nt(I)));if(this.l(K)<0&&I.l(K)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const M=this.i(V)>>>16,w=this.i(V)&65535,vt=I.i(O)>>>16,he=I.i(O)&65535;C[2*V+2*O]+=w*he,wt(C,2*V+2*O),C[2*V+2*O+1]+=M*he,wt(C,2*V+2*O+1),C[2*V+2*O+1]+=w*vt,wt(C,2*V+2*O+1),C[2*V+2*O+2]+=M*vt,wt(C,2*V+2*O+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function wt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function _t(I,A){this.g=I,this.h=A}function qt(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new _t(b,b);if(it(I))return A=qt(nt(I),A),new _t(nt(A.g),nt(A.h));if(it(A))return A=qt(I,nt(A)),new _t(nt(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,V=A;V.l(I)<=0;)C=ee(C),V=ee(V);var O=Ot(C,1),M=Ot(V,1);for(V=Ot(V,2),C=Ot(C,2);!Z(V);){var w=M.add(V);w.l(I)<=0&&(O=O.add(C),M=w),V=Ot(V,1),C=Ot(C,1)}return A=dt(I,O.j(A)),new _t(O,A)}for(O=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=y(C),w=M.j(A);it(w)||w.l(I)>0;)C-=V,M=y(C),w=M.j(A);Z(M)&&(M=x),O=O.add(M),I=dt(I,w)}return new _t(O,I)}r.B=function(I){return qt(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function ee(I){const A=I.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ot(I,A){const C=A>>5;A%=32;const V=I.g.length-C,O=[];for(let M=0;M<V;M++)O[M]=A>0?I.i(M+C)>>>A|I.i(M+C+1)<<32-A:I.i(M+C);return new d(O,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,BE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,$r=d}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qE,Al,HE,Pc,lm,GE,FE,KE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[U].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,v){const T=_t.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new it(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Ot=!1,I=new wt,A=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){nt(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function vt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(vt,O),vt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),L=0;function W(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=$(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new W(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function $(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var ut="closure_lm_"+(Math.random()*1e6|0),St={};function Et(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Et(u,m[B],v,T,U);return null}return v=go(v),u&&u[he]?u.J(m,v,p(T)?!!T.capture:!1,U):ue(u,m,v,!1,T,U)}function ue(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Rt=us(u);if(Rt||(u[ut]=Rt=new rt(u)),v=Rt.add(m,v,T,tt,B),v.proxy)return v;if(T=Xe(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)M||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(si(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xe(){function u(v){return m.call(u.src,u.listener,v)}const m=mo;return u}function an(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)an(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=go(v),u&&u[he]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=$(m,v,T,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$(m,v,T,U)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(si(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=us(m))?(yt(v,u),v.h==0&&(v.src=null,m[ut]=null)):ct(u)}}}function si(u){return u in St?St[u]:St[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new vt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ea(u),u=v.call(T,m)}return u}function us(u){return u=u[ut],u instanceof rt?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function Ee(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}b(Ee,V),Ee.prototype[he]=!0,Ee.prototype.removeEventListener=function(u,m,v,T){an(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),et(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=lr(B,T,!0,m)&&U;if(B=m.g=u,U=lr(B,T,!0,m)&&U,U=lr(B,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=lr(B,T,!1,m)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Ee.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function lr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,pe=tt.ha||tt.src;tt.fa&&yt(u.i,tt),U=Rt.call(pe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function nu(u){u.g=Lh(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){V.call(this),this.h=u,this.g={}}b(cs,V);var yo=[];function _o(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),_o(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Uh=d.JSON.parse,iu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ru(){}function su(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}b(je,O);function Cn(){O.call(this,"c")}b(Cn,O);var me={},au=null;function na(){return au=au||new Ee}me.Ia="serverreachability";function ou(u){O.call(this,me.Ia,u)}b(ou,O);function ai(u){const m=na();Oe(m,new ou(m))}me.STAT_EVENT="statevent";function hs(u,m){O.call(this,me.STAT_EVENT,u),this.stat=m}b(hs,O);function Te(u){const m=na();Oe(m,new hs(m,u))}me.Ja="timingevent";function oi(u,m){O.call(this,me.Ja,u),this.size=m}b(oi,O);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Ph(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var pe=Rt[Gt].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const On=oe.split("_");tt=On.length>=2&&On[1]=="type"?tt+(oe+"="+pe+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function lu(u,m,v,T,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function ui(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(T?" "+T:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ur(B)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function ms(){}b(ms,ru),ms.prototype.g=function(){return new XMLHttpRequest},Eo=new ms;function ki(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Gn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Se={},ke={};function ci(u,m,v){u.M=1,u.A=ps(be(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),hi(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),oa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Fn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(yo[0]=U.toString()),U=yo);for(let B=0;B<U.length;B++){const tt=Et(v,U[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Yn(this.g),pe=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Rt!=4||pe==7||(pe==8||Gt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Te(12),gn(this),In(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=hu(this,v),oe==ke){Rt==4&&(this.m=4,Te(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,Te(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,oe,null),di(this,oe);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(tt),tt.P=!0,Te(11))}}else ui(this.i,this.l,v,null),di(this,v);Rt==4&&gn(this),this.o&&!this.K&&(Rt==4?Eu(this.j,this):(this.o=!1,hi(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),gn(this),In(this)}}}catch{}};function jh(u){if(!cu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,U=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),In(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Se:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ai(),Te(17)),gn(this),this.m=2,In(this)):ra(this,this.T-u)};function In(u){u.j.I==0||u.K||Eu(u.j,u)}function gn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),yr(v);else break t;Ss(v),Te(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&fa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const On=Gt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Si=Gt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Xn=Gt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(T=1.5*Xn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const $n=u.g;if($n){const As=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var B=T.h;B.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(T.G){const da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(T.wa=da,Qt(T.J,T.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Au(T,T.L?T.ba:null,T.W),tt.L){bo(T.h,tt);var Rt=tt,pe=T.O;pe&&(Rt.H=pe),Rt.D&&(fi(Rt),hi(Rt)),T.g=tt}else _u(T);v.i.length>0&&Ei(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ti(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ti(v,7):Vo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ai(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,Ro(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),cr(this,m[4]),this.h=gi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,aa,!0),"@"),u.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gs(v,v.charAt(0)=="/"?Co:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gs(v,mu)),u.join("")},yn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const Rt=U[tt++];Rt=="."?T&&tt==U.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==U.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new yn(u)}function Le(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof fr?(u.i=m,la(u.i,u.l)):(v||(m=gs(m,hr)),u.i=new fr(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function ps(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,on),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,du=/[#\?:]/g,Co=/[#\?]/g,hr=/[#\?@]/g,mu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(u,m){ln(this),this.i=null,u=dr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){ln(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return ln(u),m=dr(u,m),u.g.has(m)}r.forEach=function(u,m){ln(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function No(u,m){ln(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return ln(this),this.i=null,u=dr(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(dr(u,m),K(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=ki(v);v=No(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+ki(v[B])),u.push(tt)}}return this.i=u.join("&")};function gu(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(pu(this,T),oa(this,U,v))},u)),u.j=m}function Kn(u,m){const v=new Hn;if(d.Image){const T=new Image;T.onload=S(Nn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Nn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Nn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Nn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Do(u,m){const v=new Hn,T=new AbortController,U=setTimeout(()=>{T.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function mr(){this.g=new iu}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(yi,ru),yi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ys,Ee),r=ys.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Qn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function _s(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Dn(v),typeof u=="string"?v!=null&&ki(v):Qt(u,m,v))}function $t(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,Ee);var _i=/^https?$/i,Oo=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){vs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){vs(this,B)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xo(u),Li(u)}function xo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(fu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!_i.test(tt?tt.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var U=Yn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",xo(u)}}finally{Li(u)}}}}function Li(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=uu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gr(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Te(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Au(this,null,this.W),Ei(this)};function Vo(u){if(ca(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Ts(u,v),m=new Gn(u,u.j,m),m.M=2,m.A=ps(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Su(u)}function yr(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ca(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||A(),Ot||(ee(),Ot=!0),I.add(m,u),u.D=0}}function ha(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Gn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=yu(this,U,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Ts(this,v),B&&(this.R?m="headers="+ki(Dn(B))+"&"+m:this.u&&_s(v,this.u,B)),Ao(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||So(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),Ts(u,T),u.u&&u.o&&_s(T,u.u,u.o),v=new Gn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),ci(v,T,m)}function Ts(u,m){u.H&&Ut(u.H,function(v,T){Qt(m,T,v)}),u.l&&Ut({},function(v,T){Qt(m,T,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Rt=-1;for(;;){const pe=["count="+v];Rt==-1?v>0?(Rt=U[0].g,pe.push("ofs="+Rt)):Rt=0:pe.push("ofs="+Rt);let Gt=!0;for(let oe=0;oe<v;oe++){var B=U[oe].g;const On=U[oe].map;if(B-=Rt,B<0)Rt=Math.max(0,U[oe].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var tt=On instanceof Map?On:Object.entries(On);for(const[Si,Xn]of tt){let $n=Xn;p(Xn)&&($n=ur(Xn)),pe.push(B+Si+"="+encodeURIComponent($n))}}catch(Si){throw pe.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(On)}}if(Gt){tt=pe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||A(),Ot||(ee(),Ot=!0),I.add(m,u),u.A=0}}function Ss(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),Tu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),yr(this),vu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ps(be(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Ss(this),Te(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){fa(u),ko(u),u.g=null;var T=2}else if(pi(u.h,m))v=m.G,bo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=na(),Oe(T,new oi(T,v)),Ei(u)}else _u(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ha(u,m)||T==2&&Ss(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Tu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),ps(T),U?Kn(T.toString(),v):Do(T.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),Su(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,v){var T=v instanceof yn?be(v):new yn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new yn(null);T&&Le(B,T),m&&(B.g=m),U&&cr(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),Ts(u,T),T}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new yi({ab:v})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Ee.call(this),this.g=new gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}b(nn,Ee),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Vo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ur(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&Ei(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,nn.Z.N.call(this)};function Ru(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Ru,je);function Cu(){Cn.call(this),this.status=1}b(Cu,Cn);function Pi(u){this.g=u}b(Pi,wu),Pi.prototype.ra=function(){Oe(this.g,"a")},Pi.prototype.qa=function(u){Oe(this.g,new Ru(u))},Pi.prototype.pa=function(u){Oe(this.g,new Cu)},Pi.prototype.oa=function(){Oe(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,KE=function(){return new _r},FE=function(){return na()},GE=me,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Pc=ds,vo.COMPLETE="complete",HE=vo,su.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Al=su,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,qE=$t}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});let Ze=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let lo="12.9.0";function Ib(r){lo=r}const Ks=new Om("@firebase/firestore");function Ha(){return Ks.logLevel}function st(r,...t){if(Ks.logLevel<=Mt.DEBUG){const i=t.map(km);Ks.debug(`Firestore (${lo}): ${r}`,...i)}}function rr(r,...t){if(Ks.logLevel<=Mt.ERROR){const i=t.map(km);Ks.error(`Firestore (${lo}): ${r}`,...i)}}function Qs(r,...t){if(Ks.logLevel<=Mt.WARN){const i=t.map(km);Ks.warn(`Firestore (${lo}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,QE(r,a,i)}function QE(r,t,i){let a=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rr(a),new Error(a)}function Kt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||QE(t,l,a)}function bt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class YE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class Db{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ob{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string",31837,{l:a}),new YE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class xb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Vb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new xb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new uv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=kb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function um(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Kd(l)===Kd(c)?kt(l,c):Kd(l)?1:-1}return kt(r.length,t.length)}const Lb=55296,Ub=57343;function Kd(r){const t=r.charCodeAt(0);return t>=Lb&&t<=Ub}function eo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const cv="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ci.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),l=Ci.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class se extends Ci{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const Pb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ci{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return Pb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cv}static keyField(){return new Qe([cv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(se.fromString(t))}static fromName(t){return new ft(se.fromString(t).popFirst(5))}static empty(){return new ft(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new se(t.slice()))}}function XE(r,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function zb(r,t,i,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function hv(r){if(!ft.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(ft.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $E(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Um(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function ei(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function De(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ql(r,t){if(!$E(r))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const dv=-62135596800,mv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*mv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<dv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:De("string",ae._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function jb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new Wr(l,ft.empty(),t)}function Bb(r){return new Wr(r.readTime,r.key,kl)}class Wr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Wr(Tt.min(),ft.empty(),kl)}static max(){return new Wr(Tt.max(),ft.empty(),kl)}}function qb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}const Hb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Hb)throw r;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Fb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const Pm=-1;function gh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function Kb(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const JE="";function Qb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=pv(t)),t=Yb(r.get(i),t);return pv(t)}function Yb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case JE:i+="";break;default:i+=c}}return i}function pv(r){return r+JE+""}function gv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ss(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function ZE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ke(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(t){return new yv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class yv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const i=Xb.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const t0="server_timestamp",e0="__type__",n0="__previous_value__",i0="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[e0]?.stringValue===t0}function yh(r){const t=r.mapValue.fields[n0];return zm(t)?yh(t):t}function Ll(r){const t=ts(r.mapValue.fields[i0].timestampValue);return new ae(t.seconds,t.nanos)}class $b{constructor(t,i,a,l,c,d,p,_,y,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=b}}const Zc="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}function Jb(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(r.options.projectId,t)}const r0="__type__",Zb="__max__",Vc={mapValue:{}},s0="__vector__",Wc="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:tw(r)?9007199254740991:Wb(r)?10:11:gt(28295,{value:r})}function Vi(r,t){if(r===t)return!0;const i=ns(r);if(i!==ns(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ts(l.timestampValue),p=ts(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return es(l.bytesValue).isEqual(es(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return _e(l.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return _e(l.integerValue)===_e(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=_e(l.doubleValue),p=_e(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(gv(d)!==gv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Vi(d[_],p[_])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find((i=>Vi(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=ns(r),a=ns(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=_e(c.integerValue||c.doubleValue),_=_e(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return _v(r.timestampValue,t.timestampValue);case 4:return _v(Ll(r),Ll(t));case 5:return um(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=es(c),_=es(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const S=kt(p[y],_[y]);if(S!==0)return S}return kt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(_e(c.latitude),_e(d.latitude));return p!==0?p:kt(_e(c.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return vv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Wc]?.arrayValue,S=_[Wc]?.arrayValue,b=kt(y?.values?.length||0,S?.values?.length||0);return b!==0?b:vv(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let b=0;b<_.length&&b<S.length;++b){const x=um(_[b],S[b]);if(x!==0)return x;const K=no(p[_[b]],y[S[b]]);if(K!==0)return K}return kt(_.length,S.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function _v(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=ts(r),a=ts(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function vv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function io(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ts(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return es(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=cm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function zc(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ss(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function hm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function Ev(r){return!!r&&"nullValue"in r}function Tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function Wb(r){return(r?.mapValue?.fields||{})[r0]?.stringValue===s0}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ss(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function tw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Zb}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ss(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new pn(Il(this.value))}}function a0(r){const t=[];return ss(r.fields,((i,a)=>{const l=new Qe([i]);if(jc(a)){const c=a0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Rn(t)}class We{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new We(t,0,Tt.min(),Tt.min(),Tt.min(),pn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,Tt.min(),Tt.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,Tt.min(),Tt.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function Sv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Vi(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function ew(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class o0{}class Ve extends o0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new iw(t,i,a):i==="array-contains"?new aw(t,a):i==="in"?new ow(t,a):i==="not-in"?new lw(t,a):i==="array-contains-any"?new uw(t,a):new Ve(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new rw(t,a):new sw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&ns(this.value)===ns(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends o0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Mi(t,i)}matches(t){return l0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l0(r){return r.op==="and"}function u0(r){return nw(r)&&l0(r)}function nw(r){for(const t of r.filters)if(t instanceof Mi)return!1;return!0}function fm(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+io(r.value);if(u0(r))return r.filters.map((t=>fm(t))).join(",");{const t=r.filters.map((i=>fm(i))).join(",");return`${r.op}(${t})`}}function c0(r,t){return r instanceof Ve?(function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&Vi(a.value,l.value)})(r,t):r instanceof Mi?(function(a,l){return l instanceof Mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&c0(d,l.filters[p])),!0):!1})(r,t):void gt(19439)}function h0(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(h0).join(" ,")+"}"})(r):"Filter"}class iw extends Ve{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class rw extends Ve{constructor(t,i){super(t,"in",i),this.keys=f0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class sw extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=f0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function f0(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class aw extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&Pl(i.arrayValue,this.value)}}class ow extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class lw extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class uw extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}class cw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function bv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new cw(r,t,i,a,l,c,d)}function Bm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ew(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!c0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Av(r.startAt,t.startAt)&&Av(r.endAt,t.endAt)}function dm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function hw(r,t,i,a,l,c,d,p){return new _h(r,t,i,a,l,c,d,p)}function vh(r){return new _h(r)}function wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fw(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function dw(r){return r.collectionGroup!==null}function Nl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new eh(Qe.keyField(),a))}return t.Ie}function Ii(r){const t=bt(r);return t.Ee||(t.Ee=mw(t,Nl(r))),t.Ee}function mw(r,t){if(r.limitType==="F")return bv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return bv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function mm(r,t,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Eh(r,t){return qm(Ii(r),Ii(t))&&r.limitType===t.limitType}function d0(r){return`${Bm(Ii(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>h0(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(Ii(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Nl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Sv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Nl(a),l)||a.endAt&&!(function(d,p,_){const y=Sv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Nl(a),l))})(r,t)}function pw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function m0(r){return(t,i)=>{let a=!1;for(const l of Nl(r)){const c=gw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function gw(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?no(_,y):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class Zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const yw=new ce(ft.comparator);function sr(){return yw}const p0=new ce(ft.comparator);function bl(...r){let t=p0;for(const i of r)t=t.insert(i.key,i);return t}function g0(r){let t=p0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function qs(){return Dl()}function y0(){return Dl()}function Dl(){return new Zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _w=new ce(ft.comparator),vw=new Me(ft.comparator);function Lt(...r){let t=vw;for(const i of r)t=t.add(i);return t}const Ew=new Me(kt);function Tw(){return Ew}function Hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function _0(r){return{integerValue:""+r}}function Sw(r,t){return Kb(t)?_0(t):Hm(r,t)}class Sh{constructor(){this._=void 0}}function Aw(r,t,i){return r instanceof zl?(function(l,c){const d={fields:{[e0]:{stringValue:t0},[i0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=yh(c)),c&&(d.fields[n0]=c),{mapValue:d}})(i,t):r instanceof jl?E0(r,t):r instanceof Bl?T0(r,t):(function(l,c){const d=v0(l,c),p=Rv(d)+Rv(l.Ae);return hm(d)&&hm(l.Ae)?_0(p):Hm(l.serializer,p)})(r,t)}function bw(r,t,i){return r instanceof jl?E0(r,t):r instanceof Bl?T0(r,t):i}function v0(r,t){return r instanceof nh?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class zl extends Sh{}class jl extends Sh{constructor(t){super(),this.elements=t}}function E0(r,t){const i=S0(t);for(const a of r.elements)i.some((l=>Vi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends Sh{constructor(t){super(),this.elements=t}}function T0(r,t){let i=S0(t);for(const a of r.elements)i=i.filter((l=>!Vi(l,a)));return{arrayValue:{values:i}}}class nh extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Rv(r){return _e(r.integerValue||r.doubleValue)}function S0(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ww{constructor(t,i){this.field=t,this.transform=i}}function Rw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof jl&&l instanceof jl||a instanceof Bl&&l instanceof Bl?eo(a.elements,l.elements,Vi):a instanceof nh&&l instanceof nh?Vi(a.Ae,l.Ae):a instanceof zl&&l instanceof zl})(r.transform,t.transform)}class Cw{constructor(t,i){this.version=t,this.transformResults=i}}class ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ah{}function A0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new w0(r.key,ni.none()):new Yl(r.key,r.data,ni.none());{const i=r.data,a=pn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new as(r.key,a,new Rn(l.toArray()),ni.none())}}function Iw(r,t,i){r instanceof Yl?(function(l,c,d){const p=l.value.clone(),_=Iv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof as?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Iv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(b0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Yl?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=c.value.clone(),S=Nv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof as?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=Nv(c.fieldTransforms,_,d),S=d.data;return S.setAll(b0(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Nw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=v0(a.transform,l||null);c!=null&&(i===null&&(i=pn.empty()),i.set(a.field,c))}return i||null}function Cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>Rw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yl extends Ah{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class as extends Ah{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function b0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Iv(r,t,i){const a=new Map;Kt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,bw(d,p,i[l]))}return a}function Nv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Aw(c,d,t))}return a}class w0 extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dw extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ow{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Iw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=y0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=A0(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>Cv(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>Cv(i,a)))}}class Gm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Kt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return _w})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(t,i,a,l)}}class xw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Vw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,zt;function Mw(r){switch(r){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function R0(r){if(r===void 0)return rr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ne.OK:return J.OK;case Ne.CANCELLED:return J.CANCELLED;case Ne.UNKNOWN:return J.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return J.INTERNAL;case Ne.UNAVAILABLE:return J.UNAVAILABLE;case Ne.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ne.NOT_FOUND:return J.NOT_FOUND;case Ne.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ne.ABORTED:return J.ABORTED;case Ne.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ne.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:r})}}(zt=Ne||(Ne={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function kw(){return new TextEncoder}const Lw=new $r([4294967295,4294967295],0);function Dv(r){const t=kw().encode(r),i=new BE;return i.update(t),new Uint8Array(i.digest())}function Ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,a],0),new $r([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$r.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply($r.fromNumber(a)));return l.compare(Lw)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new bh(Tt.min(),l,new ce(kt),sr(),Lt())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,Lt(),Lt(),Lt())}}class qc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class C0{constructor(t,i){this.targetId=t,this.Ce=i}}class I0{constructor(t,i,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class xv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Vv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Uw{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.He=Mc(),this.Je=Mc(),this.Ze=new ce(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(a===0){const d=new ft(c.path);this.et(i,d,We.newNoDocument(d,Tt.min()))}else Kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=es(a).toUint8Array()}catch(_){if(_ instanceof WE)return Qs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Fm(d,l,c)}catch(_){return Qs(_ instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&dm(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,We.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Lt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new bh(t,i,this.Ze,this.je,a);return this.je=sr(),this.He=Mc(),this.Je=Mc(),this.Ze=new ce(kt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new xv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new ce(ft.comparator)}function Vv(){return new ce(ft.comparator)}const Pw={asc:"ASCENDING",desc:"DESCENDING"},zw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jw={and:"AND",or:"OR"};class Bw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function N0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qw(r,t){return ih(r,t.toTimestamp())}function Ni(r){return Kt(!!r,49232),Tt.fromTimestamp((function(i){const a=ts(i);return new ae(a.seconds,a.nanos)})(r))}function Km(r,t){return gm(r,t).canonicalString()}function gm(r,t){const i=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function D0(r){const t=se.fromString(r);return Kt(k0(t),10190,{key:t.toString()}),t}function ym(r,t){return Km(r.databaseId,t.path)}function Qd(r,t){const i=D0(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(x0(i))}function O0(r,t){return Km(r.databaseId,t)}function Hw(r){const t=D0(r);return t.length===4?se.emptyPath():x0(t)}function _m(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function x0(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mv(r,t,i){return{name:ym(r,t),fields:i.value.mapValue.fields}}function Gw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Kt(S===void 0||typeof S=="string",58123),Ye.fromBase64String(S||"")):(Kt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ye.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:R0(y.code);return new lt(S,y.message||"")})(d);i=new I0(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(r,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):Tt.min(),p=new pn({mapValue:{fields:a.document.fields}}),_=We.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new qc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Qd(r,a.document),c=a.readTime?Ni(a.readTime):Tt.min(),d=We.newNoDocument(l,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Qd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Vw(l,c),p=a.targetId;i=new C0(p,d)}}return i}function Fw(r,t){let i;if(t instanceof Yl)i={update:Mv(r,t.key,t.value)};else if(t instanceof w0)i={delete:ym(r,t.key)};else if(t instanceof as)i={update:Mv(r,t.key,t.data),updateMask:tR(t.fieldMask)};else{if(!(t instanceof Dw))return gt(16599,{dt:t.type});i={verify:ym(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function Kw(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(Tt.min())&&(d=Ni(c)),new Cw(d,l.transformResults||[])})(i,t)))):[]}function Qw(r,t){return{documents:[O0(r,t.path)]}}function Yw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=O0(r,l);const c=(function(y){if(y.length!==0)return M0(Mi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(x){return{field:Fa(x.field),direction:Jw(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=pm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Xw(r){let t=Hw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Kt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const x=V0(b);return x instanceof Mi&&u0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new eh(Ka(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,gh(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(b){const x=!!b.before,K=b.values||[];return new th(K,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const x=!b.before,K=b.values||[];return new th(K,x)})(i.endAt)),hw(t,l,d,c,p,"F",_,y)}function $w(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function V0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ka(i.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>V0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function Jw(r){return Pw[r]}function Zw(r){return zw[r]}function Ww(r){return jw[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Qe.fromServerFormat(r.fieldPath)}function M0(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(Tv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:Zw(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((l=>M0(l)));return a.length===1?a[0]:{compositeFilter:{op:Ww(i.op),filters:a}}})(r):gt(54877,{filter:r})}function tR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function k0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function L0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eR{constructor(t){this.yt=t}}function nR(r){const t=Xw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mm(t,t.limit,"L"):t}class iR{constructor(){this.Sn=new rR}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Wr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class rR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(se.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(se.comparator)).toArray()}}const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(U0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class ro{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ro(0)}static ar(){return new ro(-1)}}const Lv="LruGarbageCollector",sR=1048576;function Uv([r,t],[i,a]){const l=kt(r,i);return l===0?kt(t,a):l}class aR{constructor(t){this.Pr=t,this.buffer=new Me(Uv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Uv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(Lv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?st(Lv,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Ar(3e5)}))}}class lR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ph.ce);const a=new aR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(kv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),Ha()<=Mt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function uR(r,t){return new lR(r,t)}class cR{constructor(){this.changes=new Zs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class fR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,Rn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=qs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=qs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=sr();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((_,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof as)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Ol(S.mutation,y,S.mutation.getFieldMask(),ae.now())):d.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new hR(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Dl();let l=new ce(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||Rn.empty();S=p.applyToLocalView(y,S),a.set(_,S);const b=(l.get(p.batchId)||Lt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,S=_.value,b=y0();S.forEach((x=>{if(!c.has(x)){const K=A0(i.get(x),a.get(x));K!==null&&b.set(x,K),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return fw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(qs());let p=kl,_=c;return d.next((y=>X.forEach(y,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{_=_.insert(S,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Lt()))).next((S=>({batchId:p,changes:g0(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,x){return new _h(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,We.newInvalidDocument(S)))}));let p=bl();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Ol(S.mutation,y,Rn.empty(),ae.now()),Th(i,y)&&(p=p.insert(_,y))})),p}))}}class dR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:nR(l.bundledQuery),readTime:Ni(l.readTime)}})(i)),X.resolve()}}class mR{constructor(){this.overlays=new ce(ft.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=qs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=qs(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=qs(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=qs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new xw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Lt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class pR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ft(new se([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new se([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=Lt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class gR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ow(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(kt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ft(c),0);let p=new Me(kt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yR{constructor(t){this.ti=t,this.docs=(function(){return new ce(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=sr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=sr();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qb(Bb(S),a)<=0||(l.has(S.key)||Th(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new _R(this)}getSize(t){return X.resolve(this.size)}}class _R extends cR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class vR{constructor(t){this.persistence=t,this.ri=new Zs((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Qm,this.targetCount=0,this.oi=ro._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class P0{constructor(t,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new pR,this.referenceDelegate=t(this),this.li=new vR(this),this.indexManager=new iR,this.remoteDocumentCache=(function(l){return new yR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new eR(i),this.Pi=new dR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new mR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new gR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new ER(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class ER extends Gb{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Qm,this.Ai=null}static Vi(t){return new Ym(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ft.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.fi=new Zs((a=>Qb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=uR(this,i)}static Vi(t,i){return new rh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,a,l)}}class TR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class SR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oA()?8:Fb(tn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new TR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ha()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ha()<=Mt.DEBUG&&st("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ha()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):X.resolve())}gs(t,i){if(wv(i))return X.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,mm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return wv(i)||l.isEqual(Tt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ha()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(t,d,i,jb(l,kl)).next((p=>p)))}))}bs(t,i){let a=new Me(m0(t));return i.forEach(((l,c)=>{Th(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ha()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(t,i,Wr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",AR=3e8;class bR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ce(kt),this.Fs=new Zs((c=>Bm(c)),qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function wR(r,t,i,a){return new bR(r,t,i,a)}async function z0(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Lt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function RR(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,S){const b=y.batch,x=b.keys();let K=X.resolve();return x.forEach((Z=>{K=K.next((()=>S.getEntry(_,Z))).next((it=>{const nt=y.docVersions.get(Z);Kt(nt!==null,48541),it.version.compareTo(nt)<0&&(b.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),S.addEntry(it)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Lt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function j0(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function CR(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,b)=>{const x=l.get(b);if(!x)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let K=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),l=l.insert(b,K),(function(it,nt,dt){return it.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=AR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(x,K,S)&&p.push(i.li.updateTargetData(c,K))}));let _=sr(),y=Lt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(IR(c,d,t.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!a.isEqual(Tt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function IR(r,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=sr();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):st($m,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function NR(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function DR(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Kr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function vm(r,t,i){const a=bt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;st($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Pv(r,t,i){const a=bt(r);let l=Tt.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const b=bt(_),x=b.Fs.get(S);return x!==void 0?X.resolve(b.vs.get(x)):b.li.getTargetData(y,S)})(a,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Lt()))).next((p=>(OR(a,pw(t),p),{documents:p,ks:c})))))}function OR(r,t,i){let a=r.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class zv{constructor(){this.activeTargetIds=Tw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xR{constructor(){this.vo=new zv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new zv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class VR{Mo(t){}shutdown(){}}const jv="ConnectivityMonitor";class Bv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(jv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function Em(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Yd="RestConnection",MR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=Em(),p=this.Qo(t,i.toUriEncodedString());st(Yd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),S=ao(y);return this.zo(t,p,_,a,S).then((b=>(st(Yd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Qs(Yd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=MR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class LR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",El=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ya extends kR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ya.c_){const t=FE();El(t,GE.STAT_EVENT,(i=>{i.stat===lm.PROXY?st(Je,"STAT_EVENT: detected buffering proxy"):i.stat===lm.NOPROXY&&st(Je,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(t,i,a,l,c){const d=Em();return new Promise(((p,_)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();st(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Pc.TIMEOUT:st(Je,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const x=y.getStatus();if(st(Je,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const it=(function(dt){const wt=dt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(wt)>=0?wt:J.UNKNOWN})(Z.status);_(new lt(it,Z.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Je,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=Em(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");st(Je,`Creating RPC '${t}' stream ${l}: ${y}`,p);const S=d.createWebChannel(y,p);this.I_(S);let b=!1,x=!1;const K=new LR({Ho:Z=>{x?st(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(st(Je,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),st(Je,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Jo:()=>S.close()});return El(S,Al.EventType.OPEN,(()=>{x||(st(Je,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),El(S,Al.EventType.CLOSE,(()=>{x||(x=!0,st(Je,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(S))})),El(S,Al.EventType.ERROR,(Z=>{x||(x=!0,Qs(Je,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),El(S,Al.EventType.MESSAGE,(Z=>{if(!x){const it=Z.data[0];Kt(!!it,16349);const nt=it,dt=nt?.error||nt[0]?.error;if(dt){st(Je,`RPC '${t}' stream ${l} received error:`,dt);const wt=dt.status;let _t=(function(Ot){const I=Ne[Ot];if(I!==void 0)return R0(I)})(wt),qt=dt.message;wt==="NOT_FOUND"&&qt.includes("database")&&qt.includes("does not exist")&&qt.includes(this.databaseId.database)&&Qs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_t===void 0&&(_t=J.INTERNAL,qt="Unknown error status: "+wt+" with message "+dt.message),x=!0,K.o_(new lt(_t,qt)),S.close()}else st(Je,`RPC '${t}' stream ${l} received:`,it),K.__(it)}})),Ya.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KE()}}function UR(r){return new Ya(r)}function Xd(){return typeof document<"u"?document:null}function wh(r){return new Bw(r,!0)}Ya.c_=!1;class B0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const qv="PersistentStream";class q0{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PR extends q0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Gw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ni(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=dm(_)?{documents:Qw(c,_)}:{query:Yw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=N0(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=$w(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.K_(i)}}class zR extends q0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Kw(t.writeResults,t.commitTime),a=Ni(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=_m(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Fw(this.serializer,a)))};this.K_(i)}}class jR{}class BR extends jR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,gm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,gm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function qR(r,t,i,a){return new BR(r,t,i,a)}class HR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class GR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Ws(this)&&(st(Ys,"Restarting streams for network reachability change."),await(async function(_){const y=bt(_);y.Ea.add(4),await $l(y),y.Va.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Va=new HR(a,l)}}async function Rh(r){if(Ws(r))for(const t of r.Ra)await t(!0)}async function $l(r){for(const t of r.Ra)await t(!1)}function H0(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tp(i)?Wm(i):ho(i).O_()&&Zm(i,t))}function Jm(r,t){const i=bt(r),a=ho(i);i.Ia.delete(t),a.O_()&&G0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Ws(i)&&i.Va.set("Unknown"))}function Zm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(r).Z_(t)}function G0(r,t){r.da.$e(t),ho(r).X_(t)}function Wm(r){r.da=new Uw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Va.ua()}function tp(r){return Ws(r)&&!ho(r).x_()&&r.Ia.size>0}function Ws(r){return bt(r).Ea.size===0}function F0(r){r.da=void 0}async function FR(r){r.Va.set("Online")}async function KR(r){r.Ia.forEach(((t,i)=>{Zm(r,t)}))}async function QR(r,t){F0(r),tp(r)?(r.Va.ha(t),Wm(r)):r.Va.set("Unknown")}async function YR(r,t,i){if(r.Va.set("Online"),t instanceof I0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){st(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof qc?r.da.Xe(t):t instanceof C0?r.da.st(t):r.da.tt(t),!i.isEqual(Tt.min()))try{const a=await j0(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Ye.EMPTY_BYTE_STRING,S.snapshotVersion)),G0(c,_);const b=new Kr(S.target,_,y,S.sequenceNumber);Zm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Ys,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,i){if(!co(t))throw t;r.Ea.add(1),await $l(r),r.Va.set("Offline"),i||(i=()=>j0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Ys,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function K0(r,t){return t().catch((i=>sh(r,i,t)))}async function Ch(r){const t=bt(r),i=is(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;XR(t);)try{const l=await NR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,$R(t,l)}catch(l){await sh(t,l)}Q0(t)&&Y0(t)}function XR(r){return Ws(r)&&r.Ta.length<10}function $R(r,t){r.Ta.push(t);const i=is(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function Q0(r){return Ws(r)&&!is(r).x_()&&r.Ta.length>0}function Y0(r){is(r).start()}async function JR(r){is(r).ra()}async function ZR(r){const t=is(r);for(const i of r.Ta)t.ea(i.mutations)}async function WR(r,t,i){const a=r.Ta.shift(),l=Gm.from(a,t,i);await K0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function t2(r,t){t&&is(r).Y_&&await(async function(a,l){if((function(d){return Mw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();is(a).B_(),await K0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(r,t),Q0(r)&&Y0(r)}async function Hv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),st(Ys,"RemoteStore received new credentials");const a=Ws(i);i.Ea.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function e2(r,t){const i=bt(r);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function ho(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new PR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:FR.bind(null,r),Yo:KR.bind(null,r),t_:QR.bind(null,r),J_:YR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),tp(r)?Wm(r):r.Va.set("Unknown")):(await r.ma.stop(),F0(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new zR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JR.bind(null,r),t_:t2.bind(null,r),ta:ZR.bind(null,r),na:WR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ep{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ep(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(rr("AsyncQueue",`${t}: ${r}`),co(r))return new lt(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Gv{constructor(){this.ga=new ce(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class so{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,Xa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class n2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class i2{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=Fv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Fv(){return new Zs((r=>d0(r)),Eh)}async function X0(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new n2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=np(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ip(i)}async function $0(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function r2(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&ip(i)}function s2(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function ip(r){r.Ca.forEach((t=>{t.next()}))}var Tm,Kv;(Kv=Tm||(Tm={})).Ma="default",Kv.Cache="cache";class J0{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new so(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}class Z0{constructor(t){this.key=t}}class W0{constructor(t){this.key=t}}class a2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=m0(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const x=l.get(S),K=Th(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),it=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let nt=!1;x&&K?x.data.isEqual(K.data)?Z!==it&&(a.track({type:3,doc:K}),nt=!0):this.su(x,K)||(a.track({type:2,doc:K}),nt=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(p=!0)):!x&&K?(a.track({type:0,doc:K}),nt=!0):x&&!K&&(a.track({type:1,doc:x}),nt=!0,(_||y)&&(p=!0)),nt&&(K?(d=d.add(K),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(K,Z){const it=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:nt})}};return it(K)-it(Z)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new W0(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new Z0(a))})),i}cu(t){this.Za=t.ks,this.Ya=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rp="SyncEngine";class o2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class l2{constructor(t){this.key=t,this.hu=!1}}class u2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zs((p=>d0(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(ft.comparator),this.Au=new Map,this.Vu=new Qm,this.du={},this.mu=new Map,this.fu=ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c2(r,t,i=!0){const a=sT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await tT(a,t,i,!0),l}async function h2(r,t){const i=sT(r);await tT(i,t,!0,!1)}async function tT(r,t,i,a){const l=await DR(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await f2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&H0(r.remoteStore,l),p}async function f2(r,t,i,a,l){r.pu=(b,x,K)=>(async function(it,nt,dt,wt){let _t=nt.view.ru(dt);_t.Ss&&(_t=await Pv(it.localStore,nt.query,!1).then((({documents:I})=>nt.view.ru(I,_t))));const qt=wt&&wt.targetChanges.get(nt.targetId),ee=wt&&wt.targetMismatches.get(nt.targetId)!=null,Ot=nt.view.applyChanges(_t,it.isPrimaryClient,qt,ee);return Yv(it,nt.targetId,Ot.au),Ot.snapshot})(r,b,x,K);const c=await Pv(r.localStore,t,!0),d=new a2(t,c.ks),p=d.ru(c.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);Yv(r,i,y.au);const S=new o2(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function d2(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(uo)):(Sm(a,l.targetId),await vm(a.localStore,l.targetId,!0))}async function m2(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function p2(r,t,i){const a=S2(r);try{const l=await(function(d,p){const _=bt(d),y=ae.now(),S=p.reduce(((K,Z)=>K.add(Z.key)),Lt());let b,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=sr(),it=Lt();return _.xs.getEntries(K,S).next((nt=>{Z=nt,Z.forEach(((dt,wt)=>{wt.isValidDocument()||(it=it.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,Z))).next((nt=>{b=nt;const dt=[];for(const wt of p){const _t=Nw(wt,b.get(wt.key).overlayedDocument);_t!=null&&dt.push(new as(wt.key,_t,a0(_t.value.mapValue),ni.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,dt,p)})).next((nt=>{x=nt;const dt=nt.applyToLocalDocumentSet(b,it);return _.documentOverlayCache.saveOverlays(K,nt.batchId,dt)}))})).then((()=>({batchId:x.batchId,changes:g0(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ce(kt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Jl(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function eT(r,t){const i=bt(r);try{const a=await CR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await uo(a)}}function Qv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=bt(d);_.onlineState=p;let y=!1;_.queries.forEach(((S,b)=>{for(const x of b.ba)x.va(p)&&(y=!0)})),y&&ip(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function g2(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(ft.comparator);d=d.insert(c,We.newNoDocument(c,Tt.min()));const p=Lt().add(c),_=new bh(Tt.min(),new Map,new ce(kt),d,p);await eT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),sp(a)}else await vm(a.localStore,t,!1).then((()=>Sm(a,t,i))).catch(uo)}async function y2(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await RR(i.localStore,t);iT(i,a,null),nT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await uo(l)}}async function _2(r,t,i){const a=bt(r);try{const l=await(function(d,p){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Kt(b!==null,37113),S=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);iT(a,t,i),nT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await uo(l)}}function nT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function iT(r,t,i){const a=bt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||rT(r,a)}))}function rT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Jm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),sp(r))}function Yv(r,t,i){for(const a of i)a instanceof Z0?(r.Vu.addReference(a.key,t),v2(r,a)):a instanceof W0?(st(rp,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||rT(r,a.key)):gt(19791,{wu:a})}function v2(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(st(rp,"New document in limbo: "+i),r.Eu.add(a),sp(r))}function sp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(se.fromString(t)),a=r.fu.next();r.Au.set(a,new l2(i)),r.Ru=r.Ru.insert(i,a),H0(r.remoteStore,new Kr(Ii(vh(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function Jl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Xm.Es(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const S=bt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(x=>X.forEach(x.Ts,(K=>S.persistence.referenceDelegate.addReference(b,x.targetId,K))).next((()=>X.forEach(x.Is,(K=>S.persistence.referenceDelegate.removeReference(b,x.targetId,K)))))))))}catch(b){if(!co(b))throw b;st($m,"Failed to update sequence numbers: "+b)}for(const b of y){const x=b.targetId;if(!b.fromCache){const K=S.vs.get(x),Z=K.snapshotVersion,it=K.withLastLimboFreeSnapshotVersion(Z);S.vs=S.vs.insert(x,it)}}})(a.localStore,c))}async function E2(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){st(rp,"User change. New user:",t.toKey());const a=await z0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ns)}}function T2(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function sT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=eT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=g2.bind(null,t),t.Pu.J_=r2.bind(null,t.eventManager),t.Pu.yu=s2.bind(null,t.eventManager),t}function S2(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=y2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return wR(this.persistence,new SR,t.initialUser,this.serializer)}Cu(t){return new P0(Ym.Vi,this.serializer)}Du(t){return new xR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class A2 extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new P0((a=>rh.Vi(a,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Qv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=E2.bind(null,this.syncEngine),await e2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new i2})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=UR(t.databaseInfo);return qR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new GR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Qv(this.syncEngine,i,0)),(function(){return Bv.v()?new Bv:new VR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,S){const b=new u2(l,c,d,p,_,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);st(Ys,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class aT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rs="FirestoreClient";class b2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(rs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(rs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function $d(r,t){r.asyncQueue.verifyOperationInProgress(),st(rs,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await z0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Xv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await w2(r);st(rs,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Hv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Hv(t.remoteStore,l))),r._onlineComponents=t}async function w2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(rs,"Using user provided OfflineComponentProvider");try{await $d(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qs("Error using user provided cache. Falling back to memory cache: "+i),await $d(r,new ah)}}else st(rs,"Using default OfflineComponentProvider"),await $d(r,new A2(void 0));return r._offlineComponents}async function oT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(rs,"Using user provided OnlineComponentProvider"),await Xv(r,r._uninitializedComponentsProvider._online)):(st(rs,"Using default OnlineComponentProvider"),await Xv(r,new Am))),r._onlineComponents}function R2(r){return oT(r).then((t=>t.syncEngine))}async function bm(r){const t=await oT(r),i=t.eventManager;return i.onListen=c2.bind(null,t.syncEngine),i.onUnlisten=d2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=h2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=m2.bind(null,t.syncEngine),i}function C2(r,t,i,a){const l=new aT(a),c=new J0(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>X0(await bm(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>$0(await bm(r),c)))}}function I2(r,t,i={}){const a=new Jr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const S=new aT({next:x=>{S.Nu(),d.enqueueAndForget((()=>$0(c,b)));const K=x.docs.has(p);!K&&x.fromCache?y.reject(new lt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&x.fromCache&&_&&_.source==="server"?y.reject(new lt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new J0(vh(p.path),S,{includeMetadataChanges:!0,Ka:!0});return X0(c,b)})(await bm(r),r.asyncQueue,t,i,a))),a.promise}function N2(r,t){const i=new Jr;return r.asyncQueue.enqueueAndForget((async()=>p2(await R2(r),t,i))),i.promise}function lT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const D2="ComponentProvider",$v=new Map;function O2(r,t,i,a,l){return new $b(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,lT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const uT="firestore.googleapis.com",Jv=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uT,this.ssl=Jv}else this.host=t.host,this.ssl=t.ssl??Jv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=U0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sR)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Nb;switch(a.type){case"firstParty":return new Vb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=$v.get(i);a&&(st(D2,"Removing Datastore"),$v.delete(i),a.terminate())})(this),Promise.resolve()}}function x2(r,t,i,a={}){r=ei(r,Ih);const l=ao(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(ME(`https://${p}`),kE("Firestore",!0)),c.host!==uT&&c.host!==p&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Gs(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=Ze.MOCK_USER;else{y=ZS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(b)}r._authCredentials=new Db(new YE(y,S))}}class Nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Nh(this.firestore,t,this._query)}}class ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,ve._jsonSchema))return new ve(t,a||null,new ft(se.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:De("string",ve._jsonSchemaVersion),referencePath:De("string")};class Zr extends Nh{constructor(t,i,a){super(t,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new ft(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function Lc(r,t,...i){if(r=ze(r),XE("collection","path",t),r instanceof Ih){const a=se.fromString(t,...i);return fv(a),new Zr(r,null,a)}{if(!(r instanceof ve||r instanceof Zr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return fv(a),new Zr(r.firestore,null,a)}}function Hc(r,t,...i){if(r=ze(r),arguments.length===1&&(t=Lm.newId()),XE("doc","path",t),r instanceof Ih){const a=se.fromString(t,...i);return hv(a),new ve(r,null,new ft(a))}{if(!(r instanceof ve||r instanceof Zr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return hv(a),new ve(r.firestore,r instanceof Zr?r.converter:null,new ft(a))}}const Wv="AsyncQueue";class tE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B0(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&st(Wv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;st(Wv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",eE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ep.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:eE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function eE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Xs extends Ih{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new tE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tE(t),this._firestoreClient=void 0,await t}}}function V2(r,t){const i=typeof r=="object"?r:Mm(),a=typeof r=="string"?r:Zc,l=Vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=$S("firestore");c&&x2(l,...c)}return l}function ap(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||M2(r),r._firestoreClient}function M2(r){const t=r._freezeSettings(),i=O2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new b2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Ye.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Bn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:De("string",Bn._jsonSchemaVersion),bytes:De("string")};class op{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dh{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:De("string",Di._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ii(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:De("string",ii._jsonSchemaVersion),vectorValues:De("object")};const k2=/^__.*__$/;class L2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class cT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new as(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function hT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class lp{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new lp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return oh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(hT(this.dataSource)&&k2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class U2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}createContext(t,i,a,l=!1){return new lp({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function up(r){const t=r._freezeSettings(),i=wh(r._databaseId);return new U2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function fT(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);hp("Data must be an object, but it was:",d,a);const p=dT(a,d);let _,y;if(c.merge)_=new Rn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const x=ql(t,b,i);if(!d.contains(x))throw new lt(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);gT(S,x)||S.push(x)}_=new Rn(S),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new L2(new pn(p),_,y)}class Oh extends Dh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}class cp extends Dh{_toFieldTransform(t){return new ww(t.path,new zl)}isEqual(t){return t instanceof cp}}function P2(r,t,i,a){const l=r.createContext(1,t,i);hp("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();ss(a,((_,y)=>{const S=pT(t,_,i);y=ze(y);const b=l.childContextForFieldPath(S);if(y instanceof Oh)c.push(S);else{const x=xh(y,b);x!=null&&(c.push(S),d.set(S,x))}}));const p=new Rn(c);return new cT(d,p,l.fieldTransforms)}function z2(r,t,i,a,l,c){const d=r.createContext(1,t,i),p=[ql(t,a,i)],_=[l];if(c.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(ql(t,c[x])),_.push(c[x+1]);const y=[],S=pn.empty();for(let x=p.length-1;x>=0;--x)if(!gT(y,p[x])){const K=p[x];let Z=_[x];Z=ze(Z);const it=d.childContextForFieldPath(K);if(Z instanceof Oh)y.push(K);else{const nt=xh(Z,it);nt!=null&&(y.push(K),S.set(K,nt))}}const b=new Rn(y);return new cT(S,b,d.fieldTransforms)}function xh(r,t){if(mT(r=ze(r)))return hp("Unsupported field value:",t,r),dT(r,t);if(r instanceof Dh)return(function(a,l){if(!hT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=xh(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Sw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:N0(l.serializer,a._byteString)};if(a instanceof ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ii)return(function(d,p){const _=d instanceof ii?d.toArray():d;return{mapValue:{fields:{[r0]:{stringValue:s0},[Wc]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Hm(p.serializer,S)}))}}}}}})(a,l);if(L0(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Um(a)}`)})(r,t)}function dT(r,t){const i={};return ZE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(r,((a,l)=>{const c=xh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function mT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Di||r instanceof Bn||r instanceof ve||r instanceof Dh||r instanceof ii||L0(r))}function hp(r,t,i){if(!mT(i)||!$E(i)){const a=Um(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function ql(r,t,i){if((t=ze(t))instanceof op)return t._internalPath;if(typeof t=="string")return pT(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const j2=new RegExp("[~\\*/\\[\\]]");function pT(r,t,i){if(t.search(j2)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new op(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,p+r+_)}function gT(r,t){return r.some((i=>i.isEqual(t)))}class B2{convertValue(t,i="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ss(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>_e(a.doubleValue)));return new ii(i)}convertGeoPoint(t){return new Di(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=ts(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);Kt(k0(a),9688,{name:t});const l=new Ul(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||rr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class yT extends B2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function Jd(){return new cp("serverTimestamp")}const nE="@firebase/firestore",iE="4.11.0";function rE(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class _T{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(ql("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class q2 extends _T{data(){return super.data()}}function H2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function vT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends _T{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ql("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:De("string",Hs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Gc extends Hs{data(t={}){return super.data(t)}}class $a{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:G2(p.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function G2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:De("string",$a._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};function F2(r){r=ei(r,ve);const t=ei(r.firestore,Xs),i=ap(t);return I2(i,r._key).then((a=>ET(t,r,a)))}function sE(r,t,i){r=ei(r,ve);const a=ei(r.firestore,Xs),l=vT(r.converter,t,i),c=up(a);return fp(a,[fT(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ni.none())])}function K2(r,t,i,...a){r=ei(r,ve);const l=ei(r.firestore,Xs),c=up(l);let d;return d=typeof(t=ze(t))=="string"||t instanceof op?z2(c,"updateDoc",r._key,t,i,a):P2(c,"updateDoc",r._key,t),fp(l,[d.toMutation(r._key,ni.exists(!0))])}function aE(r,t){const i=ei(r.firestore,Xs),a=Hc(r),l=vT(r.converter,t),c=up(r.firestore);return fp(i,[fT(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then((()=>a))}function Zd(r,...t){r=ze(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||rE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(rE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ve)d=ei(r.firestore,Xs),p=vh(r._key.path),c={next:y=>{t[a]&&t[a](ET(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=ei(r,Nh);d=ei(y.firestore,Xs),p=y._query;const S=new yT(d);c={next:b=>{t[a]&&t[a](new $a(d,S,y,b))},error:t[a+1],complete:t[a+2]},H2(r._query)}const _=ap(d);return C2(_,p,l,c)}function fp(r,t){const i=ap(r);return N2(i,t)}function ET(r,t,i){const a=i.docs.get(t._key),l=new yT(r);return new Hs(r,l,t._key,a,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){Ib(oo),to(new Fs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Xs(new Ob(a.getProvider("auth-internal")),new Mb(d,a.getProvider("app-check-internal")),Jb(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Xr(nE,iE,t),Xr(nE,iE,"esm2020")})();function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q2=TT,ST=new Fl("auth","Firebase",TT());const lh=new Om("@firebase/auth");function Y2(r,...t){lh.logLevel<=Mt.WARN&&lh.warn(`Auth (${oo}): ${r}`,...t)}function Fc(r,...t){lh.logLevel<=Mt.ERROR&&lh.error(`Auth (${oo}): ${r}`,...t)}function ri(r,...t){throw dp(r,...t)}function Oi(r,...t){return dp(r,...t)}function AT(r,t,i){const a={...Q2(),[t]:i};return new Fl("auth","Firebase",a).create(t,{appName:r.name})}function nr(r){return AT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return ST.create(r,...t)}function pt(r,t,...i){if(!r)throw dp(t,...i)}function tr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Fc(t),new Error(t)}function ar(r,t){r||tr(t)}function wm(){return typeof self<"u"&&self.location?.href||""}function X2(){return oE()==="http:"||oE()==="https:"}function oE(){return typeof self<"u"&&self.location?.protocol||null}function $2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X2()||rA()||"connection"in navigator)?navigator.onLine:!0}function J2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ar(i>t,"Short delay should be less than long delay!"),this.isMobile=eA()||sA()}get(){return $2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mp(r,t){ar(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class bT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const W2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new Zl(3e4,6e4);function os(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ls(r,t,i,a,l={}){return wT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Kl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return iA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ao(r.emulatorConfig.host)&&(y.credentials="include"),bT.fetch()(await RT(r,r.config.apiHost,i,p),y)})}async function wT(r,t,i){r._canInitEmulator=!1;const a={...Z2,...t};try{const l=new nC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(r,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw AT(r,S,y);ri(r,S)}}catch(l){if(l instanceof or)throw l;ri(r,"network-request-failed",{message:String(l)})}}async function Wl(r,t,i,a,l={}){const c=await ls(r,t,i,a,l);return"mfaPendingCredential"in c&&ri(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function RT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?mp(r.config,l):`${r.config.apiScheme}://${l}`;return W2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function eC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Oi(this.auth,"network-request-failed")),tC.get())})}}function Uc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Oi(r,t,a);return l.customData._tokenResponse=i,l}function lE(r){return r!==void 0&&r.enterprise!==void 0}class iC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return eC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rC(r,t){return ls(r,"GET","/v2/recaptchaConfig",os(r,t))}async function sC(r,t){return ls(r,"POST","/v1/accounts:delete",t)}async function uh(r,t){return ls(r,"POST","/v1/accounts:lookup",t)}function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aC(r,t=!1){const i=ze(r),a=await i.getIdToken(t),l=pp(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:xl(Wd(l.auth_time)),issuedAtTime:xl(Wd(l.iat)),expirationTime:xl(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(r){return Number(r)*1e3}function pp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=DE(i);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function uE(r){const t=pp(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof or&&oC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function oC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(r){const t=r.auth,i=await r.getIdToken(),a=await Hl(r,uh(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?CT(l.providerUserInfo):[],d=cC(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Rm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function uC(r){const t=ze(r);await ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function CT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hC(r,t){const i=await wT(r,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await RT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&ao(r.emulatorConfig.host)&&(_.credentials="include"),bT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fC(r,t){return ls(r,"POST","/v2/accounts:revokeToken",os(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=uE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await hC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Br(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new lC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return aC(this,t)}reload(){return uC(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(nr(this.auth));const t=await this.getIdToken();return await Hl(this,sC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:K,providerData:Z,stsTokenManager:it}=i;pt(b&&it,t,"internal-error");const nt=Ja.fromJSON(this.name,it);pt(typeof b=="string",t,"internal-error"),Br(a,t.name),Br(l,t.name),pt(typeof x=="boolean",t,"internal-error"),pt(typeof K=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(_,t.name),Br(y,t.name),Br(S,t.name);const dt=new ti({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:nt,createdAt:y,lastLoginAt:S});return Z&&Array.isArray(Z)&&(dt.providerData=Z.map(wt=>({...wt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ch(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?CT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const _=new ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const cE=new Map;function er(r){ar(r instanceof Function,"Expected a class definition");let t=cE.get(r);return t?(ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,cE.set(r,t),t)}class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}IT.type="NONE";const hE=IT;function Kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await uh(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(er(hE),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||er(hE);const d=Kc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const x=await uh(t,{idToken:S}).catch(()=>{});if(!x)break;b=await ti._fromGetAccountInfoResponse(t,x,S)}else b=ti._fromJSON(t,S);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,a))}}function fE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MT(t))return"Blackberry";if(kT(t))return"Webos";if(DT(t))return"Safari";if((t.includes("chrome/")||OT(t))&&!t.includes("edge/"))return"Chrome";if(VT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function NT(r=tn()){return/firefox\//i.test(r)}function DT(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OT(r=tn()){return/crios\//i.test(r)}function xT(r=tn()){return/iemobile/i.test(r)}function VT(r=tn()){return/android/i.test(r)}function MT(r=tn()){return/blackberry/i.test(r)}function kT(r=tn()){return/webos/i.test(r)}function gp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dC(r=tn()){return gp(r)&&!!window.navigator?.standalone}function mC(){return aA()&&document.documentMode===10}function LT(r=tn()){return gp(r)||VT(r)||kT(r)||MT(r)||/windows phone/i.test(r)||xT(r)}function UT(r,t=[]){let i;switch(r){case"Browser":i=fE(tn());break;case"Worker":i=`${fE(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${a}`}class pC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function gC(r,t={}){return ls(r,"GET","/v2/passwordPolicy",os(r,t))}const yC=6;class _C{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class vC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new pC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=er(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await uh(this,{idToken:t}),a=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ch(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(nr(this));const i=t?ze(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gC(this),i=new _C(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await fC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&er(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[er(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Y2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ta(r){return ze(r)}class dE{constructor(t){this.auth=t,this.observer=null,this.addObserver=mA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(r){Vh=r}function PT(r){return Vh.loadJS(r)}function TC(){return Vh.recaptchaEnterpriseScript}function SC(){return Vh.gapiScript}function AC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bC{constructor(){this.enterprise=new wC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class wC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const RC="recaptcha-enterprise",zT="NO_RECAPTCHA";class CC{constructor(t){this.type=RC,this.auth=ta(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{rC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new iC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;lE(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(zT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&lE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=TC();_.length!==0&&(_+=p),PT(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function mE(r,t,i,a=!1,l=!1){const c=new CC(r);let d;if(l)d=zT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Cm(r,t,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await mE(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mE(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function IC(r,t){const i=Vm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gs(c,t??{}))return l;ri(l,"already-initialized")}return i.initialize({options:t})}function NC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(er);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function DC(r,t,i){const a=ta(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=jT(t),{host:d,port:p}=OC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Gs(y,a.config.emulator)&&Gs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ao(d)?(ME(`${c}//${d}${_}`),kE("Auth",!0)):xC()}function jT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function OC(r){const t=jT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:pE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:pE(d)}}}function pE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class yp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,i){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}async function VC(r,t){return ls(r,"POST","/v1/accounts:signUp",t)}async function MC(r,t){return Wl(r,"POST","/v1/accounts:signInWithPassword",os(r,t))}async function kC(r,t){return Wl(r,"POST","/v1/accounts:signInWithEmailLink",os(r,t))}async function LC(r,t){return Wl(r,"POST","/v1/accounts:signInWithEmailLink",os(r,t))}class Gl extends yp{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Gl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Gl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(t,i,"signInWithPassword",MC);case"emailLink":return kC(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(t,a,"signUpPassword",VC);case"emailLink":return LC(t,{idToken:i,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(r,t){return Wl(r,"POST","/v1/accounts:signInWithIdp",os(r,t))}const UC="http://localhost";class $s extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $s(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:UC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}function PC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zC(r){const t=Tl(Sl(r)).link,i=t?Tl(Sl(t)).deep_link_id:null,a=Tl(Sl(r)).deep_link_id;return(a?Tl(Sl(a)).link:null)||a||i||t||r}class _p{constructor(t){const i=Tl(Sl(t)),a=i.apiKey??null,l=i.oobCode??null,c=PC(i.mode??null);pt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=zC(t);try{return new _p(i)}catch{return null}}}class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(t,i){return Gl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=_p.parseLink(i);return pt(a,"argument-error"),Gl._fromEmailAndCode(t,a.code,a.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class BT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tu extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends tu{constructor(){super("facebook.com")}static credential(t){return $s._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $s._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hr.credential(i,a)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Gr extends tu{constructor(){super("github.com")}static credential(t){return $s._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class Fr extends tu{constructor(){super("twitter.com")}static credential(t,i){return $s._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fr.credential(i,a)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";async function jC(r,t){return Wl(r,"POST","/v1/accounts:signUp",os(r,t))}class Js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ti._fromIdTokenResponse(t,a,l),d=gE(a);return new Js({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=gE(a);return new Js({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function gE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class hh extends or{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new hh(t,i,a,l)}}function qT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,c,t,a):c})}async function BC(r,t,i=!1){const a=await Hl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Js._forOperation(r,"link",a)}async function qC(r,t,i=!1){const{auth:a}=r;if(jn(a.app))return Promise.reject(nr(a));const l="reauthenticate";try{const c=await Hl(r,qT(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=pp(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(r.uid===p,a,"user-mismatch"),Js._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ri(a,"user-mismatch"),c}}async function HT(r,t,i=!1){if(jn(r.app))return Promise.reject(nr(r));const a="signIn",l=await qT(r,a,t),c=await Js._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function HC(r,t){return HT(ta(r),t)}async function GT(r){const t=ta(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GC(r,t,i){if(jn(r.app))return Promise.reject(nr(r));const a=ta(r),d=await Cm(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jC).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&GT(r),_}),p=await Js._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function FC(r,t,i){return jn(r.app)?Promise.reject(nr(r)):HC(ze(r),fo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&GT(r),a})}function KC(r,t,i,a){return ze(r).onIdTokenChanged(t,i,a)}function QC(r,t,i){return ze(r).beforeAuthStateChanged(t,i)}function YC(r,t,i,a){return ze(r).onAuthStateChanged(t,i,a)}function XC(r){return ze(r).signOut()}const fh="__sak";class FT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const $C=1e3,JC=10;class KT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);mC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,JC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}KT.type="LOCAL";const ZC=KT;class QT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}QT.type="SESSION";const YT=QT;function WC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Mh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await WC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function vp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class tI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=vp("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function eI(r){xi().location.href=r}function XT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function nI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iI(){return navigator?.serviceWorker?.controller||null}function rI(){return XT()?self:null}const $T="firebaseLocalStorageDb",sI=1,dh="firebaseLocalStorage",JT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(r,t){return r.transaction([dh],t?"readwrite":"readonly").objectStore(dh)}function aI(){const r=indexedDB.deleteDatabase($T);return new eu(r).toPromise()}function Im(){const r=indexedDB.open($T,sI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(dh,{keyPath:JT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(dh)?t(a):(a.close(),await aI(),t(await Im()))})})}async function yE(r,t,i){const a=kh(r,!0).put({[JT]:t,value:i});return new eu(a).toPromise()}async function oI(r,t){const i=kh(r,!1).get(t),a=await new eu(i).toPromise();return a===void 0?null:a.value}function _E(r,t){const i=kh(r,!0).delete(t);return new eu(i).toPromise()}const lI=800,uI=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>uI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(rI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nI(),!this.activeServiceWorker)return;this.sender=new tI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Im();return await yE(t,fh,"1"),await _E(t,fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>yE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>oI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_E(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=kh(l,!1).getAll();return new eu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const cI=ZT;new Zl(3e4,6e4);function hI(r,t){return t?er(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ep extends yp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fI(r){return HT(r.auth,new Ep(r),r.bypassAuthState)}function dI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),qC(i,new Ep(r),r.bypassAuthState)}async function mI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),BC(i,new Ep(r),r.bypassAuthState)}class WT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fI;case"linkViaPopup":case"linkViaRedirect":return mI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:ri(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pI=new Zl(2e3,1e4);class Qa extends WT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pI.get())};t()}}Qa.currentPopupAction=null;const gI="pendingRedirect",Qc=new Map;class yI extends WT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const a=await _I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(r,t){const i=TI(t),a=EI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function vI(r,t){Qc.set(r._key(),t)}function EI(r){return er(r._redirectPersistence)}function TI(r){return Kc(gI,r.config.apiKey,r.name)}async function SI(r,t,i=!1){if(jn(r.app))return Promise.reject(nr(r));const a=ta(r),l=hI(a,t),d=await new yI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const AI=600*1e3;class bI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!t1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Oi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AI&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(t))}saveEventToCache(t){this.cachedEventUids.add(vE(t)),this.lastProcessedEventTime=Date.now()}}function vE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function t1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function wI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t1(r);default:return!1}}async function RI(r,t={}){return ls(r,"GET","/v1/projects",t)}const CI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,II=/^https?/;async function NI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await RI(r);for(const i of t)try{if(DI(i))return}catch{}ri(r,"unauthorized-domain")}function DI(r){const t=wm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!II.test(i))return!1;if(CI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const OI=new Zl(3e4,6e4);function EE(){const r=xi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function xI(r){return new Promise((t,i)=>{function a(){EE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{EE(),i(Oi(r,"network-request-failed"))},timeout:OI.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const l=AC("iframefcb");return xi()[l]=()=>{gapi.load?a():i(Oi(r,"network-request-failed"))},PT(`${SC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Yc=null,t})}let Yc=null;function VI(r){return Yc=Yc||xI(r),Yc}const MI=new Zl(5e3,15e3),kI="__/auth/iframe",LI="emulator/auth/iframe",UI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?mp(t,LI):`https://${r.config.authDomain}/${kI}`,a={apiKey:t.apiKey,appName:r.name,v:oo},l=PI.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function jI(r){const t=await VI(r),i=xi().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:zI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Oi(r,"network-request-failed"),p=xi().setTimeout(()=>{c(d)},MI.get());function _(){xi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const BI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qI=500,HI=600,GI="_blank",FI="http://localhost";class TE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KI(r,t,i,a=qI,l=HI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...BI,width:a.toString(),height:l.toString(),top:c,left:d},y=tn().toLowerCase();i&&(p=OT(y)?GI:i),NT(y)&&(t=t||FI,_.scrollbars="yes");const S=Object.entries(_).reduce((x,[K,Z])=>`${x}${K}=${Z},`,"");if(dC(y)&&p!=="_self")return QI(t||"",p),new TE(null);const b=window.open(t||"",p,S);pt(b,r,"popup-blocked");try{b.focus()}catch{}return new TE(b)}function QI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const YI="__/auth/handler",XI="emulator/auth/handler",$I=encodeURIComponent("fac");async function SE(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:oo,eventId:l};if(t instanceof BT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",dA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof tu){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await r._getAppCheckToken(),y=_?`#${$I}=${encodeURIComponent(_)}`:"";return`${JI(r)}?${Kl(p).slice(1)}${y}`}function JI({config:r}){return r.emulator?mp(r,XI):`https://${r.authDomain}/${YI}`}const tm="webStorageSupport";class ZI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=SI,this._overrideRedirectResult=vI}async _openPopup(t,i,a,l){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await SE(t,i,a,wm(),l);return KI(t,c,vp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await SE(t,i,a,wm(),l);return eI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ar(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await jI(t),a=new bI(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(tm,{type:tm},l=>{const c=l?.[0]?.[tm];c!==void 0&&i(!!c),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return LT()||DT()||gp()}}const WI=ZI;var AE="@firebase/auth",bE="1.12.0";class tN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nN(r){to(new Fs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(r)},y=new vC(a,l,c,_);return NC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),to(new Fs("auth-internal",t=>{const i=ta(t.getProvider("auth").getImmediate());return(a=>new tN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(AE,bE,eN(r)),Xr(AE,bE,"esm2020")}const iN=300,rN=VE("authIdTokenMaxAge")||iN;let wE=null;const sN=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>rN)return;const l=i?.token;wE!==l&&(wE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function aN(r=Mm()){const t=Vm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=IC(r,{popupRedirectResolver:WI,persistence:[cI,ZC,YT]}),a=VE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=sN(c.toString());QC(i,d,()=>d(i.currentUser)),KC(i,p=>d(p))}}const l=OE("auth");return l&&DC(i,`http://${l}`),i}function oN(){return document.getElementsByTagName("head")?.[0]??document}EC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Oi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",oN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nN("Browser");const e1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const lN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const uN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const RE=r=>{const t=uN(r);return t.charAt(0).toUpperCase()+t.slice(1)};var cN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const fN=ne.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>ne.createElement("svg",{ref:_,...cN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:e1("lucide",l),...!c&&!hN(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>ne.createElement(y,S)),...Array.isArray(c)?c:[c]]));const sn=(r,t)=>{const i=ne.forwardRef(({className:a,...l},c)=>ne.createElement(fN,{ref:c,iconNode:t,className:e1(`lucide-${lN(RE(r))}`,`lucide-${r}`,a),...l}));return i.displayName=RE(r),i};const dN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mN=sn("chevron-right",dN);const pN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gN=sn("circle-alert",pN);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],_N=sn("clock",yN);const vN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],EN=sn("compass",vN);const TN=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],em=sn("gamepad-2",TN);const SN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],AN=sn("key",SN);const bN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wN=sn("log-out",bN);const RN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CN=sn("mail",RN);const IN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],NN=sn("palette",IN);const DN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ON=sn("refresh-cw",DN);const xN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VN=sn("search",xN);const MN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kN=sn("shield",MN);const LN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UN=sn("trash-2",LN);const PN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zN=sn("user",PN);const jN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BN=sn("zap",jN),qN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},HN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(r){console.error("Failed to parse environment firebase config",r)}return qN},Xc=HN(),Nm=!!(Xc&&Xc.apiKey&&Xc.apiKey.startsWith("AIza")),GN=typeof __app_id<"u"?__app_id:"community-calendar-production",zs=GN.replace(/[^a-zA-Z0-9]/g,"_");let nm,Bs,wn;if(Nm)try{nm=pb().length>0?Mm():PE(Xc),Bs=aN(nm),wn=V2(nm)}catch(r){console.error("Firebase Initialization Error:",r)}const CE={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-500 hover:bg-indigo-600 text-white"}},FN=()=>{const[r,t]=ne.useState(null),[i,a]=ne.useState(!0),[l,c]=ne.useState("login"),[d,p]=ne.useState({email:"",password:"",displayName:""}),[_,y]=ne.useState(null),[S,b]=ne.useState([]),[x,K]=ne.useState([]),[Z,it]=ne.useState("all"),[nt,dt]=ne.useState("calendar"),[wt,_t]=ne.useState(!1),[qt,ee]=ne.useState(!1),[Ot,I]=ne.useState(""),[A,C]=ne.useState(!1),[V,O]=ne.useState(!1),[M,w]=ne.useState({name:"",desc:""}),[vt,he]=ne.useState({displayName:"Operator",joinedGuilds:[],theme:"light"}),L=CE[vt.theme]||CE.light,[W,ct]=ne.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",endTime:"21:00",guildId:""});ne.useEffect(()=>{if(!Nm||!Bs){a(!1);return}const $=YC(Bs,ut=>{t(ut),a(!1)});return()=>$()},[]),ne.useEffect(()=>{if(!r||!wn)return;const $=Hc(wn,"artifacts",zs,"users",r.uid,"profile","info");(async()=>(await F2($)).exists()||await sE($,{displayName:d.displayName||`Operator_${r.uid.slice(0,4)}`,joinedGuilds:[],theme:"light",createdAt:Jd()}))();const St=Zd(Lc(wn,"artifacts",zs,"public","data","sessions"),Xe=>{b(Xe.docs.map(an=>({id:an.id,...an.data()})))}),Et=Zd(Lc(wn,"artifacts",zs,"public","data","guilds"),Xe=>{K(Xe.docs.map(an=>({id:an.id,...an.data()})))}),ue=Zd($,Xe=>{Xe.exists()&&he(an=>({...an,...Xe.data()}))});return()=>{St(),Et(),ue()}},[r]);const Ut=async $=>{$.preventDefault(),y(null),a(!0);try{l==="register"?await GC(Bs,d.email,d.password):await FC(Bs,d.email,d.password)}catch(ut){let St=ut.message;ut.code==="auth/invalid-credential"&&(St="Invalid email or password."),ut.code==="auth/email-already-in-use"&&(St="This email is already registered."),ut.code==="auth/weak-password"&&(St="Password must be at least 6 characters."),y(St)}finally{a(!1)}},Ht=()=>Bs&&XC(Bs),N=async $=>{if(!(!r||!wn)){C(!0);try{await sE(Hc(wn,"artifacts",zs,"users",r.uid,"profile","info"),$,{merge:!0})}finally{setTimeout(()=>C(!1),800)}}},Q=async()=>{if(!M.name||!r||!wn)return;const $=await aE(Lc(wn,"artifacts",zs,"public","data","guilds"),{...M,ownerId:r.uid,createdAt:Jd()}),ut=[...vt.joinedGuilds||[],$.id];await N({...vt,joinedGuilds:ut}),w({name:"",desc:""}),ee(!1)},et=async $=>{if(!wn||!r)return;const ut=$.participants||[],Et=ut.some(ue=>ue.uid===r.uid)?ut.filter(ue=>ue.uid!==r.uid):[...ut,{uid:r.uid,name:vt.displayName}];await K2(Hc(wn,"artifacts",zs,"public","data","sessions",$.id),{participants:Et})},rt=async $=>{if($.preventDefault(),!wn||!r)return;const ut=W.guildId||Z;ut!=="all"&&(await aE(Lc(wn,"artifacts",zs,"public","data","sessions"),{...W,status:"active",guildId:ut,userId:r.uid,userName:String(vt.displayName),participants:[{uid:r.uid,name:String(vt.displayName)}],createdAt:Jd()}),_t(!1))},yt=ne.useMemo(()=>{const $=vt.joinedGuilds||[],ut=S.filter(Et=>{const ue=Z==="all"?$.includes(Et.guildId):Et.guildId===Z,Xe=Et.gameTitle?String(Et.gameTitle).toLowerCase():"";return ue&&Xe.includes(Ot.toLowerCase())}).sort((Et,ue)=>String(Et.date).localeCompare(String(ue.date))),St={};return ut.forEach(Et=>{const ue=String(Et.date);St[ue]||(St[ue]=[]),St[ue].push(Et)}),St},[S,Z,vt.joinedGuilds,Ot]);return Nm?i?H.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:H.jsx(em,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):r?H.jsxs("div",{className:`min-h-screen ${L.bg} ${L.text} transition-colors duration-500`,children:[H.jsx("header",{className:`${L.header} border-b ${L.border} sticky top-0 z-40 h-16 shadow-sm`,children:H.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-full flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>dt("calendar"),children:[H.jsx(em,{className:`w-8 h-8 ${L.accent}`}),H.jsx("h1",{className:"font-black text-xl italic tracking-tight hidden sm:block uppercase",children:"GameSync"})]}),H.jsxs("nav",{className:"flex items-center gap-3",children:[H.jsx("button",{onClick:()=>dt("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${nt==="calendar"?L.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),H.jsx("button",{onClick:()=>dt("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${nt==="profile"?L.button:"opacity-40 hover:opacity-100"}`,children:"Operator"}),H.jsx("button",{onClick:Ht,className:"p-2 opacity-40 hover:opacity-100 transition hover:text-rose-500",children:H.jsx(wN,{className:"w-4 h-4"})})]})]})}),H.jsxs("div",{className:"flex",children:[H.jsxs("aside",{className:`w-64 border-r ${L.border} hidden md:block min-h-[calc(100vh-4rem)] p-6`,children:[H.jsxs("div",{className:"mb-10",children:[H.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-30 mb-5",children:"Command Stream"}),H.jsx("button",{onClick:()=>it("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${Z==="all"?L.button:"hover:bg-slate-500/10"}`,children:"Global Comms"})]}),H.jsxs("div",{className:"mb-10",children:[H.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-30 mb-5",children:"Verified Guilds"}),x.filter($=>vt.joinedGuilds?.includes($.id)).map($=>H.jsx("button",{onClick:()=>it($.id),className:`w-full text-left p-3 rounded-xl mb-2 font-bold text-xs transition ${Z===$.id?L.button:"hover:bg-slate-500/10"}`,children:String($.name)},$.id))]}),H.jsxs("button",{onClick:()=>ee(!0),className:"w-full p-4 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase tracking-widest opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[H.jsx(EN,{className:"w-4 h-4"})," Discover Guilds"]})]}),H.jsx("main",{className:"flex-1 p-8 max-w-5xl",children:nt==="calendar"?H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-5xl font-black tracking-tighter uppercase italic leading-none",children:Z==="all"?"The Hub":x.find($=>$.id===Z)?.name}),H.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[H.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),H.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"Active Deployment Feed"})]})]}),H.jsxs("div",{className:"flex gap-4",children:[H.jsxs("div",{className:"relative group",children:[H.jsx(VN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),H.jsx("input",{type:"text",placeholder:"Filter operations...",value:Ot,onChange:$=>I($.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${L.card} border ${L.border} outline-none text-sm w-64 focus:border-indigo-500 transition shadow-sm`})]}),H.jsx("button",{onClick:()=>_t(!0),className:`${L.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest transition shadow-lg`,children:"+ New Mission"})]})]}),H.jsx("div",{className:"space-y-12",children:Object.entries(yt).map(([$,ut])=>H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[H.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-[0.4em] italic",children:new Date($).toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})}),H.jsx("div",{className:`flex-1 h-px ${L.border}`})]}),H.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:ut.map(St=>H.jsxs("div",{className:`${L.card} border ${L.border} rounded-[3rem] p-8 shadow-sm transition hover:shadow-2xl hover:-translate-y-1 group`,children:[H.jsxs("div",{className:"flex justify-between items-start mb-6",children:[H.jsx("h4",{className:"text-2xl font-black italic uppercase leading-none group-hover:text-indigo-600 transition-colors",children:String(St.gameTitle)}),H.jsxs("div",{className:"flex items-center gap-2 opacity-40",children:[H.jsx(_N,{className:"w-3 h-3"}),H.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:String(St.startTime)})]})]}),H.jsx("div",{className:"flex flex-wrap gap-2 mb-10",children:St.participants?.map((Et,ue)=>H.jsxs("div",{className:`flex items-center gap-2 text-[9px] font-black px-4 py-2 rounded-full ${L.bg} border ${L.border} uppercase`,children:[H.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),String(Et.name)]},ue))}),H.jsxs("div",{className:"flex gap-4",children:[H.jsx("button",{onClick:()=>et(St),className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition active:scale-95 ${St.participants?.some(Et=>Et.uid===r?.uid)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":L.button}`,children:St.participants?.some(Et=>Et.uid===r?.uid)?"Leave Operation":"Enlist Now"}),St.userId===r?.uid&&H.jsx("button",{onClick:()=>deleteSession(St.id),className:"p-4 rounded-2xl bg-slate-100 dark:bg-zinc-800 opacity-40 hover:opacity-100 hover:text-rose-500 transition",children:H.jsx(UN,{className:"w-5 h-5"})})]})]},St.id))})]},$))})]}):H.jsx("div",{className:"max-w-2xl mx-auto",children:H.jsxs("div",{className:`${L.card} border ${L.border} rounded-[5rem] p-16 text-center relative overflow-hidden shadow-2xl`,children:[H.jsx("div",{className:"absolute top-0 left-0 w-full h-40 bg-indigo-600/5 border-b border-indigo-600/10"}),H.jsxs("div",{className:"relative pt-8",children:[H.jsx("div",{className:"w-40 h-40 mx-auto mb-10 rounded-[3rem] bg-indigo-600 flex items-center justify-center text-white text-6xl font-black shadow-2xl ring-8 ring-white dark:ring-zinc-900",children:String(vt.displayName).charAt(0)}),H.jsxs("div",{className:"space-y-6 max-w-sm mx-auto mb-12 text-left",children:[H.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-30 ml-4",children:"Identity Matrix"}),H.jsxs("div",{className:"relative group",children:[H.jsx("input",{type:"text",value:vt.displayName,onChange:$=>he({...vt,displayName:$.target.value}),className:`w-full p-6 rounded-[2rem] ${L.bg} border ${L.border} outline-none font-black uppercase italic text-lg focus:border-indigo-500 transition shadow-inner`}),A&&H.jsx(ON,{className:"absolute right-6 top-1/2 -translate-y-1/2 w-4 h-4 text-indigo-500 animate-spin"})]}),H.jsx("button",{onClick:()=>N(vt),className:`w-full py-4 rounded-2xl font-black uppercase text-xs tracking-widest ${L.button}`,children:"Sync Configuration"})]}),H.jsxs("div",{className:"pt-8 border-t border-slate-500/10 grid grid-cols-2 gap-6",children:[H.jsxs("button",{onClick:()=>N({...vt,theme:"light"}),className:`flex flex-col items-center gap-4 p-8 rounded-[3rem] border-2 transition ${vt.theme==="light"?"border-indigo-600 bg-white shadow-xl":"border-transparent opacity-40 hover:opacity-100"}`,children:[H.jsx(NN,{className:"w-8 h-8 text-indigo-600"}),H.jsx("span",{className:"text-[10px] font-black uppercase",children:"Standard"})]}),H.jsxs("button",{onClick:()=>N({...vt,theme:"dark"}),className:`flex flex-col items-center gap-4 p-8 rounded-[3rem] border-2 transition ${vt.theme==="dark"?"border-indigo-400 bg-zinc-900 shadow-xl shadow-black/50":"border-transparent opacity-40 hover:opacity-100"}`,children:[H.jsx(BN,{className:"w-8 h-8 text-indigo-400"}),H.jsx("span",{className:"text-[10px] font-black uppercase",children:"Midnight"})]})]})]})]})})})]}),qt&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:H.jsxs("div",{className:`${L.card} border ${L.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[H.jsxs("div",{className:"flex justify-between items-start mb-10",children:[H.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Guild Directory"}),H.jsx("button",{onClick:()=>ee(!1),className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-500/10 hover:rotate-90 transition",children:""})]}),H.jsx("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto mb-10 pr-2",children:x.map($=>H.jsxs("div",{className:`${L.bg} p-6 rounded-[2.5rem] border ${L.border} flex justify-between items-center transition hover:border-indigo-500/40 group`,children:[H.jsxs("div",{children:[H.jsx("p",{className:"font-black uppercase tracking-tight text-sm group-hover:text-indigo-500 transition",children:String($.name)}),H.jsx("p",{className:"text-[10px] opacity-40 font-bold uppercase mt-1 tracking-tight",children:String($.desc||"Public Ops Center")})]}),H.jsx("button",{onClick:async()=>{const ut=vt.joinedGuilds||[],St=ut.includes($.id)?ut.filter(Et=>Et!==$.id):[...ut,$.id];await N({...vt,joinedGuilds:St})},className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${vt.joinedGuilds?.includes($.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":L.button}`,children:vt.joinedGuilds?.includes($.id)?"Retire":"Enlist"})]},$.id))}),H.jsxs("div",{className:`pt-10 border-t ${L.border} space-y-4`,children:[H.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 text-center",children:"Establish New Command Center"}),H.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[H.jsx("input",{placeholder:"GUILD NAME",className:`p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black uppercase focus:border-indigo-500`,value:M.name,onChange:$=>w({...M,name:$.target.value})}),H.jsx("input",{placeholder:"SECTOR DESCRIPTION",className:`p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black uppercase focus:border-indigo-500`,value:M.desc,onChange:$=>w({...M,desc:$.target.value})})]}),H.jsx("button",{onClick:Q,className:`w-full py-5 rounded-3xl ${L.button} font-black uppercase text-xs tracking-widest shadow-xl`,children:"Commission Guild"})]})]})}),wt&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:H.jsxs("div",{className:`${L.card} border ${L.border} rounded-[4rem] p-12 max-w-lg w-full shadow-2xl`,children:[H.jsxs("div",{className:"flex justify-between items-start mb-10",children:[H.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),H.jsx("button",{onClick:()=>_t(!1),className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-500/10 hover:rotate-90 transition",children:""})]}),H.jsxs("form",{onSubmit:rt,className:"space-y-6",children:[H.jsx("input",{placeholder:"MISSION / GAME NAME",className:`w-full p-5 rounded-2xl ${L.bg} border ${L.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm`,value:W.gameTitle,onChange:$=>ct({...W,gameTitle:$.target.value}),required:!0}),H.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[H.jsx("input",{type:"date",className:`p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black`,value:W.date,onChange:$=>ct({...W,date:$.target.value})}),H.jsx("input",{type:"time",className:`p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black`,value:W.startTime,onChange:$=>ct({...W,startTime:$.target.value})})]}),H.jsxs("select",{className:`w-full p-5 rounded-2xl ${L.bg} border ${L.border} outline-none text-xs font-black uppercase`,value:W.guildId,onChange:$=>ct({...W,guildId:$.target.value}),required:!0,children:[H.jsx("option",{value:"",children:"Select Command Guild"}),x.filter($=>vt.joinedGuilds?.includes($.id)).map($=>H.jsx("option",{value:$.id,children:String($.name)},$.id))]}),H.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${L.button} font-black uppercase text-xs tracking-widest active:scale-95 shadow-xl mt-4`,children:"Deploy Mission"})]})]})})]}):H.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:H.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[H.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),H.jsxs("div",{className:"text-center mb-10",children:[H.jsx(em,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),H.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"}),H.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.3em] opacity-30 mt-2",children:"Operator Identity Registry"})]}),H.jsxs("form",{onSubmit:Ut,className:"space-y-4",children:[l==="register"&&H.jsxs("div",{className:"relative group",children:[H.jsx(zN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30 group-focus-within:opacity-100 transition"}),H.jsx("input",{type:"text",placeholder:"DISPLAY NAME",required:!0,className:"w-full bg-black border border-zinc-800 p-5 pl-14 rounded-2xl outline-none focus:border-indigo-500 transition text-xs font-black uppercase",value:d.displayName,onChange:$=>p({...d,displayName:$.target.value})})]}),H.jsxs("div",{className:"relative group",children:[H.jsx(CN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30 group-focus-within:opacity-100 transition"}),H.jsx("input",{type:"email",placeholder:"EMAIL ADDRESS",required:!0,className:"w-full bg-black border border-zinc-800 p-5 pl-14 rounded-2xl outline-none focus:border-indigo-500 transition text-xs font-black uppercase",value:d.email,onChange:$=>p({...d,email:$.target.value})})]}),H.jsxs("div",{className:"relative group",children:[H.jsx(AN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30 group-focus-within:opacity-100 transition"}),H.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 pl-14 rounded-2xl outline-none focus:border-indigo-500 transition text-xs font-black uppercase",value:d.password,onChange:$=>p({...d,password:$.target.value})})]}),_&&H.jsxs("div",{className:"flex items-center gap-2 p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:[H.jsx(gN,{className:"w-3 h-3"})," ",_]}),H.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl shadow-indigo-600/20 transition active:scale-95 mt-6 flex items-center justify-center gap-2",children:[l==="login"?"Establish Link":"Initialize Identity"," ",H.jsx(mN,{className:"w-4 h-4"})]})]}),H.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):H.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[H.jsx(kN,{className:"w-16 h-16 text-rose-500 mb-6"}),H.jsx("h2",{className:"text-3xl font-black uppercase italic mb-4",children:"Identity Sync Error"}),H.jsx("p",{className:"text-slate-400 mb-8 max-w-md",children:"Your API keys are missing or invalid. Check your `src/App.jsx` file."})]})};BS.createRoot(document.getElementById("root")).render(H.jsx(ne.StrictMode,{children:H.jsx(FN,{})}));
