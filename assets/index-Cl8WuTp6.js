(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Wd={exports:{}},Pl={};var cv;function sS(){if(cv)return Pl;cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var hv;function rS(){return hv||(hv=1,Wd.exports=sS()),Wd.exports}var S=rS(),em={exports:{}},Re={};var fv;function aS(){if(fv)return Re;fv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function Q(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,te={};function ye(V,Y,ne){this.props=V,this.context=Y,this.refs=te,this.updater=ne||Z}ye.prototype.isReactComponent={},ye.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ye.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Ae(){}Ae.prototype=ye.prototype;function Se(V,Y,ne){this.props=V,this.context=Y,this.refs=te,this.updater=ne||Z}var Je=Se.prototype=new Ae;Je.constructor=Se,ae(Je,ye.prototype),Je.isPureReactComponent=!0;var ft=Array.isArray;function Ke(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(V,Y,ne){var oe=ne.ref;return{$$typeof:s,type:V,key:Y,ref:oe!==void 0?oe:null,props:ne}}function k(V,Y){return I(V.type,Y,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ne){return Y[ne]})}var R=/\/+/g;function mt(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function At(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ke,Ke):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Y,ne,oe,Ee){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Me=!1;if(V===null)Me=!0;else switch(Ie){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(V.$$typeof){case s:case e:Me=!0;break;case b:return Me=V._init,G(Me(V._payload),Y,ne,oe,Ee)}}if(Me)return Ee=Ee(V),Me=oe===""?"."+mt(V,0):oe,ft(Ee)?(ne="",Me!=null&&(ne=Me.replace(R,"$&/")+"/"),G(Ee,Y,ne,"",function(ri){return ri})):Ee!=null&&(N(Ee)&&(Ee=k(Ee,ne+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Me)),Y.push(Ee)),1;Me=0;var xt=oe===""?".":oe+":";if(ft(V))for(var ct=0;ct<V.length;ct++)oe=V[ct],Ie=xt+mt(oe,ct),Me+=G(oe,Y,ne,Ie,Ee);else if(ct=Q(V),typeof ct=="function")for(V=ct.call(V),ct=0;!(oe=V.next()).done;)oe=oe.value,Ie=xt+mt(oe,ct++),Me+=G(oe,Y,ne,Ie,Ee);else if(Ie==="object"){if(typeof V.then=="function")return G(At(V),Y,ne,oe,Ee);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(V,Y,ne){if(V==null)return V;var oe=[],Ee=0;return G(V,oe,"","",function(Ie){return Y.call(ne,Ie,Ee++)}),oe}function me(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ne){(V._status===0||V._status===-1)&&(V._status=1,V._result=ne)},function(ne){(V._status===0||V._status===-1)&&(V._status=2,V._result=ne)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ze={map:se,forEach:function(V,Y,ne){se(V,function(){Y.apply(this,arguments)},ne)},count:function(V){var Y=0;return se(V,function(){Y++}),Y},toArray:function(V){return se(V,function(Y){return Y})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=w,Re.Children=Ze,Re.Component=ye,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=Se,Re.StrictMode=r,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,Y,ne){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=ae({},V.props),Ee=V.key;if(Y!=null)for(Ie in Y.key!==void 0&&(Ee=""+Y.key),Y)!A.call(Y,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Y.ref===void 0||(oe[Ie]=Y[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=ne;else if(1<Ie){for(var Me=Array(Ie),xt=0;xt<Ie;xt++)Me[xt]=arguments[xt+2];oe.children=Me}return I(V.type,Ee,oe)},Re.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Re.createElement=function(V,Y,ne){var oe,Ee={},Ie=null;if(Y!=null)for(oe in Y.key!==void 0&&(Ie=""+Y.key),Y)A.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ee[oe]=Y[oe]);var Me=arguments.length-2;if(Me===1)Ee.children=ne;else if(1<Me){for(var xt=Array(Me),ct=0;ct<Me;ct++)xt[ct]=arguments[ct+2];Ee.children=xt}if(V&&V.defaultProps)for(oe in Me=V.defaultProps,Me)Ee[oe]===void 0&&(Ee[oe]=Me[oe]);return I(V,Ie,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:p,render:V}},Re.isValidElement=N,Re.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:me}},Re.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},Re.startTransition=function(V){var Y=x.T,ne={};x.T=ne;try{var oe=V(),Ee=x.S;Ee!==null&&Ee(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ke,Ve)}catch(Ie){Ve(Ie)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),x.T=Y}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(V){return x.H.use(V)},Re.useActionState=function(V,Y,ne){return x.H.useActionState(V,Y,ne)},Re.useCallback=function(V,Y){return x.H.useCallback(V,Y)},Re.useContext=function(V){return x.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,Y){return x.H.useDeferredValue(V,Y)},Re.useEffect=function(V,Y){return x.H.useEffect(V,Y)},Re.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(V,Y,ne){return x.H.useImperativeHandle(V,Y,ne)},Re.useInsertionEffect=function(V,Y){return x.H.useInsertionEffect(V,Y)},Re.useLayoutEffect=function(V,Y){return x.H.useLayoutEffect(V,Y)},Re.useMemo=function(V,Y){return x.H.useMemo(V,Y)},Re.useOptimistic=function(V,Y){return x.H.useOptimistic(V,Y)},Re.useReducer=function(V,Y,ne){return x.H.useReducer(V,Y,ne)},Re.useRef=function(V){return x.H.useRef(V)},Re.useState=function(V){return x.H.useState(V)},Re.useSyncExternalStore=function(V,Y,ne){return x.H.useSyncExternalStore(V,Y,ne)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.4",Re}var dv;function Ym(){return dv||(dv=1,em.exports=aS()),em.exports}var Oe=Ym(),tm={exports:{}},jl={},nm={exports:{}},im={};var mv;function oS(){return mv||(mv=1,(function(s){function e(G,se){var me=G.length;G.push(se);e:for(;0<me;){var Ve=me-1>>>1,Ze=G[Ve];if(0<l(Ze,se))G[Ve]=se,G[me]=Ze,me=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var se=G[0],me=G.pop();if(me!==se){G[0]=me;e:for(var Ve=0,Ze=G.length,V=Ze>>>1;Ve<V;){var Y=2*(Ve+1)-1,ne=G[Y],oe=Y+1,Ee=G[oe];if(0>l(ne,me))oe<Ze&&0>l(Ee,ne)?(G[Ve]=Ee,G[oe]=me,Ve=oe):(G[Ve]=ne,G[Y]=me,Ve=Y);else if(oe<Ze&&0>l(Ee,me))G[Ve]=Ee,G[oe]=me,Ve=oe;else break e}}return se}function l(G,se){var me=G.sortIndex-se.sortIndex;return me!==0?me:G.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,w=null,M=3,Q=!1,Z=!1,ae=!1,te=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;function Je(G){for(var se=i(y);se!==null;){if(se.callback===null)r(y);else if(se.startTime<=G)r(y),se.sortIndex=se.expirationTime,e(_,se);else break;se=i(y)}}function ft(G){if(ae=!1,Je(G),!Z)if(i(_)!==null)Z=!0,Ke||(Ke=!0,L());else{var se=i(y);se!==null&&At(ft,se.startTime-G)}}var Ke=!1,x=-1,A=5,I=-1;function k(){return te?!0:!(s.unstable_now()-I<A)}function N(){if(te=!1,Ke){var G=s.unstable_now();I=G;var se=!0;try{e:{Z=!1,ae&&(ae=!1,Ae(x),x=-1),Q=!0;var me=M;try{t:{for(Je(G),w=i(_);w!==null&&!(w.expirationTime>G&&k());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,M=w.priorityLevel;var Ze=Ve(w.expirationTime<=G);if(G=s.unstable_now(),typeof Ze=="function"){w.callback=Ze,Je(G),se=!0;break t}w===i(_)&&r(_),Je(G)}else r(_);w=i(_)}if(w!==null)se=!0;else{var V=i(y);V!==null&&At(ft,V.startTime-G),se=!1}}break e}finally{w=null,M=me,Q=!1}se=void 0}}finally{se?L():Ke=!1}}}var L;if(typeof Se=="function")L=function(){Se(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,mt=R.port2;R.port1.onmessage=N,L=function(){mt.postMessage(null)}}else L=function(){ye(N,0)};function At(G,se){x=ye(function(){G(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var me=M;M=se;try{return G()}finally{M=me}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=M;M=G;try{return se()}finally{M=me}},s.unstable_scheduleCallback=function(G,se,me){var Ve=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ve+me:Ve):me=Ve,G){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=me+Ze,G={id:b++,callback:se,priorityLevel:G,startTime:me,expirationTime:Ze,sortIndex:-1},me>Ve?(G.sortIndex=me,e(y,G),i(_)===null&&G===i(y)&&(ae?(Ae(x),x=-1):ae=!0,At(ft,me-Ve))):(G.sortIndex=Ze,e(_,G),Z||Q||(Z=!0,Ke||(Ke=!0,L()))),G},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(G){var se=M;return function(){var me=M;M=se;try{return G.apply(this,arguments)}finally{M=me}}}})(im)),im}var pv;function lS(){return pv||(pv=1,nm.exports=oS()),nm.exports}var sm={exports:{}},fn={};var gv;function uS(){if(gv)return fn;gv=1;var s=Ym();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},fn.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},fn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},fn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},fn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:Q}):b==="script"&&r.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},fn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},fn.requestFormReset=function(_){r.d.r(_)},fn.unstable_batchedUpdates=function(_,y){return _(y)},fn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var yv;function cS(){if(yv)return sm.exports;yv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sm.exports=uS(),sm.exports}var _v;function hS(){if(_v)return jl;_v=1;var s=lS(),e=Ym(),i=cS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case ye:return"Profiler";case te:return"StrictMode";case ft:return"Suspense";case Ke:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Se:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:mt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return mt(t(n))}catch{}}return null}var At=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ve=[],Ze=-1;function V(t){return{current:t}}function Y(t){0>Ze||(t.current=Ve[Ze],Ve[Ze]=null,Ze--)}function ne(t,n){Ze++,Ve[Ze]=t.current,t.current=n}var oe=V(null),Ee=V(null),Ie=V(null),Me=V(null);function xt(t,n){switch(ne(Ie,n),ne(Ee,t),ne(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=M_(n),t=V_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(oe),ne(oe,t)}function ct(){Y(oe),Y(Ee),Y(Ie)}function ri(t){t.memoizedState!==null&&ne(Me,t);var n=oe.current,a=V_(n,t.type);n!==a&&(ne(Ee,t),ne(oe,a))}function Ki(t){Ee.current===t&&(Y(oe),Y(Ee)),Me.current===t&&(Y(Me),Vl._currentValue=me)}var Cr,Qi;function Tn(t){if(Cr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cr=n&&n[1]||"",Qi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cr+t+Qi}var Ir=!1;function vi(t,n){if(!t||Ir)return"";Ir=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Ir=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tn(a):""}function Is(t,n){switch(t.tag){case 26:case 27:case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return t.child!==n&&n!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return vi(t.type,!1);case 11:return vi(t.type.render,!1);case 1:return vi(t.type,!0);case 31:return Tn("Activity");default:return""}}function tn(t){try{var n="",a=null;do n+=Is(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,W=s.unstable_scheduleCallback,$t=s.unstable_cancelCallback,re=s.unstable_shouldYield,Nt=s.unstable_requestPaint,wt=s.unstable_now,Yi=s.unstable_getCurrentPriorityLevel,xr=s.unstable_ImmediatePriority,Nr=s.unstable_UserBlockingPriority,bn=s.unstable_NormalPriority,Po=s.unstable_LowPriority,ga=s.unstable_IdlePriority,ya=s.log,_a=s.unstable_setDisableYieldValue,Mn=null,Ft=null;function hn(t){if(typeof ya=="function"&&_a(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Mn,t)}catch{}}var bt=Math.clz32?Math.clz32:Ea,va=Math.log,xs=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(va(t)/xs|0)|0}var Gn=256,Xi=262144,D=4194304;function ie(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fe(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ie(o):(g&=E,g!==0?h=ie(g):a||(a=E&~t,a!==0&&(h=ie(a))))):(E=o&~f,E!==0?h=ie(E):g!==0?h=ie(g):a||(a=o&~t,a!==0&&(h=ie(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function de(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ue(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var t=D;return D<<=1,(D&62914560)===0&&(D=4194304),t}function Ge(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function dt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ns(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-bt(a),X=1<<F;E[F]=0,C[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&Dr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Dr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function jo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-bt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function zo(t,n){var a=n&-n;return a=(a&42)!==0?1:Or(a),(a&(t.suspendedLanes|n))!==0?0:a}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:iv(t.type))}function ai(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var oi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+oi,Jt="__reactProps$"+oi,Ei="__reactContainer$"+oi,Ta="__reactEvents$"+oi,rf="__reactListeners$"+oi,Cu="__reactHandles$"+oi,Iu="__reactResources$"+oi,Ti="__reactMarker$"+oi;function ba(t){delete t[Lt],delete t[Jt],delete t[Ta],delete t[rf],delete t[Cu]}function bi(t){var n=t[Lt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ei]||a[Lt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=B_(t);t!==null;){if(a=t[Lt])return a;t=B_(t)}return n}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[Lt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Si(t){var n=t[Iu];return n||(n=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ut(t){t[Ti]=!0}var Bo=new Set,qo={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(qo[t]=n,t=0;t<n.length;t++)Bo.add(n[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Fo={};function xu(t){return vt.call(Fo,t)?!0:vt.call(Go,t)?!1:Ho.test(t)?Fo[t]=!0:(Go[t]=!0,!1)}function Sa(t,n,a){if(xu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ko(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Ds(t)?"checked":"value";t._valueTracker=Ko(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Ds(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function Sn(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Aa(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Qo(t,g,Zt(n)):a!=null?Qo(t,g,Zt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function Nu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nt(t)}function Qo(t,n,a){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Os(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Du(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function Ms(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(At(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function An(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Ou.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Yo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Yo(t,f,n[f])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var $o=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Ci=null;function kr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var a=t[Jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Jt]||null;if(!h)throw Error(r(90));Aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Mr(o)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Os(t,!!a.multiple,n,!1)}}}var Ca=!1;function Ls(t,n,a){if(Ca)return t(n,a);Ca=!0;try{var o=t(n);return o}finally{if(Ca=!1,(ks!==null||Ci!==null)&&(Rc(),ks&&(n=ks,t=Ci,Ci=ks=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function ui(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Jt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Qn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Lr=!1}var Ii=null,Jo=null,Ur=null;function Zo(){if(Ur)return Ur;var t,n=Jo,a=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Ur=h.slice(t,1<o?1-o:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function ci(){return!1}function nn(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=nn(Zi),Us=w({},Zi,{view:0,detail:0}),Wo=nn(Us),Ps,Ia,Ni,xa=w({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ps=t.screenX-Ni.screenX,Ia=t.screenY-Ni.screenY):Ia=Ps=0,Ni=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),el=nn(xa),jr=w({},xa,{dataTransfer:0}),Vu=nn(jr),ku=w({},Us,{relatedTarget:0}),zr=nn(ku),tl=w({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=nn(tl),Na=w({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=nn(Na),Pu=w({},Zi,{data:0}),Di=nn(Pu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bu[t])?!!n[t]:!1}function js(){return qu}var yn=w({},Us,{key:function(t){if(t.key){var n=ju[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=nn(yn),Gu=w({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=nn(Gu),u=w({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),m=nn(u),v=w({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(v),P=w({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=nn(P),ee=w({},Zi,{newState:0,oldState:0}),xe=nn(ee),Dt=[9,13,27,32],We=Qn&&"CompositionEvent"in window,Et=null;Qn&&"documentMode"in document&&(Et=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!Et,Oi=Qn&&(!We||Et&&8<Et&&11>=Et),hi=" ",fi=!1;function Br(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function IT(t,n){switch(t){case"compositionend":return Da(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function xT(t,n){if(Oa)return t==="compositionend"||!We&&Br(t,n)?(t=Zo(),Ur=Jo=Ii=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!NT[t.type]:n==="textarea"}function Fp(t,n,a,o){ks?Ci?Ci.push(o):Ci=[o]:ks=o,n=Mc(n,"onChange"),0<n.length&&(a=new xi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var nl=null,il=null;function DT(t){C_(t,0)}function Fu(t){var n=Vn(t);if(Mr(n))return t}function Kp(t,n){if(t==="change")return n}var Qp=!1;if(Qn){var af;if(Qn){var of="oninput"in document;if(!of){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),of=typeof Yp.oninput=="function"}af=of}else af=!1;Qp=af&&(!document.documentMode||9<document.documentMode)}function Xp(){nl&&(nl.detachEvent("onpropertychange",$p),il=nl=null)}function $p(t){if(t.propertyName==="value"&&Fu(il)){var n=[];Fp(n,il,t,Kn(t)),Ls(DT,n)}}function OT(t,n,a){t==="focusin"?(Xp(),nl=n,il=a,nl.attachEvent("onpropertychange",$p)):t==="focusout"&&Xp()}function MT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(il)}function VT(t,n){if(t==="click")return Fu(n)}function kT(t,n){if(t==="input"||t==="change")return Fu(n)}function LT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:LT;function sl(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,n){var a=Jp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function Wp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Wp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ri(t.document)}return n}function lf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var UT=Qn&&"documentMode"in document&&11>=document.documentMode,Ma=null,uf=null,rl=null,cf=!1;function tg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cf||Ma==null||Ma!==Ri(o)||(o=Ma,"selectionStart"in o&&lf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rl&&sl(rl,o)||(rl=o,o=Mc(uf,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ma)))}function qr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Va={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},hf={},ng={};Qn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Hr(t){if(hf[t])return hf[t];if(!Va[t])return t;var n=Va[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ng)return hf[t]=n[a];return t}var ig=Hr("animationend"),sg=Hr("animationiteration"),rg=Hr("animationstart"),PT=Hr("transitionrun"),jT=Hr("transitionstart"),zT=Hr("transitioncancel"),ag=Hr("transitionend"),og=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function di(t,n){og.set(t,n),Ai(n,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],ka=0,df=0;function Qu(){for(var t=ka,n=df=ka=0;n<t;){var a=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&lg(a,h,f)}}function Yu(t,n,a,o){Xn[ka++]=t,Xn[ka++]=n,Xn[ka++]=a,Xn[ka++]=o,df|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function mf(t,n,a,o){return Yu(t,n,a,o),Xu(t)}function Gr(t,n){return Yu(t,null,null,n),Xu(t)}function lg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Xu(t){if(50<Cl)throw Cl=0,Sd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var La={};function BT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,a,o){return new BT(t,n,a,o)}function pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var a=t.alternate;return a===null?(a=Un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ug(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $u(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")pf(t)&&(g=1);else if(typeof t=="string")g=Kb(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Un(31,a,n,h),t.elementType=I,t.lanes=f,t;case ae:return Fr(a.children,h,f,n);case te:g=8,h|=24;break;case ye:return t=Un(12,a,n,h|2),t.elementType=ye,t.lanes=f,t;case ft:return t=Un(13,a,n,h),t.elementType=ft,t.lanes=f,t;case Ke:return t=Un(19,a,n,h),t.elementType=Ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:g=10;break e;case Ae:g=9;break e;case Je:g=11;break e;case x:g=14;break e;case A:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Un(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Fr(t,n,a,o){return t=Un(7,t,o,n),t.lanes=a,t}function gf(t,n,a){return t=Un(6,t,null,n),t.lanes=a,t}function cg(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function yf(t,n,a){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var hg=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var a=hg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:tn(n)},hg.set(t,n),n)}return{value:t,source:n,stack:tn(n)}}var Ua=[],Pa=0,Ju=null,al=0,Jn=[],Zn=0,zs=null,Mi=1,Vi="";function ts(t,n){Ua[Pa++]=al,Ua[Pa++]=Ju,Ju=t,al=n}function fg(t,n,a){Jn[Zn++]=Mi,Jn[Zn++]=Vi,Jn[Zn++]=zs,zs=t;var o=Mi;t=Vi;var h=32-bt(o)-1;o&=~(1<<h),a+=1;var f=32-bt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Mi=1<<32-bt(n)+h|a<<h|o,Vi=f+t}else Mi=1<<f|a<<h|o,Vi=t}function _f(t){t.return!==null&&(ts(t,1),fg(t,1,0))}function vf(t){for(;t===Ju;)Ju=Ua[--Pa],Ua[Pa]=null,al=Ua[--Pa],Ua[Pa]=null;for(;t===zs;)zs=Jn[--Zn],Jn[Zn]=null,Vi=Jn[--Zn],Jn[Zn]=null,Mi=Jn[--Zn],Jn[Zn]=null}function dg(t,n){Jn[Zn++]=Mi,Jn[Zn++]=Vi,Jn[Zn++]=zs,Mi=n.id,Vi=n.overflow,zs=t}var sn=null,pt=null,Fe=!1,Bs=null,Wn=!1,Ef=Error(r(519));function qs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol($n(n,t)),Ef}function mg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Lt]=t,n[Jt]=o,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<xl.length;a++)Le(xl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Ms(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||D_(n.textContent,a)?(o.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),o.onScroll!=null&&Le("scroll",n),o.onScrollEnd!=null&&Le("scrollend",n),o.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||qs(t,!0)}function pg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:sn=sn.return}}function ja(t){if(t!==sn)return!1;if(!Fe)return pg(t),Fe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pd(t.type,t.memoizedProps)),a=!a),a&&pt&&qs(t),pg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=z_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=z_(t)}else n===27?(n=pt,nr(t.type)?(t=Hd,Hd=null,pt=t):pt=n):pt=sn?ti(t.stateNode.nextSibling):null;return!0}function Kr(){pt=sn=null,Fe=!1}function Tf(){var t=Bs;return t!==null&&(In===null?In=t:In.push.apply(In,t),Bs=null),t}function ol(t){Bs===null?Bs=[t]:Bs.push(t)}var bf=V(null),Qr=null,ns=null;function Hs(t,n,a){ne(bf,n._currentValue),n._currentValue=a}function is(t){t._currentValue=bf.current,Y(bf)}function Sf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Af(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Sf(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Sf(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function za(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Ln(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}h=h.return}t!==null&&Af(n,t,a,o),n.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Qr=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return gg(Qr,t)}function Wu(t,n){return Qr===null&&Yr(t),gg(t,n)}function gg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ns===null){if(t===null)throw Error(r(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return a}var qT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},HT=s.unstable_scheduleCallback,GT=s.unstable_NormalPriority,jt={$$typeof:Se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new qT,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&HT(GT,function(){t.controller.abort()})}var ul=null,Rf=0,Ba=0,qa=null;function FT(t,n){if(ul===null){var a=ul=[];Rf=0,Ba=xd(),qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Rf++,n.then(yg,yg),n}function yg(){if(--Rf===0&&ul!==null){qa!==null&&(qa.status="fulfilled");var t=ul;ul=null,Ba=0,qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function KT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var _g=G.S;G.S=function(t,n){t_=wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FT(t,n),_g!==null&&_g(t,n)};var Xr=V(null);function Cf(){var t=Xr.current;return t!==null?t:ht.pooledCache}function ec(t,n){n===null?ne(Xr,Xr.current):ne(Xr,n.pool)}function vg(){var t=Cf();return t===null?null:{parent:jt._currentValue,pool:t}}var Ha=Error(r(460)),If=Error(r(474)),tc=Error(r(542)),nc={then:function(){}};function Eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(li,li),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t}throw Jr=n,Ha}}function $r(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Jr=a,Ha):a}}var Jr=null;function bg(){if(Jr===null)throw Error(r(459));var t=Jr;return Jr=null,t}function Sg(t){if(t===Ha||t===tc)throw Error(r(483))}var Ga=null,cl=0;function ic(t){var n=cl;return cl+=1,Ga===null&&(Ga=[]),Tg(Ga,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function sc(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ag(t){function n(U,O){if(t){var j=U.deletions;j===null?(U.deletions=[O],U.flags|=16):j.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=es(U,O),U.index=0,U.sibling=null,U}function f(U,O,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<O?(U.flags|=67108866,O):j):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,j,K){return O===null||O.tag!==6?(O=gf(j,U.mode,K),O.return=U,O):(O=h(O,j),O.return=U,O)}function C(U,O,j,K){var pe=j.type;return pe===ae?F(U,O,j.props.children,K,j.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&$r(pe)===O.type)?(O=h(O,j.props),hl(O,j),O.return=U,O):(O=$u(j.type,j.key,j.props,null,U.mode,K),hl(O,j),O.return=U,O)}function z(U,O,j,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=yf(j,U.mode,K),O.return=U,O):(O=h(O,j.children||[]),O.return=U,O)}function F(U,O,j,K,pe){return O===null||O.tag!==7?(O=Fr(j,U.mode,K,pe),O.return=U,O):(O=h(O,j),O.return=U,O)}function X(U,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gf(""+O,U.mode,j),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return j=$u(O.type,O.key,O.props,null,U.mode,j),hl(j,O),j.return=U,j;case Z:return O=yf(O,U.mode,j),O.return=U,O;case A:return O=$r(O),X(U,O,j)}if(At(O)||L(O))return O=Fr(O,U.mode,j,null),O.return=U,O;if(typeof O.then=="function")return X(U,ic(O),j);if(O.$$typeof===Se)return X(U,Wu(U,O),j);sc(U,O)}return null}function B(U,O,j,K){var pe=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:E(U,O,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===pe?C(U,O,j,K):null;case Z:return j.key===pe?z(U,O,j,K):null;case A:return j=$r(j),B(U,O,j,K)}if(At(j)||L(j))return pe!==null?null:F(U,O,j,K,null);if(typeof j.then=="function")return B(U,O,ic(j),K);if(j.$$typeof===Se)return B(U,O,Wu(U,j),K);sc(U,j)}return null}function H(U,O,j,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(j)||null,E(O,U,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?j:K.key)||null,C(O,U,K,pe);case Z:return U=U.get(K.key===null?j:K.key)||null,z(O,U,K,pe);case A:return K=$r(K),H(U,O,j,K,pe)}if(At(K)||L(K))return U=U.get(j)||null,F(O,U,K,pe,null);if(typeof K.then=="function")return H(U,O,j,ic(K),pe);if(K.$$typeof===Se)return H(U,O,j,Wu(O,K),pe);sc(O,K)}return null}function ue(U,O,j,K){for(var pe=null,Ye=null,he=O,De=O=0,je=null;he!==null&&De<j.length;De++){he.index>De?(je=he,he=null):je=he.sibling;var Xe=B(U,he,j[De],K);if(Xe===null){he===null&&(he=je);break}t&&he&&Xe.alternate===null&&n(U,he),O=f(Xe,O,De),Ye===null?pe=Xe:Ye.sibling=Xe,Ye=Xe,he=je}if(De===j.length)return a(U,he),Fe&&ts(U,De),pe;if(he===null){for(;De<j.length;De++)he=X(U,j[De],K),he!==null&&(O=f(he,O,De),Ye===null?pe=he:Ye.sibling=he,Ye=he);return Fe&&ts(U,De),pe}for(he=o(he);De<j.length;De++)je=H(he,U,De,j[De],K),je!==null&&(t&&je.alternate!==null&&he.delete(je.key===null?De:je.key),O=f(je,O,De),Ye===null?pe=je:Ye.sibling=je,Ye=je);return t&&he.forEach(function(or){return n(U,or)}),Fe&&ts(U,De),pe}function ve(U,O,j,K){if(j==null)throw Error(r(151));for(var pe=null,Ye=null,he=O,De=O=0,je=null,Xe=j.next();he!==null&&!Xe.done;De++,Xe=j.next()){he.index>De?(je=he,he=null):je=he.sibling;var or=B(U,he,Xe.value,K);if(or===null){he===null&&(he=je);break}t&&he&&or.alternate===null&&n(U,he),O=f(or,O,De),Ye===null?pe=or:Ye.sibling=or,Ye=or,he=je}if(Xe.done)return a(U,he),Fe&&ts(U,De),pe;if(he===null){for(;!Xe.done;De++,Xe=j.next())Xe=X(U,Xe.value,K),Xe!==null&&(O=f(Xe,O,De),Ye===null?pe=Xe:Ye.sibling=Xe,Ye=Xe);return Fe&&ts(U,De),pe}for(he=o(he);!Xe.done;De++,Xe=j.next())Xe=H(he,U,De,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&he.delete(Xe.key===null?De:Xe.key),O=f(Xe,O,De),Ye===null?pe=Xe:Ye.sibling=Xe,Ye=Xe);return t&&he.forEach(function(iS){return n(U,iS)}),Fe&&ts(U,De),pe}function ut(U,O,j,K){if(typeof j=="object"&&j!==null&&j.type===ae&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:e:{for(var pe=j.key;O!==null;){if(O.key===pe){if(pe=j.type,pe===ae){if(O.tag===7){a(U,O.sibling),K=h(O,j.props.children),K.return=U,U=K;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&$r(pe)===O.type){a(U,O.sibling),K=h(O,j.props),hl(K,j),K.return=U,U=K;break e}a(U,O);break}else n(U,O);O=O.sibling}j.type===ae?(K=Fr(j.props.children,U.mode,K,j.key),K.return=U,U=K):(K=$u(j.type,j.key,j.props,null,U.mode,K),hl(K,j),K.return=U,U=K)}return g(U);case Z:e:{for(pe=j.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(U,O.sibling),K=h(O,j.children||[]),K.return=U,U=K;break e}else{a(U,O);break}else n(U,O);O=O.sibling}K=yf(j,U.mode,K),K.return=U,U=K}return g(U);case A:return j=$r(j),ut(U,O,j,K)}if(At(j))return ue(U,O,j,K);if(L(j)){if(pe=L(j),typeof pe!="function")throw Error(r(150));return j=pe.call(j),ve(U,O,j,K)}if(typeof j.then=="function")return ut(U,O,ic(j),K);if(j.$$typeof===Se)return ut(U,O,Wu(U,j),K);sc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(U,O.sibling),K=h(O,j),K.return=U,U=K):(a(U,O),K=gf(j,U.mode,K),K.return=U,U=K),g(U)):a(U,O)}return function(U,O,j,K){try{cl=0;var pe=ut(U,O,j,K);return Ga=null,pe}catch(he){if(he===Ha||he===tc)throw he;var Ye=Un(29,he,null,U.mode);return Ye.lanes=K,Ye.return=U,Ye}}}var Zr=Ag(!0),wg=Ag(!1),Gs=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Xu(t),lg(t,null,a),n}return Yu(t,o,n,a),Xu(t)}function fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,jo(t,a)}}function Df(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Of=!1;function dl(){if(Of){var t=qa;if(t!==null)throw t}}function ml(t,n,a,o){Of=!1;var h=t.updateQueue;Gs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,F=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Pe&B)===B:(o&B)===B){B!==0&&B===Ba&&(Of=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ve=E;B=n;var ut=a;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){X=ue.call(ut,X,B);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,B=typeof ue=="function"?ue.call(ut,X,B):ue,B==null)break e;X=w({},X,B);break e;case 2:Gs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=X):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Js|=g,t.lanes=g,t.memoizedState=X}}function Rg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Cg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rg(a[t],n)}var Fa=V(null),rc=V(0);function Ig(t,n){t=fs,ne(rc,t),ne(Fa,n),fs=t|n.baseLanes}function Mf(){ne(rc,fs),ne(Fa,Fa.current)}function Vf(){fs=rc.current,Y(Fa),Y(rc)}var Pn=V(null),ei=null;function Qs(t){var n=t.alternate;ne(Ot,Ot.current&1),ne(Pn,t),ei===null&&(n===null||Fa.current!==null||n.memoizedState!==null)&&(ei=t)}function kf(t){ne(Ot,Ot.current),ne(Pn,t),ei===null&&(ei=t)}function xg(t){t.tag===22?(ne(Ot,Ot.current),ne(Pn,t),ei===null&&(ei=t)):Ys()}function Ys(){ne(Ot,Ot.current),ne(Pn,Pn.current)}function jn(t){Y(Pn),ei===t&&(ei=null),Y(Ot)}var Ot=V(0);function ac(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bd(a)||qd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Ne=null,ot=null,zt=null,oc=!1,Ka=!1,Wr=!1,lc=0,pl=0,Qa=null,QT=0;function Rt(){throw Error(r(321))}function Lf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function Uf(t,n,a,o,h,f){return ss=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?fy:Zf,Wr=!1,f=a(o,h),Wr=!1,Ka&&(f=Dg(n,a,o,h)),Ng(t),f}function Ng(t){G.H=_l;var n=ot!==null&&ot.next!==null;if(ss=0,zt=ot=Ne=null,oc=!1,pl=0,Qa=null,n)throw Error(r(300));t===null||Bt||(t=t.dependencies,t!==null&&Zu(t)&&(Bt=!0))}function Dg(t,n,a,o){Ne=t;var h=0;do{if(Ka&&(Qa=null),pl=0,Ka=!1,25<=h)throw Error(r(301));if(h+=1,zt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=dy,f=n(a,o)}while(Ka);return f}function YT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Ne.flags|=1024),n}function Pf(){var t=lc!==0;return lc=0,t}function jf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function zf(t){if(oc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}oc=!1}ss=0,zt=ot=Ne=null,Ka=!1,pl=lc=0,Qa=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ne.memoizedState=zt=t:zt=zt.next=t,zt}function Mt(){if(ot===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=zt===null?Ne.memoizedState:zt.next;if(n!==null)zt=n,ot=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},zt===null?Ne.memoizedState=zt=t:zt=zt.next=t}return zt}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=pl;return pl+=1,Qa===null&&(Qa=[]),t=Tg(Qa,t,n),n=Ne,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?fy:Zf),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===Se)return rn(t)}throw Error(r(438,String(t)))}function Bf(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=uc(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=k;return n.index++,a}function rs(t,n){return typeof n=="function"?n(t):n}function hc(t){var n=Mt();return qf(n,ot,t)}function qf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Pe&X)===X:(ss&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ba&&(F=!0);else if((ss&B)===B){z=z.next,B===Ba&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,Ne.lanes|=B,Js|=B;X=z.action,Wr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Ne.lanes|=X,Js|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!Ln(f,t.memoizedState)&&(Bt=!0,F&&(a=qa,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Hf(t){var n=Mt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Og(t,n,a){var o=Ne,h=Mt(),f=Fe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Ln((ot||h).memoizedState,a);if(g&&(h.memoizedState=a,Bt=!0),h=h.queue,Kf(kg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||zt!==null&&zt.memoizedState.tag&1){if(o.flags|=2048,Ya(9,{destroy:void 0},Vg.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));f||(ss&127)!==0||Mg(o,n,a)}return a}function Mg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=uc(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Vg(t,n,a,o){n.value=a,n.getSnapshot=o,Lg(n)&&Ug(t)}function kg(t,n,a){return a(function(){Lg(n)&&Ug(t)})}function Lg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function Ug(t){var n=Gr(t,2);n!==null&&xn(n,t,2)}function Gf(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),Wr){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function Pg(t,n,a,o){return t.baseState=a,qf(t,ot,typeof o=="function"?o:rs)}function XT(t,n,a,o,h){if(mc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,jg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function jg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),C=G.S;C!==null&&C(g,E),zg(t,n,E)}catch(z){Ff(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),zg(t,n,f)}catch(z){Ff(t,n,z)}}function zg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Bg(t,n,o)},function(o){return Ff(t,n,o)}):Bg(t,n,a)}function Bg(t,n,a){n.status="fulfilled",n.value=a,qg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,jg(t,a)))}function Ff(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,qg(n),n=n.next;while(n!==o)}t.action=null}function qg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hg(t,n){return n}function Gg(t,n){if(Fe){var a=ht.formState;if(a!==null){e:{var o=Ne;if(Fe){if(pt){t:{for(var h=pt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ti(h.nextSibling),o=h.data==="F!";break e}}qs(o)}o=!1}o&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:n},a.queue=o,a=uy.bind(null,Ne,o),o.dispatch=a,o=Gf(!1),f=Jf.bind(null,Ne,!1,o.queue),o=_n(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=XT.bind(null,Ne,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Fg(t){var n=Mt();return Kg(n,ot,t)}function Kg(t,n,a){if(n=qf(t,n,Hg)[0],t=hc(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=gl(n)}catch(g){throw g===Ha?tc:g}else o=n;n=Mt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,Ya(9,{destroy:void 0},$T.bind(null,h,a),null)),[o,f,t]}function $T(t,n){t.action=n}function Qg(t){var n=Mt(),a=ot;if(a!==null)return Kg(n,a,t);Mt(),n=n.memoizedState,a=Mt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ya(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=uc(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Yg(){return Mt().memoizedState}function fc(t,n,a,o){var h=_n();Ne.flags|=t,h.memoizedState=Ya(1|n,{destroy:void 0},a,o===void 0?null:o)}function dc(t,n,a,o){var h=Mt();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&Lf(o,ot.memoizedState.deps)?h.memoizedState=Ya(n,f,a,o):(Ne.flags|=t,h.memoizedState=Ya(1|n,f,a,o))}function Xg(t,n){fc(8390656,8,t,n)}function Kf(t,n){dc(2048,8,t,n)}function JT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=uc(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function $g(t){var n=Mt().memoizedState;return JT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Jg(t,n){return dc(4,2,t,n)}function Zg(t,n){return dc(4,4,t,n)}function Wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ey(t,n,a){a=a!=null?a.concat([t]):null,dc(4,4,Wg.bind(null,n,t),a)}function Qf(){}function ty(t,n){var a=Mt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Lf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function ny(t,n){var a=Mt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Lf(n,o[1]))return o[0];if(o=t(),Wr){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[o,n],o}function Yf(t,n,a){return a===void 0||(ss&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=i_(),Ne.lanes|=t,Js|=t,a)}function iy(t,n,a,o){return Ln(a,n)?a:Fa.current!==null?(t=Yf(t,a,o),Ln(t,n)||(Bt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(Pe&261930)===0?(Bt=!0,t.memoizedState=a):(t=i_(),Ne.lanes|=t,Js|=t,n)}function sy(t,n,a,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Jf(t,!1,n,a);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=KT(C,o);yl(t,n,F,qn(t))}else yl(t,n,o,qn(t))}catch(X){yl(t,n,{then:function(){},status:"rejected",reason:X},qn())}finally{se.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function ZT(){}function Xf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=ry(t).queue;sy(t,h,n,me,a===null?ZT:function(){return ay(t),a(o)})}function ry(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ay(t){var n=ry(t);n.next===null&&(n=t.alternate.memoizedState),yl(t,n.next.queue,{},qn())}function $f(){return rn(Vl)}function oy(){return Mt().memoizedState}function ly(){return Mt().memoizedState}function WT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=qn();t=Fs(a);var o=Ks(n,t,a);o!==null&&(xn(o,n,a),fl(o,n,a)),n={cache:wf()},t.payload=n;return}n=n.return}}function eb(t,n,a){var o=qn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?cy(n,a):(a=mf(t,n,a,o),a!==null&&(xn(a,t,o),hy(a,n,o)))}function uy(t,n,a){var o=qn();yl(t,n,a,o)}function yl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))cy(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,g))return Yu(t,n,h,0),ht===null&&Qu(),!1}catch{}if(a=mf(t,n,h,o),a!==null)return xn(a,t,o),hy(a,n,o),!0}return!1}function Jf(t,n,a,o){if(o={lane:2,revertLane:xd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(n)throw Error(r(479))}else n=mf(t,a,o,2),n!==null&&xn(n,t,2)}function mc(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function cy(t,n){Ka=oc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function hy(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,jo(t,a)}}var _l={readContext:rn,use:cc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};_l.useEffectEvent=Rt;var fy={readContext:rn,use:cc,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Xg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,fc(4194308,4,Wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return fc(4194308,4,t,n)},useInsertionEffect:function(t,n){fc(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var o=t();if(Wr){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=_n();if(a!==void 0){var h=a(n);if(Wr){hn(!0);try{a(n)}finally{hn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=eb.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Gf(t);var n=t.queue,a=uy.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(t,n){var a=_n();return Yf(a,t,n)},useTransition:function(){var t=Gf(!1);return t=sy.bind(null,Ne,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ne,h=_n();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(Pe&127)!==0||Mg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Xg(kg.bind(null,o,f,t),[t]),o.flags|=2048,Ya(9,{destroy:void 0},Vg.bind(null,o,f,a,n),null),a},useId:function(){var t=_n(),n=ht.identifierPrefix;if(Fe){var a=Vi,o=Mi;a=(o&~(1<<32-bt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=lc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=QT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:$f,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Jf.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:Bf,useCacheRefresh:function(){return _n().memoizedState=WT.bind(null,Ne)},useEffectEvent:function(t){var n=_n(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:rn,use:cc,useCallback:ty,useContext:rn,useEffect:Kf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:hc,useRef:Yg,useState:function(){return hc(rs)},useDebugValue:Qf,useDeferredValue:function(t,n){var a=Mt();return iy(a,ot.memoizedState,t,n)},useTransition:function(){var t=hc(rs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Og,useId:oy,useHostTransitionStatus:$f,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,n){var a=Mt();return Pg(a,ot,t,n)},useMemoCache:Bf,useCacheRefresh:ly};Zf.useEffectEvent=$g;var dy={readContext:rn,use:cc,useCallback:ty,useContext:rn,useEffect:Kf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:Hf,useRef:Yg,useState:function(){return Hf(rs)},useDebugValue:Qf,useDeferredValue:function(t,n){var a=Mt();return ot===null?Yf(a,t,n):iy(a,ot.memoizedState,t,n)},useTransition:function(){var t=Hf(rs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Og,useId:oy,useHostTransitionStatus:$f,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,n){var a=Mt();return ot!==null?Pg(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:ly};dy.useEffectEvent=$g;function Wf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ed={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=qn(),h=Fs(o);h.payload=n,a!=null&&(h.callback=a),n=Ks(t,h,o),n!==null&&(xn(n,t,o),fl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=qn(),h=Fs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ks(t,h,o),n!==null&&(xn(n,t,o),fl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=qn(),o=Fs(a);o.tag=2,n!=null&&(o.callback=n),n=Ks(t,o,a),n!==null&&(xn(n,t,a),fl(n,t,a))}};function my(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!sl(a,o)||!sl(h,f):!0}function py(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&ed.enqueueReplaceState(n,n.state,null)}function ea(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function gy(t){Ku(t)}function yy(t){console.error(t)}function _y(t){Ku(t)}function pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function vy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(t,n,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,n)},a}function Ey(t){return t=Fs(t),t.tag=3,t}function Ty(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){vy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){vy(n,a,o),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&za(n,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ei===null?Cc():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===nc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Rd(t,o,h)),!1;case 22:return a.flags|=65536,o===nc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Rd(t,o,h)),!1}throw Error(r(435,a.tag))}return Rd(t,o,h),Cc(),!1}if(Fe)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ef&&(t=Error(r(422),{cause:o}),ol($n(t,a)))):(o!==Ef&&(n=Error(r(423),{cause:o}),ol($n(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=$n(o,a),h=td(t.stateNode,o,h),Df(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(r(520),{cause:o});if(f=$n(f,a),Rl===null?Rl=[f]:Rl.push(f),Ct!==4&&(Ct=2),n===null)return!0;o=$n(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=td(a.stateNode,o,t),Df(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ey(h),Ty(h,t,a,o),Df(a,h),!1}a=a.return}while(a!==null);return!1}var nd=Error(r(461)),Bt=!1;function an(t,n,a,o){n.child=t===null?wg(n,null,a,o):Zr(n,t.child,a,o)}function by(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Yr(n),o=Uf(t,n,a,g,f,h),E=Pf(),t!==null&&!Bt?(jf(t,n,h),as(t,n,h)):(Fe&&E&&_f(n),n.flags|=1,an(t,n,o,h),n.child)}function Sy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!pf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ay(t,n,f,o,h)):(t=$u(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!cd(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(g,o)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=es(f,o),t.ref=n.ref,t.return=n,n.child=t}function Ay(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(sl(f,o)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=o=f,cd(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,as(t,n,h)}return id(t,n,a,o,h)}function wy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ry(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(n,f!==null?f.cachePool:null),f!==null?Ig(n,f):Mf(),xg(n);else return o=n.lanes=536870912,Ry(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ec(n,f.cachePool),Ig(n,f),Ys(),n.memoizedState=null):(t!==null&&ec(n,null),Mf(),Ys());return an(t,n,h,a),n.child}function vl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ry(t,n,a,o,h){var f=Cf();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ec(n,null),Mf(),xg(n),t!==null&&za(t,n,o,!0),n.childLanes=h,null}function gc(t,n){return n=_c({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Cy(t,n,a){return Zr(n,t.child,null,a),t=gc(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function nb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=gc(n,o),n.lanes=536870912,vl(null,t);if(kf(n),(t=pt)?(t=j_(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=n,n.child=a,sn=n,pt=null)):t=null,t===null)throw qs(n);return n.lanes=536870912,null}return gc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(kf(n),h)if(n.flags&256)n.flags&=-257,n=Cy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Bt||za(t,n,a,!1),h=(a&t.childLanes)!==0,Bt||h){if(o=ht,o!==null&&(g=zo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Gr(t,g),xn(o,t,g),nd;Cc(),n=Cy(t,n,a)}else t=f.treeContext,pt=ti(g.nextSibling),sn=n,Fe=!0,Bs=null,Wn=!1,t!==null&&dg(n,t),n=gc(n,o),n.flags|=4096;return n}return t=es(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function yc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function id(t,n,a,o,h){return Yr(n),a=Uf(t,n,a,o,void 0,h),o=Pf(),t!==null&&!Bt?(jf(t,n,h),as(t,n,h)):(Fe&&o&&_f(n),n.flags|=1,an(t,n,a,h),n.child)}function Iy(t,n,a,o,h,f){return Yr(n),n.updateQueue=null,a=Dg(n,o,a,h),Ng(t),o=Pf(),t!==null&&!Bt?(jf(t,n,f),as(t,n,f)):(Fe&&o&&_f(n),n.flags|=1,an(t,n,a,f),n.child)}function xy(t,n,a,o,h){if(Yr(n),n.stateNode===null){var f=La,g=a.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ed,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},xf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?rn(g):La,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Wf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&ed.enqueueReplaceState(f,f.state,null),ml(n,o,f,h),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ea(a,E);f.props=C;var z=f.context,F=a.contextType;g=La,typeof F=="object"&&F!==null&&(g=rn(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&py(n,f,o,g),Gs=!1;var B=n.memoizedState;f.state=B,ml(n,o,f,h),dl(),z=n.memoizedState,E||B!==z||Gs?(typeof X=="function"&&(Wf(n,a,X,o),z=n.memoizedState),(C=Gs||my(n,a,C,o,B,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Nf(t,n),g=n.memoizedProps,F=ea(a,g),f.props=F,X=n.pendingProps,B=f.context,z=a.contextType,C=La,typeof z=="object"&&z!==null&&(C=rn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&py(n,f,o,C),Gs=!1,B=n.memoizedState,f.state=B,ml(n,o,f,h),dl();var H=n.memoizedState;g!==X||B!==H||Gs||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof E=="function"&&(Wf(n,a,E,o),H=n.memoizedState),(F=Gs||my(n,a,F,o,B,H,C)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,yc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Zr(n,t.child,null,h),n.child=Zr(n,null,a,h)):an(t,n,a,h),n.memoizedState=f.state,t=n.child):t=as(t,n,h),t}function Ny(t,n,a,o){return Kr(),n.flags|=256,an(t,n,a,o),n.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(t){return{baseLanes:t,cachePool:vg()}}function ad(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Bn),t}function Dy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Qs(n):Ys(),(t=pt)?(t=j_(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=n,n.child=a,sn=n,pt=null)):t=null,t===null)throw qs(n);return qd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ys(),h=n.mode,E=_c({mode:"hidden",children:E},h),o=Fr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=rd(a),o.childLanes=ad(t,g,a),n.memoizedState=sd,vl(null,o)):(Qs(n),od(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=ld(t,n,a)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),E=o.fallback,h=n.mode,o=_c({mode:"visible",children:o.children},h),E=Fr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Zr(n,t.child,null,a),o=n.child,o.memoizedState=rd(a),o.childLanes=ad(t,g,a),n.memoizedState=sd,n=vl(null,o));else if(Qs(n),qd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,ol({value:o,source:null,stack:null}),n=ld(t,n,a)}else if(Bt||za(t,n,a,!1),g=(a&t.childLanes)!==0,Bt||g){if(g=ht,g!==null&&(o=zo(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Gr(t,o),xn(g,t,o),nd;Bd(E)||Cc(),n=ld(t,n,a)}else Bd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=ti(E.nextSibling),sn=n,Fe=!0,Bs=null,Wn=!1,t!==null&&dg(n,t),n=od(n,o.children),n.flags|=4096);return n}return h?(Ys(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=es(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=es(z,E):(E=Fr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,vl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=rd(a):(h=E.cachePool,h!==null?(C=jt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=vg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=ad(t,g,a),n.memoizedState=sd,vl(t.child,o)):(Qs(n),a=t.child,t=a.sibling,a=es(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function od(t,n){return n=_c({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function _c(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function ld(t,n,a){return Zr(n,t.child,null,a),t=od(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Oy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Sf(t.return,n,a)}function ud(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function My(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ot.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ne(Ot,g),an(t,n,o,a),o=Fe?al:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,a,n);else if(t.tag===19)Oy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ud(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(n,!0,a,null,f,o);break;case"together":ud(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function as(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Js|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(za(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=es(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=es(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function cd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function ib(t,n,a){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),Hs(n,jt,t.memoizedState.cache),Kr();break;case 27:case 5:ri(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,kf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Dy(t,n,a):(Qs(n),t=as(t,n,a),t!==null?t.sibling:null);Qs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(za(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return My(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Ot,Ot.current),o)break;return null;case 22:return n.lanes=0,wy(t,n,a,n.pendingProps);case 24:Hs(n,jt,t.memoizedState.cache)}return as(t,n,a)}function Vy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!cd(t,a)&&(n.flags&128)===0)return Bt=!1,ib(t,n,a);Bt=(t.flags&131072)!==0}else Bt=!1,Fe&&(n.flags&1048576)!==0&&fg(n,al,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")pf(t)?(o=ea(t,o),n.tag=1,n=xy(null,n,t,o,a)):(n.tag=0,n=id(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=by(null,n,t,o,a);break e}else if(h===x){n.tag=14,n=Sy(null,n,t,o,a);break e}}throw n=mt(t)||t,Error(r(306,n,""))}}return n;case 0:return id(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ea(o,n.pendingProps),xy(t,n,o,h,a);case 3:e:{if(xt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Nf(t,n),ml(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Hs(n,jt,o),o!==f.cache&&Af(n,[jt],a,!0),dl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ny(t,n,o,a);break e}else if(o!==h){h=$n(Error(r(424)),n),ol(h),n=Ny(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=ti(t.firstChild),sn=n,Fe=!0,Bs=null,Wn=!0,a=wg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){n=as(t,n,a);break e}an(t,n,o,a)}n=n.child}return n;case 26:return yc(t,n),t===null?(a=F_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Fe||(a=n.type,t=n.pendingProps,o=Vc(Ie.current).createElement(a),o[Lt]=n,o[Jt]=t,on(o,a,t),Ut(o),n.stateNode=o):n.memoizedState=F_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ri(n),t===null&&Fe&&(o=n.stateNode=q_(n.type,n.pendingProps,Ie.current),sn=n,Wn=!0,h=pt,nr(n.type)?(Hd=h,pt=ti(o.firstChild)):pt=h),an(t,n,n.pendingProps.children,a),yc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=pt)&&(o=Mb(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,sn=n,pt=ti(o.firstChild),Wn=!1,h=!0):h=!1),h||qs(n)),ri(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Pd(h,f)?o=null:g!==null&&Pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Uf(t,n,YT,null,null,a),Vl._currentValue=h),yc(t,n),an(t,n,o,a),n.child;case 6:return t===null&&Fe&&((t=a=pt)&&(a=Vb(a,n.pendingProps,Wn),a!==null?(n.stateNode=a,sn=n,pt=null,t=!0):t=!1),t||qs(n)),null;case 13:return Dy(t,n,a);case 4:return xt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Zr(n,null,o,a):an(t,n,o,a),n.child;case 11:return by(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Hs(n,n.type,o.value),an(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Yr(n),h=rn(h),o=o(h),n.flags|=1,an(t,n,o,a),n.child;case 14:return Sy(t,n,n.type,n.pendingProps,a);case 15:return Ay(t,n,n.type,n.pendingProps,a);case 19:return My(t,n,a);case 31:return nb(t,n,a);case 22:return wy(t,n,a,n.pendingProps);case 24:return Yr(n),o=rn(jt),t===null?(h=Cf(),h===null&&(h=ht,f=wf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},xf(n),Hs(n,jt,h)):((t.lanes&a)!==0&&(Nf(t,n),ml(n,null,null,a),dl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,jt,o)):(o=f.cache,Hs(n,jt,o),o!==h.cache&&Af(n,[jt],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function os(t){t.flags|=4}function hd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(o_())t.flags|=8192;else throw Jr=nc,If}else t.flags&=-16777217}function ky(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$_(n))if(o_())t.flags|=8192;else throw Jr=nc,If}function vc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Kt():536870912,t.lanes|=n,Za|=n)}function El(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function sb(t,n,a){var o=n.pendingProps;switch(vf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),is(jt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tf())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(gt(n),ky(n,f)):(gt(n),hd(n,h,null,o,a))):f?f!==t.memoizedState?(os(n),gt(n),ky(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&os(n),gt(n),hd(n,h,t,o,a)),null;case 27:if(Ki(n),a=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}t=oe.current,ja(n)?mg(n):(t=q_(h,o,a),n.stateNode=t,os(n))}return gt(n),null;case 5:if(Ki(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}if(f=oe.current,ja(n))mg(n);else{var g=Vc(Ie.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Lt]=n,f[Jt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(on(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&os(n)}}return gt(n),hd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ie.current,ja(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||D_(t.nodeValue,a)),t||qs(n,!0)}else t=Vc(t).createTextNode(o),t[Lt]=n,n.stateNode=t}return gt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ja(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Lt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Lt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),vc(n,n.updateQueue),gt(n),null);case 4:return ct(),t===null&&Md(n.stateNode.containerInfo),gt(n),null;case 10:return is(n.type),gt(n),null;case 19:if(Y(Ot),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)El(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ac(t),f!==null){for(n.flags|=128,El(o,!1),t=f.updateQueue,n.updateQueue=t,vc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ug(a,t),a=a.sibling;return ne(Ot,Ot.current&1|2),Fe&&ts(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&wt()>Ac&&(n.flags|=128,h=!0,El(o,!1),n.lanes=4194304)}else{if(!h)if(t=ac(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,vc(n,t),El(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return gt(n),null}else 2*wt()-o.renderingStartTime>Ac&&a!==536870912&&(n.flags|=128,h=!0,El(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=wt(),t.sibling=null,a=Ot.current,ne(Ot,h?a&1|2:a&1),Fe&&ts(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return jn(n),Vf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),a=n.updateQueue,a!==null&&vc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Y(Xr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),is(jt),gt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function rb(t,n){switch(vf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(jt),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ki(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(r(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ot),null;case 4:return ct(),null;case 10:return is(n.type),null;case 22:case 23:return jn(n),Vf(),t!==null&&Y(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(jt),null;case 25:return null;default:return null}}function Ly(t,n){switch(vf(n),n.tag){case 3:is(jt),ct();break;case 26:case 27:case 5:Ki(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Y(Ot);break;case 10:is(n.type);break;case 22:case 23:jn(n),Vf(),t!==null&&Y(Xr);break;case 24:is(jt)}}function Tl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){st(n,n.return,E)}}function Xs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(F){st(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){st(n,n.return,F)}}function Uy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Cg(n,a)}catch(o){st(t,t.return,o)}}}function Py(t,n,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function ki(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function jy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function fd(t,n,a){try{var o=t.stateNode;Cb(o,t.type,a,n),o[Jt]=n}catch(h){st(t,t.return,h)}}function zy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=li));else if(o!==4&&(o===27&&nr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(md(t,n,a),t=t.sibling;t!==null;)md(t,n,a),t=t.sibling}function Ec(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,n,a),t=t.sibling;t!==null;)Ec(t,n,a),t=t.sibling}function By(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,o,a),n[Lt]=t,n[Jt]=a}catch(f){st(t,t.return,f)}}var ls=!1,qt=!1,pd=!1,qy=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function ab(t,n){if(t=t.containerInfo,Ld=Bc,t=eg(t),lf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,z=0,F=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++z===h&&(E=g),B===f&&++F===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:t,selectionRange:a},Bc=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=ea(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){st(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function Hy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:cs(t,a),o&4&&Tl(5,a);break;case 1:if(cs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){st(a,a.return,g)}else{var h=ea(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){st(a,a.return,g)}}o&64&&Uy(a),o&512&&bl(a,a.return);break;case 3:if(cs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Cg(t,n)}catch(g){st(a,a.return,g)}}break;case 27:n===null&&o&4&&By(a);case 26:case 5:cs(t,a),n===null&&o&4&&jy(a),o&512&&bl(a,a.return);break;case 12:cs(t,a);break;case 31:cs(t,a),o&4&&Ky(t,a);break;case 13:cs(t,a),o&4&&Qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pb.bind(null,a),kb(t,a))));break;case 22:if(o=a.memoizedState!==null||ls,!o){n=n!==null&&n.memoizedState!==null||qt,h=ls;var f=qt;ls=o,(qt=n)&&!f?hs(t,a,(a.subtreeFlags&8772)!==0):cs(t,a),ls=h,qt=f}break;case 30:break;default:cs(t,a)}}function Gy(t){var n=t.alternate;n!==null&&(t.alternate=null,Gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,wn=!1;function us(t,n,a){for(a=a.child;a!==null;)Fy(t,n,a),a=a.sibling}function Fy(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:qt||ki(a,n),us(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qt||ki(a,n);var o=Tt,h=wn;nr(a.type)&&(Tt=a.stateNode,wn=!1),us(t,n,a),Dl(a.stateNode),Tt=o,wn=h;break;case 5:qt||ki(a,n);case 6:if(o=Tt,h=wn,Tt=null,us(t,n,a),Tt=o,wn=h,Tt!==null)if(wn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{Tt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:Tt!==null&&(wn?(t=Tt,U_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):U_(Tt,a.stateNode));break;case 4:o=Tt,h=wn,Tt=a.stateNode.containerInfo,wn=!0,us(t,n,a),Tt=o,wn=h;break;case 0:case 11:case 14:case 15:Xs(2,a,n),qt||Xs(4,a,n),us(t,n,a);break;case 1:qt||(ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Py(a,n,o)),us(t,n,a);break;case 21:us(t,n,a);break;case 22:qt=(o=qt)||a.memoizedState!==null,us(t,n,a),qt=o;break;default:us(t,n,a)}}function Ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){st(n,n.return,a)}}}function Qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){st(n,n.return,a)}}function ob(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qy),n;default:throw Error(r(435,t.tag))}}function Tc(t,n){var a=ob(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=gb.bind(null,t,o);o.then(h,h)}})}function Rn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){Tt=E.stateNode,wn=!1;break e}break;case 5:Tt=E.stateNode,wn=!1;break e;case 3:case 4:Tt=E.stateNode.containerInfo,wn=!0;break e}E=E.return}if(Tt===null)throw Error(r(160));Fy(f,g,h),Tt=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Yy(n,t),n=n.sibling}var mi=null;function Yy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),Cn(t),o&4&&(Xs(3,t,t.return),Tl(3,t),Xs(5,t,t.return));break;case 1:Rn(n,t),Cn(t),o&512&&(qt||a===null||ki(a,a.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=mi;if(Rn(n,t),Cn(t),o&512&&(qt||a===null||ki(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,o,a),f[Lt]=t,Ut(f),o=f;break e;case"link":var g=Y_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),on(f,o,a),h.head.appendChild(f);break;case"meta":if(g=Y_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),on(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Lt]=t,Ut(f),o=f}t.stateNode=o}else X_(h,t.type,t.stateNode);else t.stateNode=Q_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?X_(h,t.type,t.stateNode):Q_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(n,t),Cn(t),o&512&&(qt||a===null||ki(a,a.return)),a!==null&&o&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(n,t),Cn(t),o&512&&(qt||a===null||ki(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(ue){st(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(pd=!0);break;case 6:if(Rn(n,t),Cn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){st(t,t.return,ue)}}break;case 3:if(Uc=null,h=mi,mi=kc(n.containerInfo),Rn(n,t),mi=h,Cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(ue){st(t,t.return,ue)}pd&&(pd=!1,Xy(t));break;case 4:o=mi,mi=kc(t.stateNode.containerInfo),Rn(n,t),Cn(t),mi=o;break;case 12:Rn(n,t),Cn(t);break;case 31:Rn(n,t),Cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 13:Rn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=wt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ls,F=qt;if(ls=z||h,qt=F||C,Rn(n,t),qt=F,ls=z,Cn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ls||qt||ta(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){st(C,C.return,ue)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){st(C,C.return,ue)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?P_(H,!0):P_(C.stateNode,!1)}catch(ue){st(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tc(t,a))));break;case 19:Rn(n,t),Cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 30:break;case 21:break;default:Rn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(zy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=dd(t);Ec(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(An(g,""),a.flags&=-33);var E=dd(t);Ec(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=dd(t);md(t,z,C);break;default:throw Error(r(161))}}catch(F){st(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hy(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),ta(n);break;case 1:ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Py(n,n.return,a),ta(n);break;case 27:Dl(n.stateNode);case 26:case 5:ki(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function hs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,a),Tl(4,f);break;case 1:if(hs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Rg(C[h],E)}catch(z){st(o,o.return,z)}}a&&g&64&&Uy(f),bl(f,f.return);break;case 27:By(f);case 26:case 5:hs(h,f,a),a&&o===null&&g&4&&jy(f),bl(f,f.return);break;case 12:hs(h,f,a);break;case 31:hs(h,f,a),a&&g&4&&Ky(h,f);break;case 13:hs(h,f,a),a&&g&4&&Qy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,a),bl(f,f.return);break;case 30:break;default:hs(h,f,a)}n=n.sibling}}function gd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function yd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function pi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$y(t,n,a,o),n=n.sibling}function $y(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,a,o),h&2048&&Tl(9,n);break;case 1:pi(t,n,a,o);break;case 3:pi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){pi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(n,n.return,C)}}else pi(t,n,a,o);break;case 31:pi(t,n,a,o);break;case 13:pi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,a,o):Sl(t,n):f._visibility&2?pi(t,n,a,o):(f._visibility|=2,Xa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&gd(g,n);break;case 24:pi(t,n,a,o),h&2048&&yd(n.alternate,n);break;default:pi(t,n,a,o)}}function Xa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Xa(f,g,E,C,h),Tl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Xa(f,g,E,C,h):Sl(f,g):(F._visibility|=2,Xa(f,g,E,C,h)),h&&z&2048&&gd(g.alternate,g);break;case 24:Xa(f,g,E,C,h),h&&z&2048&&yd(g.alternate,g);break;default:Xa(f,g,E,C,h)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Sl(a,o),h&2048&&gd(o.alternate,o);break;case 24:Sl(a,o),h&2048&&yd(o.alternate,o);break;default:Sl(a,o)}n=n.sibling}}var Al=8192;function $a(t,n,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Jy(t,n,a),t=t.sibling}function Jy(t,n,a){switch(t.tag){case 26:$a(t,n,a),t.flags&Al&&t.memoizedState!==null&&Qb(a,mi,t.memoizedState,t.memoizedProps);break;case 5:$a(t,n,a);break;case 3:case 4:var o=mi;mi=kc(t.stateNode.containerInfo),$a(t,n,a),mi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Al,Al=16777216,$a(t,n,a),Al=o):$a(t,n,a));break;default:$a(t,n,a)}}function Zy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Wt=o,e_(o,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bc(t)):wl(t);break;default:wl(t)}}function bc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Wt=o,e_(o,t)}Zy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),bc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,bc(n));break;default:bc(n)}t=t.sibling}}function e_(t,n){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:Xs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ll(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Wt=o;else e:for(a=t;Wt!==null;){o=Wt;var h=o.sibling,f=o.return;if(Gy(o),o===a){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var lb={getCacheForType:function(t){var n=rn(jt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return rn(jt).controller.signal}},ub=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,ke=null,Pe=0,it=0,zn=null,$s=!1,Ja=!1,_d=!1,fs=0,Ct=0,Js=0,na=0,vd=0,Bn=0,Za=0,Rl=null,In=null,Ed=!1,Sc=0,t_=0,Ac=1/0,wc=null,Zs=null,Qt=0,Ws=null,Wa=null,ds=0,Td=0,bd=null,n_=null,Cl=0,Sd=null;function qn(){return(et&2)!==0&&Pe!==0?Pe&-Pe:G.T!==null?xd():Ru()}function i_(){if(Bn===0)if((Pe&536870912)===0||Fe){var t=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),Bn=t}else Bn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),Bn}function xn(t,n,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(eo(t,0),er(t,Pe,Bn,!1)),dt(t,a),((et&2)===0||t!==ht)&&(t===ht&&((et&2)===0&&(na|=a),Ct===4&&er(t,Pe,Bn,!1)),Li(t))}function s_(t,n,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||de(t,n),h=o?fb(t,n):wd(t,n,!0),f=o;do{if(h===0){Ja&&!o&&er(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!cb(a)){h=wd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=Rl;var C=E.current.memoizedState.isDehydrated;if(C&&(eo(E,g).flags|=256),g=wd(E,g,!1),g!==2){if(_d&&!C){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){eo(t,0),er(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:er(o,n,Bn,!$s);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Sc+300-wt(),10<h)){if(er(o,n,Bn,!$s),fe(o,0,!0)!==0)break e;ds=n,o.timeoutHandle=k_(r_.bind(null,o,a,In,wc,Ed,n,Bn,na,Za,$s,f,"Throttled",-0,0),h);break e}r_(o,a,In,wc,Ed,n,Bn,na,Za,$s,f,null,-0,0)}}break}while(!0);Li(t)}function r_(t,n,a,o,h,f,g,E,C,z,F,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Jy(n,f,X);var ue=(f&62914560)===f?Sc-wt():(f&4194048)===f?t_-wt():0;if(ue=Yb(X,ue),ue!==null){ds=f,t.cancelPendingCommit=ue(d_.bind(null,t,n,f,a,o,h,g,E,C,F,X,null,B,H)),er(t,f,g,!z);return}}d_(t,n,f,a,o,h,g,E,C)}function cb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,a,o){n&=~vd,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Dr(t,a,n)}function Rc(){return(et&6)===0?(Il(0),!1):!0}function Ad(){if(ke!==null){if(it===0)var t=ke.return;else t=ke,ns=Qr=null,zf(t),Ga=null,cl=0,t=ke;for(;t!==null;)Ly(t.alternate,t),t=t.return;ke=null}}function eo(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Nb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ds=0,Ad(),ht=t,ke=a=es(t.current,null),Pe=n,it=0,zn=null,$s=!1,Ja=de(t,n),_d=!1,Za=Bn=vd=na=Js=Ct=0,In=Rl=null,Ed=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-bt(o),f=1<<h;n|=t[h],o&=~f}return fs=n,Qu(),a}function a_(t,n){Ne=null,G.H=_l,n===Ha||n===tc?(n=bg(),it=3):n===If?(n=bg(),it=4):it=n===nd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,ke===null&&(Ct=1,pc(t,$n(n,t.current)))}function o_(){var t=Pn.current;return t===null?!0:(Pe&4194048)===Pe?ei===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ei:!1}function l_(){var t=G.H;return G.H=_l,t===null?_l:t}function u_(){var t=G.A;return G.A=lb,t}function Cc(){Ct=4,$s||(Pe&4194048)!==Pe&&Pn.current!==null||(Ja=!0),(Js&134217727)===0&&(na&134217727)===0||ht===null||er(ht,Pe,Bn,!1)}function wd(t,n,a){var o=et;et|=2;var h=l_(),f=u_();(ht!==t||Pe!==n)&&(wc=null,eo(t,n)),n=!1;var g=Ct;e:do try{if(it!==0&&ke!==null){var E=ke,C=zn;switch(it){case 8:Ad(),g=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var z=it;if(it=0,zn=null,to(t,E,C,z),a&&Ja){g=0;break e}break;default:z=it,it=0,zn=null,to(t,E,C,z)}}hb(),g=Ct;break}catch(F){a_(t,F)}while(!0);return n&&t.shellSuspendCounter++,ns=Qr=null,et=o,G.H=h,G.A=f,ke===null&&(ht=null,Pe=0,Qu()),g}function hb(){for(;ke!==null;)c_(ke)}function fb(t,n){var a=et;et|=2;var o=l_(),h=u_();ht!==t||Pe!==n?(wc=null,Ac=wt()+500,eo(t,n)):Ja=de(t,n);e:do try{if(it!==0&&ke!==null){n=ke;var f=zn;t:switch(it){case 1:it=0,zn=null,to(t,n,f,1);break;case 2:case 9:if(Eg(f)){it=0,zn=null,h_(n);break}n=function(){it!==2&&it!==9||ht!==t||(it=7),Li(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Eg(f)?(it=0,zn=null,h_(n)):(it=0,zn=null,to(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?$_(g):E.stateNode.complete){it=0,zn=null;var C=E.sibling;if(C!==null)ke=C;else{var z=E.return;z!==null?(ke=z,Ic(z)):ke=null}break t}}it=0,zn=null,to(t,n,f,5);break;case 6:it=0,zn=null,to(t,n,f,6);break;case 8:Ad(),Ct=6;break e;default:throw Error(r(462))}}db();break}catch(F){a_(t,F)}while(!0);return ns=Qr=null,G.H=o,G.A=h,et=a,ke!==null?0:(ht=null,Pe=0,Qu(),Ct)}function db(){for(;ke!==null&&!re();)c_(ke)}function c_(t){var n=Vy(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?Ic(t):ke=n}function h_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Iy(a,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Iy(a,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:zf(n);default:Ly(a,n),n=ke=ug(n,fs),n=Vy(a,n,fs)}t.memoizedProps=t.pendingProps,n===null?Ic(t):ke=n}function to(t,n,a,o){ns=Qr=null,zf(n),Ga=null,cl=0;var h=n.return;try{if(tb(t,h,n,a,Pe)){Ct=1,pc(t,$n(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Ct=1,pc(t,$n(a,t.current)),ke=null;return}n.flags&32768?(Fe||o===1?t=!0:Ja||(Pe&536870912)!==0?t=!1:($s=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),f_(n,t)):Ic(n)}function Ic(t){var n=t;do{if((n.flags&32768)!==0){f_(n,$s);return}t=n.return;var a=sb(n.alternate,n,fs);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Ct===0&&(Ct=5)}function f_(t,n){do{var a=rb(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);Ct=6,ke=null}function d_(t,n,a,o,h,f,g,E,C){t.cancelPendingCommit=null;do xc();while(Qt!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=df,Ns(t,a,f,g,E,C),t===ht&&(ke=ht=null,Pe=0),Wa=n,Ws=t,ds=a,Td=f,bd=h,n_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yb(bn,function(){return __(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=se.p,se.p=2,g=et,et|=4;try{ab(t,n,a)}finally{et=g,se.p=h,G.T=o}}Qt=1,m_(),p_(),g_()}}function m_(){if(Qt===1){Qt=0;var t=Ws,n=Wa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=se.p;se.p=2;var h=et;et|=4;try{Yy(n,t);var f=Ud,g=eg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Wp(E.ownerDocument.documentElement,E)){if(C!==null&&lf(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ue=E.textContent.length,ve=Math.min(C.start,ue),ut=C.end===void 0?ve:Math.min(C.end,ue);!H.extend&&ve>ut&&(g=ut,ut=ve,ve=g);var U=Zp(E,ve),O=Zp(E,ut);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=X.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),ve>ut?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Bc=!!Ld,Ud=Ld=null}finally{et=h,se.p=o,G.T=a}}t.current=n,Qt=2}}function p_(){if(Qt===2){Qt=0;var t=Ws,n=Wa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=se.p;se.p=2;var h=et;et|=4;try{Hy(t,n.alternate,n)}finally{et=h,se.p=o,G.T=a}}Qt=3}}function g_(){if(Qt===4||Qt===3){Qt=0,Nt();var t=Ws,n=Wa,a=ds,o=n_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Wa=Ws=null,y_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),$i(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=se.p,se.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,se.p=h}}(ds&3)!==0&&xc(),Li(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Sd?Cl++:(Cl=0,Sd=t):Cl=0,Il(0)}}function y_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function xc(){return m_(),p_(),g_(),__()}function __(){if(Qt!==5)return!1;var t=Ws,n=Td;Td=0;var a=$i(ds),o=G.T,h=se.p;try{se.p=32>a?32:a,G.T=null,a=bd,bd=null;var f=Ws,g=ds;if(Qt=0,Wa=Ws=null,ds=0,(et&6)!==0)throw Error(r(331));var E=et;if(et|=4,Wy(f.current),$y(f,f.current,g,a),et=E,Il(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{se.p=h,G.T=o,y_(t,n)}}function v_(t,n,a){n=$n(a,n),n=td(t.stateNode,n,2),t=Ks(t,n,2),t!==null&&(dt(t,2),Li(t))}function st(t,n,a){if(t.tag===3)v_(t,t,a);else for(;n!==null;){if(n.tag===3){v_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zs===null||!Zs.has(o))){t=$n(a,t),a=Ey(2),o=Ks(n,a,2),o!==null&&(Ty(a,o,n,t),dt(o,2),Li(o));break}}n=n.return}}function Rd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ub;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(_d=!0,h.add(a),t=mb.bind(null,t,n,a),n.then(t,t))}function mb(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Pe&a)===a&&(Ct===4||Ct===3&&(Pe&62914560)===Pe&&300>wt()-Sc?(et&2)===0&&eo(t,0):vd|=a,Za===Pe&&(Za=0)),Li(t)}function E_(t,n){n===0&&(n=Kt()),t=Gr(t,n),t!==null&&(dt(t,n),Li(t))}function pb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),E_(t,a)}function gb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),E_(t,a)}function yb(t,n){return W(t,n)}var Nc=null,no=null,Cd=!1,Dc=!1,Id=!1,tr=0;function Li(t){t!==no&&t.next===null&&(no===null?Nc=no=t:no=no.next=t),Dc=!0,Cd||(Cd=!0,vb())}function Il(t,n){if(!Id&&Dc){Id=!0;do for(var a=!1,o=Nc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,A_(o,f))}else f=Pe,f=fe(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||de(o,f)||(a=!0,A_(o,f));o=o.next}while(a);Id=!1}}function _b(){T_()}function T_(){Dc=Cd=!1;var t=0;tr!==0&&xb()&&(t=tr);for(var n=wt(),a=null,o=Nc;o!==null;){var h=o.next,f=b_(o,n);f===0?(o.next=null,a===null?Nc=h:a.next=h,h===null&&(no=a)):(a=o,(t!==0||(f&3)!==0)&&(Dc=!0)),o=h}Qt!==0&&Qt!==5||Il(t),tr!==0&&(tr=0)}function b_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-bt(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Ue(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ht,a=Pe,a=fe(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&$t(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||de(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&$t(o),$i(a)){case 2:case 8:a=Nr;break;case 32:a=bn;break;case 268435456:a=ga;break;default:a=bn}return o=S_.bind(null,t),a=W(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&$t(o),t.callbackPriority=2,t.callbackNode=null,2}function S_(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var o=Pe;return o=fe(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(s_(t,o,n),b_(t,wt()),t.callbackNode!=null&&t.callbackNode===a?S_.bind(null,t):null)}function A_(t,n){if(xc())return null;s_(t,n,!0)}function vb(){Db(function(){(et&6)!==0?W(xr,_b):T_()})}function xd(){if(tr===0){var t=Ba;t===0&&(t=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),tr=t}return tr}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function R_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Eb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=w_((h[Jt]||null).action),g=o.submitter;g&&(n=(n=g[Jt]||null)?w_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(tr!==0){var C=g?R_(h,g):new FormData(h);Xf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?R_(h,g):new FormData(h),Xf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Nd=0;Nd<ff.length;Nd++){var Dd=ff[Nd],Tb=Dd.toLowerCase(),bb=Dd[0].toUpperCase()+Dd.slice(1);di(Tb,"on"+bb)}di(ig,"onAnimationEnd"),di(sg,"onAnimationIteration"),di(rg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(PT,"onTransitionRun"),di(jT,"onTransitionStart"),di(zT,"onTransitionCancel"),di(ag,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function C_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Ku(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Ku(F)}h.currentTarget=null,f=C}}}}function Le(t,n){var a=n[Ta];a===void 0&&(a=n[Ta]=new Set);var o=t+"__bubble";a.has(o)||(I_(n,t,2,!1),a.add(o))}function Od(t,n,a){var o=0;n&&(o|=4),I_(a,t,o,n)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[Oc]){t[Oc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(Sb.has(a)||Od(a,!1,t),Od(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Oc]||(n[Oc]=!0,Od("selectionchange",!1,n))}}function I_(t,n,a,o){switch(iv(n)){case 2:var h=Jb;break;case 8:h=Zb;break;default:h=Yd}a=h.bind(null,n,a,t),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Vd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=bi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Ls(function(){var z=f,F=Kn(a),X=[];e:{var B=og.get(t);if(B!==void 0){var H=xi,ue=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":H=Hu;break;case"focusin":ue="focus",H=zr;break;case"focusout":ue="blur",H=zr;break;case"beforeblur":case"afterblur":H=zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ig:case sg:case rg:H=Lu;break;case ag:H=T;break;case"scroll":case"scrollend":H=Wo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wi;break;case"toggle":case"beforetoggle":H=xe}var ve=(n&4)!==0,ut=!ve&&(t==="scroll"||t==="scrollend"),U=ve?B!==null?B+"Capture":null:B;ve=[];for(var O=z,j;O!==null;){var K=O;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||U===null||(K=ui(O,U),K!=null&&ve.push(Nl(O,K,j))),ut)break;O=O.return}0<ve.length&&(B=new H(B,ue,null,a,F),X.push({event:B,listeners:ve}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==$o&&(ue=a.relatedTarget||a.fromElement)&&(bi(ue)||ue[Ei]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=z,ue=ue?bi(ue):null,ue!==null&&(ut=c(ue),ve=ue.tag,ue!==ut||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(ve=el,K="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Wi,K="onPointerLeave",U="onPointerEnter",O="pointer"),ut=H==null?B:Vn(H),j=ue==null?B:Vn(ue),B=new ve(K,O+"leave",H,a,F),B.target=ut,B.relatedTarget=j,K=null,bi(F)===z&&(ve=new ve(U,O+"enter",ue,a,F),ve.target=j,ve.relatedTarget=ut,K=ve),ut=K,H&&ue)t:{for(ve=Ab,U=H,O=ue,j=0,K=U;K;K=ve(K))j++;K=0;for(var pe=O;pe;pe=ve(pe))K++;for(;0<j-K;)U=ve(U),j--;for(;0<K-j;)O=ve(O),K--;for(;j--;){if(U===O||O!==null&&U===O.alternate){ve=U;break t}U=ve(U),O=ve(O)}ve=null}else ve=null;H!==null&&x_(X,B,H,ve,!1),ue!==null&&ut!==null&&x_(X,ut,ue,ve,!0)}}e:{if(B=z?Vn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ye=Kp;else if(Gp(B))if(Qp)Ye=kT;else{Ye=MT;var he=OT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&wa(z.elementType)&&(Ye=Kp):Ye=VT;if(Ye&&(Ye=Ye(t,z))){Fp(X,Ye,a,F);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Qo(B,"number",B.value)}switch(he=z?Vn(z):window,t){case"focusin":(Gp(he)||he.contentEditable==="true")&&(Ma=he,uf=z,rl=null);break;case"focusout":rl=uf=Ma=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,tg(X,a,F);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":tg(X,a,F)}var De;if(We)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Oa?Br(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Oi&&a.locale!=="ko"&&(Oa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Oa&&(De=Zo()):(Ii=F,Jo="value"in Ii?Ii.value:Ii.textContent,Oa=!0)),he=Mc(z,je),0<he.length&&(je=new Di(je,t,null,a,F),X.push({event:je,listeners:he}),De?je.data=De:(De=Da(a),De!==null&&(je.data=De)))),(De=Yn?IT(t,a):xT(t,a))&&(je=Mc(z,"onBeforeInput"),0<je.length&&(he=new Di("onBeforeInput","beforeinput",null,a,F),X.push({event:he,listeners:je}),he.data=De)),Eb(X,t,z,a,F)}C_(X,n)})}function Nl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Mc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,a),h!=null&&o.unshift(Nl(t,h,f)),h=ui(t,n),h!=null&&o.push(Nl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Ab(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function x_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ui(a,f),z!=null&&g.unshift(Nl(a,z,C))):h||(z=ui(a,f),z!=null&&g.push(Nl(a,z,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var wb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(wb,`
`).replace(Rb,"")}function D_(t,n){return n=N_(n),N_(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||An(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&An(t,""+o);break;case"className":kn(t,"class",o);break;case"tabIndex":kn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,o);break;case"style":Xo(t,o,f);break;case"data":if(n!=="object"){kn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=li);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Sa(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,Sa(t,a,o))}}function kd(t,n,a,o,h,f){switch(a){case"style":Xo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?An(t,o):(typeof o=="number"||typeof o=="bigint")&&An(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Sa(t,a,o)}}}function on(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,g,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:lt(t,n,o,F,a,null)}}Nu(t,f,E,C,z,g,h,!1);return;case"select":Le("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:lt(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?Os(t,!!o,n,!1):a!=null&&Os(t,!!o,a,!0);return;case"textarea":Le("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:lt(t,n,g,E,a,null)}Ms(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,n,C,o,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<xl.length;o++)Le(xl[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,z,o,a,null)}return;default:if(wa(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&kd(t,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&lt(t,n,E,o,a,null))}function Cb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||lt(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&lt(t,n,B,H,o,X)}}Aa(t,g,E,C,z,F,f,h);return;case"select":H=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&lt(t,n,h,f,o,C)}n=E,a=g,o=H,B!=null?Os(t,!!a,B,!1):!!o!=!!a&&(n!=null?Os(t,!!a,n,!0):Os(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,g,h,o,f)}Du(t,B,H);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:lt(t,n,ue,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":lt(t,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)B=a[ve],a.hasOwnProperty(ve)&&B!=null&&!o.hasOwnProperty(ve)&&lt(t,n,ve,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,z,B,o,H)}return;default:if(wa(n)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&kd(t,n,ut,void 0,o,B);for(F in o)B=o[F],H=a[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||kd(t,n,F,B,o,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&lt(t,n,U,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||lt(t,n,X,B,o,H)}function O_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ib(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&O_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var F=C.transferSize,X=C.initiatorType;F&&O_(X)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ld=null,Ud=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jd=null;function xb(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(Ob)}:k_;function Ob(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function U_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ao(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Dl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Dl(t.ownerDocument.body);a=h}while(a);ao(n)}function P_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function zd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Mb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function Vb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ti(t.nextSibling),t===null))return null;return t}function j_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function Bd(t){return t.data==="$?"||t.data==="$~"}function qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Hd=null;function z_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ti(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function B_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function q_(t,n,a){switch(n=Vc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ba(t)}var ni=new Map,H_=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=se.d;se.d={f:Lb,r:Ub,D:Pb,C:jb,L:zb,m:Bb,X:Hb,S:qb,M:Gb};function Lb(){var t=ms.f(),n=Rc();return t||n}function Ub(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?ay(n):ms.r(t)}var io=typeof document>"u"?null:document;function G_(t,n,a){var o=io;if(o&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),on(n,"link",t),Ut(n),o.head.appendChild(n)))}}function Pb(t){ms.D(t),G_("dns-prefetch",t,null)}function jb(t,n){ms.C(t,n),G_("preconnect",t,n)}function zb(t,n,a){ms.L(t,n,a);var o=io;if(o&&t&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Sn(a.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var f=h;switch(n){case"style":f=so(t);break;case"script":f=ro(t)}ni.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ni.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ol(f))||n==="script"&&o.querySelector(Ml(f))||(n=o.createElement("link"),on(n,"link",t),Ut(n),o.head.appendChild(n)))}}function Bb(t,n){ms.m(t,n);var a=io;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ro(t)}if(!ni.has(f)&&(t=w({rel:"modulepreload",href:t},n),ni.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}o=a.createElement("link"),on(o,"link",t),Ut(o),a.head.appendChild(o)}}}function qb(t,n,a){ms.S(t,n,a);var o=io;if(o&&t){var h=Si(o).hoistableStyles,f=so(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Ol(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ni.get(f))&&Gd(t,a);var C=g=o.createElement("link");Ut(C),on(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Hb(t,n){ms.X(t,n);var a=io;if(a&&t){var o=Si(a).hoistableScripts,h=ro(t),f=o.get(h);f||(f=a.querySelector(Ml(h)),f||(t=w({src:t,async:!0},n),(n=ni.get(h))&&Fd(t,n),f=a.createElement("script"),Ut(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Gb(t,n){ms.M(t,n);var a=io;if(a&&t){var o=Si(a).hoistableScripts,h=ro(t),f=o.get(h);f||(f=a.querySelector(Ml(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&Fd(t,n),f=a.createElement("script"),Ut(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function F_(t,n,a,o){var h=(h=Ie.current)?kc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=so(a.href),a=Si(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var f=Si(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ol(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(t,a),f||Fb(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ro(a),a=Si(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function so(t){return'href="'+Sn(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function K_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Fb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),on(n,"link",a),Ut(n),t.head.appendChild(n))}function ro(t){return'[src="'+Sn(t)+'"]'}function Ml(t){return"script[async]"+t}function Q_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(o)return n.instance=o,Ut(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ut(o),on(o,"style",h),Lc(o,a.precedence,t),n.instance=o;case"stylesheet":h=so(a.href);var f=t.querySelector(Ol(h));if(f)return n.state.loading|=4,n.instance=f,Ut(f),f;o=K_(a),(h=ni.get(h))&&Gd(o,h),f=(t.ownerDocument||t).createElement("link"),Ut(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),on(f,"link",o),n.state.loading|=4,Lc(f,a.precedence,t),n.instance=f;case"script":return f=ro(a.src),(h=t.querySelector(Ml(f)))?(n.instance=h,Ut(h),h):(o=a,(h=ni.get(f))&&(o=w({},a),Fd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ut(h),on(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Lc(o,a.precedence,t));return n.instance}function Lc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Fd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uc=null;function Y_(t,n,a){if(Uc===null){var o=new Map,h=Uc=new Map;h.set(a,o)}else h=Uc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ti]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function X_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Kb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Qb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=so(o.href),f=n.querySelector(Ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Pc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ut(f);return}f=n.ownerDocument||n,o=K_(o),(h=ni.get(h))&&Gd(o,h),f=f.createElement("link"),Ut(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),on(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Pc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Kd=0;function Yb(t,n){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Kd===0&&(Kd=62500*Ib());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Kd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function zc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,n.forEach(Xb,t),jc=null,Pc.call(t))}function Xb(t,n){if(!(n.state.loading&4)){var a=jc.get(t);if(a)var o=a.get(null);else{a=new Map,jc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:Se,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function $b(t,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ge(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.hiddenUpdates=Ge(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function J_(t,n,a,o,h,f,g,E,C,z,F,X){return t=new $b(t,n,a,g,C,z,F,X,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=wf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},xf(f),t}function Z_(t){return t?(t=La,t):La}function W_(t,n,a,o,h,f){h=Z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Fs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ks(t,o,n),a!==null&&(xn(a,t,n),fl(a,t,n))}function ev(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Qd(t,n){ev(t,n),(t=t.alternate)&&ev(t,n)}function tv(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&xn(n,t,67108864),Qd(t,67108864)}}function nv(t){if(t.tag===13||t.tag===31){var n=qn();n=Or(n);var a=Gr(t,n);a!==null&&xn(a,t,n),Qd(t,n)}}var Bc=!0;function Jb(t,n,a,o){var h=G.T;G.T=null;var f=se.p;try{se.p=2,Yd(t,n,a,o)}finally{se.p=f,G.T=h}}function Zb(t,n,a,o){var h=G.T;G.T=null;var f=se.p;try{se.p=8,Yd(t,n,a,o)}finally{se.p=f,G.T=h}}function Yd(t,n,a,o){if(Bc){var h=Xd(o);if(h===null)Vd(t,n,o,qc,a),sv(t,o);else if(eS(h,t,n,a,o))o.stopPropagation();else if(sv(t,o),n&4&&-1<Wb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ie(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-bt(g);E.entanglements[1]|=C,g&=~C}Li(f),(et&6)===0&&(Ac=wt()+500,Il(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&xn(E,f,2),Rc(),Qd(f,2)}if(f=Xd(o),f===null&&Vd(t,n,o,qc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Vd(t,n,o,null,a)}}function Xd(t){return t=Kn(t),$d(t)}var qc=null;function $d(t){if(qc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qc=t,null}function iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case xr:return 2;case Nr:return 8;case bn:case Po:return 32;case ga:return 268435456;default:return 32}default:return 32}}var Jd=!1,ir=null,sr=null,rr=null,kl=new Map,Ll=new Map,ar=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function Ul(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&tv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function eS(t,n,a,o,h){switch(n){case"focusin":return ir=Ul(ir,t,n,a,o,h),!0;case"dragenter":return sr=Ul(sr,t,n,a,o,h),!0;case"mouseover":return rr=Ul(rr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,Ul(kl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ll.set(f,Ul(Ll.get(f)||null,t,n,a,o,h)),!0}return!1}function rv(t){var n=bi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ai(t.priority,function(){nv(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,ai(t.priority,function(){nv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);$o=o,a.target.dispatchEvent(o),$o=null}else return n=Fn(a),n!==null&&tv(n),t.blockedOn=a,!1;n.shift()}return!0}function av(t,n,a){Hc(t)&&a.delete(n)}function tS(){Jd=!1,ir!==null&&Hc(ir)&&(ir=null),sr!==null&&Hc(sr)&&(sr=null),rr!==null&&Hc(rr)&&(rr=null),kl.forEach(av),Ll.forEach(av)}function Gc(t,n){t.blockedOn===n&&(t.blockedOn=null,Jd||(Jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tS)))}var Fc=null;function ov(t){Fc!==t&&(Fc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if($d(o||a)===null)continue;break}var f=Fn(a);f!==null&&(t.splice(n,3),n-=3,Xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ao(t){function n(C){return Gc(C,t)}ir!==null&&Gc(ir,t),sr!==null&&Gc(sr,t),rr!==null&&Gc(rr,t),kl.forEach(n),Ll.forEach(n);for(var a=0;a<ar.length;a++){var o=ar[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ar.length&&(a=ar[0],a.blockedOn===null);)rv(a),a.blockedOn===null&&ar.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Jt]||null;if(typeof f=="function")g||ov(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Jt]||null)E=g.formAction;else if($d(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),ov(a)}}}function lv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Zd(t){this._internalRoot=t}Kc.prototype.render=Zd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=qn();W_(a,o,t,n,null,null)},Kc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;W_(t.current,2,null,t,null,null),Rc(),n[Ei]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ru();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ar.length&&n!==0&&n<ar[a].priority;a++);ar.splice(a,0,t),a===0&&rv(t)}};var uv=e.version;if(uv!=="19.2.4")throw Error(r(527,uv,"19.2.4"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Mn=Qc.inject(nS),Ft=Qc}catch{}}return jl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=gy,f=yy,g=_y;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=J_(t,1,!1,null,null,a,o,null,h,f,g,lv),t[Ei]=n.current,Md(t),new Zd(n)},jl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=gy,g=yy,E=_y,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=J_(t,1,!0,n,a??null,o,h,C,f,g,E,lv),n.context=Z_(null),a=n.current,o=qn(),o=Or(o),h=Fs(o),h.callback=null,Ks(a,h,o),a=o,n.current.lanes=a,dt(n,a),Li(n),t[Ei]=n.current,Md(t),new Kc(n)},jl.version="19.2.4",jl}var vv;function fS(){if(vv)return tm.exports;vv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),tm.exports=hS(),tm.exports}var dS=fS();const mS=()=>{};var Ev={};const iE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},pS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(M=64)),r.push(i[b],i[w],i[M],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(iE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):pS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new gS;const M=c<<2|p>>4;if(r.push(M),y!==64){const Q=p<<4&240|y>>2;if(r.push(Q),w!==64){const Z=y<<6&192|w;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(s){const e=iE(s);return sE.encodeByteArray(e,!0)},gh=function(s){return yS(s).replace(/\./g,"")},rE=function(s){try{return sE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vS=()=>_S().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof Ev>"u")return;const s=Ev.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},TS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&rE(s[1]);return e&&JSON.parse(e)},kh=()=>{try{return mS()||vS()||ES()||TS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},aE=s=>kh()?.emulatorHosts?.[s],bS=s=>{const e=aE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},oE=()=>kh()?.config,lE=s=>kh()?.[`_${s}`];class SS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function xo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uE(s){return(await fetch(s,{credentials:"include"})).ok}function AS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[gh(JSON.stringify(i)),gh(JSON.stringify(d)),""].join(".")}const $l={};function wS(){const s={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?s.emulator.push(e):s.prod.push(e);return s}function RS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Tv=!1;function cE(s,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||$l[s]===e||$l[s]||Tv)return;$l[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=wS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Tv=!0,d()},M}function b(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=RS(r),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),ae=i("learnmore"),te=document.getElementById(ae)||document.createElement("a"),ye=i("preprendIcon"),Ae=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Se=M.element;p(Se),b(te,ae);const Je=y();_(Ae,ye),Se.append(Ae,Z,te,Je),document.body.appendChild(Se)}c?(Z.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function IS(){const s=kh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const s=gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function MS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const LS="FirebaseError";class ws extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=LS,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?US(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ws(l,p,r)}}function US(s,e){return s.replace(PS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const PS=/\{\$([^}]+)}/g;function jS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Es(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(bv(c)&&bv(d)){if(!Es(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function bv(s){return s!==null&&typeof s=="object"}function du(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Fl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function zS(s,e){const i=new BS(s,e);return i.subscribe.bind(i)}class BS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=rm),l.error===void 0&&(l.error=rm),l.complete===void 0&&(l.complete=rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function rm(){}function It(s){return s&&s._delegate?s._delegate:s}class oa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class HS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new SS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FS(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(s){return s===ia?void 0:s}function FS(s){return s.instantiationMode==="EAGER"}class KS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const QS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},YS=Be.INFO,XS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},$S=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=XS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const JS=(s,e)=>e.some(i=>s instanceof i);let Sv,Av;function ZS(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,bm=new WeakMap,fE=new WeakMap,am=new WeakMap,$m=new WeakMap;function eA(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(mr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&hE.set(i,s)}).catch(()=>{}),$m.set(e,s),e}function tA(s){if(bm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});bm.set(s,e)}let Sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return bm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||fE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function nA(s){Sm=s(Sm)}function iA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(om(this),e,...i);return fE.set(r,e.sort?e.sort():[e]),mr(r)}:WS().includes(s)?function(...e){return s.apply(om(this),e),mr(hE.get(this))}:function(...e){return mr(s.apply(om(this),e))}}function sA(s){return typeof s=="function"?iA(s):(s instanceof IDBTransaction&&tA(s),JS(s,ZS())?new Proxy(s,Sm):s)}function mr(s){if(s instanceof IDBRequest)return eA(s);if(am.has(s))return am.get(s);const e=sA(s);return e!==s&&(am.set(s,e),$m.set(e,s)),e}const om=s=>$m.get(s);function rA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=mr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(mr(d.result),_.oldVersion,_.newVersion,mr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const aA=["get","getKey","getAll","getAllKeys","count"],oA=["put","add","delete","clear"],lm=new Map;function wv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=oA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||aA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return lm.set(e,c),c}nA(s=>({...s,get:(e,i,r)=>wv(e,i)||s.get(e,i,r),has:(e,i)=>!!wv(e,i)||s.has(e,i)}));class lA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uA(s){return s.getComponent()?.type==="VERSION"}const Am="@firebase/app",Rv="0.14.8";const Ts=new Xm("@firebase/app"),cA="@firebase/app-compat",hA="@firebase/analytics-compat",fA="@firebase/analytics",dA="@firebase/app-check-compat",mA="@firebase/app-check",pA="@firebase/auth",gA="@firebase/auth-compat",yA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",bA="@firebase/installations",SA="@firebase/installations-compat",AA="@firebase/messaging",wA="@firebase/messaging-compat",RA="@firebase/performance",CA="@firebase/performance-compat",IA="@firebase/remote-config",xA="@firebase/remote-config-compat",NA="@firebase/storage",DA="@firebase/storage-compat",OA="@firebase/firestore",MA="@firebase/ai",VA="@firebase/firestore-compat",kA="firebase",LA="12.9.0";const wm="[DEFAULT]",UA={[Am]:"fire-core",[cA]:"fire-core-compat",[fA]:"fire-analytics",[hA]:"fire-analytics-compat",[mA]:"fire-app-check",[dA]:"fire-app-check-compat",[pA]:"fire-auth",[gA]:"fire-auth-compat",[yA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[bA]:"fire-iid",[SA]:"fire-iid-compat",[AA]:"fire-fcm",[wA]:"fire-fcm-compat",[RA]:"fire-perf",[CA]:"fire-perf-compat",[IA]:"fire-rc",[xA]:"fire-rc-compat",[NA]:"fire-gcs",[DA]:"fire-gcs-compat",[OA]:"fire-fst",[VA]:"fire-fst-compat",[MA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};const nu=new Map,PA=new Map,Rm=new Map;function Cv(s,e){try{s.container.addComponent(e)}catch(i){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function To(s){const e=s.name;if(Rm.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,s);for(const i of nu.values())Cv(i,s);for(const i of PA.values())Cv(i,s);return!0}function Jm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new fu("app","Firebase",jA);class zA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const No=LA;function dE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:wm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw pr.create("bad-app-name",{appName:String(l)});if(i||(i=oE()),!i)throw pr.create("no-options");const c=nu.get(l);if(c){if(Es(i,c.options)&&Es(r,c.config))return c;throw pr.create("duplicate-app",{appName:l})}const d=new KS(l);for(const _ of Rm.values())d.addComponent(_);const p=new zA(i,r,d);return nu.set(l,p),p}function Zm(s=wm){const e=nu.get(s);if(!e&&s===wm&&oE())return dE();if(!e)throw pr.create("no-app",{appName:s});return e}function BA(){return Array.from(nu.values())}function gr(s,e,i){let r=UA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}To(new oa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const qA="firebase-heartbeat-database",HA=1,iu="firebase-heartbeat-store";let um=null;function mE(){return um||(um=rA(qA,HA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(iu)}catch(i){console.warn(i)}}}}).catch(s=>{throw pr.create("idb-open",{originalErrorMessage:s.message})})),um}async function GA(s){try{const i=(await mE()).transaction(iu),r=await i.objectStore(iu).get(pE(s));return await i.done,r}catch(e){if(e instanceof ws)Ts.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(i.message)}}}async function Iv(s,e){try{const r=(await mE()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,pE(s)),await r.done}catch(i){if(i instanceof ws)Ts.warn(i.message);else{const r=pr.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(r.message)}}}function pE(s){return`${s.name}!${s.options.appId}`}const FA=1024,KA=30;class QA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>KA){const l=$A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xv(),{heartbeatsToSend:i,unsentEntries:r}=YA(this._heartbeatsCache.heartbeats),l=gh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ts.warn(e),""}}}function xv(){return new Date().toISOString().substring(0,10)}function YA(s,e=FA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Nv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Nv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class XA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await GA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nv(s){return gh(JSON.stringify({version:2,heartbeats:s})).length}function $A(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function JA(s){To(new oa("platform-logger",e=>new lA(e),"PRIVATE")),To(new oa("heartbeat",e=>new QA(e),"PRIVATE")),gr(Am,Rv,s),gr(Am,Rv,"esm2020"),gr("fire-js","")}JA("");var ZA="firebase",WA="12.9.0";gr(ZA,WA,"app");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yr,gE;(function(){var s;function e(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(k,N,L){for(var R=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)R[mt-2]=arguments[mt];return A.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const k=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)k[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)k[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],N=x.g[2];let L=x.g[3],R;R=A+(L^I&(N^L))+k[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+k[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+k[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+k[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+k[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+k[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+k[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+k[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+k[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+k[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+k[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+k[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+k[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+k[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+k[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+k[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(N^L&(I^N))+k[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+k[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+k[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+k[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+k[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+k[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+k[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+k[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+k[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+k[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+k[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+k[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+k[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+k[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+k[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+k[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(I^N^L)+k[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+k[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+k[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+k[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+k[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+k[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+k[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+k[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+k[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+k[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+k[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+k[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+k[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+k[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+k[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+k[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(N^(I|~L))+k[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+k[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+k[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+k[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+k[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+k[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+k[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+k[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+k[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+k[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+k[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+k[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+k[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+k[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+k[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,k=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=I;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(k[N++]=x.charCodeAt(L++),N==this.blockSize){l(this,k),N=0;break}}else for(;L<A;)if(k[N++]=x[L++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)x[A++]=this.g[I]>>>k&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let k=!0;for(let N=x.length-1;N>=0;N--){const L=x[N]|0;k&&L==A||(I[N]=L,k=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return te(y(-x));const A=[];let I=1;for(let k=0;x>=I;k++)A[k]=x/I|0,I*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return te(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let k=w;for(let L=0;L<x.length;L+=8){var N=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+N),A);N<8?(N=y(Math.pow(A,N)),k=k.j(N).add(y(R))):(k=k.j(I),k=k.add(y(R)))}return k}var w=_(0),M=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(ae(this))return-te(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);x+=(k>=0?k:4294967296+k)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(ae(this))return"-"+te(this).toString(x);const A=y(Math.pow(x,6));var I=this;let k="";for(;;){const N=Je(I,A).g;I=ye(I,N.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,Z(I))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function ae(x){return x.h==-1}s.l=function(x){return x=ye(this,x),ae(x)?-1:Z(x)?0:1};function te(x){const A=x.g.length,I=[];for(let k=0;k<A;k++)I[k]=~x.g[k];return new d(I,~x.h).add(M)}s.abs=function(){return ae(this)?te(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let k=0;for(let N=0;N<=A;N++){let L=k+(this.i(N)&65535)+(x.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);k=R>>>16,L&=65535,R&=65535,I[N]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ye(x,A){return x.add(te(A))}s.j=function(x){if(Z(this)||Z(x))return w;if(ae(this))return ae(x)?te(this).j(te(x)):te(te(this).j(x));if(ae(x))return te(this.j(te(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var k=0;k<2*A;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<x.g.length;N++){const L=this.i(k)>>>16,R=this.i(k)&65535,mt=x.i(N)>>>16,At=x.i(N)&65535;I[2*k+2*N]+=R*At,Ae(I,2*k+2*N),I[2*k+2*N+1]+=L*At,Ae(I,2*k+2*N+1),I[2*k+2*N+1]+=R*mt,Ae(I,2*k+2*N+1),I[2*k+2*N+2]+=L*mt,Ae(I,2*k+2*N+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function Ae(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function Se(x,A){this.g=x,this.h=A}function Je(x,A){if(Z(A))throw Error("division by zero");if(Z(x))return new Se(w,w);if(ae(x))return A=Je(te(x),A),new Se(te(A.g),te(A.h));if(ae(A))return A=Je(x,te(A)),new Se(te(A.g),A.h);if(x.g.length>30){if(ae(x)||ae(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,k=A;k.l(x)<=0;)I=ft(I),k=ft(k);var N=Ke(I,1),L=Ke(k,1);for(k=Ke(k,2),I=Ke(I,2);!Z(k);){var R=L.add(k);R.l(x)<=0&&(N=N.add(I),L=R),k=Ke(k,1),I=Ke(I,1)}return A=ye(x,N.j(A)),new Se(N,A)}for(N=w;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=y(I),R=L.j(A);ae(R)||R.l(x)>0;)I-=k,L=y(I),R=L.j(A);Z(L)&&(L=M),N=N.add(L),x=ye(x,R)}return new Se(N,x)}s.B=function(x){return Je(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)&x.i(k);return new d(I,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)|x.i(k);return new d(I,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)^x.i(k);return new d(I,this.h^x.h)};function ft(x){const A=x.g.length+1,I=[];for(let k=0;k<A;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new d(I,x.h)}function Ke(x,A){const I=A>>5;A%=32;const k=x.g.length-I,N=[];for(let L=0;L<k;L++)N[L]=A>0?x.i(L+I)>>>A|x.i(L+I+1)<<32-A:x.i(L+I);return new d(N,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,yr=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,Kl,_E,rh,Cm,vE,EE,TE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break e;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var ee=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ee[xe-2]=arguments[xe];return m.prototype[P].apply(T,ee)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=P[ee]}else u.push(P)}}class ae{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const T=Se.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Se=new ae(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,Ke=!1,x=new Ae,A=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(I)}};function I(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){te(v)}var m=Se;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ke=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function mt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(mt,N),mt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var At="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ze(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=Ie(u,m,T,P);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new se(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ie(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),xt={};function ct(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ct(u,m[q],v,T,P);return null}return v=tn(v),u&&u[At]?u.J(m,v,p(T)?!!T.capture:!1,P):ri(u,m,v,!1,T,P)}function ri(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const ee=p(P)?!!P.capture:!!P;let xe=vi(u);if(xe||(u[Me]=xe=new oe(u)),v=xe.add(m,v,T,ee,q),v.proxy)return v;if(T=Ki(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=ee),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Tn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ki(){function u(v){return m.call(u.src,u.listener,v)}const m=Ir;return u}function Cr(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Cr(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=tn(v),u&&u[At]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ie(m,v,T,P),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=vi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,v,T,P)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[At])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Tn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=vi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Me]=null)):me(u)}}}function Tn(u){return u in xt?xt[u]:xt[u]="on"+u}function Ir(u,m){if(u.da)u=!0;else{m=new mt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qi(u),u=v.call(T,m)}return u}function vi(u){return u=u[Me],u instanceof oe?u:null}var Is="__closure_events_fn_"+(Math.random()*1e9>>>0);function tn(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(m){return u.handleEvent(m)}),u[Is])}function vt(){k.call(this),this.i=new oe(this),this.M=this,this.G=null}w(vt,k),vt.prototype[At]=!0,vt.prototype.removeEventListener=function(u,m,v,T){Cr(this,u,m,v,T)};function W(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),ne(m,P)}P=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],P=$t(q,T,!0,m)&&P;if(q=m.g=u,P=$t(q,T,!0,m)&&P,P=$t(q,T,!1,m)&&P,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],P=$t(q,T,!1,m)&&P}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)me(v[T]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},vt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function $t(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const xe=ee.listener,Dt=ee.ha||ee.src;ee.fa&&Ee(u.i,ee),P=xe.call(Dt,T)!==!1&&P}}return P&&!T.defaultPrevented}function re(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Nt(u){u.g=re(()=>{u.g=null,u.i&&(u.i=!1,Nt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class wt extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){k.call(this),this.h=u,this.g={}}w(Yi,k);var xr=[];function Nr(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),Nr(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=d.JSON.stringify,Po=d.JSON.parse,ga=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ya(){}function _a(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){N.call(this,"d")}w(Ft,N);function hn(){N.call(this,"c")}w(hn,N);var bt={},va=null;function xs(){return va=va||new vt}bt.Ia="serverreachability";function Ea(u){N.call(this,bt.Ia,u)}w(Ea,N);function Gn(u){const m=xs();W(m,new Ea(m))}bt.STAT_EVENT="statevent";function Xi(u,m){N.call(this,bt.STAT_EVENT,u),this.stat=m}w(Xi,N);function D(u){const m=xs();W(m,new Xi(m,u))}bt.Ja="timingevent";function ie(u,m){N.call(this,bt.Ja,u),this.size=m}w(ie,N);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function de(){this.g=!0}de.prototype.ua=function(){this.g=!1};function Ue(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var ee="",xe=q.split("&");for(let We=0;We<xe.length;We++){var Dt=xe[We].split("=");if(Dt.length>1){const Et=Dt[0];Dt=Dt[1];const Yn=Et.split("_");ee=Yn.length>=2&&Yn[1]=="type"?ee+(Et+"="+Dt+"&"):ee+(Et+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+ee})}function Kt(u,m,v,T,P,q,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+ee})}function Ge(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ns(u,v)+(T?" "+T:"")})}function dt(u,m){u.info(function(){return"TIMEOUT: "+m})}de.prototype.info=function(){};function Ns(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return bn(q)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zo;function Or(){}w(Or,ya),Or.prototype.g=function(){return new XMLHttpRequest},zo=new Or;function $i(u){return encodeURIComponent(String(u))}function Ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Lt={},Jt={};function Ei(u,m,v){u.M=1,u.A=Mr(Pt(m)),u.u=v,u.R=!0,Ta(u,null)}function Ta(u,m){u.F=Date.now(),Ti(u),u.B=Pt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),wa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new oi,u.g=Bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new wt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(xr[0]=P.toString()),P=xr);for(let q=0;q<P.length;q++){const ee=ct(v,P[q],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Gn(),Ue(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ci(this.g),Dt=this.g.ya(),We=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||xe!=4||Dt==7||(Dt==8||We<=0?Gn(3):Gn(2)),bi(this);var m=this.g.ca();this.X=m;var v=rf(this);if(this.o=m==200,Kt(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)Ge(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,D(12),Vn(this),Fn(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=Iu(this,v),Et==Jt){xe==4&&(this.m=4,D(14),u=!1),Ge(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Lt){this.m=4,D(15),Ge(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ge(this.i,this.l,Et,null),Si(this,Et);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,D(16),u=!1),this.o=this.o&&u,!u)Ge(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(ee),ee.P=!0,D(11))}}else Ge(this.i,this.l,v,null),Si(this,v);xe==4&&Vn(this),this.o&&!this.K&&(xe==4?Uu(this.j,this):(this.o=!1,Ti(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,D(12)):(this.m=0,D(13)),Vn(this),Fn(this)}}}catch{}};function rf(u){if(!Cu(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let v="";const T=m.length,P=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Iu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Jt:(v=Number(m.substring(v,T)),isNaN(v)?Lt:(T+=1,T+v>m.length?Jt:(m=m.slice(T,T+v),u.C=T+v,m)))}ai.prototype.cancel=function(){this.K=!0,Vn(this)};function Ti(u){u.T=Date.now()+u.H,ba(u,u.H)}function ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fe(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dt(this.i,this.B),this.M!=2&&(Gn(),D(17)),Vn(this),this.m=2,Fn(this)):ba(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Uu(u.j,u)}function Vn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Nr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Na(v),Ps(v);else break e;zr(v),D(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fe(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&Na(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let We=P[m];const Et=We[0];if(!(Et<=v.K))if(v.K=Et,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Yn=We[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Oi=We[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const hi=We[5];hi!=null&&typeof hi=="number"&&hi>0&&(T=1.5*hi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const fi=u.g;if(fi){const Br=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var q=T.h;q.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ho(q,q.h),q.h=null))}if(T.G){const Da=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(T.wa=Da,nt(T.J,T.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=u;if(T.na=zu(T,T.L?T.ba:null,T.W),ee.L){Go(T.h,ee);var xe=ee,Dt=T.O;Dt&&(xe.H=Dt),xe.D&&(bi(xe),Ti(xe)),T.g=ee}else ku(T);v.i.length>0&&Ni(v)}else We[0]!="stop"&&We[0]!="close"||Di(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Di(v,7):Wo(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Gn(4)}catch{}}var Ut=class{constructor(u,m){this.g=u,this.map=m}};function Bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ho(u,m){u.g?u.g.add(m):u.h=m}function Go(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,Ds(this,u.u),this.h=u.h,Ko(this,Mu(u.i)),this.m=u.m):u&&(m=String(u).match(xu))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Ds(this,m[4]),this.h=Ri(m[5]||"",!0),Ko(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,Aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,Aa,!0),"@"),u.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?Qo:Nu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,Du)),u.join("")},kn.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?Zt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ds(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ee=0;ee<P.length;){const xe=P[ee++];xe=="."?T&&ee==P.length&&q.push(""):xe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ee==P.length&&q.push("")):(q.push(xe),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Ko(m,Mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new kn(u)}function Zt(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ko(u,m,v){m instanceof Ms?(u.i=m,Ra(u.i,u.l)):(v||(m=Vr(m,Os)),u.i=new Ms(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function Mr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,Nu=/[#\?:]/g,Qo=/[#\?]/g,Os=/[#\?@]/g,Du=/#/g;function Ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ms.prototype,s.add=function(u,m){An(this),this.i=null,u=Vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ou(u,m){An(u),m=Vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Yo(u,m){return An(u),m=Vs(u,m),u.g.has(m)}s.forEach=function(u,m){An(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Xo(u,m){An(u);let v=[];if(typeof m=="string")Yo(u,m)&&(v=v.concat(u.g.get(Vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return An(this),this.i=null,u=Vs(this,u),Yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Xo(this,u),u.length>0?String(u[0]):m):m};function wa(u,m,v){Ou(u,m),v.length>0&&(u.i=null,u.g.set(Vs(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=$i(v);v=Xo(this,v);for(let q=0;q<v.length;q++){let ee=P;v[q]!==""&&(ee+="="+$i(v[q])),u.push(ee)}}return this.i=u.join("&")};function Mu(u){const m=new Ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ra(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Ou(this,T),wa(this,P,v))},u)),u.j=m}function li(u,m){const v=new de;if(d.Image){const T=new Image;T.onload=b(Kn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Kn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Kn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Kn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function $o(u,m){const v=new de,T=new AbortController,P=setTimeout(()=>{T.abort(),Kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Kn(v,"TestPingServer: ok",!0,m):Kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Kn(v,"TestPingServer: error",!1,m)})}function Kn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ks(){this.g=new ga}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ci,ya),Ci.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(kr,vt),s=kr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ls(this):ui(this),this.readyState==3&&Ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ls(this))},s.Na=function(u){this.g&&(this.response=u,Ls(this))},s.ga=function(){this.g&&Ls(this)};function Ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Ve(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Lr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Qn(v),typeof u=="string"?v!=null&&$i(v):nt(u,m,v))}function at(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(at,vt);var Ii=/^https?$/i,Jo=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ur(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Jo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ur(this,q)}};function Ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zo(u),Ji(u)}function Zo(u){u.A||(u.A=!0,W(u,"complete"),W(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,W(this,"complete"),W(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(W(u,"readystatechange"),ci(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let ee=String(u.D).match(xu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!Ii.test(ee?ee.toLowerCase():"")}v=T}if(v)W(u,"complete"),W(u,"success");else{u.o=6;try{var P=ci(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Zo(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||W(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Po(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Ru(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ze(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Us(u){this.za=0,this.i=[],this.j=new de,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Us.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){D(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=zu(this,null,this.W),Ni(this)};function Wo(u){if(Ia(u),u.I==3){var m=u.V++,v=Pt(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),jr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Mr(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}ju(u)}function Ps(u){u.g&&(tl(u),u.g.cancel(),u.g=null)}function Ia(u){Ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!qo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ft||A(),Ke||(ft(),Ke=!0),x.add(m,u),u.D=0}}function xa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fe(y(u.Ea,u,m),Pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ai(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Vu(this,P,m),v=Pt(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),jr(this,v),q&&(this.R?m="headers="+$i(Qn(q))+"&"+m:this.u&&Lr(v,this.u,q)),Ho(this.h,P),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),P.U=!0,Ei(P,v,null)):Ei(P,v,m),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||qo(this.h)||el(this))};function el(u,m){var v;m?v=m.l:v=u.V++;const T=Pt(u.J);nt(T,"SID",u.M),nt(T,"RID",v),nt(T,"AID",u.K),jr(u,T),u.u&&u.o&&Lr(T,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ho(u.h,v),Ei(v,T,m)}function jr(u,m){u.H&&Ve(u.H,function(v,T){nt(m,T,v)}),u.l&&Ve({},function(v,T){nt(m,T,v)})}function Vu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let xe=-1;for(;;){const Dt=["count="+v];xe==-1?v>0?(xe=P[0].g,Dt.push("ofs="+xe)):xe=0:Dt.push("ofs="+xe);let We=!0;for(let Et=0;Et<v;Et++){var q=P[Et].g;const Yn=P[Et].map;if(q-=xe,q<0)xe=Math.max(0,P[Et].g-100),We=!1;else try{q="req"+q+"_"||"";try{var ee=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Oi,hi]of ee){let fi=hi;p(hi)&&(fi=bn(hi)),Dt.push(q+Oi+"="+encodeURIComponent(fi))}}catch(Oi){throw Dt.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{T&&T(Yn)}}if(We){ee=Dt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function ku(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ft||A(),Ke||(ft(),Ke=!0),x.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fe(y(u.Da,u),Pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fe(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,D(10),Ps(this),Lu(this))};function tl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Lu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(Pt(m)),v.u=null,v.R=!0,Ta(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ps(this),zr(this),D(19))};function Na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Uu(u,m){var v=null;if(u.g==m){Na(u),tl(u),u.g=null;var T=2}else if(wi(u.h,m))v=m.G,Go(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=xs(),W(T,new ie(T,v)),Ni(u)}else ku(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&xa(u,m)||T==2&&zr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),Mr(T),P?li(T.toString(),v):$o(T.toString(),v)}else D(2);u.I=0,u.l&&u.l.pa(m),ju(u),Ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),D(2)):(this.j.info("Failed to ping google.com"),D(1))};function ju(u){if(u.I=0,u.ja=[],u.l){const m=Fo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function zu(u,m,v){var T=v instanceof kn?Pt(v):new kn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ds(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new kn(null);T&&Zt(q,T),m&&(q.g=m),P&&Ds(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&nt(T,v,m),nt(T,"VER",u.ka),jr(u,T),T}function Bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new at(new Ci({ab:v})):new at(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}s=qu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function js(){}js.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){vt.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}w(yn,vt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Wo(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=bn(u),u=v);m.i.push(new Ut(m.Ya++,u)),m.I==3&&Ni(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,yn.Z.N.call(this)};function Hu(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Hu,Ft);function Gu(){hn.call(this),this.status=1}w(Gu,hn);function Wi(u){this.g=u}w(Wi,qu),Wi.prototype.ra=function(){W(this.g,"a")},Wi.prototype.qa=function(u){W(this.g,new Hu(u))},Wi.prototype.pa=function(u){W(this.g,new Gu)},Wi.prototype.oa=function(){W(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,TE=function(){return new js},EE=function(){return xs()},vE=bt,Cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,rh=Dr,jo.COMPLETE="complete",_E=jo,_a.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Kl=_a,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,yE=at}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Do="12.9.0";function ew(s){Do=s}const la=new Xm("@firebase/firestore");function co(){return la.logLevel}function le(s,...e){if(la.logLevel<=Be.DEBUG){const i=e.map(Wm);la.debug(`Firestore (${Do}): ${s}`,...i)}}function bs(s,...e){if(la.logLevel<=Be.ERROR){const i=e.map(Wm);la.error(`Firestore (${Do}): ${s}`,...i)}}function ua(s,...e){if(la.logLevel<=Be.WARN){const i=e.map(Wm);la.warn(`Firestore (${Do}): ${s}`,...i)}}function Wm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,bE(s,r,i)}function bE(s,e,i){let r=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw bs(r),new Error(r)}function tt(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||bE(e,l,r)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class SE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iw{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _s,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _s)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new SE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class sw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new sw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ow(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ow(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function Im(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return cm(l)===cm(c)?qe(l,c):cm(l)?1:-1}return qe(s.length,e.length)}const lw=55296,uw=57343;function cm(s){const e=s.charCodeAt(0);return e>=lw&&e<=uw}function bo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Mv="__name__";class Ui{constructor(e,i,r){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&be(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Ui.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=Ui.isNumericId(e),l=Ui.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):Im(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class yt extends Ui{construct(e,i,r){return new yt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ui{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return cw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new un([Mv])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(yt.fromString(e))}static fromName(e){return new _e(yt.fromString(e).popFirst(5))}static empty(){return new _e(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new yt(e.slice()))}}function AE(s,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hw(s,e,i,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Vv(s){if(!_e.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function kv(s){if(_e.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function wE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function tp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function vn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tp(s);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function mu(s,e){if(!wE(s))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const Lv=-62135596800,Uv=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Uv);return new _t(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Lv)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Gt("string",_t._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new _t(0,0))}static max(){return new we(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;function fw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new _t(i+1,0):new _t(i,r));return new vr(l,_e.empty(),e)}function dw(s){return new vr(s.readTime,s.key,su)}class vr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new vr(we.min(),_e.empty(),su)}static max(){return new vr(we.max(),_e.empty(),su)}}function mw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==pw)throw s;le("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&r(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function yw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Mo(s){return s.name==="IndexedDbTransactionError"}class Lh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lh.ce=-1;const np=-1;function Uh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function _w(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const RE="";function vw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Pv(e)),e=Ew(s.get(i),e);return Pv(e)}function Ew(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function Pv(s){return s+RE+""}function jv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function wr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function CE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??ln.RED,this.left=l??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new ln(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return ln.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new Xt(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new IE("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Tw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=Tw.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Tr(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const xE="server_timestamp",NE="__type__",DE="__previous_value__",OE="__local_write_time__";function ip(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===xE}function Ph(s){const e=s.mapValue.fields[DE];return ip(e)?Ph(e):e}function ru(s){const e=Er(s.mapValue.fields[OE].timestampValue);return new _t(e.seconds,e.nanos)}class bw{constructor(e,i,r,l,c,d,p,_,y,b,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const _h="(default)";class au{constructor(e,i){this.projectId=e,this.database=i||_h}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}function Sw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(s.options.projectId,e)}const ME="__type__",Aw="__max__",$c={mapValue:{}},VE="__vector__",vh="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ip(s)?4:Rw(s)?9007199254740991:ww(s)?10:11:be(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=br(s);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ru(s).isEqual(ru(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Er(l.timestampValue),p=Er(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Tr(l.bytesValue).isEqual(Tr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Vt(l.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(l.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Vt(l.integerValue)===Vt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Vt(l.doubleValue),p=Vt(c.doubleValue);return d===p?yh(d)===yh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return bo(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(jv(d)!==jv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Hi(d[_],p[_])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function ou(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function So(s,e){if(s===e)return 0;const i=br(s),r=br(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Vt(c.integerValue||c.doubleValue),_=Vt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return Bv(s.timestampValue,e.timestampValue);case 4:return Bv(ru(s),ru(e));case 5:return Im(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Tr(c),_=Tr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=qe(p[y],_[y]);if(b!==0)return b}return qe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=qe(Vt(c.latitude),Vt(d.latitude));return p!==0?p:qe(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return qv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[vh]?.arrayValue,b=_[vh]?.arrayValue,w=qe(y?.values?.length||0,b?.values?.length||0);return w!==0?w:qv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===$c.mapValue&&d===$c.mapValue)return 0;if(c===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const M=Im(_[w],b[w]);if(M!==0)return M;const Q=So(p[_[w]],y[b[w]]);if(Q!==0)return Q}return qe(_.length,b.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function Bv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=Er(s),r=Er(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function qv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=So(i[l],r[l]);if(c)return c}return qe(i.length,r.length)}function Ao(s){return xm(s)}function xm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Er(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Tr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=xm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${xm(i.fields[d])}`;return l+"}"})(s.mapValue):be(61005,{value:s})}function ah(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+ah(e):16;case 5:return 2*s.stringValue.length;case 6:return Tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+ah(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return wr(r.fields,((c,d)=>{l+=c.length+ah(d)})),l})(s.mapValue);default:throw be(13486,{value:s})}}function Nm(s){return!!s&&"integerValue"in s}function sp(s){return!!s&&"arrayValue"in s}function Hv(s){return!!s&&"nullValue"in s}function Gv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function oh(s){return!!s&&"mapValue"in s}function ww(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===VE}function Jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return wr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Jl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(s.arrayValue.values[i]);return e}return{...s}}function Rw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Aw}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!oh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=un.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Jl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());oh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];oh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){wr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new On(Jl(this.value))}}function kE(s){const e=[];return wr(s.fields,((i,r)=>{const l=new un([i]);if(oh(r)){const c=kE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Hn(e)}class pn{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,we.min(),we.min(),we.min(),On.empty(),0)}static newFoundDocument(e,i,r,l){return new pn(e,1,i,we.min(),r,l,0)}static newNoDocument(e,i){return new pn(e,2,i,we.min(),we.min(),On.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,we.min(),we.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,i){this.position=e,this.inclusive=i}}function Fv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=So(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class Th{constructor(e,i="asc"){this.field=e,this.dir=i}}function Cw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class LE{}class Yt extends LE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new xw(e,i,r):i==="array-contains"?new Ow(e,r):i==="in"?new Mw(e,r):i==="not-in"?new Vw(e,r):i==="array-contains-any"?new kw(e,r):new Yt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Nw(e,r):new Dw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(So(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(So(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends LE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return UE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(s){return s.op==="and"}function PE(s){return Iw(s)&&UE(s)}function Iw(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function Dm(s){if(s instanceof Yt)return s.field.canonicalString()+s.op.toString()+Ao(s.value);if(PE(s))return s.filters.map((e=>Dm(e))).join(",");{const e=s.filters.map((i=>Dm(i))).join(",");return`${s.op}(${e})`}}function jE(s,e){return s instanceof Yt?(function(r,l){return l instanceof Yt&&r.op===l.op&&r.field.isEqual(l.field)&&Hi(r.value,l.value)})(s,e):s instanceof Gi?(function(r,l){return l instanceof Gi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&jE(d,l.filters[p])),!0):!1})(s,e):void be(19439)}function zE(s){return s instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ao(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"})(s):"Filter"}class xw extends Yt{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class Nw extends Yt{constructor(e,i){super(e,"in",i),this.keys=BE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Dw extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=BE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function BE(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class Ow extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sp(i)&&ou(i.arrayValue,this.value)}}class Mw extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class Vw extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class kw extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ou(this.value.arrayValue,r)))}}class Lw{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Qv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new Lw(s,e,i,r,l,c,d)}function rp(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Dm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Uh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ao(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ao(r))).join(",")),e.Te=i}return e.Te}function ap(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Cw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!jE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Kv(s.startAt,e.startAt)&&Kv(s.endAt,e.endAt)}function Om(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class jh{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Uw(s,e,i,r,l,c,d,p){return new jh(s,e,i,r,l,c,d,p)}function zh(s){return new jh(s)}function Yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Pw(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function jw(s){return s.collectionGroup!==null}function Zl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Xt(un.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Th(c,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new Th(un.keyField(),r))}return e.Ie}function Pi(s){const e=Ce(s);return e.Ee||(e.Ee=zw(e,Zl(s))),e.Ee}function zw(s,e){if(s.limitType==="F")return Qv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Th(l.field,c)}));const i=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return Qv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Mm(s,e,i){return new jh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Bh(s,e){return ap(Pi(s),Pi(e))&&s.limitType===e.limitType}function qE(s){return`${rp(Pi(s))}|lt:${s.limitType}`}function ho(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>zE(l))).join(", ")}]`),Uh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ao(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ao(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Zl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=Fv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Zl(r),l)||r.endAt&&!(function(d,p,_){const y=Fv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Zl(r),l))})(s,e)}function Bw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function HE(s){return(e,i)=>{let r=!1;for(const l of Zl(s)){const c=qw(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function qw(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?So(_,y):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const Hw=new St(_e.comparator);function Ss(){return Hw}const GE=new St(_e.comparator);function Ql(...s){let e=GE;for(const i of s)e=e.insert(i.key,i);return e}function FE(s){let e=GE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function sa(){return Wl()}function KE(){return Wl()}function Wl(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Gw=new St(_e.comparator),Fw=new Xt(_e.comparator);function He(...s){let e=Fw;for(const i of s)e=e.add(i);return e}const Kw=new Xt(qe);function Qw(){return Kw}function op(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function QE(s){return{integerValue:""+s}}function Yw(s,e){return _w(e)?QE(e):op(s,e)}class Hh{constructor(){this._=void 0}}function Xw(s,e,i){return s instanceof lu?(function(l,c){const d={fields:{[NE]:{stringValue:xE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ip(c)&&(c=Ph(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,e):s instanceof wo?XE(s,e):s instanceof Ro?$E(s,e):(function(l,c){const d=YE(l,c),p=Xv(d)+Xv(l.Ae);return Nm(d)&&Nm(l.Ae)?QE(p):op(l.serializer,p)})(s,e)}function $w(s,e,i){return s instanceof wo?XE(s,e):s instanceof Ro?$E(s,e):i}function YE(s,e){return s instanceof bh?(function(r){return Nm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class lu extends Hh{}class wo extends Hh{constructor(e){super(),this.elements=e}}function XE(s,e){const i=JE(e);for(const r of s.elements)i.some((l=>Hi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ro extends Hh{constructor(e){super(),this.elements=e}}function $E(s,e){let i=JE(e);for(const r of s.elements)i=i.filter((l=>!Hi(l,r)));return{arrayValue:{values:i}}}class bh extends Hh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Xv(s){return Vt(s.integerValue||s.doubleValue)}function JE(s){return sp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class lp{constructor(e,i){this.field=e,this.transform=i}}function Jw(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof wo&&l instanceof wo||r instanceof Ro&&l instanceof Ro?bo(r.elements,l.elements,Hi):r instanceof bh&&l instanceof bh?Hi(r.Ae,l.Ae):r instanceof lu&&l instanceof lu})(s.transform,e.transform)}class Zw{constructor(e,i){this.version=e,this.transformResults=i}}class En{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Gh{}function ZE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Fh(s.key,En.none()):new pu(s.key,s.data,En.none());{const i=s.data,r=On.empty();let l=new Xt(un.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Rr(s.key,r,new Hn(l.toArray()),En.none())}}function Ww(s,e,i){s instanceof pu?(function(l,c,d){const p=l.value.clone(),_=Jv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Rr?(function(l,c,d){if(!lh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Jv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(WE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function eu(s,e,i,r){return s instanceof pu?(function(c,d,p,_){if(!lh(c.precondition,d))return p;const y=c.value.clone(),b=Zv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Rr?(function(c,d,p,_){if(!lh(c.precondition,d))return p;const y=Zv(c.fieldTransforms,_,d),b=d.data;return b.setAll(WE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,p){return lh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function e2(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=YE(r.transform,l||null);c!=null&&(i===null&&(i=On.empty()),i.set(r.field,c))}return i||null}function $v(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&bo(r,l,((c,d)=>Jw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class pu extends Gh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rr extends Gh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Jv(s,e,i){const r=new Map;tt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,$w(d,p,i[l]))}return r}function Zv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Xw(c,d,e))}return r}class Fh extends Gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t2 extends Gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Ww(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=eu(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=eu(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=KE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ZE(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((i,r)=>$v(i,r)))&&bo(this.baseMutations,e.baseMutations,((i,r)=>$v(i,r)))}}class up{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Gw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new up(e,i,r,l)}}class i2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class s2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Qe;function r2(s){switch(s){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function e1(s){if(s===void 0)return bs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ht.OK:return J.OK;case Ht.CANCELLED:return J.CANCELLED;case Ht.UNKNOWN:return J.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return J.INTERNAL;case Ht.UNAVAILABLE:return J.UNAVAILABLE;case Ht.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ht.NOT_FOUND:return J.NOT_FOUND;case Ht.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ht.ABORTED:return J.ABORTED;case Ht.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ht.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:s})}}(Qe=Ht||(Ht={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function a2(){return new TextEncoder}const o2=new yr([4294967295,4294967295],0);function Wv(s){const e=a2().encode(s),i=new gE;return i.update(e),new Uint8Array(i.digest())}function e0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new yr([i,r],0),new yr([l,c],0)]}class cp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=yr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(yr.fromNumber(r)));return l.compare(o2)===1&&(l=new yr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Wv(e),[r,l]=e0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new cp(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Wv(e),[r,l]=e0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Kh(we.min(),l,new St(qe),Ss(),He())}}class gu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new gu(r,i,He(),He(),He())}}class uh{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class t1{constructor(e,i){this.targetId=e,this.Ce=i}}class n1{constructor(e,i,r=cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class t0{constructor(){this.ve=0,this.Fe=n0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:be(38017,{changeType:c})}})),new gu(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=n0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class l2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.He=Jc(),this.Je=Jc(),this.Ze=new St(qe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Om(c))if(r===0){const d=new _e(c.path);this.et(i,d,pn.newNoDocument(d,we.min()))}else tt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Tr(r).toUint8Array()}catch(_){if(_ instanceof IE)return ua("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new cp(d,l,c)}catch(_){return ua(_ instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Om(p.target)){const _=new _e(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,pn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=He();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Kh(e,i,this.Ze,this.je,r);return this.je=Ss(),this.He=Jc(),this.Je=Jc(),this.Ze=new St(qe),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new t0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Xt(qe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Xt(qe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Jc(){return new St(_e.comparator)}function n0(){return new St(_e.comparator)}const u2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h2={and:"AND",or:"OR"};class f2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Vm(s,e){return s.useProto3Json||Uh(e)?e:{value:e}}function Sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function d2(s,e){return Sh(s,e.toTimestamp())}function ji(s){return tt(!!s,49232),we.fromTimestamp((function(i){const r=Er(i);return new _t(r.seconds,r.nanos)})(s))}function hp(s,e){return km(s,e).canonicalString()}function km(s,e){const i=(function(l){return new yt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function s1(s){const e=yt.fromString(s);return tt(u1(e),10190,{key:e.toString()}),e}function Lm(s,e){return hp(s.databaseId,e.path)}function hm(s,e){const i=s1(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(a1(i))}function r1(s,e){return hp(s.databaseId,e)}function m2(s){const e=s1(s);return e.length===4?yt.emptyPath():a1(e)}function Um(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function a1(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function i0(s,e,i){return{name:Lm(s,e),fields:i.value.mapValue.fields}}function p2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(tt(b===void 0||typeof b=="string",58123),cn.fromBase64String(b||"")):(tt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),cn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:e1(y.code);return new ce(b,y.message||"")})(d);i=new n1(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=hm(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):we.min(),p=new On({mapValue:{fields:r.document.fields}}),_=pn.newFoundDocument(l,c,d,p),y=r.targetIds||[],b=r.removedTargetIds||[];i=new uh(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=hm(s,r.document),c=r.readTime?ji(r.readTime):we.min(),d=pn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new uh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=hm(s,r.document),c=r.removedTargetIds||[];i=new uh([],c,l,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new s2(l,c),p=r.targetId;i=new t1(p,d)}}return i}function g2(s,e){let i;if(e instanceof pu)i={update:i0(s,e.key,e.value)};else if(e instanceof Fh)i={delete:Lm(s,e.key)};else if(e instanceof Rr)i={update:i0(s,e.key,e.data),updateMask:w2(e.fieldMask)};else{if(!(e instanceof t2))return be(16599,{dt:e.type});i={verify:Lm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof lu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof bh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:d2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function y2(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(we.min())&&(d=ji(c)),new Zw(d,l.transformResults||[])})(i,e)))):[]}function _2(s,e){return{documents:[r1(s,e.path)]}}function v2(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=r1(s,l);const c=(function(y){if(y.length!==0)return l1(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:fo(M.field),direction:b2(M.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Vm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function E2(s){let e=m2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){tt(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const M=o1(w);return M instanceof Gi&&PE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(Z){return new Th(mo(Z.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,Uh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,Q=w.values||[];return new Eh(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,Q=w.values||[];return new Eh(Q,M)})(i.endAt)),Uw(e,l,d,c,p,"F",_,y)}function T2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function o1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=mo(i.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=mo(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=mo(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mo(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Yt.create(mo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((r=>o1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function b2(s){return u2[s]}function S2(s){return c2[s]}function A2(s){return h2[s]}function fo(s){return{fieldPath:s.canonicalString()}}function mo(s){return un.fromServerFormat(s.fieldPath)}function l1(s){return s instanceof Yt?(function(i){if(i.op==="=="){if(Gv(i.value))return{unaryFilter:{field:fo(i.field),op:"IS_NAN"}};if(Hv(i.value))return{unaryFilter:{field:fo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Gv(i.value))return{unaryFilter:{field:fo(i.field),op:"IS_NOT_NAN"}};if(Hv(i.value))return{unaryFilter:{field:fo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(i.field),op:S2(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const r=i.getFilters().map((l=>l1(l)));return r.length===1?r[0]:{compositeFilter:{op:A2(i.op),filters:r}}})(s):be(54877,{filter:s})}function w2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function u1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function c1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class dr{constructor(e,i,r,l,c=we.min(),d=we.min(),p=cn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R2{constructor(e){this.yt=e}}function C2(s){const e=E2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mm(e,e.limit,"L"):e}class I2{constructor(){this.Sn=new x2}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(vr.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class x2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Xt(yt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Xt(yt.comparator)).toArray()}}const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h1=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(h1,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Co{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Co(0)}static ar(){return new Co(-1)}}const r0="LruGarbageCollector",N2=1048576;function a0([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class D2{constructor(e){this.Pr=e,this.buffer=new Xt(a0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();a0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class O2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(r0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Mo(i)?le(r0,"Ignoring IndexedDB error during garbage collection: ",i):await Oo(i)}await this.Ar(3e5)}))}}class M2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Lh.ce);const r=new D2(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(s0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),co()<=Be.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function V2(s,e){return new M2(s,e)}class k2{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class L2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class U2{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&eu(r.mutation,l,Hn.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=sa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Ql();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=sa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=Ss();const d=Wl(),p=(function(){return Wl()})();return i.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Rr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),eu(b.mutation,y,b.mutation.getFieldMask(),_t.now())):d.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new L2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Wl();let l=new St(((d,p)=>d-p)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Hn.empty();b=p.applyToLocalView(y,b),r.set(_,b);const w=(l.get(p.batchId)||He()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,w=KE();b.forEach((M=>{if(!c.has(M)){const Q=ZE(i.get(M),r.get(M));Q!==null&&w.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return Pw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):jw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(sa());let p=su,_=c;return d.next((y=>$.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,He()))).next((b=>({batchId:p,changes:FE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let l=Ql();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(w,M){return new jh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,pn.newInvalidDocument(b)))}));let p=Ql();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&eu(b.mutation,y,Hn.empty(),_t.now()),qh(i,y)&&(p=p.insert(_,y))})),p}))}}class P2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:C2(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class j2{constructor(){this.overlays=new St(_e.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=sa();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=sa(),c=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new St(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=sa(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=sa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new i2(i,r));let c=this.Lr.get(i);c===void 0&&(c=He(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class z2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class fp{constructor(){this.kr=new Xt(en.Kr),this.qr=new Xt(en.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new en(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new en(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new _e(new yt([])),r=new en(i,e),l=new en(i,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new _e(new yt([])),r=new en(i,e),l=new en(i,e+1);let c=He();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new en(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return _e.comparator(e.key,i.key)||qe(e.Hr,i.Hr)}static Ur(e,i){return qe(e.Hr,i.Hr)||_e.comparator(e.key,i.key)}}class B2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(en.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new n2(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new en(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?np:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new en(i,0),l=new en(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Xt(qe);return i.forEach((l=>{const c=new en(l,0),d=new en(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new en(new _e(c),0);let p=new Xt(qe);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(l=>{const c=new en(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new en(i,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class q2{constructor(e){this.ti=e,this.docs=(function(){return new St(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let r=Ss();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():pn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Ss();const d=i.path,p=new _e(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||mw(dw(b),r)<=0||(l.has(b.key)||qh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){be(9500)}ni(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new H2(this)}getSize(e){return $.resolve(this.size)}}class H2 extends k2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class G2{constructor(e){this.persistence=e,this.ri=new da((i=>rp(i)),ap),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new fp,this.targetCount=0,this.oi=Co._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Co(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class f1{constructor(e,i){this._i={},this.overlays={},this.ai=new Lh(0),this.ui=!1,this.ui=!0,this.ci=new z2,this.referenceDelegate=e(this),this.li=new G2(this),this.indexManager=new I2,this.remoteDocumentCache=(function(l){return new q2(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new R2(i),this.Pi=new P2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new j2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new B2(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){le("MemoryPersistence","Starting transaction:",e);const l=new F2(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class F2 extends gw{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Ri=new fp,this.Ai=null}static Vi(e){return new dp(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=_e.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Ah{constructor(e,i){this.persistence=e,this.fi=new da((r=>vw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=V2(this,i)}static Vi(e,i){return new Ah(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ah(e.data.value)),i}wr(e,i,r){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mp(e,i.fromCache,r,l)}}class K2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Q2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return MS()?8:yw(gn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new K2;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(co()<=Be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ho(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(co()<=Be.DEBUG&&le("QueryEngine","Query:",ho(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(co()<=Be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ho(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):$.resolve())}gs(e,i){if(Yv(i))return $.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Mm(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=He(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,Mm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,l){return Yv(i)||l.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?$.resolve(null):(co()<=Be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ho(i)),this.Ds(e,d,i,fw(l,su)).next((p=>p)))}))}bs(e,i){let r=new Xt(HE(e));return i.forEach(((l,c)=>{qh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return co()<=Be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ho(i)),this.fs.getDocumentsMatchingQuery(e,i,vr.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const pp="LocalStore",Y2=3e8;class X2{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new St(qe),this.Fs=new da((c=>rp(c)),ap),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function $2(s,e,i,r){return new X2(s,e,i,r)}async function d1(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=He();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function J2(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const w=y.batch,M=w.keys();let Q=$.resolve();return M.forEach((Z=>{Q=Q.next((()=>b.getEntry(_,Z))).next((ae=>{const te=y.docVersions.get(Z);tt(te!==null,48541),ae.version.compareTo(te)<0&&(w.applyToRemoteDocument(ae,y),ae.isValidDocument()&&(ae.setReadTime(y.commitVersion),b.addEntry(ae)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=He();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function m1(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Z2(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,w)=>{const M=l.get(w);if(!M)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Q=Q.withResumeToken(cn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,r)),l=l.insert(w,Q),(function(ae,te,ye){return ae.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=Y2?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let _=Ss(),y=He();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(W2(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!r.isEqual(we.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function W2(s,e,i){let r=He(),l=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ss();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):le(pp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function eR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=np),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new dr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Pm(s,e,i){const r=Ce(s),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Mo(d))throw d;le(pp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function o0(s,e,i){const r=Ce(s);let l=we.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=Ce(_),M=w.Fs.get(b);return M!==void 0?$.resolve(w.vs.get(M)):w.li.getTargetData(y,b)})(r,d,Pi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:He()))).next((p=>(nR(r,Bw(e),p),{documents:p,ks:c})))))}function nR(s,e,i){let r=s.Ms.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class l0{constructor(){this.activeTargetIds=Qw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iR{constructor(){this.vo=new l0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new l0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sR{Mo(e){}shutdown(){}}const u0="ConnectivityMonitor";class c0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(u0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(u0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function jm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const fm="RestConnection",rR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const d=jm(),p=this.Qo(e,i.toUriEncodedString());le(fm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=xo(y);return this.zo(e,p,_,r,b).then((w=>(le(fm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ua(fm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}jo(e,i,r,l,c,d){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=rR[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class oR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",zl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class go extends aR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!go.c_){const e=EE();zl(e,vE.STAT_EVENT,(i=>{i.stat===Cm.PROXY?le(dn,"STAT_EVENT: detected buffering proxy"):i.stat===Cm.NOPROXY&&le(dn,"STAT_EVENT: detected no buffering proxy")})),go.c_=!0}}zo(e,i,r,l,c){const d=jm();return new Promise(((p,_)=>{const y=new yE;y.setWithCredentials(!0),y.listenOnce(_E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const w=y.getResponseJson();le(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case rh.TIMEOUT:le(dn,`RPC '${e}' ${d} timed out`),_(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const M=y.getStatus();if(le(dn,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const ae=(function(ye){const Ae=ye.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ae)>=0?Ae:J.UNKNOWN})(Z.status);_(new ce(ae,Z.message))}else _(new ce(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ce(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(dn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);le(dn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=jm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=c.join("");le(dn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,M=!1;const Q=new oR({Ho:Z=>{M?le(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(w||(le(dn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),le(dn,`RPC '${e}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return zl(b,Kl.EventType.OPEN,(()=>{M||(le(dn,`RPC '${e}' stream ${l} transport opened.`),Q.i_())})),zl(b,Kl.EventType.CLOSE,(()=>{M||(M=!0,le(dn,`RPC '${e}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),zl(b,Kl.EventType.ERROR,(Z=>{M||(M=!0,ua(dn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),zl(b,Kl.EventType.MESSAGE,(Z=>{if(!M){const ae=Z.data[0];tt(!!ae,16349);const te=ae,ye=te?.error||te[0]?.error;if(ye){le(dn,`RPC '${e}' stream ${l} received error:`,ye);const Ae=ye.status;let Se=(function(Ke){const x=Ht[Ke];if(x!==void 0)return e1(x)})(Ae),Je=ye.message;Ae==="NOT_FOUND"&&Je.includes("database")&&Je.includes("does not exist")&&Je.includes(this.databaseId.database)&&ua(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Se===void 0&&(Se=J.INTERNAL,Je="Unknown error status: "+Ae+" with message "+ye.message),M=!0,Q.o_(new ce(Se,Je)),b.close()}else le(dn,`RPC '${e}' stream ${l} received:`,ae),Q.__(ae)}})),go.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TE()}}function lR(s){return new go(s)}function dm(){return typeof document<"u"?document:null}function Qh(s){return new f2(s,!0)}go.c_=!1;class p1{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const h0="PersistentStream";class g1{constructor(e,i,r,l,c,d,p,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(h0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uR extends g1{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=p2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?ji(d.readTime):we.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Um(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Om(_)?{documents:_2(c,_)}:{query:v2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=i1(c,d.resumeToken);const y=Vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=Sh(c,d.snapshotVersion.toTimestamp());const y=Vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=T2(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Um(this.serializer),i.removeTarget=e,this.K_(i)}}class cR extends g1{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=y2(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Um(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>g2(this.serializer,r)))};this.K_(i)}}class hR{}class fR extends hR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,km(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,km(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dR(s,e,i,r){return new fR(s,e,i,r)}class mR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class pR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await yu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Va=new mR(r,l)}}async function Yh(s){if(ma(s))for(const e of s.Ra)await e(!0)}async function yu(s){for(const e of s.Ra)await e(!1)}function y1(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),vp(i)?_p(i):Vo(i).O_()&&yp(i,e))}function gp(s,e){const i=Ce(s),r=Vo(i);i.Ia.delete(e),r.O_()&&_1(i,e),i.Ia.size===0&&(r.O_()?r.L_():ma(i)&&i.Va.set("Unknown"))}function yp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vo(s).Z_(e)}function _1(s,e){s.da.$e(e),Vo(s).X_(e)}function _p(s){s.da=new l2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vo(s).start(),s.Va.ua()}function vp(s){return ma(s)&&!Vo(s).x_()&&s.Ia.size>0}function ma(s){return Ce(s).Ea.size===0}function v1(s){s.da=void 0}async function gR(s){s.Va.set("Online")}async function yR(s){s.Ia.forEach(((e,i)=>{yp(s,e)}))}async function _R(s,e){v1(s),vp(s)?(s.Va.ha(e),_p(s)):s.Va.set("Unknown")}async function vR(s,e,i){if(s.Va.set("Online"),e instanceof n1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof uh?s.da.Xe(e):e instanceof t1?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const r=await m1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(cn.EMPTY_BYTE_STRING,b.snapshotVersion)),_1(c,_);const w=new dr(b.target,_,y,b.sequenceNumber);yp(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){le(ca,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,i){if(!Mo(e))throw e;s.Ea.add(1),await yu(s),s.Va.set("Offline"),i||(i=()=>m1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Yh(s)}))}function E1(s,e){return e().catch((i=>wh(s,i,e)))}async function Xh(s){const e=Ce(s),i=Sr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:np;for(;ER(e);)try{const l=await eR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,TR(e,l)}catch(l){await wh(e,l)}T1(e)&&b1(e)}function ER(s){return ma(s)&&s.Ta.length<10}function TR(s,e){s.Ta.push(e);const i=Sr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function T1(s){return ma(s)&&!Sr(s).x_()&&s.Ta.length>0}function b1(s){Sr(s).start()}async function bR(s){Sr(s).ra()}async function SR(s){const e=Sr(s);for(const i of s.Ta)e.ea(i.mutations)}async function AR(s,e,i){const r=s.Ta.shift(),l=up.from(r,e,i);await E1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Xh(s)}async function wR(s,e){e&&Sr(s).Y_&&await(async function(r,l){if((function(d){return r2(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Sr(r).B_(),await E1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Xh(r)}})(s,e),T1(s)&&b1(s)}async function f0(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const r=ma(i);i.Ea.add(3),await yu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Yh(i)}async function RR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Yh(i)):e||(i.Ea.add(2),await yu(i),i.Va.set("Unknown"))}function Vo(s){return s.ma||(s.ma=(function(i,r,l){const c=Ce(i);return c.sa(),new uR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:gR.bind(null,s),Yo:yR.bind(null,s),t_:_R.bind(null,s),J_:vR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),vp(s)?_p(s):s.Va.set("Unknown")):(await s.ma.stop(),v1(s))}))),s.ma}function Sr(s){return s.fa||(s.fa=(function(i,r,l){const c=Ce(i);return c.sa(),new cR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bR.bind(null,s),t_:wR.bind(null,s),ta:SR.bind(null,s),na:AR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Xh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ep{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new Ep(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Mo(s))return new ce(J.UNAVAILABLE,`${e}: ${s}`);throw s}class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Ql(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class d0{constructor(){this.ga=new St(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Io{constructor(e,i,r,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Io(e,i,yo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class IR{constructor(){this.queries=m0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),c=l.queries;l.queries=m0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function m0(){return new da((s=>qE(s)),Bh)}async function bp(s,e){const i=Ce(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new CR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Tp(d,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ap(i)}async function Sp(s,e){const i=Ce(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function xR(s,e){const i=Ce(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&Ap(i)}function NR(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function Ap(s){s.Ca.forEach((e=>{e.next()}))}var zm,p0;(p0=zm||(zm={})).Ma="default",p0.Cache="cache";class wp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}class S1{constructor(e){this.key=e}}class A1{constructor(e){this.key=e}}class DR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=HE(e),this.tu=new yo(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new d0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,w)=>{const M=l.get(b),Q=qh(this.query,w)?w:null,Z=!!M&&this.mutatedKeys.has(M.key),ae=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let te=!1;M&&Q?M.data.isEqual(Q.data)?Z!==ae&&(r.track({type:3,doc:Q}),te=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),te=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!M&&Q?(r.track({type:0,doc:Q}),te=!0):M&&!Q&&(r.track({type:1,doc:M}),te=!0,(_||y)&&(p=!0)),te&&(Q?(d=d.add(Q),c=ae?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(Q,Z){const ae=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:te})}};return ae(Q)-ae(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new Io(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new A1(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new S1(r))})),i}cu(e){this.Za=e.ks,this.Ya=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rp="SyncEngine";class OR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class MR{constructor(e){this.key=e,this.hu=!1}}class VR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((p=>qE(p)),Bh),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(_e.comparator),this.Au=new Map,this.Vu=new fp,this.du={},this.mu=new Map,this.fu=Co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kR(s,e,i=!0){const r=N1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await w1(r,e,i,!0),l}async function LR(s,e){const i=N1(s);await w1(i,e,!0,!1)}async function w1(s,e,i,r){const l=await tR(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await UR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&y1(s.remoteStore,l),p}async function UR(s,e,i,r,l){s.pu=(w,M,Q)=>(async function(ae,te,ye,Ae){let Se=te.view.ru(ye);Se.Ss&&(Se=await o0(ae.localStore,te.query,!1).then((({documents:x})=>te.view.ru(x,Se))));const Je=Ae&&Ae.targetChanges.get(te.targetId),ft=Ae&&Ae.targetMismatches.get(te.targetId)!=null,Ke=te.view.applyChanges(Se,ae.isPrimaryClient,Je,ft);return y0(ae,te.targetId,Ke.au),Ke.snapshot})(s,w,M,Q);const c=await o0(s.localStore,e,!0),d=new DR(e,c.ks),p=d.ru(c.documents),_=gu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);y0(s,i,y.au);const b=new OR(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function PR(s,e,i){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Bh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Pm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&gp(r.remoteStore,l.targetId),Bm(r,l.targetId)})).catch(Oo)):(Bm(r,l.targetId),await Pm(r.localStore,l.targetId,!0))}async function jR(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),gp(i.remoteStore,r.targetId))}async function zR(s,e,i){const r=QR(s);try{const l=await(function(d,p){const _=Ce(d),y=_t.now(),b=p.reduce(((Q,Z)=>Q.add(Z.key)),He());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=Ss(),ae=He();return _.xs.getEntries(Q,b).next((te=>{Z=te,Z.forEach(((ye,Ae)=>{Ae.isValidDocument()||(ae=ae.add(ye))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((te=>{w=te;const ye=[];for(const Ae of p){const Se=e2(Ae,w.get(Ae.key).overlayedDocument);Se!=null&&ye.push(new Rr(Ae.key,Se,kE(Se.value.mapValue),En.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ye,p)})).next((te=>{M=te;const ye=te.applyToLocalDocumentSet(w,ae);return _.documentOverlayCache.saveOverlays(Q,te.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:FE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new St(qe)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await _u(r,l.changes),await Xh(r.remoteStore)}catch(l){const c=Tp(l,"Failed to persist write");i.reject(c)}}async function R1(s,e){const i=Ce(s);try{const r=await Z2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await _u(i,r,e)}catch(r){await Oo(r)}}function g0(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Ce(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,w)=>{for(const M of w.ba)M.va(p)&&(y=!0)})),y&&Ap(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BR(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new St(_e.comparator);d=d.insert(c,pn.newNoDocument(c,we.min()));const p=He().add(c),_=new Kh(we.min(),new Map,new St(qe),d,p);await R1(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),Cp(r)}else await Pm(r.localStore,e,!1).then((()=>Bm(r,e,i))).catch(Oo)}async function qR(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await J2(i.localStore,e);I1(i,r,null),C1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await _u(i,l)}catch(l){await Oo(l)}}async function HR(s,e,i){const r=Ce(s);try{const l=await(function(d,p){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(tt(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);I1(r,e,i),C1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await _u(r,l)}catch(l){await Oo(l)}}function C1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function I1(s,e,i){const r=Ce(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Bm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||x1(s,r)}))}function x1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(gp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Cp(s))}function y0(s,e,i){for(const r of i)r instanceof S1?(s.Vu.addReference(r.key,e),GR(s,r)):r instanceof A1?(le(Rp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||x1(s,r.key)):be(19791,{wu:r})}function GR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(le(Rp,"New document in limbo: "+i),s.Eu.add(r),Cp(s))}function Cp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(yt.fromString(e)),r=s.fu.next();s.Au.set(r,new MR(i)),s.Ru=s.Ru.insert(i,r),y1(s.remoteStore,new dr(Pi(zh(i.path)),r,"TargetPurposeLimboResolution",Lh.ce))}}async function _u(s,e,i){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=mp.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const b=Ce(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(M=>$.forEach(M.Ts,(Q=>b.persistence.referenceDelegate.addReference(w,M.targetId,Q))).next((()=>$.forEach(M.Is,(Q=>b.persistence.referenceDelegate.removeReference(w,M.targetId,Q)))))))))}catch(w){if(!Mo(w))throw w;le(pp,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const Q=b.vs.get(M),Z=Q.snapshotVersion,ae=Q.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(M,ae)}}})(r.localStore,c))}async function FR(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){le(Rp,"User change. New user:",e.toKey());const r=await d1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ce(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(i,r.Ns)}}function KR(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function N1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BR.bind(null,e),e.Pu.J_=xR.bind(null,e.eventManager),e.Pu.yu=NR.bind(null,e.eventManager),e}function QR(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HR.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $2(this.persistence,new Q2,e.initialUser,this.serializer)}Cu(e){return new f1(dp.Vi,this.serializer)}Du(e){return new iR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class YR extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new O2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new f1((r=>Ah.Vi(r,i)),this.serializer)}}class qm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IR})()}createDatastore(e){const i=Qh(e.databaseInfo.databaseId),r=lR(e.databaseInfo);return dR(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new pR(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>g0(this.syncEngine,i,0)),(function(){return c0.v()?new c0:new sR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const w=new VR(l,c,d,p,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);le(ca,"RemoteStore shutting down."),r.Ea.add(5),await yu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class Ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ar="FirestoreClient";class XR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=mn.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{le(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Tp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mm(s,e){s.asyncQueue.verifyOperationInProgress(),le(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await d1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await $R(s);le(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>f0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>f0(e.remoteStore,l))),s._onlineComponents=e}async function $R(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Ar,"Using user provided OfflineComponentProvider");try{await mm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ua("Error using user provided cache. Falling back to memory cache: "+i),await mm(s,new Rh)}}else le(Ar,"Using default OfflineComponentProvider"),await mm(s,new YR(void 0));return s._offlineComponents}async function D1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Ar,"Using user provided OnlineComponentProvider"),await _0(s,s._uninitializedComponentsProvider._online)):(le(Ar,"Using default OnlineComponentProvider"),await _0(s,new qm))),s._onlineComponents}function JR(s){return D1(s).then((e=>e.syncEngine))}async function Ch(s){const e=await D1(s),i=e.eventManager;return i.onListen=kR.bind(null,e.syncEngine),i.onUnlisten=PR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),i}function ZR(s,e,i,r){const l=new Ip(r),c=new wp(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>bp(await Ch(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>Sp(await Ch(s),c)))}}function WR(s,e,i={}){const r=new _s;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Ip({next:M=>{b.Nu(),d.enqueueAndForget((()=>Sp(c,w)));const Q=M.docs.has(p);!Q&&M.fromCache?y.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&_&&_.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new wp(zh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return bp(c,w)})(await Ch(s),s.asyncQueue,e,i,r))),r.promise}function eC(s,e,i={}){const r=new _s;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Ip({next:M=>{b.Nu(),d.enqueueAndForget((()=>Sp(c,w))),M.fromCache&&_.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new wp(p,b,{includeMetadataChanges:!0,Ka:!0});return bp(c,w)})(await Ch(s),s.asyncQueue,e,i,r))),r.promise}function tC(s,e){const i=new _s;return s.asyncQueue.enqueueAndForget((async()=>zR(await JR(s),e,i))),i.promise}function O1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const nC="ComponentProvider",v0=new Map;function iC(s,e,i,r,l){return new bw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,O1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const M1="firestore.googleapis.com",E0=!0;class T0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M1,this.ssl=E0}else this.host=e.host,this.ssl=e.ssl??E0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=h1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N2)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tw;switch(r.type){case"firstParty":return new rw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=v0.get(i);r&&(le(nC,"Removing Datastore"),v0.delete(i),r.terminate())})(this),Promise.resolve()}}function sC(s,e,i,r={}){s=vn(s,$h);const l=xo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(uE(`https://${p}`),cE("Firestore",!0)),c.host!==M1&&c.host!==p&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Es(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=mn.MOCK_USER;else{y=AS(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new mn(w)}s._authCredentials=new nw(new SE(y,b))}}class vu{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vu(this.firestore,e,this._query)}}class kt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(mu(i,kt._jsonSchema))return new kt(e,r||null,new _e(yt.fromString(i.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Gt("string",kt._jsonSchemaVersion),referencePath:Gt("string")};class _r extends vu{constructor(e,i,r){super(e,i,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function ps(s,e,...i){if(s=It(s),AE("collection","path",e),s instanceof $h){const r=yt.fromString(e,...i);return kv(r),new _r(s,null,r)}{if(!(s instanceof kt||s instanceof _r))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return kv(r),new _r(s.firestore,null,r)}}function rt(s,e,...i){if(s=It(s),arguments.length===1&&(e=ep.newId()),AE("doc","path",e),s instanceof $h){const r=yt.fromString(e,...i);return Vv(r),new kt(s,null,new _e(r))}{if(!(s instanceof kt||s instanceof _r))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return Vv(r),new kt(s.firestore,s instanceof _r?s.converter:null,new _e(r))}}const b0="AsyncQueue";class S0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p1(this,"async_queue_retry"),this._c=()=>{const r=dm();r&&le(b0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=dm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=dm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;le(b0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",A0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Ep.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:A0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function A0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Fi extends $h{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new S0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S0(e),this._firestoreClient=void 0,await e}}}function rC(s,e){const i=typeof s=="object"?s:Zm(),r=typeof s=="string"?s:_h,l=Jm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=bS("firestore");c&&sC(l,...c)}return l}function Eu(s){if(s._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aC(s),s._firestoreClient}function aC(s){const e=s._freezeSettings(),i=iC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new XR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(cn.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Gt("string",si._jsonSchemaVersion),bytes:Gt("string")};class Jh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ko{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(mu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Gt("string",zi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new yi(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Gt("string",yi._jsonSchemaVersion),vectorValues:Gt("object")};const oC=/^__.*__$/;class lC{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms):new pu(e,this.data,i,this.fieldTransforms)}}class V1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function k1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class Zh{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Zh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ih(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(k1(this.dataSource)&&oC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uC{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Qh(e)}createContext(e,i,r,l=!1){return new Zh({dataSource:e,methodName:i,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(s){const e=s._freezeSettings(),i=Qh(s._databaseId);return new uC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function xp(s,e,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Mp("Data must be an object, but it was:",d,r);const p=j1(r,d);let _,y;if(c.merge)_=new Hn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const M=uu(e,w,i);if(!d.contains(M))throw new ce(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);q1(b,M)||b.push(M)}_=new Hn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new lC(new On(p),_,y)}class ef extends ko{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function L1(s,e,i){return new Zh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Np extends ko{_toFieldTransform(e){return new lp(e.path,new lu)}isEqual(e){return e instanceof Np}}class Dp extends ko{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=L1(this,e,!0),r=this.Ac.map((c=>Lo(c,i))),l=new wo(r);return new lp(e.path,l)}isEqual(e){return e instanceof Dp&&Es(this.Ac,e.Ac)}}class Op extends ko{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=L1(this,e,!0),r=this.Ac.map((c=>Lo(c,i))),l=new Ro(r);return new lp(e.path,l)}isEqual(e){return e instanceof Op&&Es(this.Ac,e.Ac)}}function U1(s,e,i,r){const l=s.createContext(1,e,i);Mp("Data must be an object, but it was:",l,r);const c=[],d=On.empty();wr(r,((_,y)=>{const b=B1(e,_,i);y=It(y);const w=l.childContextForFieldPath(b);if(y instanceof ef)c.push(b);else{const M=Lo(y,w);M!=null&&(c.push(b),d.set(b,M))}}));const p=new Hn(c);return new V1(d,p,l.fieldTransforms)}function P1(s,e,i,r,l,c){const d=s.createContext(1,e,i),p=[uu(e,r,i)],_=[l];if(c.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(uu(e,c[M])),_.push(c[M+1]);const y=[],b=On.empty();for(let M=p.length-1;M>=0;--M)if(!q1(y,p[M])){const Q=p[M];let Z=_[M];Z=It(Z);const ae=d.childContextForFieldPath(Q);if(Z instanceof ef)y.push(Q);else{const te=Lo(Z,ae);te!=null&&(y.push(Q),b.set(Q,te))}}const w=new Hn(y);return new V1(b,w,d.fieldTransforms)}function Lo(s,e){if(z1(s=It(s)))return Mp("Unsupported field value:",e,s),j1(s,e);if(s instanceof ko)return(function(r,l){if(!k1(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=Lo(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=_t.fromDate(r);return{timestampValue:Sh(l.serializer,c)}}if(r instanceof _t){const c=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(l.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:i1(l.serializer,r._byteString)};if(r instanceof kt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof yi)return(function(d,p){const _=d instanceof yi?d.toArray():d;return{mapValue:{fields:{[ME]:{stringValue:VE},[vh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return op(p.serializer,b)}))}}}}}})(r,l);if(c1(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${tp(r)}`)})(s,e)}function j1(s,e){const i={};return CE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(s,((r,l)=>{const c=Lo(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function z1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof zi||s instanceof si||s instanceof kt||s instanceof ko||s instanceof yi||c1(s))}function Mp(s,e,i){if(!z1(i)||!wE(i)){const r=tp(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function uu(s,e,i){if((e=It(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return B1(s,e);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,i)}const cC=new RegExp("[~\\*/\\[\\]]");function B1(s,e,i){if(e.search(cC)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Jh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ih(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ce(J.INVALID_ARGUMENT,p+s+_)}function q1(s,e){return s.some((i=>i.isEqual(e)))}class hC{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return wr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[vh].arrayValue?.values?.map((r=>Vt(r.doubleValue)));return new yi(i)}convertGeoPoint(e){return new zi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const i=Er(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=yt.fromString(e);tt(u1(r),9688,{name:e});const l=new au(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return l.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Vp extends hC{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,i)}}function oo(){return new Np("serverTimestamp")}function Wc(...s){return new Dp("arrayUnion",s)}function Bl(...s){return new Op("arrayRemove",s)}const w0="@firebase/firestore",R0="4.11.0";function C0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class H1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(uu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fC extends H1{data(){return super.data()}}function G1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function kp(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends H1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(uu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Gt("string",ra._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class ch extends ra{data(e={}){return super.data(e)}}class aa{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Xl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ch(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new ch(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new ch(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:dC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:Gt("string",aa._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class mC{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Wh(e)}set(e,i,r){this._verifyNotCommitted();const l=pm(e,this._firestore),c=kp(l.converter,i,r),d=xp(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,En.none())),this}update(e,i,r,...l){this._verifyNotCommitted();const c=pm(e,this._firestore);let d;return d=typeof(i=It(i))=="string"||i instanceof Jh?P1(this._dataReader,"WriteBatch.update",c._key,i,r,l):U1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=pm(e,this._firestore);return this._mutations=this._mutations.concat(new Fh(i._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pm(s,e){if((s=It(s)).firestore!==e)throw new ce(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function I0(s){s=vn(s,kt);const e=vn(s.firestore,Fi),i=Eu(e);return WR(i,s._key).then((r=>F1(e,s,r)))}function pC(s){s=vn(s,vu);const e=vn(s.firestore,Fi),i=Eu(e),r=new Vp(e);return G1(s._query),eC(i,s._query).then((l=>new aa(e,r,s,l)))}function gC(s,e,i){s=vn(s,kt);const r=vn(s.firestore,Fi),l=kp(s.converter,e,i),c=Wh(r);return Tu(r,[xp(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,En.none())])}function ql(s,e,i,...r){s=vn(s,kt);const l=vn(s.firestore,Fi),c=Wh(l);let d;return d=typeof(e=It(e))=="string"||e instanceof Jh?P1(c,"updateDoc",s._key,e,i,r):U1(c,"updateDoc",s._key,e),Tu(l,[d.toMutation(s._key,En.exists(!0))])}function lo(s){return Tu(vn(s.firestore,Fi),[new Fh(s._key,En.none())])}function eh(s,e){const i=vn(s.firestore,Fi),r=rt(s),l=kp(s.converter,e),c=Wh(s.firestore);return Tu(i,[xp(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then((()=>r))}function th(s,...e){s=It(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||C0(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(C0(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof kt)d=vn(s.firestore,Fi),p=zh(s._key.path),c={next:y=>{e[r]&&e[r](F1(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=vn(s,vu);d=vn(y.firestore,Fi),p=y._query;const b=new Vp(d);c={next:w=>{e[r]&&e[r](new aa(d,b,y,w))},error:e[r+1],complete:e[r+2]},G1(s._query)}const _=Eu(d);return ZR(_,p,l,c)}function Tu(s,e){const i=Eu(s);return tC(i,e)}function F1(s,e,i){const r=i.docs.get(e._key),l=new Vp(s);return new ra(s,l,e._key,r,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}function Hl(s){return s=vn(s,Fi),Eu(s),new mC(s,(e=>Tu(s,e)))}(function(e,i=!0){ew(No),To(new oa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Fi(new iw(r.getProvider("auth-internal")),new aw(d,r.getProvider("app-check-internal")),Sw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),gr(w0,R0,e),gr(w0,R0,"esm2020")})();function K1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yC=K1,Q1=new fu("auth","Firebase",K1());const xh=new Xm("@firebase/auth");function _C(s,...e){xh.logLevel<=Be.WARN&&xh.warn(`Auth (${No}): ${s}`,...e)}function hh(s,...e){xh.logLevel<=Be.ERROR&&xh.error(`Auth (${No}): ${s}`,...e)}function _i(s,...e){throw Lp(s,...e)}function Bi(s,...e){return Lp(s,...e)}function Y1(s,e,i){const r={...yC(),[e]:i};return new fu("auth","Firebase",r).create(e,{appName:s.name})}function vs(s){return Y1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Q1.create(s,...e)}function Te(s,e,...i){if(!s)throw Lp(e,...i)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hh(e),new Error(e)}function As(s,e){s||gs(e)}function Hm(){return typeof self<"u"&&self.location?.href||""}function vC(){return x0()==="http:"||x0()==="https:"}function x0(){return typeof self<"u"&&self.location?.protocol||null}function EC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vC()||NS()||"connection"in navigator)?navigator.onLine:!0}function TC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class bu{constructor(e,i){this.shortDelay=e,this.longDelay=i,As(i>e,"Short delay should be less than long delay!"),this.isMobile=CS()||DS()}get(){return EC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Up(s,e){As(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class X1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new bu(3e4,6e4);function Rs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Cs(s,e,i,r,l={}){return $1(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=du({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return xS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&xo(s.emulatorConfig.host)&&(y.credentials="include"),X1.fetch()(await J1(s,s.config.apiHost,i,p),y)})}async function $1(s,e,i){s._canInitEmulator=!1;const r={...bC,...e};try{const l=new RC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw nh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw nh(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw nh(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Y1(s,b,y);_i(s,b)}}catch(l){if(l instanceof ws)throw l;_i(s,"network-request-failed",{message:String(l)})}}async function Su(s,e,i,r,l={}){const c=await Cs(s,e,i,r,l);return"mfaPendingCredential"in c&&_i(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function J1(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Up(s.config,l):`${s.config.apiScheme}://${l}`;return SC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function wC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),AC.get())})}}function nh(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Bi(s,e,r);return l.customData._tokenResponse=i,l}function N0(s){return s!==void 0&&s.enterprise!==void 0}class CC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return wC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IC(s,e){return Cs(s,"GET","/v2/recaptchaConfig",Rs(s,e))}async function xC(s,e){return Cs(s,"POST","/v1/accounts:delete",e)}async function Nh(s,e){return Cs(s,"POST","/v1/accounts:lookup",e)}function tu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NC(s,e=!1){const i=It(s),r=await i.getIdToken(e),l=Pp(r);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:tu(gm(l.auth_time)),issuedAtTime:tu(gm(l.iat)),expirationTime:tu(gm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function gm(s){return Number(s)*1e3}function Pp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const l=rE(i);return l?JSON.parse(l):(hh("Failed to decode base64 JWT payload"),null)}catch(l){return hh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function D0(s){const e=Pp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cu(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ws&&DC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function DC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(s){const e=s.auth,i=await s.getIdToken(),r=await cu(s,Nh(e,{idToken:i}));Te(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?W1(l.providerUserInfo):[],d=MC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function Z1(s){const e=It(s);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function W1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function VC(s,e){const i=await $1(s,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await J1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&xo(s.emulatorConfig.host)&&(_.credentials="include"),X1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kC(s,e){return Cs(s,"POST","/v2/accounts:revokeToken",Rs(s,e))}class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=D0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await VC(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new _o;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return gs("not implemented")}}function lr(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new OC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return NC(this,e)}reload(){return Z1(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await cu(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:Q,providerData:Z,stsTokenManager:ae}=i;Te(w&&ae,e,"internal-error");const te=_o.fromJSON(this.name,ae);Te(typeof w=="string",e,"internal-error"),lr(r,e.name),lr(l,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof Q=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(p,e.name),lr(_,e.name),lr(y,e.name),lr(b,e.name);const ye=new gi({uid:w,auth:e,email:l,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ye.providerData=Z.map(Ae=>({...Ae}))),_&&(ye._redirectEventId=_),ye}static async _fromIdTokenResponse(e,i,r=!1){const l=new _o;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Dh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?W1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new _o;p.updateFromIdToken(r);const _=new gi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const O0=new Map;function ys(s){As(s instanceof Function,"Expected a class definition");let e=O0.get(s);return e?(As(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,O0.set(s,e),e)}class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}eT.type="NONE";const M0=eT;function fh(s,e,i){return`firebase:${s}:${e}:${i}`}class vo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=fh(this.userKey,l.apiKey,c),this.fullPersistenceKey=fh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Nh(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new vo(ys(M0),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ys(M0);const d=fh(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const M=await Nh(e,{idToken:b}).catch(()=>{});if(!M)break;w=await gi._fromGetAccountInfoResponse(e,M,b)}else w=gi._fromJSON(e,b);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new vo(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new vo(c,e,r))}}function V0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(oT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(rT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function tT(s=gn()){return/firefox\//i.test(s)}function nT(s=gn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(s=gn()){return/crios\//i.test(s)}function sT(s=gn()){return/iemobile/i.test(s)}function rT(s=gn()){return/android/i.test(s)}function aT(s=gn()){return/blackberry/i.test(s)}function oT(s=gn()){return/webos/i.test(s)}function jp(s=gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function LC(s=gn()){return jp(s)&&!!window.navigator?.standalone}function UC(){return OS()&&document.documentMode===10}function lT(s=gn()){return jp(s)||rT(s)||oT(s)||aT(s)||/windows phone/i.test(s)||sT(s)}function uT(s,e=[]){let i;switch(s){case"Browser":i=V0(gn());break;case"Worker":i=`${V0(gn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${No}/${r}`}class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function jC(s,e={}){return Cs(s,"GET","/v2/passwordPolicy",Rs(s,e))}const zC=6;class BC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??zC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class qC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Nh(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(vs(this));const i=e?It(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jC(this),i=new BC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await kC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_C(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pa(s){return It(s)}class k0{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HC(s){tf=s}function cT(s){return tf.loadJS(s)}function GC(){return tf.recaptchaEnterpriseScript}function FC(){return tf.gapiScript}function KC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new YC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class YC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const XC="recaptcha-enterprise",hT="NO_RECAPTCHA";class $C{constructor(e){this.type=XC,this.auth=pa(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{IC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new CC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;N0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(hT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&N0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=GC();_.length!==0&&(_+=p),cT(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function L0(s,e,i,r=!1,l=!1){const c=new $C(s);let d;if(l)d=hT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Fm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await L0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await L0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function JC(s,e){const i=Jm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Es(c,e??{}))return l;_i(l,"already-initialized")}return i.initialize({options:e})}function ZC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function WC(s,e,i){const r=pa(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=fT(e),{host:d,port:p}=eI(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Es(y,r.config.emulator)&&Es(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,xo(d)?(uE(`${c}//${d}${_}`),cE("Auth",!0)):tI()}function fT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function eI(s){const e=fT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:U0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:U0(d)}}}function U0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function tI(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class zp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function nI(s,e){return Cs(s,"POST","/v1/accounts:signUp",e)}async function iI(s,e){return Su(s,"POST","/v1/accounts:signInWithPassword",Rs(s,e))}async function sI(s,e){return Cs(s,"POST","/v1/accounts:sendOobCode",Rs(s,e))}async function rI(s,e){return sI(s,e)}async function aI(s,e){return Su(s,"POST","/v1/accounts:signInWithEmailLink",Rs(s,e))}async function oI(s,e){return Su(s,"POST","/v1/accounts:signInWithEmailLink",Rs(s,e))}class hu extends zp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new hu(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new hu(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,i,"signInWithPassword",iI);case"emailLink":return aI(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,r,"signUpPassword",nI);case"emailLink":return oI(e,{idToken:i,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eo(s,e){return Su(s,"POST","/v1/accounts:signInWithIdp",Rs(s,e))}const lI="http://localhost";class ha extends zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ha(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Eo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Eo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Eo(e,i)}buildRequest(){const e={requestUri:lI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=du(i)}return e}}function uI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cI(s){const e=Gl(Fl(s)).link,i=e?Gl(Fl(e)).deep_link_id:null,r=Gl(Fl(s)).deep_link_id;return(r?Gl(Fl(r)).link:null)||r||i||e||s}class Bp{constructor(e){const i=Gl(Fl(e)),r=i.apiKey??null,l=i.oobCode??null,c=uI(i.mode??null);Te(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=cI(e);try{return new Bp(i)}catch{return null}}}class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,i){return hu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Bp.parseLink(i);return Te(r,"argument-error"),hu._fromEmailAndCode(e,r.code,r.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Au extends dT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ur extends Au{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";class cr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return cr.credential(i,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class hr extends Au{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";class fr extends Au{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return fr.credential(i,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";async function hI(s,e){return Su(s,"POST","/v1/accounts:signUp",Rs(s,e))}class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await gi._fromIdTokenResponse(e,r,l),d=P0(r);return new fa({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=P0(r);return new fa({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function P0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Oh extends ws{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Oh(e,i,r,l)}}function mT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(s,c,e,r):c})}async function fI(s,e,i=!1){const r=await cu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return fa._forOperation(s,"link",r)}async function dI(s,e,i=!1){const{auth:r}=s;if(ii(r.app))return Promise.reject(vs(r));const l="reauthenticate";try{const c=await cu(s,mT(r,l,e,s),i);Te(c.idToken,r,"internal-error");const d=Pp(c.idToken);Te(d,r,"internal-error");const{sub:p}=d;return Te(s.uid===p,r,"user-mismatch"),fa._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&_i(r,"user-mismatch"),c}}async function pT(s,e,i=!1){if(ii(s.app))return Promise.reject(vs(s));const r="signIn",l=await mT(s,r,e),c=await fa._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function mI(s,e){return pT(pa(s),e)}async function gT(s){const e=pa(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pI(s,e,i){if(ii(s.app))return Promise.reject(vs(s));const r=pa(s),d=await Fm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&gT(s),_}),p=await fa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function gI(s,e,i){return ii(s.app)?Promise.reject(vs(s)):mI(It(s),Uo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gT(s),r})}async function j0(s,e){const i=It(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await rI(i.auth,l);c!==s.email&&await s.reload()}function yI(s,e,i,r){return It(s).onIdTokenChanged(e,i,r)}function _I(s,e,i){return It(s).beforeAuthStateChanged(e,i)}function vI(s,e,i,r){return It(s).onAuthStateChanged(e,i,r)}function z0(s){return It(s).signOut()}async function EI(s){return It(s).delete()}const Mh="__sak";class yT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TI=1e3,bI=10;class _T extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);UC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,bI):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}_T.type="LOCAL";const SI=_T;class vT extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}vT.type="SESSION";const ET=vT;function AI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await AI(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];function qp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class wI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=qp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function RI(s){qi().location.href=s}function TT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function II(){return navigator?.serviceWorker?.controller||null}function xI(){return TT()?self:null}const bT="firebaseLocalStorageDb",NI=1,Vh="firebaseLocalStorage",ST="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sf(s,e){return s.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function DI(){const s=indexedDB.deleteDatabase(bT);return new wu(s).toPromise()}function Km(){const s=indexedDB.open(bT,NI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Vh,{keyPath:ST})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await DI(),e(await Km()))})})}async function B0(s,e,i){const r=sf(s,!0).put({[ST]:e,value:i});return new wu(r).toPromise()}async function OI(s,e){const i=sf(s,!1).get(e),r=await new wu(i).toPromise();return r===void 0?null:r.value}function q0(s,e){const i=sf(s,!0).delete(e);return new wu(i).toPromise()}const MI=800,VI=3;class AT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>VI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(xI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new wI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||II()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await B0(e,Mh,"1"),await q0(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>B0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>OI(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>q0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=sf(l,!1).getAll();return new wu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AT.type="LOCAL";const kI=AT;new bu(3e4,6e4);function LI(s,e){return e?ys(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Hp extends zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Eo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function UI(s){return pT(s.auth,new Hp(s),s.bypassAuthState)}function PI(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),dI(i,new Hp(s),s.bypassAuthState)}async function jI(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),fI(i,new Hp(s),s.bypassAuthState)}class wT{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return jI;case"reauthViaPopup":case"reauthViaRedirect":return PI;default:_i(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zI=new bu(2e3,1e4);class po extends wT{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zI.get())};e()}}po.currentPopupAction=null;const BI="pendingRedirect",dh=new Map;class qI extends wT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await HI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HI(s,e){const i=KI(e),r=FI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function GI(s,e){dh.set(s._key(),e)}function FI(s){return ys(s._redirectPersistence)}function KI(s){return fh(BI,s.config.apiKey,s.name)}async function QI(s,e,i=!1){if(ii(s.app))return Promise.reject(vs(s));const r=pa(s),l=LI(r,e),d=await new qI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const YI=600*1e3;class XI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$I(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!RT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YI&&this.cachedEventUids.clear(),this.cachedEventUids.has(H0(e))}saveEventToCache(e){this.cachedEventUids.add(H0(e)),this.lastProcessedEventTime=Date.now()}}function H0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function RT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $I(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(s);default:return!1}}async function JI(s,e={}){return Cs(s,"GET","/v1/projects",e)}const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WI=/^https?/;async function ex(s){if(s.config.emulator)return;const{authorizedDomains:e}=await JI(s);for(const i of e)try{if(tx(i))return}catch{}_i(s,"unauthorized-domain")}function tx(s){const e=Hm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!WI.test(i))return!1;if(ZI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const nx=new bu(3e4,6e4);function G0(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ix(s){return new Promise((e,i)=>{function r(){G0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G0(),i(Bi(s,"network-request-failed"))},timeout:nx.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const l=KC("iframefcb");return qi()[l]=()=>{gapi.load?r():i(Bi(s,"network-request-failed"))},cT(`${FC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw mh=null,e})}let mh=null;function sx(s){return mh=mh||ix(s),mh}const rx=new bu(5e3,15e3),ax="__/auth/iframe",ox="emulator/auth/iframe",lx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Up(e,ox):`https://${s.config.authDomain}/${ax}`,r={apiKey:e.apiKey,appName:s.name,v:No},l=ux.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${du(r).slice(1)}`}async function hx(s){const e=await sx(s),i=qi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:cx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},rx.get());function _(){qi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dx=500,mx=600,px="_blank",gx="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(s,e,i,r=dx,l=mx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...fx,width:r.toString(),height:l.toString(),top:c,left:d},y=gn().toLowerCase();i&&(p=iT(y)?px:i),tT(y)&&(e=e||gx,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[Q,Z])=>`${M}${Q}=${Z},`,"");if(LC(y)&&p!=="_self")return _x(e||"",p),new F0(null);const w=window.open(e||"",p,b);Te(w,s,"popup-blocked");try{w.focus()}catch{}return new F0(w)}function _x(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const vx="__/auth/handler",Ex="emulator/auth/handler",Tx=encodeURIComponent("fac");async function K0(s,e,i,r,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:No,eventId:l};if(e instanceof dT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",jS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof Au){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${Tx}=${encodeURIComponent(_)}`:"";return`${bx(s)}?${du(p).slice(1)}${y}`}function bx({config:s}){return s.emulator?Up(s,Ex):`https://${s.authDomain}/${vx}`}const ym="webStorageSupport";class Sx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=QI,this._overrideRedirectResult=GI}async _openPopup(e,i,r,l){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await K0(e,i,r,Hm(),l);return yx(e,c,qp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await K0(e,i,r,Hm(),l);return RI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(As(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await hx(e),r=new XI(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ym,{type:ym},l=>{const c=l?.[0]?.[ym];c!==void 0&&i(!!c),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ex(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return lT()||nT()||jp()}}const Ax=Sx;var Q0="@firebase/auth",Y0="1.12.0";class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cx(s){To(new oa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(s)},y=new qC(r,l,c,_);return ZC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),To(new oa("auth-internal",e=>{const i=pa(e.getProvider("auth").getImmediate());return(r=>new wx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(Q0,Y0,Rx(s)),gr(Q0,Y0,"esm2020")}const Ix=300,xx=lE("authIdTokenMaxAge")||Ix;let X0=null;const Nx=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>xx)return;const l=i?.token;X0!==l&&(X0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Dx(s=Zm()){const e=Jm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=JC(s,{popupRedirectResolver:Ax,persistence:[kI,SI,ET]}),r=lE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Nx(c.toString());_I(i,d,()=>d(i.currentUser)),yI(i,p=>d(p))}}const l=aE("auth");return l&&WC(i,`http://${l}`),i}function Ox(){return document.getElementsByTagName("head")?.[0]??document}HC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Ox().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cx("Browser");const CT=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const Mx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Vx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const $0=s=>{const e=Vx(s);return e.charAt(0).toUpperCase()+e.slice(1)};var kx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Ux=Oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Oe.createElement("svg",{ref:_,...kx,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:CT("lucide",l),...!c&&!Lx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Oe.createElement(y,b)),...Array.isArray(c)?c:[c]]));const $e=(s,e)=>{const i=Oe.forwardRef(({className:r,...l},c)=>Oe.createElement(Ux,{ref:c,iconNode:e,className:CT(`lucide-${Mx($0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=$0(s),i};const Px=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jx=$e("bell",Px);const zx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bx=$e("check",zx);const qx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hx=$e("circle-check",qx);const Gx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Fx=$e("clock",Gx);const Kx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],Qx=$e("compass",Kx);const Yx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xx=$e("copy",Yx);const $x=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Jx=$e("crown",$x);const Zx=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],_m=$e("gamepad-2",Zx);const Wx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eN=$e("image",Wx);const tN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],nN=$e("lock-open",tN);const iN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ih=$e("lock",iN);const sN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],J0=$e("log-out",sN);const rN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],aN=$e("mail",rN);const oN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Z0=$e("message-square",oN);const lN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],uN=$e("palette",lN);const cN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hN=$e("plus",cN);const fN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vm=$e("refresh-cw",fN);const dN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mN=$e("search",dN);const pN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W0=$e("shield-check",pN);const gN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yN=$e("shield",gN);const _N=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],vN=$e("skull",_N);const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],TN=$e("target",EN);const bN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],eE=$e("timer",bN);const SN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AN=$e("trash-2",SN);const wN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RN=$e("triangle-alert",wN);const CN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IN=$e("user-minus",CN);const xN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Em=$e("user-plus",xN);const NN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],DN=$e("user-x",NN);const ON=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],MN=$e("user",ON);const VN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tE=$e("users",VN);const kN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sh=$e("x",kN);const LN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],UN=$e("zap",LN),nE={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"}},PN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},jN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(s){console.error("Failed to parse environment firebase config",s)}return PN},ph=jN(),Qm=!!(ph&&ph.apiKey&&ph.apiKey.startsWith("AIza")),zN=typeof __app_id<"u"?__app_id:"community_calendar_production",ze=zN.replace(/[^a-zA-Z0-9]/g,"_");let Tm,Nn,ge;if(Qm)try{Tm=BA().length>0?Zm():dE(ph),Nn=Dx(Tm),ge=rC(Tm)}catch(s){console.error("Firebase Initialization Error:",s)}const uo=({src:s,name:e,size:i="md",className:r=""})=>{const l={sm:"w-6 h-6 text-[8px]",md:"w-10 h-10 text-[12px]",lg:"w-16 h-16 text-xl",xl:"w-32 h-32 text-4xl"},c=typeof e=="string"?e:"Operator";return s&&typeof s=="string"&&s.startsWith("http")?S.jsx("img",{src:s,alt:c,className:`${l[i]} rounded-2xl object-cover border border-white/10 shadow-md ${r}`,onError:d=>{d.target.src="",d.target.onerror=null}}):S.jsx("div",{className:`${l[i]} rounded-2xl bg-indigo-600 flex items-center justify-center text-white font-black uppercase shadow-lg border border-white/10 ${r}`,children:c.charAt(0)})},BN=()=>{const[s,e]=Oe.useState(null),[i,r]=Oe.useState(!0),[l,c]=Oe.useState("login"),[d,p]=Oe.useState({email:"",password:"",displayName:""}),[_,y]=Oe.useState(null),[b,w]=Oe.useState(!1),[M,Q]=Oe.useState([]),[Z,ae]=Oe.useState([]),[te,ye]=Oe.useState("all"),[Ae,Se]=Oe.useState("calendar"),[Je,ft]=Oe.useState(!1),[Ke,x]=Oe.useState(!1),[A,I]=Oe.useState(!1),[k,N]=Oe.useState(null),[L,R]=Oe.useState(null),[mt,At]=Oe.useState(!1),[G,se]=Oe.useState([]),[me,Ve]=Oe.useState(!1),[Ze,V]=Oe.useState(!1),[Y,ne]=Oe.useState(""),[oe,Ee]=Oe.useState(!1),[Ie,Me]=Oe.useState(!1),[xt,ct]=Oe.useState(!1),[ri,Ki]=Oe.useState(""),[Cr,Qi]=Oe.useState(null),[Tn,Ir]=Oe.useState(""),[vi,Is]=Oe.useState(!1),[tn,vt]=Oe.useState({name:"",desc:"",isPrivate:!1}),[W,$t]=Oe.useState({displayName:"Operator",photoURL:"",joinedGuilds:[],friends:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""]}),re=Oe.useMemo(()=>nE[W.theme]||nE.light,[W.theme]),[Nt,wt]=Oe.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});Oe.useEffect(()=>{if(!Qm||!Nn){r(!1);return}const D=vI(Nn,ie=>{e(ie),r(!1)});return()=>D()},[]),Oe.useEffect(()=>{if(!s||!ge||!s.emailVerified)return;const D=rt(ge,"artifacts",ze,"users",s.uid,"profile","info");(async()=>(await I0(D)).exists()||await gC(D,{displayName:d.displayName||`Operator_${s.uid.slice(0,4)}`,photoURL:"",joinedGuilds:[],friends:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""],createdAt:oo()}))();const fe=th(ps(ge,"artifacts",ze,"public","data","sessions"),Ge=>{Q(Ge.docs.map(dt=>({id:dt.id,...dt.data()})))}),de=th(ps(ge,"artifacts",ze,"public","data","guilds"),Ge=>{ae(Ge.docs.map(dt=>({id:dt.id,...dt.data()})))}),Ue=th(D,Ge=>{Ge.exists()&&$t(dt=>({...dt,...Ge.data()}))}),Kt=th(ps(ge,"artifacts",ze,"users",s.uid,"notifications"),Ge=>{se(Ge.docs.map(dt=>({id:dt.id,...dt.data()})))});return()=>{fe(),de(),Ue(),Kt()}},[s,s?.emailVerified]);const Yi=async D=>{D.preventDefault(),y(null),r(!0);try{if(l==="register"){const ie=await pI(Nn,d.email,d.password);await j0(ie.user)}else await gI(Nn,d.email,d.password)}catch(ie){y(ie.message)}finally{r(!1)}},xr=async()=>{if(Nn.currentUser){w(!0);try{await Z1(Nn.currentUser),e(Nn.currentUser)}catch{y("SYNC FAILED: Try again in a moment.")}finally{w(!1)}}},Nr=async()=>{if(Nn.currentUser)try{await j0(Nn.currentUser),y("NEW VERIFICATION LINK TRANSMITTED")}catch(D){y(D.message)}},bn=async D=>{if(!(!s||!ge)){Is(!0);try{const ie=Hl(ge),fe=rt(ge,"artifacts",ze,"users",s.uid,"profile","info");ie.set(fe,D,{merge:!0});const de=rt(ge,"artifacts",ze,"public","data","user_directory",s.uid);ie.set(de,{displayName:D.displayName,photoURL:D.photoURL||"",handles:D.handles||{},showcaseGames:D.showcaseGames||[],theme:D.theme||"light",uid:s.uid},{merge:!0}),Z.forEach(Ue=>{const Kt=Ue.members?.findIndex(Ge=>(Ge.uid||Ge)===s.uid);if(Kt!==-1){const Ge=[...Ue.members];Ge[Kt]={uid:s.uid,name:D.displayName,photoURL:D.photoURL||""},ie.update(rt(ge,"artifacts",ze,"public","data","guilds",Ue.id),{members:Ge})}}),M.forEach(Ue=>{let Kt=!1;const Ge={};Ue.userId===s.uid&&(Ge.userName=D.displayName,Ge.userPhotoURL=D.photoURL||"",Kt=!0);const dt=Ue.participants?.findIndex(Ns=>Ns.uid===s.uid);if(dt!==-1){const Ns=[...Ue.participants];Ns[dt]={uid:s.uid,name:D.displayName,photoURL:D.photoURL||""},Ge.participants=Ns,Kt=!0}Kt&&ie.update(rt(ge,"artifacts",ze,"public","data","sessions",Ue.id),Ge)}),await ie.commit()}finally{setTimeout(()=>Is(!1),800)}}},Po=async D=>{!s||!ge||await eh(ps(ge,"artifacts",ze,"users",D.uid,"notifications"),{type:"friend_request",senderUid:s.uid,senderName:W.displayName,senderPhotoURL:W.photoURL||"",timestamp:oo()})},ga=async D=>{if(!s||!ge)return;const ie=Hl(ge),fe=rt(ge,"artifacts",ze,"users",s.uid,"profile","info");ie.update(fe,{friends:Wc({uid:D.senderUid,name:D.senderName,photoURL:D.senderPhotoURL||""})});const de=rt(ge,"artifacts",ze,"users",D.senderUid,"profile","info");ie.update(de,{friends:Wc({uid:s.uid,name:W.displayName,photoURL:W.photoURL||""})});const Ue=rt(ge,"artifacts",ze,"users",s.uid,"notifications",D.id);ie.delete(Ue),await ie.commit()},ya=async D=>{if(!s||!ge)return;const ie=W.friends?.find(Ue=>Ue.uid===D);if(!ie)return;const fe=Hl(ge);fe.update(rt(ge,"artifacts",ze,"users",s.uid,"profile","info"),{friends:Bl(ie)});const de=rt(ge,"artifacts",ze,"users",D,"profile","info");fe.update(de,{friends:Bl({uid:s.uid,name:W.displayName,photoURL:W.photoURL||""})}),await fe.commit()},_a=async()=>{if(!(!s||!ge||!Nn.currentUser)){ct(!0);try{const D=Hl(ge);Z.forEach(ie=>{const fe=ie.members?.find(de=>(de.uid||de)===s.uid);fe&&(ie.members?.length<=1?D.delete(rt(ge,"artifacts",ze,"public","data","guilds",ie.id)):D.update(rt(ge,"artifacts",ze,"public","data","guilds",ie.id),{members:Bl(fe)}))}),M.forEach(ie=>{const fe=ie.participants?.find(de=>de.uid===s.uid);fe&&D.update(rt(ge,"artifacts",ze,"public","data","sessions",ie.id),{participants:Bl(fe)}),ie.userId===s.uid&&D.delete(rt(ge,"artifacts",ze,"public","data","sessions",ie.id))}),D.delete(rt(ge,"artifacts",ze,"users",s.uid,"profile","info")),D.delete(rt(ge,"artifacts",ze,"public","data","user_directory",s.uid)),await D.commit(),await EI(Nn.currentUser)}catch{y("RE-AUTHENTICATION REQUIRED: Please re-login before terminating account.")}finally{ct(!1),Me(!1)}}},Mn=async D=>{if(!s||!ge)return;const ie=W.joinedGuilds||[];if(ie.includes(D.id)){const de=ie.filter(Kt=>Kt!==D.id);await bn({...W,joinedGuilds:de});const Ue=D.members?.find(Kt=>(Kt.uid||Kt)===s.uid);D.members?.length===1?await lo(rt(ge,"artifacts",ze,"public","data","guilds",D.id)):await ql(rt(ge,"artifacts",ze,"public","data","guilds",D.id),{members:Bl(Ue)})}else{if(D.isPrivate)return;await bn({...W,joinedGuilds:[...ie,D.id]}),await ql(rt(ge,"artifacts",ze,"public","data","guilds",D.id),{members:Wc({uid:s.uid,name:W.displayName,photoURL:W.photoURL||""})})}},Ft=async D=>{if(!ge||!s)return;const ie=D.participants||[];if(ie.some(de=>de.uid===s.uid)){const de=ie.filter(Ue=>Ue.uid!==s.uid);await ql(rt(ge,"artifacts",ze,"public","data","sessions",D.id),{participants:de})}else{if(ie.length>=(Number(D.maxOpenings)||0)+1)return;const de=[...ie,{uid:s.uid,name:W.displayName,photoURL:W.photoURL||""}];await ql(rt(ge,"artifacts",ze,"public","data","sessions",D.id),{participants:de})}},hn=async D=>{if(ge){At(!0);try{const ie=await I0(rt(ge,"artifacts",ze,"public","data","user_directory",D));ie.exists()&&R(ie.data())}finally{At(!1)}}},bt=async D=>{if(D.preventDefault(),!(!ge||!s)){Ee(!0);try{await eh(ps(ge,"artifacts",ze,"public","data","feedback"),{message:Y,senderName:W.displayName,senderUid:s.uid,timestamp:oo()}),V(!0),ne(""),setTimeout(()=>{Ve(!1),V(!1)},2e3)}finally{Ee(!1)}}},va=async D=>{if(!window.confirm("PERMANENT DISBAND?"))return;await lo(rt(ge,"artifacts",ze,"public","data","guilds",D)),(await pC(ps(ge,"artifacts",ze,"public","data","sessions"))).docs.filter(fe=>fe.data().guildId===D).forEach(fe=>lo(fe.ref))},xs=async()=>{if(!tn.name||!s||!ge)return;const D=Math.random().toString(36).substring(2,8).toUpperCase(),ie=await eh(ps(ge,"artifacts",ze,"public","data","guilds"),{name:tn.name,desc:tn.desc||"Active Sector",ownerId:s.uid,members:[{uid:s.uid,name:W.displayName,photoURL:W.photoURL||""}],isPrivate:tn.isPrivate,inviteCode:D,createdAt:oo()});await bn({...W,joinedGuilds:[...W.joinedGuilds||[],ie.id]}),vt({name:"",desc:"",isPrivate:!1}),x(!1)},Ea=async D=>{if(D.preventDefault(),!ri||!ge||!s)return;Qi(null);const ie=ri.toUpperCase().trim(),fe=Z.find(de=>de.inviteCode===ie);if(!fe){Qi("INVALID CODE");return}await bn({...W,joinedGuilds:[...W.joinedGuilds||[],fe.id]}),await ql(rt(ge,"artifacts",ze,"public","data","guilds",fe.id),{members:Wc({uid:s.uid,name:W.displayName,photoURL:W.photoURL||""})}),Ki(""),ye(fe.id)},Gn=async D=>{if(D.preventDefault(),!ge||!s)return;const ie=Nt.guildId||te;if(ie==="all"||!ie)return;const fe=await eh(ps(ge,"artifacts",ze,"public","data","sessions"),{...Nt,maxOpenings:Number(Nt.maxOpenings),guildId:ie,userId:s.uid,userName:W.displayName,userPhotoURL:W.photoURL||"",participants:[{uid:s.uid,name:W.displayName,photoURL:W.photoURL||""}],createdAt:oo()}),de=Z.find(Ue=>Ue.id===ie);if(de&&W.friends?.length>0){const Ue=Hl(ge);W.friends.filter(Ge=>de.members.some(dt=>(dt.uid||dt)===Ge.uid)).forEach(Ge=>{const dt=rt(ps(ge,"artifacts",ze,"users",Ge.uid,"notifications"));Ue.set(dt,{type:"session_alert",senderName:W.displayName,senderPhotoURL:W.photoURL||"",gameTitle:Nt.gameTitle,guildName:de.name,sessionId:fe.id,timestamp:oo()})}),await Ue.commit()}ft(!1)},Xi=Oe.useMemo(()=>{const D=W.joinedGuilds||[],ie=M.filter(de=>(te==="all"?D.includes(de.guildId):de.guildId===te)&&String(de.gameTitle).toLowerCase().includes(Tn.toLowerCase())).sort((de,Ue)=>String(de.date).localeCompare(String(Ue.date))),fe={};return ie.forEach(de=>{const Ue=String(de.date);fe[Ue]||(fe[Ue]=[]),fe[Ue].push(de)}),fe},[M,te,W.joinedGuilds,Tn]);return Qm?i?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:S.jsx(_m,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):s?s&&!s.emailVerified?S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white text-center",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[5rem] border border-zinc-800 shadow-2xl relative",children:[S.jsxs("div",{className:"mb-10",children:[S.jsx(aN,{className:"w-16 h-16 text-indigo-400 mx-auto mb-6 animate-pulse"}),S.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Verify Intel"})]}),S.jsxs("button",{onClick:xr,disabled:b,className:"w-full p-6 rounded-3xl bg-indigo-600 font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-3 active:scale-95 transition",children:[b?S.jsx(vm,{className:"w-4 h-4 animate-spin"}):S.jsx(W0,{className:"w-4 h-4"})," Access Sector"]}),S.jsx("button",{onClick:Nr,className:"w-full mt-4 p-6 rounded-3xl bg-white/5 border border-white/10 font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Resend Transmission"}),S.jsxs("button",{onClick:()=>z0(Nn),className:"mt-12 flex items-center gap-2 mx-auto text-[9px] font-black uppercase opacity-30 hover:opacity-100 transition",children:[S.jsx(J0,{className:"w-3 h-3"})," Abort Registry"]}),_&&S.jsx("div",{className:"mt-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-[9px] text-emerald-500 font-bold uppercase",children:_})]})}):S.jsxs("div",{className:`min-h-screen ${re.bg} ${re.text} transition-colors duration-500`,children:[S.jsxs("header",{className:`${re.header} border-b ${re.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[S.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>Se("calendar"),children:[S.jsx(_m,{className:`w-8 h-8 ${re.accent}`}),S.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),S.jsxs("nav",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>Se("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Ae==="calendar"?re.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),S.jsx("button",{onClick:()=>Se("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Ae==="profile"?re.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),S.jsxs("button",{onClick:()=>I(!A),className:"relative p-2 opacity-40 hover:text-indigo-500 transition",children:[S.jsx(jx,{className:"w-5 h-5"}),G.length>0&&S.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-rose-500 rounded-full flex items-center justify-center text-[8px] font-black text-white shadow-lg animate-pulse",children:G.length})]}),S.jsx("button",{onClick:()=>Ve(!0),className:"p-2 opacity-40 hover:text-indigo-500 transition",children:S.jsx(Z0,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>z0(Nn),className:"p-2 opacity-40 hover:text-rose-500 transition",children:S.jsx(J0,{className:"w-4 h-4"})})]})]}),A&&S.jsxs("div",{className:`fixed top-20 right-8 z-[100] w-80 ${re.card} border ${re.border} rounded-3xl shadow-2xl p-6 animate-in slide-in-from-top-4 duration-300`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"Tactical Comms"}),S.jsx("button",{onClick:()=>I(!1),children:S.jsx(sh,{className:"w-4 h-4 opacity-40"})})]}),S.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:G.length===0?S.jsx("p",{className:"text-center py-8 text-[10px] font-black uppercase opacity-20 italic",children:"Sector is silent"}):G.sort((D,ie)=>ie.timestamp-D.timestamp).map(D=>S.jsxs("div",{className:`${re.bg} p-4 rounded-2xl border ${re.border}`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx(uo,{src:D.senderPhotoURL,name:D.senderName,size:"sm"}),S.jsx("div",{className:"flex-1 min-w-0",children:D.type==="friend_request"?S.jsxs("p",{className:"text-[10px] font-black uppercase leading-tight",children:[D.senderName," ",S.jsx("span",{className:"opacity-40 font-bold",children:"requested enlistment"})]}):S.jsxs("p",{className:"text-[10px] font-black uppercase leading-tight",children:[D.senderName," ",S.jsx("span",{className:"opacity-40 font-bold",children:"deployed"})," ",D.gameTitle," ",S.jsx("span",{className:"opacity-40 font-bold",children:"in"})," ",D.guildName]})})]}),S.jsx("div",{className:"flex gap-2",children:D.type==="friend_request"?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>ga(D),className:"flex-1 py-2 bg-indigo-600 text-white rounded-xl flex items-center justify-center transition active:scale-95",children:S.jsx(Bx,{className:"w-3 h-3"})}),S.jsx("button",{onClick:()=>lo(rt(ge,"artifacts",ze,"users",s.uid,"notifications",D.id)),className:"flex-1 py-2 bg-rose-500/10 text-rose-500 rounded-xl flex items-center justify-center transition active:scale-95",children:S.jsx(DN,{className:"w-3 h-3"})})]}):S.jsx("button",{onClick:()=>{lo(rt(ge,"artifacts",ze,"users",s.uid,"notifications",D.id)),Se("calendar"),ye("all"),I(!1)},className:"w-full py-2 bg-indigo-600/10 text-indigo-400 rounded-xl font-black uppercase text-[8px] tracking-widest",children:"Acknowledge"})})]},D.id))})]}),S.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[S.jsxs("aside",{className:"w-full md:w-72",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Tactical Sectors"}),S.jsx("button",{onClick:()=>ye("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${te==="all"?re.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),S.jsx("div",{className:"mt-6 space-y-2",children:Z.filter(D=>W.joinedGuilds?.includes(D.id)).map(D=>S.jsxs("div",{className:"flex items-center gap-1 group",children:[S.jsx("button",{onClick:()=>ye(D.id),className:`flex-1 text-left p-3 rounded-xl font-bold text-xs transition truncate ${te===D.id?re.button:"hover:bg-slate-500/10"}`,children:String(D.name)}),S.jsx("button",{onClick:()=>N(D),className:"p-3 rounded-xl bg-slate-500/5 hover:bg-indigo-500 hover:text-white transition opacity-0 group-hover:opacity-100",children:S.jsx(tE,{className:"w-4 h-4"})})]},D.id))}),S.jsxs("button",{onClick:()=>x(!0),className:"w-full p-4 mt-6 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[S.jsx(Qx,{className:"w-4 h-4"})," Find Sectors"]})]}),S.jsx("div",{className:"flex-1",children:Ae==="calendar"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[S.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:te==="all"?"The Hub":Z.find(D=>D.id===te)?.name}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx(mN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"text",placeholder:"Filter...",value:Tn,onChange:D=>Ir(D.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${re.card} border ${re.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),S.jsx("button",{onClick:()=>ft(!0),className:`${re.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg`,children:"+ New Mission"})]})]}),S.jsx("div",{className:"space-y-12",children:Object.entries(Xi).map(([D,ie])=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[S.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:D}),S.jsx("div",{className:`flex-1 h-px ${re.border}`})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:ie.map(fe=>S.jsxs("div",{className:`${re.card} border ${re.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[S.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors leading-tight mb-4",children:String(fe.gameTitle)}),S.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 opacity-40",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Fx,{className:"w-3 h-3"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:String(fe.startTime)})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(eE,{className:"w-3 h-3"}),S.jsxs("span",{className:"text-[10px] font-black uppercase",children:[fe.duration," HR"]})]})]}),S.jsxs("div",{className:"mb-8 flex-1",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-4",children:[fe.participants?.length||0," / ",(Number(fe.maxOpenings)||0)+1," Enlisted"]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:fe.participants?.map((de,Ue)=>S.jsxs("button",{onClick:()=>hn(de.uid),className:`flex items-center gap-2 text-[9px] font-black px-3 py-1.5 rounded-full ${re.bg} border ${re.border} uppercase shadow-sm hover:border-indigo-500 transition`,children:[S.jsx(uo,{src:de.photoURL,name:de.name,size:"sm"}),String(de.name)]},Ue))})]}),S.jsxs("div",{className:"flex gap-3 mt-auto",children:[S.jsx("button",{onClick:()=>Ft(fe),className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition ${fe.participants?.some(de=>de.uid===s.uid)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":re.button}`,children:fe.participants?.some(de=>de.uid===s.uid)?"Retire":"Enlist"}),fe.userId===s.uid&&S.jsx("button",{onClick:()=>lo(rt(ge,"artifacts",ze,"public","data","sessions",fe.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:S.jsx(AN,{className:"w-5 h-5"})})]})]},fe.id))})]},D))})]}):S.jsxs("div",{className:"max-w-6xl mx-auto pb-20 space-y-8",children:[S.jsxs("div",{className:`${re.card} border ${re.border} rounded-[5rem] p-12 shadow-2xl relative overflow-hidden`,children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[S.jsxs("div",{className:"w-full md:w-1/3 text-center",children:[S.jsxs("div",{className:"relative group mx-auto w-fit",children:[S.jsx(uo,{src:W.photoURL,name:W.displayName,size:"xl",className:"mx-auto mb-8"}),S.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-[3rem] flex items-center justify-center opacity-0 group-hover:opacity-100 transition cursor-pointer",children:S.jsx(eN,{className:"text-white w-8 h-8"})})]}),S.jsx("input",{type:"text",value:W.displayName,onChange:D=>$t({...W,displayName:D.target.value}),className:"w-full bg-transparent text-center text-3xl font-black italic uppercase outline-none focus:text-indigo-600 transition"}),S.jsxs("div",{className:"mt-8 flex gap-3",children:[S.jsx("button",{onClick:()=>$t({...W,theme:"light"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${W.theme==="light"?"border-indigo-600":"border-transparent opacity-40"}`,children:S.jsx(uN,{className:"w-4 h-4 mx-auto"})}),S.jsx("button",{onClick:()=>$t({...W,theme:"dark"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${W.theme==="dark"?"border-indigo-400":"border-transparent opacity-40"}`,children:S.jsx(UN,{className:"w-4 h-4 mx-auto"})})]}),S.jsxs("button",{onClick:()=>bn(W),disabled:vi,className:`w-full mt-6 py-5 rounded-3xl ${re.button} font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2`,children:[vi?S.jsx(vm,{className:"w-4 h-4 animate-spin"}):S.jsx(W0,{className:"w-4 h-4"})," SYNC PROFILE"]}),S.jsx("div",{className:"mt-12",children:S.jsx("button",{onClick:()=>Me(!0),className:"text-[10px] font-black uppercase text-rose-500 opacity-40 hover:opacity-100 transition tracking-widest underline decoration-dotted underline-offset-4",children:"Terminate Identity"})})]}),S.jsxs("div",{className:"flex-1 space-y-10",children:[S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(MN,{className:"w-3 h-3 inline mr-2"})," Visual Identity"]}),S.jsx("input",{placeholder:"AVATAR IMAGE URL (PNG/JPG)",className:`w-full p-4 rounded-2xl ${re.bg} border ${re.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:W.photoURL,onChange:D=>$t({...W,photoURL:D.target.value})})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(ih,{className:"w-3 h-3 inline mr-2"})," Identity Matrix"]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[S.jsx("input",{placeholder:"STEAM",className:`w-full p-4 rounded-2xl ${re.bg} border ${re.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:W.handles?.steam,onChange:D=>$t({...W,handles:{...W.handles,steam:D.target.value}})}),S.jsx("input",{placeholder:"PSN",className:`w-full p-4 rounded-2xl ${re.bg} border ${re.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:W.handles?.psn,onChange:D=>$t({...W,handles:{...W.handles,psn:D.target.value}})}),S.jsx("input",{placeholder:"XBOX",className:`w-full p-4 rounded-2xl ${re.bg} border ${re.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:W.handles?.xbox,onChange:D=>$t({...W,handles:{...W.handles,xbox:D.target.value}})})]})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(TN,{className:"w-3 h-3 inline mr-2"})," Showcase"]}),S.jsx("div",{className:"space-y-3",children:[0,1,2,3,4].map(D=>S.jsx("input",{placeholder:`GAME 0${D+1}`,className:`w-full p-4 rounded-2xl ${re.bg} border ${re.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:W.showcaseGames?.[D]||"",onChange:ie=>{const fe=[...W.showcaseGames||["","","","",""]];fe[D]=ie.target.value,$t({...W,showcaseGames:fe})}},D))})]})]})]})]}),S.jsxs("div",{className:`${re.card} border ${re.border} rounded-[4rem] p-12 shadow-xl`,children:[S.jsxs("p",{className:"text-[11px] font-black uppercase opacity-30 mb-8 tracking-widest flex items-center gap-2",children:[S.jsx(tE,{className:"w-4 h-4"})," Enlisted Allies (",W.friends?.length||0,")"]}),W.friends?.length>0?S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:W.friends.map(D=>S.jsxs("button",{onClick:()=>hn(D.uid),className:`${re.bg} border ${re.border} p-6 rounded-[2.5rem] flex flex-col items-center gap-3 hover:border-indigo-500 transition group`,children:[S.jsx(uo,{src:D.photoURL,name:D.name,size:"md",className:"group-hover:scale-110 transition"}),S.jsx("p",{className:"text-[10px] font-black uppercase truncate w-full text-center",children:D.name})]},D.uid))}):S.jsxs("div",{className:"py-12 text-center border-2 border-dashed border-slate-500/10 rounded-[3rem] opacity-20",children:[S.jsx(Em,{className:"mx-auto mb-4 w-10 h-10"}),S.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest italic",children:"No allies enlisted."})]})]})]})})]}),Ie&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/98 backdrop-blur-xl",children:S.jsxs("div",{className:"bg-zinc-900 border border-rose-500/30 rounded-[5rem] p-12 max-w-lg w-full text-center shadow-2xl relative overflow-hidden",children:[S.jsx(RN,{className:"w-16 h-16 text-rose-500 mx-auto mb-6 animate-pulse"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-rose-500 mb-2",children:"Final Warning"}),S.jsx("p",{className:"text-[11px] font-black uppercase text-white/40 tracking-widest leading-relaxed mb-10",children:"Permanently terminate your identity? Registry will be purged."}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("button",{onClick:_a,disabled:xt,className:"w-full py-6 rounded-3xl bg-rose-600 text-white font-black uppercase text-xs tracking-widest shadow-xl transition",children:"Confirm"}),S.jsx("button",{onClick:()=>Me(!1),className:"w-full py-6 rounded-3xl bg-white/5 border border-white/10 text-white font-black uppercase text-[10px] tracking-widest",children:"Cancel"})]})]})}),L&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl transition-all",children:S.jsxs("div",{className:`${L.theme==="dark"?"bg-zinc-900 border-zinc-800 text-white":"bg-white border-slate-100 text-slate-900"} border rounded-[5rem] p-12 max-w-xl w-full shadow-2xl relative overflow-hidden`,children:[S.jsx("button",{onClick:()=>R(null),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(sh,{})}),S.jsxs("div",{className:"text-center mb-8",children:[S.jsx(uo,{src:L.photoURL,name:L.displayName,size:"xl",className:"mx-auto mb-6"}),S.jsx("h3",{className:"text-3xl font-black italic uppercase tracking-tight",children:L.displayName})]}),L.uid!==s?.uid&&S.jsx("div",{className:"flex justify-center mb-10",children:W.friends?.some(D=>D.uid===L.uid)?S.jsxs("button",{onClick:()=>ya(L.uid),className:"px-10 py-4 rounded-2xl bg-rose-500/10 text-rose-500 border border-rose-500/20 font-black uppercase text-[10px] tracking-widest flex items-center gap-2 active:scale-95 transition",children:[S.jsx(IN,{className:"w-4 h-4"})," Remove Ally"]}):S.jsxs("button",{onClick:()=>Po(L),disabled:G.some(D=>D.senderUid===L.uid),className:"px-10 py-4 rounded-2xl bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest flex items-center gap-2 active:scale-95 transition shadow-xl disabled:opacity-50",children:[S.jsx(Em,{className:"w-4 h-4"})," Enlist Ally"]})}),S.jsx("div",{className:"grid grid-cols-3 gap-4 mb-10",children:Object.entries(L.handles||{}).map(([D,ie])=>ie&&S.jsxs("div",{className:"p-3 bg-slate-500/5 border border-slate-500/10 rounded-xl text-center",children:[S.jsx("p",{className:"text-[7px] font-black uppercase opacity-40 mb-1",children:D}),S.jsx("p",{className:"text-[9px] font-black uppercase truncate",children:ie})]},D))}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 text-center tracking-widest",children:"Tactical Interests"}),L.showcaseGames?.map((D,ie)=>D&&S.jsxs("div",{className:"p-3 bg-black/20 rounded-xl border border-white/5 flex items-center gap-4",children:[S.jsxs("span",{className:"text-[9px] font-black opacity-20",children:["0",ie+1]}),S.jsx("span",{className:"text-xs font-black uppercase tracking-tight italic",children:D})]},ie))]})]})}),k&&S.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${re.card} border ${re.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:k.name}),k.isPrivate&&S.jsxs("div",{className:"mt-4 flex items-center gap-4 p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-2xl",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-[8px] font-black uppercase opacity-40 tracking-widest",children:"Sector Invite Code"}),S.jsx("p",{className:"text-2xl font-black italic text-indigo-400 tracking-tighter select-all",children:k.inviteCode})]}),S.jsx("button",{onClick:()=>navigator.clipboard.writeText(k.inviteCode),className:"p-3 rounded-xl bg-indigo-600 text-white shadow-lg",children:S.jsx(Xx,{className:"w-4 h-4"})})]})]}),S.jsx("button",{onClick:()=>N(null),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:S.jsx(sh,{})})]}),S.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:k.members?.map((D,ie)=>S.jsxs("button",{onClick:()=>hn(D.uid||D),className:`w-full text-left ${re.bg} p-4 rounded-3xl border ${re.border} flex items-center gap-4 hover:border-indigo-500 transition group`,children:[S.jsx(uo,{src:D.photoURL,name:D.name,size:"md",className:"group-hover:scale-110 transition"}),S.jsx("div",{className:"flex-1 overflow-hidden",children:S.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate",children:String(D.name||"Unknown Op")})}),(D.uid||D)===k.ownerId&&S.jsx(Jx,{className:"w-4 h-4 text-amber-500"})]},ie))}),S.jsx("button",{onClick:()=>N(null),className:"w-full py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest shadow-xl",children:"Close Roster"})]})}),Ke&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:S.jsxs("div",{className:`${re.card} border ${re.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-10",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Directory"}),S.jsx("button",{onClick:()=>x(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("div",{className:"mb-10 p-6 rounded-[2.5rem] bg-indigo-600/10 border border-indigo-500/20",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-40 mb-4 tracking-widest flex items-center gap-2",children:[S.jsx(ih,{className:"w-3 h-3"})," Secure Enlistment"]}),S.jsxs("form",{onSubmit:Ea,className:"flex gap-4",children:[S.jsx("input",{placeholder:"ENTER INVITE CODE",className:"flex-1 p-5 rounded-2xl bg-black/40 border border-indigo-500/30 outline-none text-xs font-black uppercase focus:border-indigo-500 transition text-white",value:ri,onChange:D=>Ki(D.target.value.toUpperCase()),maxLength:6}),S.jsx("button",{type:"submit",className:"px-8 py-5 rounded-2xl bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest shadow-xl transition",children:"Enlist"})]})]}),S.jsx("div",{className:"space-y-4 max-h-[30vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:Z.map(D=>S.jsxs("div",{className:`${re.bg} p-6 rounded-[2.5rem] border ${re.border} flex justify-between items-center group`,children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(D.name)}),D.isPrivate&&S.jsx(ih,{className:"w-3 h-3 opacity-30"})]}),S.jsxs("p",{className:"text-[9px] font-black opacity-30 mt-1 uppercase",children:[D.members?.length||0," Members"]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[D.isPrivate?S.jsx("div",{className:"px-6 py-3 rounded-2xl bg-slate-500/5 text-slate-400 text-[9px] font-black uppercase italic border border-white/5",children:"Private"}):S.jsx("button",{onClick:()=>Mn(D),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${W.joinedGuilds?.includes(D.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":re.button}`,children:W.joinedGuilds?.includes(D.id)?"Retire":"Enlist"}),D.ownerId===s?.uid&&S.jsx("button",{onClick:()=>va(D.id),className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:S.jsx(vN,{className:"w-4 h-4"})})]})]},D.id))}),S.jsxs("div",{className:`pt-10 border-t ${re.border} space-y-4`,children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"Commission Sector"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[S.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${re.bg} border ${re.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:tn.name,onChange:D=>vt({...tn,name:D.target.value})}),S.jsxs("button",{type:"button",onClick:()=>vt({...tn,isPrivate:!tn.isPrivate}),className:`p-5 rounded-2xl border-2 transition flex items-center justify-center gap-3 ${tn.isPrivate?"border-indigo-600 bg-indigo-500/10 text-indigo-400":"border-slate-500/20 opacity-40"}`,children:[tn.isPrivate?S.jsx(ih,{className:"w-4 h-4"}):S.jsx(nN,{className:"w-4 h-4"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:tn.isPrivate?"Private":"Public"})]})]}),S.jsx("button",{onClick:xs,className:`w-full py-5 rounded-3xl ${re.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Commission Registry"})]})]})}),me&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsx("div",{className:`${re.card} border ${re.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl relative`,children:Ze?S.jsxs("div",{className:"text-center py-20 animate-in fade-in zoom-in duration-500",children:[S.jsx(Hx,{className:"w-20 h-20 text-emerald-500 mx-auto mb-6 animate-bounce"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-emerald-500",children:"Received"})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>Ve(!1),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:S.jsx(sh,{})}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(Z0,{className:"w-12 h-12 text-indigo-500 mx-auto mb-6"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Submit Intelligence"})]}),S.jsxs("form",{onSubmit:bt,className:"space-y-6",children:[S.jsx("textarea",{required:!0,placeholder:"DESCRIBE ISSUE...",className:`w-full h-40 p-6 rounded-[2rem] ${re.bg} border ${re.border} outline-none font-black uppercase text-xs focus:border-indigo-500 transition shadow-inner resize-none`,value:Y,onChange:D=>ne(D.target.value)}),S.jsxs("button",{type:"submit",disabled:oe,className:`w-full py-5 rounded-3xl ${re.button} font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2`,children:[oe?S.jsx(vm,{className:"w-4 h-4 animate-spin"}):S.jsx(hN,{className:"w-4 h-4"})," TRANSMIT REPORT"]})]})]})})}),Je&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${re.card} border ${re.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-8",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),S.jsx("button",{onClick:()=>ft(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("form",{onSubmit:Gn,className:"space-y-6",children:[S.jsx("input",{placeholder:"GAME / OPERATION NAME",className:`w-full p-5 rounded-2xl ${re.bg} border ${re.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:Nt.gameTitle,onChange:D=>wt({...Nt,gameTitle:D.target.value}),required:!0}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${re.bg} border ${re.border} outline-none text-xs font-black`,value:Nt.date,onChange:D=>wt({...Nt,date:D.target.value})}),S.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${re.bg} border ${re.border} outline-none text-xs font-black`,value:Nt.startTime,onChange:D=>wt({...Nt,startTime:D.target.value})}),S.jsxs("div",{className:"relative",children:[S.jsx(eE,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"HR",className:`w-full pl-12 p-5 rounded-2xl ${re.bg} border ${re.border} outline-none text-xs font-black`,value:Nt.duration,onChange:D=>wt({...Nt,duration:D.target.value})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[S.jsxs("select",{className:`w-full p-5 rounded-2xl ${re.bg} border ${re.border} outline-none text-xs font-black uppercase`,value:Nt.guildId,onChange:D=>wt({...Nt,guildId:D.target.value}),required:!0,children:[S.jsx("option",{value:"",children:"Select Guild"}),Z.filter(D=>W.joinedGuilds?.includes(D.id)).map(D=>S.jsx("option",{value:D.id,children:String(D.name)},D.id))]}),S.jsxs("div",{className:"relative",children:[S.jsx(Em,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"SLOTS",className:`w-full pl-12 p-5 rounded-2xl ${re.bg} border ${re.border} outline-none text-xs font-black`,value:Nt.maxOpenings,onChange:D=>wt({...Nt,maxOpenings:D.target.value})})]})]}),S.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${re.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition mt-4`,children:"Deploy Mission"})]})]})})]}):S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(_m,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),S.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"})]}),S.jsxs("form",{onSubmit:Yi,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.email,onChange:D=>p({...d,email:D.target.value})}),S.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.password,onChange:D=>p({...d,password:D.target.value})}),_&&S.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),S.jsx("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Establish Link"})]}),S.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[S.jsx(yN,{className:"w-16 h-16 text-rose-500 mb-6"}),S.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"})]})};dS.createRoot(document.getElementById("root")).render(S.jsx(Oe.StrictMode,{children:S.jsx(BN,{})}));
