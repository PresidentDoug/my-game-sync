(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Zd={exports:{}},Ul={};var uv;function iS(){if(uv)return Ul;uv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var cv;function sS(){return cv||(cv=1,Zd.exports=iS()),Zd.exports}var S=sS(),Wd={exports:{}},Re={};var hv;function rS(){if(hv)return Re;hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ee={};function ge(M,Y,ne){this.props=M,this.context=Y,this.refs=ee,this.updater=ne||Z}ge.prototype.isReactComponent={},ge.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ge.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Se(){}Se.prototype=ge.prototype;function be(M,Y,ne){this.props=M,this.context=Y,this.refs=ee,this.updater=ne||Z}var Ye=be.prototype=new Se;Ye.constructor=be,re(Ye,ge.prototype),Ye.isPureReactComponent=!0;var ct=Array.isArray;function Ge(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,Y,ne){var ae=ne.ref;return{$$typeof:s,type:M,key:Y,ref:ae!==void 0?ae:null,props:ne}}function V(M,Y){return I(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return Y[ne]})}var R=/\/+/g;function ft(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Y.toString(36)}function kt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ge,Ge):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,ne,ae,ve){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(xe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case s:case e:Ue=!0;break;case b:return Ue=M._init,G(Ue(M._payload),Y,ne,ae,ve)}}if(Ue)return ve=ve(M),Ue=ae===""?"."+ft(M,0):ae,ct(ve)?(ne="",Ue!=null&&(ne=Ue.replace(R,"$&/")+"/"),G(ve,Y,ne,"",function(ri){return ri})):ve!=null&&(N(ve)&&(ve=V(ve,ne+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+Ue)),Y.push(ve)),1;Ue=0;var Lt=ae===""?".":ae+":";if(ct(M))for(var dt=0;dt<M.length;dt++)ae=M[dt],xe=Lt+ft(ae,dt),Ue+=G(ae,Y,ne,xe,ve);else if(dt=Q(M),typeof dt=="function")for(M=dt.call(M),dt=0;!(ae=M.next()).done;)ae=ae.value,xe=Lt+ft(ae,dt++),Ue+=G(ae,Y,ne,xe,ve);else if(xe==="object"){if(typeof M.then=="function")return G(kt(M),Y,ne,ae,ve);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ie(M,Y,ne){if(M==null)return M;var ae=[],ve=0;return G(M,ae,"","",function(xe){return Y.call(ne,xe,ve++)}),ae}function de(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ve=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Xe={map:ie,forEach:function(M,Y,ne){ie(M,function(){Y.apply(this,arguments)},ne)},count:function(M){var Y=0;return ie(M,function(){Y++}),Y},toArray:function(M){return ie(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=w,Re.Children=Xe,Re.Component=ge,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=be,Re.StrictMode=r,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,Y,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=re({},M.props),ve=M.key;if(Y!=null)for(xe in Y.key!==void 0&&(ve=""+Y.key),Y)!A.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(ae[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)ae.children=ne;else if(1<xe){for(var Ue=Array(xe),Lt=0;Lt<xe;Lt++)Ue[Lt]=arguments[Lt+2];ae.children=Ue}return I(M.type,ve,ae)},Re.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Re.createElement=function(M,Y,ne){var ae,ve={},xe=null;if(Y!=null)for(ae in Y.key!==void 0&&(xe=""+Y.key),Y)A.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=Y[ae]);var Ue=arguments.length-2;if(Ue===1)ve.children=ne;else if(1<Ue){for(var Lt=Array(Ue),dt=0;dt<Ue;dt++)Lt[dt]=arguments[dt+2];ve.children=Lt}if(M&&M.defaultProps)for(ae in Ue=M.defaultProps,Ue)ve[ae]===void 0&&(ve[ae]=Ue[ae]);return I(M,xe,ve)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:p,render:M}},Re.isValidElement=N,Re.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:de}},Re.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Re.startTransition=function(M){var Y=x.T,ne={};x.T=ne;try{var ae=M(),ve=x.S;ve!==null&&ve(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ge,Ve)}catch(xe){Ve(xe)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),x.T=Y}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(M){return x.H.use(M)},Re.useActionState=function(M,Y,ne){return x.H.useActionState(M,Y,ne)},Re.useCallback=function(M,Y){return x.H.useCallback(M,Y)},Re.useContext=function(M){return x.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,Y){return x.H.useDeferredValue(M,Y)},Re.useEffect=function(M,Y){return x.H.useEffect(M,Y)},Re.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(M,Y,ne){return x.H.useImperativeHandle(M,Y,ne)},Re.useInsertionEffect=function(M,Y){return x.H.useInsertionEffect(M,Y)},Re.useLayoutEffect=function(M,Y){return x.H.useLayoutEffect(M,Y)},Re.useMemo=function(M,Y){return x.H.useMemo(M,Y)},Re.useOptimistic=function(M,Y){return x.H.useOptimistic(M,Y)},Re.useReducer=function(M,Y,ne){return x.H.useReducer(M,Y,ne)},Re.useRef=function(M){return x.H.useRef(M)},Re.useState=function(M){return x.H.useState(M)},Re.useSyncExternalStore=function(M,Y,ne){return x.H.useSyncExternalStore(M,Y,ne)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.4",Re}var fv;function Qm(){return fv||(fv=1,Wd.exports=rS()),Wd.exports}var Me=Qm(),em={exports:{}},Pl={},tm={exports:{}},nm={};var dv;function aS(){return dv||(dv=1,(function(s){function e(G,ie){var de=G.length;G.push(ie);e:for(;0<de;){var Ve=de-1>>>1,Xe=G[Ve];if(0<l(Xe,ie))G[Ve]=ie,G[de]=Xe,de=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],de=G.pop();if(de!==ie){G[0]=de;e:for(var Ve=0,Xe=G.length,M=Xe>>>1;Ve<M;){var Y=2*(Ve+1)-1,ne=G[Y],ae=Y+1,ve=G[ae];if(0>l(ne,de))ae<Xe&&0>l(ve,ne)?(G[Ve]=ve,G[ae]=de,Ve=ae):(G[Ve]=ne,G[Y]=de,Ve=Y);else if(ae<Xe&&0>l(ve,de))G[Ve]=ve,G[ae]=de,Ve=ae;else break e}}return ie}function l(G,ie){var de=G.sortIndex-ie.sortIndex;return de!==0?de:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,w=null,O=3,Q=!1,Z=!1,re=!1,ee=!1,ge=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function Ye(G){for(var ie=i(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=G)r(y),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(y)}}function ct(G){if(re=!1,Ye(G),!Z)if(i(_)!==null)Z=!0,Ge||(Ge=!0,k());else{var ie=i(y);ie!==null&&kt(ct,ie.startTime-G)}}var Ge=!1,x=-1,A=5,I=-1;function V(){return ee?!0:!(s.unstable_now()-I<A)}function N(){if(ee=!1,Ge){var G=s.unstable_now();I=G;var ie=!0;try{e:{Z=!1,re&&(re=!1,Se(x),x=-1),Q=!0;var de=O;try{t:{for(Ye(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,O=w.priorityLevel;var Xe=Ve(w.expirationTime<=G);if(G=s.unstable_now(),typeof Xe=="function"){w.callback=Xe,Ye(G),ie=!0;break t}w===i(_)&&r(_),Ye(G)}else r(_);w=i(_)}if(w!==null)ie=!0;else{var M=i(y);M!==null&&kt(ct,M.startTime-G),ie=!1}}break e}finally{w=null,O=de,Q=!1}ie=void 0}}finally{ie?k():Ge=!1}}}var k;if(typeof be=="function")k=function(){be(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ft=R.port2;R.port1.onmessage=N,k=function(){ft.postMessage(null)}}else k=function(){ge(N,0)};function kt(G,ie){x=ge(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(G){switch(O){case 1:case 2:case 3:var ie=3;break;default:ie=O}var de=O;O=ie;try{return G()}finally{O=de}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=O;O=G;try{return ie()}finally{O=de}},s.unstable_scheduleCallback=function(G,ie,de){var Ve=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ve+de:Ve):de=Ve,G){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=de+Xe,G={id:b++,callback:ie,priorityLevel:G,startTime:de,expirationTime:Xe,sortIndex:-1},de>Ve?(G.sortIndex=de,e(y,G),i(_)===null&&G===i(y)&&(re?(Se(x),x=-1):re=!0,kt(ct,de-Ve))):(G.sortIndex=Xe,e(_,G),Z||Q||(Z=!0,Ge||(Ge=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ie=O;return function(){var de=O;O=ie;try{return G.apply(this,arguments)}finally{O=de}}}})(nm)),nm}var mv;function oS(){return mv||(mv=1,tm.exports=aS()),tm.exports}var im={exports:{}},fn={};var pv;function lS(){if(pv)return fn;pv=1;var s=Qm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},fn.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},fn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},fn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},fn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:Q}):b==="script"&&r.d.X(_,{crossOrigin:w,integrity:O,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},fn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},fn.requestFormReset=function(_){r.d.r(_)},fn.unstable_batchedUpdates=function(_,y){return _(y)},fn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var gv;function uS(){if(gv)return im.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),im.exports=lS(),im.exports}var yv;function cS(){if(yv)return Pl;yv=1;var s=oS(),e=Qm(),i=uS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),be=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case ge:return"Profiler";case ee:return"StrictMode";case ct:return"Suspense";case Ge:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case be:return t.displayName||"Context";case Se:return(t._context.displayName||"Context")+".Consumer";case Ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var kt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ve=[],Xe=-1;function M(t){return{current:t}}function Y(t){0>Xe||(t.current=Ve[Xe],Ve[Xe]=null,Xe--)}function ne(t,n){Xe++,Ve[Xe]=t.current,t.current=n}var ae=M(null),ve=M(null),xe=M(null),Ue=M(null);function Lt(t,n){switch(ne(xe,n),ne(ve,t),ne(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?O_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=O_(n),t=M_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),ne(ae,t)}function dt(){Y(ae),Y(ve),Y(xe)}function ri(t){t.memoizedState!==null&&ne(Ue,t);var n=ae.current,a=M_(n,t.type);n!==a&&(ne(ve,t),ne(ae,a))}function Ki(t){ve.current===t&&(Y(ae),Y(ve)),Ue.current===t&&(Y(Ue),Ml._currentValue=de)}var wr,Qi;function Tn(t){if(wr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);wr=n&&n[1]||"",Qi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+t+Qi}var Rr=!1;function vi(t,n){if(!t||Rr)return"";Rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tn(a):""}function Cs(t,n){switch(t.tag){case 26:case 27:case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return t.child!==n&&n!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return vi(t.type,!1);case 11:return vi(t.type.render,!1);case 1:return vi(t.type,!0);case 31:return Tn("Activity");default:return""}}function tn(t){try{var n="",a=null;do n+=Cs(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,te=s.unstable_scheduleCallback,nn=s.unstable_cancelCallback,se=s.unstable_shouldYield,It=s.unstable_requestPaint,St=s.unstable_now,Yi=s.unstable_getCurrentPriorityLevel,Cr=s.unstable_ImmediatePriority,Ir=s.unstable_UserBlockingPriority,bn=s.unstable_NormalPriority,Uo=s.unstable_LowPriority,pa=s.unstable_IdlePriority,ga=s.log,ya=s.unstable_setDisableYieldValue,Mn=null,Qt=null;function Sn(t){if(typeof ga=="function"&&ya(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Mn,t)}catch{}}var Tt=Math.clz32?Math.clz32:va,_a=Math.log,Is=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(_a(t)/Is|0)|0}var U=256,fe=262144,ce=4194304;function _e(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ie(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=_e(o):(g&=E,g!==0?h=_e(g):a||(a=E&~t,a!==0&&(h=_e(a))))):(E=o&~f,E!==0?h=_e(E):g!==0?h=_e(g):a||(a=o&~t,a!==0&&(h=_e(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ht(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function st(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function At(){var t=ce;return ce<<=1,(ce&62914560)===0&&(ce=4194304),t}function Ut(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function xr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nf(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-Tt(a),X=1<<F;E[F]=0,C[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&Nr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Nr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Tt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Po(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Tt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function jo(t,n){var a=n&-n;return a=(a&42)!==0?1:Dr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function ai(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var oi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+oi,Jt="__reactProps$"+oi,Ei="__reactContainer$"+oi,Ea="__reactEvents$"+oi,sf="__reactListeners$"+oi,Au="__reactHandles$"+oi,wu="__reactResources$"+oi,Ti="__reactMarker$"+oi;function Ta(t){delete t[Pt],delete t[Jt],delete t[Ea],delete t[sf],delete t[Au]}function bi(t){var n=t[Pt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ei]||a[Pt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[Pt])return a;t=z_(t)}return n}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Pt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Si(t){var n=t[wu];return n||(n=t[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(t){t[Ti]=!0}var zo=new Set,Bo={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Bo[t]=n,t=0;t<n.length;t++)zo.add(n[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Go={};function Ru(t){return _t.call(Go,t)?!0:_t.call(Ho,t)?!1:qo.test(t)?Go[t]=!0:(Ho[t]=!0,!1)}function ba(t,n,a){if(Ru(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function zt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=Fo(t,n,""+t[n])}}function Or(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=xs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function An(t){return t.replace(Mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sa(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ko(t,g,Zt(n)):a!=null?Ko(t,g,Zt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function Cu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),We(t)}function Ko(t,n,a){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ns(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Iu(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function Ds(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(kt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),We(t)}function wn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||xu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Yo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Qo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Qo(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Xo=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ci=null;function Vr(t){var n=Gn(t);if(n&&(t=n.stateNode)){var a=t[Jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Jt]||null;if(!h)throw Error(r(90));Sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Or(o)}break e;case"textarea":Iu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ns(t,!!a.multiple,n,!1)}}}var Ra=!1;function Vs(t,n,a){if(Ra)return t(n,a);Ra=!0;try{var o=t(n);return o}finally{if(Ra=!1,(Ms!==null||Ci!==null)&&(Sc(),Ms&&(n=Ms,t=Ci,Ci=Ms=null,Vr(n),t)))for(n=0;n<t.length;n++)Vr(t[n])}}function ui(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Jt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Kn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){kr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{kr=!1}var Ii=null,$o=null,Lr=null;function Jo(){if(Lr)return Lr;var t,n=$o,a=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Lr=h.slice(t,1<o?1-o:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ci(){return!1}function sn(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=sn(Ji),ks=w({},Ji,{view:0,detail:0}),Zo=sn(ks),Ls,Ca,Ni,Ia=w({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ls=t.screenX-Ni.screenX,Ca=t.screenY-Ni.screenY):Ca=Ls=0,Ni=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Wo=sn(Ia),Pr=w({},Ia,{dataTransfer:0}),Du=sn(Pr),Ou=w({},ks,{relatedTarget:0}),jr=sn(Ou),el=w({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=sn(el),xa=w({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vu=sn(xa),ku=w({},Ji,{data:0}),Di=sn(ku),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Pu[t])?!!n[t]:!1}function Us(){return ju}var yn=w({},ks,{key:function(t){if(t.key){var n=Lu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zu=sn(yn),Bu=w({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=sn(Bu),u=w({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),m=sn(u),v=w({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=sn(v),P=w({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=sn(P),W=w({},Ji,{newState:0,oldState:0}),Ne=sn(W),xt=[9,13,27,32],$e=Kn&&"CompositionEvent"in window,vt=null;Kn&&"documentMode"in document&&(vt=document.documentMode);var Qn=Kn&&"TextEvent"in window&&!vt,Oi=Kn&&(!$e||vt&&8<vt&&11>=vt),hi=" ",fi=!1;function zr(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function C1(t,n){switch(t){case"compositionend":return Na(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function I1(t,n){if(Da)return t==="compositionend"||!$e&&zr(t,n)?(t=Jo(),Lr=$o=Ii=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var x1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!x1[t.type]:n==="textarea"}function Gp(t,n,a,o){Ms?Ci?Ci.push(o):Ci=[o]:Ms=o,n=Nc(n,"onChange"),0<n.length&&(a=new xi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var tl=null,nl=null;function N1(t){R_(t,0)}function qu(t){var n=Vn(t);if(Or(n))return t}function Fp(t,n){if(t==="change")return n}var Kp=!1;if(Kn){var rf;if(Kn){var af="oninput"in document;if(!af){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),af=typeof Qp.oninput=="function"}rf=af}else rf=!1;Kp=rf&&(!document.documentMode||9<document.documentMode)}function Yp(){tl&&(tl.detachEvent("onpropertychange",Xp),nl=tl=null)}function Xp(t){if(t.propertyName==="value"&&qu(nl)){var n=[];Gp(n,nl,t,Fn(t)),Vs(N1,n)}}function D1(t,n,a){t==="focusin"?(Yp(),tl=n,nl=a,tl.attachEvent("onpropertychange",Xp)):t==="focusout"&&Yp()}function O1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(nl)}function M1(t,n){if(t==="click")return qu(n)}function V1(t,n){if(t==="input"||t==="change")return qu(n)}function k1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:k1;function il(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jp(t,n){var a=$p(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$p(a)}}function Zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ri(t.document)}return n}function of(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var L1=Kn&&"documentMode"in document&&11>=document.documentMode,Oa=null,lf=null,sl=null,uf=!1;function eg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||Oa==null||Oa!==Ri(o)||(o=Oa,"selectionStart"in o&&of(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),sl&&il(sl,o)||(sl=o,o=Nc(lf,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Oa)))}function Br(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ma={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},cf={},tg={};Kn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function qr(t){if(cf[t])return cf[t];if(!Ma[t])return t;var n=Ma[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in tg)return cf[t]=n[a];return t}var ng=qr("animationend"),ig=qr("animationiteration"),sg=qr("animationstart"),U1=qr("transitionrun"),P1=qr("transitionstart"),j1=qr("transitioncancel"),rg=qr("transitionend"),ag=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function di(t,n){ag.set(t,n),Ai(n,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Va=0,ff=0;function Gu(){for(var t=Va,n=ff=Va=0;n<t;){var a=Yn[n];Yn[n++]=null;var o=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&og(a,h,f)}}function Fu(t,n,a,o){Yn[Va++]=t,Yn[Va++]=n,Yn[Va++]=a,Yn[Va++]=o,ff|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function df(t,n,a,o){return Fu(t,n,a,o),Ku(t)}function Hr(t,n){return Fu(t,null,null,n),Ku(t)}function og(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Tt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ku(t){if(50<Rl)throw Rl=0,bd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function z1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,a,o){return new z1(t,n,a,o)}function mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=Un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")mf(t)&&(g=1);else if(typeof t=="string")g=Fb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Un(31,a,n,h),t.elementType=I,t.lanes=f,t;case re:return Gr(a.children,h,f,n);case ee:g=8,h|=24;break;case ge:return t=Un(12,a,n,h|2),t.elementType=ge,t.lanes=f,t;case ct:return t=Un(13,a,n,h),t.elementType=ct,t.lanes=f,t;case Ge:return t=Un(19,a,n,h),t.elementType=Ge,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:g=10;break e;case Se:g=9;break e;case Ye:g=11;break e;case x:g=14;break e;case A:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Un(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Gr(t,n,a,o){return t=Un(7,t,o,n),t.lanes=a,t}function pf(t,n,a){return t=Un(6,t,null,n),t.lanes=a,t}function ug(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function gf(t,n,a){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var cg=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var a=cg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:tn(n)},cg.set(t,n),n)}return{value:t,source:n,stack:tn(n)}}var La=[],Ua=0,Yu=null,rl=0,$n=[],Jn=0,Ps=null,Mi=1,Vi="";function es(t,n){La[Ua++]=rl,La[Ua++]=Yu,Yu=t,rl=n}function hg(t,n,a){$n[Jn++]=Mi,$n[Jn++]=Vi,$n[Jn++]=Ps,Ps=t;var o=Mi;t=Vi;var h=32-Tt(o)-1;o&=~(1<<h),a+=1;var f=32-Tt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Mi=1<<32-Tt(n)+h|a<<h|o,Vi=f+t}else Mi=1<<f|a<<h|o,Vi=t}function yf(t){t.return!==null&&(es(t,1),hg(t,1,0))}function _f(t){for(;t===Yu;)Yu=La[--Ua],La[Ua]=null,rl=La[--Ua],La[Ua]=null;for(;t===Ps;)Ps=$n[--Jn],$n[Jn]=null,Vi=$n[--Jn],$n[Jn]=null,Mi=$n[--Jn],$n[Jn]=null}function fg(t,n){$n[Jn++]=Mi,$n[Jn++]=Vi,$n[Jn++]=Ps,Mi=n.id,Vi=n.overflow,Ps=t}var rn=null,mt=null,He=!1,js=null,Zn=!1,vf=Error(r(519));function zs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Xn(n,t)),vf}function dg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Pt]=t,n[Jt]=o,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Il.length;a++)Le(Il[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Ds(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||N_(n.textContent,a)?(o.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),o.onScroll!=null&&Le("scroll",n),o.onScrollEnd!=null&&Le("scrollend",n),o.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||zs(t,!0)}function mg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:rn=rn.return}}function Pa(t){if(t!==rn)return!1;if(!He)return mg(t),He=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ud(t.type,t.memoizedProps)),a=!a),a&&mt&&zs(t),mg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=j_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=j_(t)}else n===27?(n=mt,er(t.type)?(t=qd,qd=null,mt=t):mt=n):mt=rn?ei(t.stateNode.nextSibling):null;return!0}function Fr(){mt=rn=null,He=!1}function Ef(){var t=js;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),js=null),t}function al(t){js===null?js=[t]:js.push(t)}var Tf=M(null),Kr=null,ts=null;function Bs(t,n,a){ne(Tf,n._currentValue),n._currentValue=a}function ns(t){t._currentValue=Tf.current,Y(Tf)}function bf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Sf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),bf(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),bf(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ja(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Ln(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&Sf(n,t,a,o),n.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Kr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return pg(Kr,t)}function $u(t,n){return Kr===null&&Qr(t),pg(t,n)}function pg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return a}var B1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},q1=s.unstable_scheduleCallback,H1=s.unstable_NormalPriority,Bt={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new B1,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&q1(H1,function(){t.controller.abort()})}var ll=null,wf=0,za=0,Ba=null;function G1(t,n){if(ll===null){var a=ll=[];wf=0,za=Id(),Ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return wf++,n.then(gg,gg),n}function gg(){if(--wf===0&&ll!==null){Ba!==null&&(Ba.status="fulfilled");var t=ll;ll=null,za=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function F1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var yg=G.S;G.S=function(t,n){e_=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&G1(t,n),yg!==null&&yg(t,n)};var Yr=M(null);function Rf(){var t=Yr.current;return t!==null?t:ut.pooledCache}function Ju(t,n){n===null?ne(Yr,Yr.current):ne(Yr,n.pool)}function _g(){var t=Rf();return t===null?null:{parent:Bt._currentValue,pool:t}}var qa=Error(r(460)),Cf=Error(r(474)),Zu=Error(r(542)),Wu={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(li,li),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bg(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bg(t),t}throw $r=n,qa}}function Xr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($r=a,qa):a}}var $r=null;function Tg(){if($r===null)throw Error(r(459));var t=$r;return $r=null,t}function bg(t){if(t===qa||t===Zu)throw Error(r(483))}var Ha=null,ul=0;function ec(t){var n=ul;return ul+=1,Ha===null&&(Ha=[]),Eg(Ha,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tc(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Sg(t){function n(L,D){if(t){var j=L.deletions;j===null?(L.deletions=[D],L.flags|=16):j.push(D)}}function a(L,D){if(!t)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function o(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=Wi(L,D),L.index=0,L.sibling=null,L}function f(L,D,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<D?(L.flags|=67108866,D):j):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,D,j,K){return D===null||D.tag!==6?(D=pf(j,L.mode,K),D.return=L,D):(D=h(D,j),D.return=L,D)}function C(L,D,j,K){var me=j.type;return me===re?F(L,D,j.props.children,K,j.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Xr(me)===D.type)?(D=h(D,j.props),cl(D,j),D.return=L,D):(D=Qu(j.type,j.key,j.props,null,L.mode,K),cl(D,j),D.return=L,D)}function z(L,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=gf(j,L.mode,K),D.return=L,D):(D=h(D,j.children||[]),D.return=L,D)}function F(L,D,j,K,me){return D===null||D.tag!==7?(D=Gr(j,L.mode,K,me),D.return=L,D):(D=h(D,j),D.return=L,D)}function X(L,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=pf(""+D,L.mode,j),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return j=Qu(D.type,D.key,D.props,null,L.mode,j),cl(j,D),j.return=L,j;case Z:return D=gf(D,L.mode,j),D.return=L,D;case A:return D=Xr(D),X(L,D,j)}if(kt(D)||k(D))return D=Gr(D,L.mode,j,null),D.return=L,D;if(typeof D.then=="function")return X(L,ec(D),j);if(D.$$typeof===be)return X(L,$u(L,D),j);tc(L,D)}return null}function B(L,D,j,K){var me=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:E(L,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===me?C(L,D,j,K):null;case Z:return j.key===me?z(L,D,j,K):null;case A:return j=Xr(j),B(L,D,j,K)}if(kt(j)||k(j))return me!==null?null:F(L,D,j,K,null);if(typeof j.then=="function")return B(L,D,ec(j),K);if(j.$$typeof===be)return B(L,D,$u(L,j),K);tc(L,j)}return null}function H(L,D,j,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(j)||null,E(D,L,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return L=L.get(K.key===null?j:K.key)||null,C(D,L,K,me);case Z:return L=L.get(K.key===null?j:K.key)||null,z(D,L,K,me);case A:return K=Xr(K),H(L,D,j,K,me)}if(kt(K)||k(K))return L=L.get(j)||null,F(D,L,K,me,null);if(typeof K.then=="function")return H(L,D,j,ec(K),me);if(K.$$typeof===be)return H(L,D,j,$u(D,K),me);tc(D,K)}return null}function le(L,D,j,K){for(var me=null,Ke=null,he=D,Oe=D=0,je=null;he!==null&&Oe<j.length;Oe++){he.index>Oe?(je=he,he=null):je=he.sibling;var Qe=B(L,he,j[Oe],K);if(Qe===null){he===null&&(he=je);break}t&&he&&Qe.alternate===null&&n(L,he),D=f(Qe,D,Oe),Ke===null?me=Qe:Ke.sibling=Qe,Ke=Qe,he=je}if(Oe===j.length)return a(L,he),He&&es(L,Oe),me;if(he===null){for(;Oe<j.length;Oe++)he=X(L,j[Oe],K),he!==null&&(D=f(he,D,Oe),Ke===null?me=he:Ke.sibling=he,Ke=he);return He&&es(L,Oe),me}for(he=o(he);Oe<j.length;Oe++)je=H(he,L,Oe,j[Oe],K),je!==null&&(t&&je.alternate!==null&&he.delete(je.key===null?Oe:je.key),D=f(je,D,Oe),Ke===null?me=je:Ke.sibling=je,Ke=je);return t&&he.forEach(function(rr){return n(L,rr)}),He&&es(L,Oe),me}function ye(L,D,j,K){if(j==null)throw Error(r(151));for(var me=null,Ke=null,he=D,Oe=D=0,je=null,Qe=j.next();he!==null&&!Qe.done;Oe++,Qe=j.next()){he.index>Oe?(je=he,he=null):je=he.sibling;var rr=B(L,he,Qe.value,K);if(rr===null){he===null&&(he=je);break}t&&he&&rr.alternate===null&&n(L,he),D=f(rr,D,Oe),Ke===null?me=rr:Ke.sibling=rr,Ke=rr,he=je}if(Qe.done)return a(L,he),He&&es(L,Oe),me;if(he===null){for(;!Qe.done;Oe++,Qe=j.next())Qe=X(L,Qe.value,K),Qe!==null&&(D=f(Qe,D,Oe),Ke===null?me=Qe:Ke.sibling=Qe,Ke=Qe);return He&&es(L,Oe),me}for(he=o(he);!Qe.done;Oe++,Qe=j.next())Qe=H(he,L,Oe,Qe.value,K),Qe!==null&&(t&&Qe.alternate!==null&&he.delete(Qe.key===null?Oe:Qe.key),D=f(Qe,D,Oe),Ke===null?me=Qe:Ke.sibling=Qe,Ke=Qe);return t&&he.forEach(function(nS){return n(L,nS)}),He&&es(L,Oe),me}function lt(L,D,j,K){if(typeof j=="object"&&j!==null&&j.type===re&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:e:{for(var me=j.key;D!==null;){if(D.key===me){if(me=j.type,me===re){if(D.tag===7){a(L,D.sibling),K=h(D,j.props.children),K.return=L,L=K;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Xr(me)===D.type){a(L,D.sibling),K=h(D,j.props),cl(K,j),K.return=L,L=K;break e}a(L,D);break}else n(L,D);D=D.sibling}j.type===re?(K=Gr(j.props.children,L.mode,K,j.key),K.return=L,L=K):(K=Qu(j.type,j.key,j.props,null,L.mode,K),cl(K,j),K.return=L,L=K)}return g(L);case Z:e:{for(me=j.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(L,D.sibling),K=h(D,j.children||[]),K.return=L,L=K;break e}else{a(L,D);break}else n(L,D);D=D.sibling}K=gf(j,L.mode,K),K.return=L,L=K}return g(L);case A:return j=Xr(j),lt(L,D,j,K)}if(kt(j))return le(L,D,j,K);if(k(j)){if(me=k(j),typeof me!="function")throw Error(r(150));return j=me.call(j),ye(L,D,j,K)}if(typeof j.then=="function")return lt(L,D,ec(j),K);if(j.$$typeof===be)return lt(L,D,$u(L,j),K);tc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(a(L,D.sibling),K=h(D,j),K.return=L,L=K):(a(L,D),K=pf(j,L.mode,K),K.return=L,L=K),g(L)):a(L,D)}return function(L,D,j,K){try{ul=0;var me=lt(L,D,j,K);return Ha=null,me}catch(he){if(he===qa||he===Zu)throw he;var Ke=Un(29,he,null,L.mode);return Ke.lanes=K,Ke.return=L,Ke}}}var Jr=Sg(!0),Ag=Sg(!1),qs=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ku(t),og(t,null,a),n}return Fu(t,o,n,a),Ku(t)}function hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Po(t,a)}}function Nf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Df=!1;function fl(){if(Df){var t=Ba;if(t!==null)throw t}}function dl(t,n,a,o){Df=!1;var h=t.updateQueue;qs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,F=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Pe&B)===B:(o&B)===B){B!==0&&B===za&&(Df=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ye=E;B=n;var lt=a;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){X=le.call(lt,X,B);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,B=typeof le=="function"?le.call(lt,X,B):le,B==null)break e;X=w({},X,B);break e;case 2:qs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=X):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Xs|=g,t.lanes=g,t.memoizedState=X}}function wg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Rg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],n)}var Ga=M(null),nc=M(0);function Cg(t,n){t=hs,ne(nc,t),ne(Ga,n),hs=t|n.baseLanes}function Of(){ne(nc,hs),ne(Ga,Ga.current)}function Mf(){hs=nc.current,Y(Ga),Y(nc)}var Pn=M(null),Wn=null;function Fs(t){var n=t.alternate;ne(Nt,Nt.current&1),ne(Pn,t),Wn===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Wn=t)}function Vf(t){ne(Nt,Nt.current),ne(Pn,t),Wn===null&&(Wn=t)}function Ig(t){t.tag===22?(ne(Nt,Nt.current),ne(Pn,t),Wn===null&&(Wn=t)):Ks()}function Ks(){ne(Nt,Nt.current),ne(Pn,Pn.current)}function jn(t){Y(Pn),Wn===t&&(Wn=null),Y(Nt)}var Nt=M(0);function ic(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||Bd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,De=null,at=null,qt=null,sc=!1,Fa=!1,Zr=!1,rc=0,ml=0,Ka=null,K1=0;function wt(){throw Error(r(321))}function kf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function Lf(t,n,a,o,h,f){return is=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?hy:Jf,Zr=!1,f=a(o,h),Zr=!1,Fa&&(f=Ng(n,a,o,h)),xg(t),f}function xg(t){G.H=yl;var n=at!==null&&at.next!==null;if(is=0,qt=at=De=null,sc=!1,ml=0,Ka=null,n)throw Error(r(300));t===null||Ht||(t=t.dependencies,t!==null&&Xu(t)&&(Ht=!0))}function Ng(t,n,a,o){De=t;var h=0;do{if(Fa&&(Ka=null),ml=0,Fa=!1,25<=h)throw Error(r(301));if(h+=1,qt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=fy,f=n(a,o)}while(Fa);return f}function Q1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?pl(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(De.flags|=1024),n}function Uf(){var t=rc!==0;return rc=0,t}function Pf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function jf(t){if(sc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}sc=!1}is=0,qt=at=De=null,Fa=!1,ml=rc=0,Ka=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?De.memoizedState=qt=t:qt=qt.next=t,qt}function Dt(){if(at===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=qt===null?De.memoizedState:qt.next;if(n!==null)qt=n,at=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},qt===null?De.memoizedState=qt=t:qt=qt.next=t}return qt}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var n=ml;return ml+=1,Ka===null&&(Ka=[]),t=Eg(Ka,t,n),n=De,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?hy:Jf),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===be)return an(t)}throw Error(r(438,String(t)))}function zf(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ac(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function lc(t){var n=Dt();return Bf(n,at,t)}function Bf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Pe&X)===X:(is&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===za&&(F=!0);else if((is&B)===B){z=z.next,B===za&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,De.lanes|=B,Xs|=B;X=z.action,Zr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,De.lanes|=X,Xs|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!Ln(f,t.memoizedState)&&(Ht=!0,F&&(a=Ba,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function qf(t){var n=Dt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Dg(t,n,a){var o=De,h=Dt(),f=He;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Ln((at||h).memoizedState,a);if(g&&(h.memoizedState=a,Ht=!0),h=h.queue,Ff(Vg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||qt!==null&&qt.memoizedState.tag&1){if(o.flags|=2048,Qa(9,{destroy:void 0},Mg.bind(null,o,h,a,n),null),ut===null)throw Error(r(349));f||(is&127)!==0||Og(o,n,a)}return a}function Og(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=ac(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Mg(t,n,a,o){n.value=a,n.getSnapshot=o,kg(n)&&Lg(t)}function Vg(t,n,a){return a(function(){kg(n)&&Lg(t)})}function kg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function Lg(t){var n=Hr(t,2);n!==null&&Nn(n,t,2)}function Hf(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),Zr){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Ug(t,n,a,o){return t.baseState=a,Bf(t,at,typeof o=="function"?o:ss)}function Y1(t,n,a,o,h){if(hc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Pg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Pg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),C=G.S;C!==null&&C(g,E),jg(t,n,E)}catch(z){Gf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),jg(t,n,f)}catch(z){Gf(t,n,z)}}function jg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){zg(t,n,o)},function(o){return Gf(t,n,o)}):zg(t,n,a)}function zg(t,n,a){n.status="fulfilled",n.value=a,Bg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Pg(t,a)))}function Gf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Bg(n),n=n.next;while(n!==o)}t.action=null}function Bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qg(t,n){return n}function Hg(t,n){if(He){var a=ut.formState;if(a!==null){e:{var o=De;if(He){if(mt){t:{for(var h=mt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=ei(h.nextSibling),o=h.data==="F!";break e}}zs(o)}o=!1}o&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:n},a.queue=o,a=ly.bind(null,De,o),o.dispatch=a,o=Hf(!1),f=$f.bind(null,De,!1,o.queue),o=_n(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Y1.bind(null,De,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Gg(t){var n=Dt();return Fg(n,at,t)}function Fg(t,n,a){if(n=Bf(t,n,qg)[0],t=lc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=pl(n)}catch(g){throw g===qa?Zu:g}else o=n;n=Dt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,Qa(9,{destroy:void 0},X1.bind(null,h,a),null)),[o,f,t]}function X1(t,n){t.action=n}function Kg(t){var n=Dt(),a=at;if(a!==null)return Fg(n,a,t);Dt(),n=n.memoizedState,a=Dt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Qa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=ac(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Qg(){return Dt().memoizedState}function uc(t,n,a,o){var h=_n();De.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},a,o===void 0?null:o)}function cc(t,n,a,o){var h=Dt();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&kf(o,at.memoizedState.deps)?h.memoizedState=Qa(n,f,a,o):(De.flags|=t,h.memoizedState=Qa(1|n,f,a,o))}function Yg(t,n){uc(8390656,8,t,n)}function Ff(t,n){cc(2048,8,t,n)}function $1(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=ac(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Xg(t){var n=Dt().memoizedState;return $1({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function $g(t,n){return cc(4,2,t,n)}function Jg(t,n){return cc(4,4,t,n)}function Zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wg(t,n,a){a=a!=null?a.concat([t]):null,cc(4,4,Zg.bind(null,n,t),a)}function Kf(){}function ey(t,n){var a=Dt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&kf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function ty(t,n){var a=Dt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&kf(n,o[1]))return o[0];if(o=t(),Zr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function Qf(t,n,a){return a===void 0||(is&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=n_(),De.lanes|=t,Xs|=t,a)}function ny(t,n,a,o){return Ln(a,n)?a:Ga.current!==null?(t=Qf(t,a,o),Ln(t,n)||(Ht=!0),t):(is&42)===0||(is&1073741824)!==0&&(Pe&261930)===0?(Ht=!0,t.memoizedState=a):(t=n_(),De.lanes|=t,Xs|=t,n)}function iy(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,$f(t,!1,n,a);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=F1(C,o);gl(t,n,F,qn(t))}else gl(t,n,o,qn(t))}catch(X){gl(t,n,{then:function(){},status:"rejected",reason:X},qn())}finally{ie.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function J1(){}function Yf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=sy(t).queue;iy(t,h,n,de,a===null?J1:function(){return ry(t),a(o)})}function sy(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:de},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ry(t){var n=sy(t);n.next===null&&(n=t.alternate.memoizedState),gl(t,n.next.queue,{},qn())}function Xf(){return an(Ml)}function ay(){return Dt().memoizedState}function oy(){return Dt().memoizedState}function Z1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=qn();t=Hs(a);var o=Gs(n,t,a);o!==null&&(Nn(o,n,a),hl(o,n,a)),n={cache:Af()},t.payload=n;return}n=n.return}}function W1(t,n,a){var o=qn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?uy(n,a):(a=df(t,n,a,o),a!==null&&(Nn(a,t,o),cy(a,n,o)))}function ly(t,n,a){var o=qn();gl(t,n,a,o)}function gl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))uy(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,g))return Fu(t,n,h,0),ut===null&&Gu(),!1}catch{}if(a=df(t,n,h,o),a!==null)return Nn(a,t,o),cy(a,n,o),!0}return!1}function $f(t,n,a,o){if(o={lane:2,revertLane:Id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(n)throw Error(r(479))}else n=df(t,a,o,2),n!==null&&Nn(n,t,2)}function hc(t){var n=t.alternate;return t===De||n!==null&&n===De}function uy(t,n){Fa=sc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function cy(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Po(t,a)}}var yl={readContext:an,use:oc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};yl.useEffectEvent=wt;var hy={readContext:an,use:oc,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:Yg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,uc(4194308,4,Zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return uc(4194308,4,t,n)},useInsertionEffect:function(t,n){uc(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var o=t();if(Zr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=_n();if(a!==void 0){var h=a(n);if(Zr){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=W1.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Hf(t);var n=t.queue,a=ly.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(t,n){var a=_n();return Qf(a,t,n)},useTransition:function(){var t=Hf(!1);return t=iy.bind(null,De,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=De,h=_n();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ut===null)throw Error(r(349));(Pe&127)!==0||Og(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Yg(Vg.bind(null,o,f,t),[t]),o.flags|=2048,Qa(9,{destroy:void 0},Mg.bind(null,o,f,a,n),null),a},useId:function(){var t=_n(),n=ut.identifierPrefix;if(He){var a=Vi,o=Mi;a=(o&~(1<<32-Tt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=rc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=K1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Xf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=$f.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:zf,useCacheRefresh:function(){return _n().memoizedState=Z1.bind(null,De)},useEffectEvent:function(t){var n=_n(),a={impl:t};return n.memoizedState=a,function(){if((Je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Jf={readContext:an,use:oc,useCallback:ey,useContext:an,useEffect:Ff,useImperativeHandle:Wg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:lc,useRef:Qg,useState:function(){return lc(ss)},useDebugValue:Kf,useDeferredValue:function(t,n){var a=Dt();return ny(a,at.memoizedState,t,n)},useTransition:function(){var t=lc(ss)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Xf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,n){var a=Dt();return Ug(a,at,t,n)},useMemoCache:zf,useCacheRefresh:oy};Jf.useEffectEvent=Xg;var fy={readContext:an,use:oc,useCallback:ey,useContext:an,useEffect:Ff,useImperativeHandle:Wg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:qf,useRef:Qg,useState:function(){return qf(ss)},useDebugValue:Kf,useDeferredValue:function(t,n){var a=Dt();return at===null?Qf(a,t,n):ny(a,at.memoizedState,t,n)},useTransition:function(){var t=qf(ss)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Xf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,n){var a=Dt();return at!==null?Ug(a,at,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:oy};fy.useEffectEvent=Xg;function Zf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=qn(),h=Hs(o);h.payload=n,a!=null&&(h.callback=a),n=Gs(t,h,o),n!==null&&(Nn(n,t,o),hl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=qn(),h=Hs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Gs(t,h,o),n!==null&&(Nn(n,t,o),hl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=qn(),o=Hs(a);o.tag=2,n!=null&&(o.callback=n),n=Gs(t,o,a),n!==null&&(Nn(n,t,a),hl(n,t,a))}};function dy(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!il(a,o)||!il(h,f):!0}function my(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Wf.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function py(t){Hu(t)}function gy(t){console.error(t)}function yy(t){Hu(t)}function fc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function _y(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ed(t,n,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,n)},a}function vy(t){return t=Hs(t),t.tag=3,t}function Ey(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){_y(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){_y(n,a,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function eb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ja(n,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?Ac():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Wu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),wd(t,o,h)),!1;case 22:return a.flags|=65536,o===Wu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),wd(t,o,h)),!1}throw Error(r(435,a.tag))}return wd(t,o,h),Ac(),!1}if(He)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==vf&&(t=Error(r(422),{cause:o}),al(Xn(t,a)))):(o!==vf&&(n=Error(r(423),{cause:o}),al(Xn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xn(o,a),h=ed(t.stateNode,o,h),Nf(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(r(520),{cause:o});if(f=Xn(f,a),wl===null?wl=[f]:wl.push(f),Rt!==4&&(Rt=2),n===null)return!0;o=Xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ed(a.stateNode,o,t),Nf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,t,a,o),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var td=Error(r(461)),Ht=!1;function on(t,n,a,o){n.child=t===null?Ag(n,null,a,o):Jr(n,t.child,a,o)}function Ty(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Qr(n),o=Lf(t,n,a,g,f,h),E=Uf(),t!==null&&!Ht?(Pf(t,n,h),rs(t,n,h)):(He&&E&&yf(n),n.flags|=1,on(t,n,o,h),n.child)}function by(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!mf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Sy(t,n,f,o,h)):(t=Qu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ud(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(g,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Sy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(il(f,o)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=o=f,ud(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,rs(t,n,h)}return nd(t,n,a,o,h)}function Ay(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return wy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(n,f!==null?f.cachePool:null),f!==null?Cg(n,f):Of(),Ig(n);else return o=n.lanes=536870912,wy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ju(n,f.cachePool),Cg(n,f),Ks(),n.memoizedState=null):(t!==null&&Ju(n,null),Of(),Ks());return on(t,n,h,a),n.child}function _l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function wy(t,n,a,o,h){var f=Rf();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ju(n,null),Of(),Ig(n),t!==null&&ja(t,n,o,!0),n.childLanes=h,null}function dc(t,n){return n=pc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ry(t,n,a){return Jr(n,t.child,null,a),t=dc(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function tb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=dc(n,o),n.lanes=536870912,_l(null,t);if(Vf(n),(t=mt)?(t=P_(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=n,n.child=a,rn=n,mt=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return dc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Vf(n),h)if(n.flags&256)n.flags&=-257,n=Ry(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ht||ja(t,n,a,!1),h=(a&t.childLanes)!==0,Ht||h){if(o=ut,o!==null&&(g=jo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Hr(t,g),Nn(o,t,g),td;Ac(),n=Ry(t,n,a)}else t=f.treeContext,mt=ei(g.nextSibling),rn=n,He=!0,js=null,Zn=!1,t!==null&&fg(n,t),n=dc(n,o),n.flags|=4096;return n}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function nd(t,n,a,o,h){return Qr(n),a=Lf(t,n,a,o,void 0,h),o=Uf(),t!==null&&!Ht?(Pf(t,n,h),rs(t,n,h)):(He&&o&&yf(n),n.flags|=1,on(t,n,a,h),n.child)}function Cy(t,n,a,o,h,f){return Qr(n),n.updateQueue=null,a=Ng(n,o,a,h),xg(t),o=Uf(),t!==null&&!Ht?(Pf(t,n,f),rs(t,n,f)):(He&&o&&yf(n),n.flags|=1,on(t,n,a,f),n.child)}function Iy(t,n,a,o,h){if(Qr(n),n.stateNode===null){var f=ka,g=a.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},If(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?an(g):ka,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Zf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Wf.enqueueReplaceState(f,f.state,null),dl(n,o,f,h),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Wr(a,E);f.props=C;var z=f.context,F=a.contextType;g=ka,typeof F=="object"&&F!==null&&(g=an(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&my(n,f,o,g),qs=!1;var B=n.memoizedState;f.state=B,dl(n,o,f,h),fl(),z=n.memoizedState,E||B!==z||qs?(typeof X=="function"&&(Zf(n,a,X,o),z=n.memoizedState),(C=qs||dy(n,a,C,o,B,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,xf(t,n),g=n.memoizedProps,F=Wr(a,g),f.props=F,X=n.pendingProps,B=f.context,z=a.contextType,C=ka,typeof z=="object"&&z!==null&&(C=an(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&my(n,f,o,C),qs=!1,B=n.memoizedState,f.state=B,dl(n,o,f,h),fl();var H=n.memoizedState;g!==X||B!==H||qs||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof E=="function"&&(Zf(n,a,E,o),H=n.memoizedState),(F=qs||dy(n,a,F,o,B,H,C)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,mc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Jr(n,t.child,null,h),n.child=Jr(n,null,a,h)):on(t,n,a,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function xy(t,n,a,o){return Fr(),n.flags|=256,on(t,n,a,o),n.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:_g()}}function rd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Bn),t}function Ny(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Fs(n):Ks(),(t=mt)?(t=P_(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=n,n.child=a,rn=n,mt=null)):t=null,t===null)throw zs(n);return Bd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ks(),h=n.mode,E=pc({mode:"hidden",children:E},h),o=Gr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=sd(a),o.childLanes=rd(t,g,a),n.memoizedState=id,_l(null,o)):(Fs(n),ad(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Fs(n),n.flags&=-257,n=od(t,n,a)):n.memoizedState!==null?(Ks(),n.child=t.child,n.flags|=128,n=null):(Ks(),E=o.fallback,h=n.mode,o=pc({mode:"visible",children:o.children},h),E=Gr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Jr(n,t.child,null,a),o=n.child,o.memoizedState=sd(a),o.childLanes=rd(t,g,a),n.memoizedState=id,n=_l(null,o));else if(Fs(n),Bd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,al({value:o,source:null,stack:null}),n=od(t,n,a)}else if(Ht||ja(t,n,a,!1),g=(a&t.childLanes)!==0,Ht||g){if(g=ut,g!==null&&(o=jo(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Hr(t,o),Nn(g,t,o),td;zd(E)||Ac(),n=od(t,n,a)}else zd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,mt=ei(E.nextSibling),rn=n,He=!0,js=null,Zn=!1,t!==null&&fg(n,t),n=ad(n,o.children),n.flags|=4096);return n}return h?(Ks(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Wi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Wi(z,E):(E=Gr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,_l(null,o),o=n.child,E=t.child.memoizedState,E===null?E=sd(a):(h=E.cachePool,h!==null?(C=Bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=_g(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=rd(t,g,a),n.memoizedState=id,_l(t.child,o)):(Fs(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function ad(t,n){return n=pc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pc(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function od(t,n,a){return Jr(n,t.child,null,a),t=ad(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),bf(t.return,n,a)}function ld(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Oy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Nt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ne(Nt,g),on(t,n,o,a),o=He?rl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,a,n);else if(t.tag===19)Dy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ld(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ld(n,!0,a,null,f,o);break;case"together":ld(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Xs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ja(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ud(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function nb(t,n,a){switch(n.tag){case 3:Lt(n,n.stateNode.containerInfo),Bs(n,Bt,t.memoizedState.cache),Fr();break;case 27:case 5:ri(n);break;case 4:Lt(n,n.stateNode.containerInfo);break;case 10:Bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ny(t,n,a):(Fs(n),t=rs(t,n,a),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ja(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Oy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Nt,Nt.current),o)break;return null;case 22:return n.lanes=0,Ay(t,n,a,n.pendingProps);case 24:Bs(n,Bt,t.memoizedState.cache)}return rs(t,n,a)}function My(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!ud(t,a)&&(n.flags&128)===0)return Ht=!1,nb(t,n,a);Ht=(t.flags&131072)!==0}else Ht=!1,He&&(n.flags&1048576)!==0&&hg(n,rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Xr(n.elementType),n.type=t,typeof t=="function")mf(t)?(o=Wr(t,o),n.tag=1,n=Iy(null,n,t,o,a)):(n.tag=0,n=nd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ye){n.tag=11,n=Ty(null,n,t,o,a);break e}else if(h===x){n.tag=14,n=by(null,n,t,o,a);break e}}throw n=ft(t)||t,Error(r(306,n,""))}}return n;case 0:return nd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Wr(o,n.pendingProps),Iy(t,n,o,h,a);case 3:e:{if(Lt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,xf(t,n),dl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Bs(n,Bt,o),o!==f.cache&&Sf(n,[Bt],a,!0),fl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xy(t,n,o,a);break e}else if(o!==h){h=Xn(Error(r(424)),n),al(h),n=xy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,mt=ei(t.firstChild),rn=n,He=!0,js=null,Zn=!0,a=Ag(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fr(),o===h){n=rs(t,n,a);break e}on(t,n,o,a)}n=n.child}return n;case 26:return mc(t,n),t===null?(a=G_(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,o=Dc(xe.current).createElement(a),o[Pt]=n,o[Jt]=t,ln(o,a,t),jt(o),n.stateNode=o):n.memoizedState=G_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ri(n),t===null&&He&&(o=n.stateNode=B_(n.type,n.pendingProps,xe.current),rn=n,Zn=!0,h=mt,er(n.type)?(qd=h,mt=ei(o.firstChild)):mt=h),on(t,n,n.pendingProps.children,a),mc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=mt)&&(o=Ob(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,rn=n,mt=ei(o.firstChild),Zn=!1,h=!0):h=!1),h||zs(n)),ri(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Ud(h,f)?o=null:g!==null&&Ud(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Lf(t,n,Q1,null,null,a),Ml._currentValue=h),mc(t,n),on(t,n,o,a),n.child;case 6:return t===null&&He&&((t=a=mt)&&(a=Mb(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,rn=n,mt=null,t=!0):t=!1),t||zs(n)),null;case 13:return Ny(t,n,a);case 4:return Lt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Jr(n,null,o,a):on(t,n,o,a),n.child;case 11:return Ty(t,n,n.type,n.pendingProps,a);case 7:return on(t,n,n.pendingProps,a),n.child;case 8:return on(t,n,n.pendingProps.children,a),n.child;case 12:return on(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Bs(n,n.type,o.value),on(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Qr(n),h=an(h),o=o(h),n.flags|=1,on(t,n,o,a),n.child;case 14:return by(t,n,n.type,n.pendingProps,a);case 15:return Sy(t,n,n.type,n.pendingProps,a);case 19:return Oy(t,n,a);case 31:return tb(t,n,a);case 22:return Ay(t,n,a,n.pendingProps);case 24:return Qr(n),o=an(Bt),t===null?(h=Rf(),h===null&&(h=ut,f=Af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},If(n),Bs(n,Bt,h)):((t.lanes&a)!==0&&(xf(t,n),dl(n,null,null,a),fl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Bs(n,Bt,o)):(o=f.cache,Bs(n,Bt,o),o!==h.cache&&Sf(n,[Bt],a,!0))),on(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(t){t.flags|=4}function cd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(a_())t.flags|=8192;else throw $r=Wu,Cf}else t.flags&=-16777217}function Vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!X_(n))if(a_())t.flags|=8192;else throw $r=Wu,Cf}function gc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?At():536870912,t.lanes|=n,Ja|=n)}function vl(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function ib(t,n,a){var o=n.pendingProps;switch(_f(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(Bt),dt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ef())),pt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(pt(n),Vy(n,f)):(pt(n),cd(n,h,null,o,a))):f?f!==t.memoizedState?(as(n),pt(n),Vy(n,f)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),pt(n),cd(n,h,t,o,a)),null;case 27:if(Ki(n),a=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pt(n),null}t=ae.current,Pa(n)?dg(n):(t=B_(h,o,a),n.stateNode=t,as(n))}return pt(n),null;case 5:if(Ki(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pt(n),null}if(f=ae.current,Pa(n))dg(n);else{var g=Dc(xe.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Pt]=n,f[Jt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(ln(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return pt(n),cd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=xe.current,Pa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=rn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||N_(t.nodeValue,a)),t||zs(n,!0)}else t=Dc(t).createTextNode(o),t[Pt]=n,n.stateNode=t}return pt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Pa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Pt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else a=Ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return pt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Pt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=Ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),gc(n,n.updateQueue),pt(n),null);case 4:return dt(),t===null&&Od(n.stateNode.containerInfo),pt(n),null;case 10:return ns(n.type),pt(n),null;case 19:if(Y(Nt),o=n.memoizedState,o===null)return pt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)vl(o,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ic(t),f!==null){for(n.flags|=128,vl(o,!1),t=f.updateQueue,n.updateQueue=t,gc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)lg(a,t),a=a.sibling;return ne(Nt,Nt.current&1|2),He&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&St()>Tc&&(n.flags|=128,h=!0,vl(o,!1),n.lanes=4194304)}else{if(!h)if(t=ic(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,gc(n,t),vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return pt(n),null}else 2*St()-o.renderingStartTime>Tc&&a!==536870912&&(n.flags|=128,h=!0,vl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=St(),t.sibling=null,a=Nt.current,ne(Nt,h?a&1|2:a&1),He&&es(n,o.treeForkCount),t):(pt(n),null);case 22:case 23:return jn(n),Mf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),a=n.updateQueue,a!==null&&gc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Y(Yr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(Bt),pt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sb(t,n){switch(_f(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(Bt),dt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ki(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Nt),null;case 4:return dt(),null;case 10:return ns(n.type),null;case 22:case 23:return jn(n),Mf(),t!==null&&Y(Yr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(Bt),null;case 25:return null;default:return null}}function ky(t,n){switch(_f(n),n.tag){case 3:ns(Bt),dt();break;case 26:case 27:case 5:Ki(n);break;case 4:dt();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Y(Nt);break;case 10:ns(n.type);break;case 22:case 23:jn(n),Mf(),t!==null&&Y(Yr);break;case 24:ns(Bt)}}function El(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){tt(n,n.return,E)}}function Qs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(F){tt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){tt(n,n.return,F)}}function Ly(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Rg(n,a)}catch(o){tt(t,t.return,o)}}}function Uy(t,n,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){tt(t,n,o)}}function Tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){tt(t,n,h)}}function ki(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,n,h)}else a.current=null}function Py(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function hd(t,n,a){try{var o=t.stateNode;Rb(o,t.type,a,n),o[Jt]=n}catch(h){tt(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=li));else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(dd(t,n,a),t=t.sibling;t!==null;)dd(t,n,a),t=t.sibling}function yc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,n,a),t=t.sibling;t!==null;)yc(t,n,a),t=t.sibling}function zy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,o,a),n[Pt]=t,n[Jt]=a}catch(f){tt(t,t.return,f)}}var os=!1,Gt=!1,md=!1,By=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function rb(t,n){if(t=t.containerInfo,kd=Pc,t=Wp(t),of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,z=0,F=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++z===h&&(E=g),B===f&&++F===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},Pc=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var le=Wr(a.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){tt(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function qy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&El(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){tt(a,a.return,g)}else{var h=Wr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){tt(a,a.return,g)}}o&64&&Ly(a),o&512&&Tl(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Rg(t,n)}catch(g){tt(a,a.return,g)}}break;case 27:n===null&&o&4&&zy(a);case 26:case 5:us(t,a),n===null&&o&4&&Py(a),o&512&&Tl(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&Fy(t,a);break;case 13:us(t,a),o&4&&Ky(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mb.bind(null,a),Vb(t,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||Gt,h=os;var f=Gt;os=o,(Gt=n)&&!f?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),os=h,Gt=f}break;case 30:break;default:us(t,a)}}function Hy(t){var n=t.alternate;n!==null&&(t.alternate=null,Hy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,Rn=!1;function ls(t,n,a){for(a=a.child;a!==null;)Gy(t,n,a),a=a.sibling}function Gy(t,n,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:Gt||ki(a,n),ls(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||ki(a,n);var o=Et,h=Rn;er(a.type)&&(Et=a.stateNode,Rn=!1),ls(t,n,a),Nl(a.stateNode),Et=o,Rn=h;break;case 5:Gt||ki(a,n);case 6:if(o=Et,h=Rn,Et=null,ls(t,n,a),Et=o,Rn=h,Et!==null)if(Rn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(f){tt(a,n,f)}else try{Et.removeChild(a.stateNode)}catch(f){tt(a,n,f)}break;case 18:Et!==null&&(Rn?(t=Et,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ro(t)):L_(Et,a.stateNode));break;case 4:o=Et,h=Rn,Et=a.stateNode.containerInfo,Rn=!0,ls(t,n,a),Et=o,Rn=h;break;case 0:case 11:case 14:case 15:Qs(2,a,n),Gt||Qs(4,a,n),ls(t,n,a);break;case 1:Gt||(ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Uy(a,n,o)),ls(t,n,a);break;case 21:ls(t,n,a);break;case 22:Gt=(o=Gt)||a.memoizedState!==null,ls(t,n,a),Gt=o;break;default:ls(t,n,a)}}function Fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ro(t)}catch(a){tt(n,n.return,a)}}}function Ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(a){tt(n,n.return,a)}}function ab(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new By),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new By),n;default:throw Error(r(435,t.tag))}}function _c(t,n){var a=ab(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=pb.bind(null,t,o);o.then(h,h)}})}function Cn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){Et=E.stateNode,Rn=!1;break e}break;case 5:Et=E.stateNode,Rn=!1;break e;case 3:case 4:Et=E.stateNode.containerInfo,Rn=!0;break e}E=E.return}if(Et===null)throw Error(r(160));Gy(f,g,h),Et=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Qy(n,t),n=n.sibling}var mi=null;function Qy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),In(t),o&4&&(Qs(3,t,t.return),El(3,t),Qs(5,t,t.return));break;case 1:Cn(n,t),In(t),o&512&&(Gt||a===null||ki(a,a.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=mi;if(Cn(n,t),In(t),o&512&&(Gt||a===null||ki(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,o,a),f[Pt]=t,jt(f),o=f;break e;case"link":var g=Q_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;case"meta":if(g=Q_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Pt]=t,jt(f),o=f}t.stateNode=o}else Y_(h,t.type,t.stateNode);else t.stateNode=K_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Y_(h,t.type,t.stateNode):K_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&hd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(n,t),In(t),o&512&&(Gt||a===null||ki(a,a.return)),a!==null&&o&4&&hd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(n,t),In(t),o&512&&(Gt||a===null||ki(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(le){tt(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,hd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(md=!0);break;case 6:if(Cn(n,t),In(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){tt(t,t.return,le)}}break;case 3:if(Vc=null,h=mi,mi=Oc(n.containerInfo),Cn(n,t),mi=h,In(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(le){tt(t,t.return,le)}md&&(md=!1,Yy(t));break;case 4:o=mi,mi=Oc(t.stateNode.containerInfo),Cn(n,t),In(t),mi=o;break;case 12:Cn(n,t),In(t);break;case 31:Cn(n,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_c(t,o)));break;case 13:Cn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=St()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_c(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=os,F=Gt;if(os=z||h,Gt=F||C,Cn(n,t),Gt=F,os=z,In(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||os||Gt||ea(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){tt(C,C.return,le)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){tt(C,C.return,le)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?U_(H,!0):U_(C.stateNode,!1)}catch(le){tt(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,_c(t,a))));break;case 19:Cn(n,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_c(t,o)));break;case 30:break;case 21:break;default:Cn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(jy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=fd(t);yc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(wn(g,""),a.flags&=-33);var E=fd(t);yc(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=fd(t);dd(t,z,C);break;default:throw Error(r(161))}}catch(F){tt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qy(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),ea(n);break;case 1:ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Uy(n,n.return,a),ea(n);break;case 27:Nl(n.stateNode);case 26:case 5:ki(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),El(4,f);break;case 1:if(cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){tt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)wg(C[h],E)}catch(z){tt(o,o.return,z)}}a&&g&64&&Ly(f),Tl(f,f.return);break;case 27:zy(f);case 26:case 5:cs(h,f,a),a&&o===null&&g&4&&Py(f),Tl(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&g&4&&Fy(h,f);break;case 13:cs(h,f,a),a&&g&4&&Ky(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),Tl(f,f.return);break;case 30:break;default:cs(h,f,a)}n=n.sibling}}function pd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function gd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function pi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xy(t,n,a,o),n=n.sibling}function Xy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,a,o),h&2048&&El(9,n);break;case 1:pi(t,n,a,o);break;case 3:pi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){pi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){tt(n,n.return,C)}}else pi(t,n,a,o);break;case 31:pi(t,n,a,o);break;case 13:pi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,a,o):bl(t,n):f._visibility&2?pi(t,n,a,o):(f._visibility|=2,Ya(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&pd(g,n);break;case 24:pi(t,n,a,o),h&2048&&gd(n.alternate,n);break;default:pi(t,n,a,o)}}function Ya(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ya(f,g,E,C,h),El(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ya(f,g,E,C,h):bl(f,g):(F._visibility|=2,Ya(f,g,E,C,h)),h&&z&2048&&pd(g.alternate,g);break;case 24:Ya(f,g,E,C,h),h&&z&2048&&gd(g.alternate,g);break;default:Ya(f,g,E,C,h)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:bl(a,o),h&2048&&pd(o.alternate,o);break;case 24:bl(a,o),h&2048&&gd(o.alternate,o);break;default:bl(a,o)}n=n.sibling}}var Sl=8192;function Xa(t,n,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)$y(t,n,a),t=t.sibling}function $y(t,n,a){switch(t.tag){case 26:Xa(t,n,a),t.flags&Sl&&t.memoizedState!==null&&Kb(a,mi,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,n,a);break;case 3:case 4:var o=mi;mi=Oc(t.stateNode.containerInfo),Xa(t,n,a),mi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Sl,Sl=16777216,Xa(t,n,a),Sl=o):Xa(t,n,a));break;default:Xa(t,n,a)}}function Jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Wt=o,Wy(o,t)}Jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zy(t),t=t.sibling}function Zy(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vc(t)):Al(t);break;default:Al(t)}}function vc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Wt=o,Wy(o,t)}Jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),vc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,vc(n));break;default:vc(n)}t=t.sibling}}function Wy(t,n){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:Qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ol(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Wt=o;else e:for(a=t;Wt!==null;){o=Wt;var h=o.sibling,f=o.return;if(Hy(o),o===a){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var ob={getCacheForType:function(t){var n=an(Bt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return an(Bt).controller.signal}},lb=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,ke=null,Pe=0,et=0,zn=null,Ys=!1,$a=!1,yd=!1,hs=0,Rt=0,Xs=0,ta=0,_d=0,Bn=0,Ja=0,wl=null,xn=null,vd=!1,Ec=0,e_=0,Tc=1/0,bc=null,$s=null,Yt=0,Js=null,Za=null,fs=0,Ed=0,Td=null,t_=null,Rl=0,bd=null;function qn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:G.T!==null?Id():Su()}function n_(){if(Bn===0)if((Pe&536870912)===0||He){var t=fe;fe<<=1,(fe&3932160)===0&&(fe=262144),Bn=t}else Bn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),Bn}function Nn(t,n,a){(t===ut&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Zs(t,Pe,Bn,!1)),xr(t,a),((Je&2)===0||t!==ut)&&(t===ut&&((Je&2)===0&&(ta|=a),Rt===4&&Zs(t,Pe,Bn,!1)),Li(t))}function i_(t,n,a){if((Je&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ht(t,n),h=o?hb(t,n):Ad(t,n,!0),f=o;do{if(h===0){$a&&!o&&Zs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ub(a)){h=Ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=wl;var C=E.current.memoizedState.isDehydrated;if(C&&(Wa(E,g).flags|=256),g=Ad(E,g,!1),g!==2){if(yd&&!C){E.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Wa(t,0),Zs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,Bn,!Ys);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ec+300-St(),10<h)){if(Zs(o,n,Bn,!Ys),Ie(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=V_(s_.bind(null,o,a,xn,bc,vd,n,Bn,ta,Ja,Ys,f,"Throttled",-0,0),h);break e}s_(o,a,xn,bc,vd,n,Bn,ta,Ja,Ys,f,null,-0,0)}}break}while(!0);Li(t)}function s_(t,n,a,o,h,f,g,E,C,z,F,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},$y(n,f,X);var le=(f&62914560)===f?Ec-St():(f&4194048)===f?e_-St():0;if(le=Qb(X,le),le!==null){fs=f,t.cancelPendingCommit=le(f_.bind(null,t,n,f,a,o,h,g,E,C,F,X,null,B,H)),Zs(t,f,g,!z);return}}f_(t,n,f,a,o,h,g,E,C)}function ub(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,a,o){n&=~_d,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Tt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Nr(t,a,n)}function Sc(){return(Je&6)===0?(Cl(0),!1):!0}function Sd(){if(ke!==null){if(et===0)var t=ke.return;else t=ke,ts=Kr=null,jf(t),Ha=null,ul=0,t=ke;for(;t!==null;)ky(t.alternate,t),t=t.return;ke=null}}function Wa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,Sd(),ut=t,ke=a=Wi(t.current,null),Pe=n,et=0,zn=null,Ys=!1,$a=ht(t,n),yd=!1,Ja=Bn=_d=ta=Xs=Rt=0,xn=wl=null,vd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Tt(o),f=1<<h;n|=t[h],o&=~f}return hs=n,Gu(),a}function r_(t,n){De=null,G.H=yl,n===qa||n===Zu?(n=Tg(),et=3):n===Cf?(n=Tg(),et=4):et=n===td?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,ke===null&&(Rt=1,fc(t,Xn(n,t.current)))}function a_(){var t=Pn.current;return t===null?!0:(Pe&4194048)===Pe?Wn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Wn:!1}function o_(){var t=G.H;return G.H=yl,t===null?yl:t}function l_(){var t=G.A;return G.A=ob,t}function Ac(){Rt=4,Ys||(Pe&4194048)!==Pe&&Pn.current!==null||($a=!0),(Xs&134217727)===0&&(ta&134217727)===0||ut===null||Zs(ut,Pe,Bn,!1)}function Ad(t,n,a){var o=Je;Je|=2;var h=o_(),f=l_();(ut!==t||Pe!==n)&&(bc=null,Wa(t,n)),n=!1;var g=Rt;e:do try{if(et!==0&&ke!==null){var E=ke,C=zn;switch(et){case 8:Sd(),g=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var z=et;if(et=0,zn=null,eo(t,E,C,z),a&&$a){g=0;break e}break;default:z=et,et=0,zn=null,eo(t,E,C,z)}}cb(),g=Rt;break}catch(F){r_(t,F)}while(!0);return n&&t.shellSuspendCounter++,ts=Kr=null,Je=o,G.H=h,G.A=f,ke===null&&(ut=null,Pe=0,Gu()),g}function cb(){for(;ke!==null;)u_(ke)}function hb(t,n){var a=Je;Je|=2;var o=o_(),h=l_();ut!==t||Pe!==n?(bc=null,Tc=St()+500,Wa(t,n)):$a=ht(t,n);e:do try{if(et!==0&&ke!==null){n=ke;var f=zn;t:switch(et){case 1:et=0,zn=null,eo(t,n,f,1);break;case 2:case 9:if(vg(f)){et=0,zn=null,c_(n);break}n=function(){et!==2&&et!==9||ut!==t||(et=7),Li(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:vg(f)?(et=0,zn=null,c_(n)):(et=0,zn=null,eo(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?X_(g):E.stateNode.complete){et=0,zn=null;var C=E.sibling;if(C!==null)ke=C;else{var z=E.return;z!==null?(ke=z,wc(z)):ke=null}break t}}et=0,zn=null,eo(t,n,f,5);break;case 6:et=0,zn=null,eo(t,n,f,6);break;case 8:Sd(),Rt=6;break e;default:throw Error(r(462))}}fb();break}catch(F){r_(t,F)}while(!0);return ts=Kr=null,G.H=o,G.A=h,Je=a,ke!==null?0:(ut=null,Pe=0,Gu(),Rt)}function fb(){for(;ke!==null&&!se();)u_(ke)}function u_(t){var n=My(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?wc(t):ke=n}function c_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Cy(a,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Cy(a,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:jf(n);default:ky(a,n),n=ke=lg(n,hs),n=My(a,n,hs)}t.memoizedProps=t.pendingProps,n===null?wc(t):ke=n}function eo(t,n,a,o){ts=Kr=null,jf(n),Ha=null,ul=0;var h=n.return;try{if(eb(t,h,n,a,Pe)){Rt=1,fc(t,Xn(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Rt=1,fc(t,Xn(a,t.current)),ke=null;return}n.flags&32768?(He||o===1?t=!0:$a||(Pe&536870912)!==0?t=!1:(Ys=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),h_(n,t)):wc(n)}function wc(t){var n=t;do{if((n.flags&32768)!==0){h_(n,Ys);return}t=n.return;var a=ib(n.alternate,n,hs);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Rt===0&&(Rt=5)}function h_(t,n){do{var a=sb(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);Rt=6,ke=null}function f_(t,n,a,o,h,f,g,E,C){t.cancelPendingCommit=null;do Rc();while(Yt!==0);if((Je&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ff,nf(t,a,f,g,E,C),t===ut&&(ke=ut=null,Pe=0),Za=n,Js=t,fs=a,Ed=f,Td=h,t_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gb(bn,function(){return y_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ie.p,ie.p=2,g=Je,Je|=4;try{rb(t,n,a)}finally{Je=g,ie.p=h,G.T=o}}Yt=1,d_(),m_(),p_()}}function d_(){if(Yt===1){Yt=0;var t=Js,n=Za,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ie.p;ie.p=2;var h=Je;Je|=4;try{Qy(n,t);var f=Ld,g=Wp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Zp(E.ownerDocument.documentElement,E)){if(C!==null&&of(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=E.textContent.length,ye=Math.min(C.start,le),lt=C.end===void 0?ye:Math.min(C.end,le);!H.extend&&ye>lt&&(g=lt,lt=ye,ye=g);var L=Jp(E,ye),D=Jp(E,lt);if(L&&D&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),ye>lt?(H.addRange(j),H.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Pc=!!kd,Ld=kd=null}finally{Je=h,ie.p=o,G.T=a}}t.current=n,Yt=2}}function m_(){if(Yt===2){Yt=0;var t=Js,n=Za,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ie.p;ie.p=2;var h=Je;Je|=4;try{qy(t,n.alternate,n)}finally{Je=h,ie.p=o,G.T=a}}Yt=3}}function p_(){if(Yt===4||Yt===3){Yt=0,It();var t=Js,n=Za,a=fs,o=t_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Za=Js=null,g_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),Xi(a),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ie.p=h}}(fs&3)!==0&&Rc(),Li(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===bd?Rl++:(Rl=0,bd=t):Rl=0,Cl(0)}}function g_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function Rc(){return d_(),m_(),p_(),y_()}function y_(){if(Yt!==5)return!1;var t=Js,n=Ed;Ed=0;var a=Xi(fs),o=G.T,h=ie.p;try{ie.p=32>a?32:a,G.T=null,a=Td,Td=null;var f=Js,g=fs;if(Yt=0,Za=Js=null,fs=0,(Je&6)!==0)throw Error(r(331));var E=Je;if(Je|=4,Zy(f.current),Xy(f,f.current,g,a),Je=E,Cl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{ie.p=h,G.T=o,g_(t,n)}}function __(t,n,a){n=Xn(a,n),n=ed(t.stateNode,n,2),t=Gs(t,n,2),t!==null&&(xr(t,2),Li(t))}function tt(t,n,a){if(t.tag===3)__(t,t,a);else for(;n!==null;){if(n.tag===3){__(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=Xn(a,t),a=vy(2),o=Gs(n,a,2),o!==null&&(Ey(a,o,n,t),xr(o,2),Li(o));break}}n=n.return}}function wd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new lb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(yd=!0,h.add(a),t=db.bind(null,t,n,a),n.then(t,t))}function db(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ut===t&&(Pe&a)===a&&(Rt===4||Rt===3&&(Pe&62914560)===Pe&&300>St()-Ec?(Je&2)===0&&Wa(t,0):_d|=a,Ja===Pe&&(Ja=0)),Li(t)}function v_(t,n){n===0&&(n=At()),t=Hr(t,n),t!==null&&(xr(t,n),Li(t))}function mb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),v_(t,a)}function pb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),v_(t,a)}function gb(t,n){return te(t,n)}var Cc=null,to=null,Rd=!1,Ic=!1,Cd=!1,Ws=0;function Li(t){t!==to&&t.next===null&&(to===null?Cc=to=t:to=to.next=t),Ic=!0,Rd||(Rd=!0,_b())}function Cl(t,n){if(!Cd&&Ic){Cd=!0;do for(var a=!1,o=Cc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,S_(o,f))}else f=Pe,f=Ie(o,o===ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ht(o,f)||(a=!0,S_(o,f));o=o.next}while(a);Cd=!1}}function yb(){E_()}function E_(){Ic=Rd=!1;var t=0;Ws!==0&&Ib()&&(t=Ws);for(var n=St(),a=null,o=Cc;o!==null;){var h=o.next,f=T_(o,n);f===0?(o.next=null,a===null?Cc=h:a.next=h,h===null&&(to=a)):(a=o,(t!==0||(f&3)!==0)&&(Ic=!0)),o=h}Yt!==0&&Yt!==5||Cl(t),Ws!==0&&(Ws=0)}function T_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Tt(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=st(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ut,a=Pe,a=Ie(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&nn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ht(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&nn(o),Xi(a)){case 2:case 8:a=Ir;break;case 32:a=bn;break;case 268435456:a=pa;break;default:a=bn}return o=b_.bind(null,t),a=te(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&nn(o),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var o=Pe;return o=Ie(t,t===ut?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(i_(t,o,n),T_(t,St()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function S_(t,n){if(Rc())return null;i_(t,n,!0)}function _b(){Nb(function(){(Je&6)!==0?te(Cr,yb):E_()})}function Id(){if(Ws===0){var t=za;t===0&&(t=U,U<<=1,(U&261888)===0&&(U=256)),Ws=t}return Ws}function A_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function w_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=A_((h[Jt]||null).action),g=o.submitter;g&&(n=(n=g[Jt]||null)?A_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var C=g?w_(h,g):new FormData(h);Yf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?w_(h,g):new FormData(h),Yf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var xd=0;xd<hf.length;xd++){var Nd=hf[xd],Eb=Nd.toLowerCase(),Tb=Nd[0].toUpperCase()+Nd.slice(1);di(Eb,"on"+Tb)}di(ng,"onAnimationEnd"),di(ig,"onAnimationIteration"),di(sg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(U1,"onTransitionRun"),di(P1,"onTransitionStart"),di(j1,"onTransitionCancel"),di(rg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function R_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Hu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Hu(F)}h.currentTarget=null,f=C}}}}function Le(t,n){var a=n[Ea];a===void 0&&(a=n[Ea]=new Set);var o=t+"__bubble";a.has(o)||(C_(n,t,2,!1),a.add(o))}function Dd(t,n,a){var o=0;n&&(o|=4),C_(a,t,o,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[xc]){t[xc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||Dd(a,!1,t),Dd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xc]||(n[xc]=!0,Dd("selectionchange",!1,n))}}function C_(t,n,a,o){switch(nv(n)){case 2:var h=$b;break;case 8:h=Jb;break;default:h=Qd}a=h.bind(null,n,a,t),h=void 0,!kr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Md(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=bi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Vs(function(){var z=f,F=Fn(a),X=[];e:{var B=ag.get(t);if(B!==void 0){var H=xi,le=t;switch(t){case"keypress":if(Ur(a)===0)break e;case"keydown":case"keyup":H=zu;break;case"focusin":le="focus",H=jr;break;case"focusout":le="blur",H=jr;break;case"beforeblur":case"afterblur":H=jr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ng:case ig:case sg:H=Mu;break;case rg:H=T;break;case"scroll":case"scrollend":H=Zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zi;break;case"toggle":case"beforetoggle":H=Ne}var ye=(n&4)!==0,lt=!ye&&(t==="scroll"||t==="scrollend"),L=ye?B!==null?B+"Capture":null:B;ye=[];for(var D=z,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||L===null||(K=ui(D,L),K!=null&&ye.push(xl(D,K,j))),lt)break;D=D.return}0<ye.length&&(B=new H(B,le,null,a,F),X.push({event:B,listeners:ye}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Xo&&(le=a.relatedTarget||a.fromElement)&&(bi(le)||le[Ei]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=z,le=le?bi(le):null,le!==null&&(lt=c(le),ye=le.tag,le!==lt||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(H=null,le=z),H!==le)){if(ye=Wo,K="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Zi,K="onPointerLeave",L="onPointerEnter",D="pointer"),lt=H==null?B:Vn(H),j=le==null?B:Vn(le),B=new ye(K,D+"leave",H,a,F),B.target=lt,B.relatedTarget=j,K=null,bi(F)===z&&(ye=new ye(L,D+"enter",le,a,F),ye.target=j,ye.relatedTarget=lt,K=ye),lt=K,H&&le)t:{for(ye=Sb,L=H,D=le,j=0,K=L;K;K=ye(K))j++;K=0;for(var me=D;me;me=ye(me))K++;for(;0<j-K;)L=ye(L),j--;for(;0<K-j;)D=ye(D),K--;for(;j--;){if(L===D||D!==null&&L===D.alternate){ye=L;break t}L=ye(L),D=ye(D)}ye=null}else ye=null;H!==null&&I_(X,B,H,ye,!1),le!==null&&lt!==null&&I_(X,lt,le,ye,!0)}}e:{if(B=z?Vn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ke=Fp;else if(Hp(B))if(Kp)Ke=V1;else{Ke=O1;var he=D1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Aa(z.elementType)&&(Ke=Fp):Ke=M1;if(Ke&&(Ke=Ke(t,z))){Gp(X,Ke,a,F);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ko(B,"number",B.value)}switch(he=z?Vn(z):window,t){case"focusin":(Hp(he)||he.contentEditable==="true")&&(Oa=he,lf=z,sl=null);break;case"focusout":sl=lf=Oa=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,eg(X,a,F);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":eg(X,a,F)}var Oe;if($e)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Da?zr(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Oi&&a.locale!=="ko"&&(Da||je!=="onCompositionStart"?je==="onCompositionEnd"&&Da&&(Oe=Jo()):(Ii=F,$o="value"in Ii?Ii.value:Ii.textContent,Da=!0)),he=Nc(z,je),0<he.length&&(je=new Di(je,t,null,a,F),X.push({event:je,listeners:he}),Oe?je.data=Oe:(Oe=Na(a),Oe!==null&&(je.data=Oe)))),(Oe=Qn?C1(t,a):I1(t,a))&&(je=Nc(z,"onBeforeInput"),0<je.length&&(he=new Di("onBeforeInput","beforeinput",null,a,F),X.push({event:he,listeners:je}),he.data=Oe)),vb(X,t,z,a,F)}R_(X,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Nc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,a),h!=null&&o.unshift(xl(t,h,f)),h=ui(t,n),h!=null&&o.push(xl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Sb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ui(a,f),z!=null&&g.unshift(xl(a,z,C))):h||(z=ui(a,f),z!=null&&g.push(xl(a,z,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var Ab=/\r\n?/g,wb=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(Ab,`
`).replace(wb,"")}function N_(t,n){return n=x_(n),x_(t)===n}function ot(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||wn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&wn(t,""+o);break;case"className":kn(t,"class",o);break;case"tabIndex":kn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,o);break;case"style":Yo(t,o,f);break;case"data":if(n!=="object"){kn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=li);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),ba(t,"popover",o);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ba(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,ba(t,a,o))}}function Vd(t,n,a,o,h,f){switch(a){case"style":Yo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?wn(t,o):(typeof o=="number"||typeof o=="bigint")&&wn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ba(t,a,o)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ot(t,n,f,g,a,null)}}h&&ot(t,n,"srcSet",a.srcSet,a,null),o&&ot(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ot(t,n,o,F,a,null)}}Cu(t,f,E,C,z,g,h,!1);return;case"select":Le("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ot(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?Ns(t,!!o,n,!1):a!=null&&Ns(t,!!o,a,!0);return;case"textarea":Le("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ot(t,n,g,E,a,null)}Ds(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ot(t,n,C,o,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<Il.length;o++)Le(Il[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ot(t,n,z,o,a,null)}return;default:if(Aa(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Vd(t,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ot(t,n,E,o,a,null))}function Rb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ot(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&ot(t,n,B,H,o,X)}}Sa(t,g,E,C,z,F,f,h);return;case"select":H=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ot(t,n,h,f,o,C)}n=E,a=g,o=H,B!=null?Ns(t,!!a,B,!1):!!o!=!!a&&(n!=null?Ns(t,!!a,n,!0):Ns(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ot(t,n,g,h,o,f)}Iu(t,B,H);return;case"option":for(var le in a)B=a[le],a.hasOwnProperty(le)&&B!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ot(t,n,le,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ot(t,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!o.hasOwnProperty(ye)&&ot(t,n,ye,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ot(t,n,z,B,o,H)}return;default:if(Aa(n)){for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!==void 0&&!o.hasOwnProperty(lt)&&Vd(t,n,lt,void 0,o,B);for(F in o)B=o[F],H=a[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Vd(t,n,F,B,o,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&ot(t,n,L,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ot(t,n,X,B,o,H)}function D_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&D_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var F=C.transferSize,X=C.initiatorType;F&&D_(X)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kd=null,Ld=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ud(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pd=null;function Ib(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(t){return k_.resolve(null).then(t).catch(Db)}:V_;function Db(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function L_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ro(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);ro(n)}function U_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function jd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ob(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function Mb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function P_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$?"||t.data==="$~"}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var qd=null;function j_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ei(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function B_(t,n,a){switch(n=Dc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ta(t)}var ti=new Map,q_=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ie.d;ie.d={f:kb,r:Lb,D:Ub,C:Pb,L:jb,m:zb,X:qb,S:Bb,M:Hb};function kb(){var t=ds.f(),n=Sc();return t||n}function Lb(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?ry(n):ds.r(t)}var no=typeof document>"u"?null:document;function H_(t,n,a){var o=no;if(o&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),q_.has(h)||(q_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ln(n,"link",t),jt(n),o.head.appendChild(n)))}}function Ub(t){ds.D(t),H_("dns-prefetch",t,null)}function Pb(t,n){ds.C(t,n),H_("preconnect",t,n)}function jb(t,n,a){ds.L(t,n,a);var o=no;if(o&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=io(t);break;case"script":f=so(t)}ti.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ti.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Dl(f))||n==="script"&&o.querySelector(Ol(f))||(n=o.createElement("link"),ln(n,"link",t),jt(n),o.head.appendChild(n)))}}function zb(t,n){ds.m(t,n);var a=no;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(o)+'"][href="'+An(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=so(t)}if(!ti.has(f)&&(t=w({rel:"modulepreload",href:t},n),ti.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}o=a.createElement("link"),ln(o,"link",t),jt(o),a.head.appendChild(o)}}}function Bb(t,n,a){ds.S(t,n,a);var o=no;if(o&&t){var h=Si(o).hoistableStyles,f=io(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Dl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ti.get(f))&&Hd(t,a);var C=g=o.createElement("link");jt(C),ln(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function qb(t,n){ds.X(t,n);var a=no;if(a&&t){var o=Si(a).hoistableScripts,h=so(t),f=o.get(h);f||(f=a.querySelector(Ol(h)),f||(t=w({src:t,async:!0},n),(n=ti.get(h))&&Gd(t,n),f=a.createElement("script"),jt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Hb(t,n){ds.M(t,n);var a=no;if(a&&t){var o=Si(a).hoistableScripts,h=so(t),f=o.get(h);f||(f=a.querySelector(Ol(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ti.get(h))&&Gd(t,n),f=a.createElement("script"),jt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function G_(t,n,a,o){var h=(h=xe.current)?Oc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=io(a.href),a=Si(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var f=Si(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Dl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),f||Gb(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(a),a=Si(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function io(t){return'href="'+An(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Gb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ln(n,"link",a),jt(n),t.head.appendChild(n))}function so(t){return'[src="'+An(t)+'"]'}function Ol(t){return"script[async]"+t}function K_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(o)return n.instance=o,jt(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),jt(o),ln(o,"style",h),Mc(o,a.precedence,t),n.instance=o;case"stylesheet":h=io(a.href);var f=t.querySelector(Dl(h));if(f)return n.state.loading|=4,n.instance=f,jt(f),f;o=F_(a),(h=ti.get(h))&&Hd(o,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ln(f,"link",o),n.state.loading|=4,Mc(f,a.precedence,t),n.instance=f;case"script":return f=so(a.src),(h=t.querySelector(Ol(f)))?(n.instance=h,jt(h),h):(o=a,(h=ti.get(f))&&(o=w({},a),Gd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),ln(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Mc(o,a.precedence,t));return n.instance}function Mc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Hd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vc=null;function Q_(t,n,a){if(Vc===null){var o=new Map,h=Vc=new Map;h.set(a,o)}else h=Vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ti]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Y_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Fb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function X_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Kb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=io(o.href),f=n.querySelector(Dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=kc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,jt(f);return}f=n.ownerDocument||n,o=F_(o),(h=ti.get(h))&&Hd(o,h),f=f.createElement("link"),jt(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ln(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=kc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Fd=0;function Qb(t,n){return t.stylesheets&&t.count===0&&Uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Fd===0&&(Fd=62500*Cb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Fd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Uc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,n.forEach(Yb,t),Lc=null,kc.call(t))}function Yb(t,n){if(!(n.state.loading&4)){var a=Lc.get(t);if(a)var o=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=kc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:be,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Xb(t,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function $_(t,n,a,o,h,f,g,E,C,z,F,X){return t=new Xb(t,n,a,g,C,z,F,X,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=Af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},If(f),t}function J_(t){return t?(t=ka,t):ka}function Z_(t,n,a,o,h,f){h=J_(h),o.context===null?o.context=h:o.pendingContext=h,o=Hs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Gs(t,o,n),a!==null&&(Nn(a,t,n),hl(a,t,n))}function W_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Kd(t,n){W_(t,n),(t=t.alternate)&&W_(t,n)}function ev(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&Nn(n,t,67108864),Kd(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var n=qn();n=Dr(n);var a=Hr(t,n);a!==null&&Nn(a,t,n),Kd(t,n)}}var Pc=!0;function $b(t,n,a,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Qd(t,n,a,o)}finally{ie.p=f,G.T=h}}function Jb(t,n,a,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Qd(t,n,a,o)}finally{ie.p=f,G.T=h}}function Qd(t,n,a,o){if(Pc){var h=Yd(o);if(h===null)Md(t,n,o,jc,a),iv(t,o);else if(Wb(h,t,n,a,o))o.stopPropagation();else if(iv(t,o),n&4&&-1<Zb.indexOf(t)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=_e(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-Tt(g);E.entanglements[1]|=C,g&=~C}Li(f),(Je&6)===0&&(Tc=St()+500,Cl(0))}}break;case 31:case 13:E=Hr(f,2),E!==null&&Nn(E,f,2),Sc(),Kd(f,2)}if(f=Yd(o),f===null&&Md(t,n,o,jc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Md(t,n,o,null,a)}}function Yd(t){return t=Fn(t),Xd(t)}var jc=null;function Xd(t){if(jc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return jc=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case Cr:return 2;case Ir:return 8;case bn:case Uo:return 32;case pa:return 268435456;default:return 32}default:return 32}}var $d=!1,tr=null,nr=null,ir=null,Vl=new Map,kl=new Map,sr=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ll(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&ev(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Wb(t,n,a,o,h){switch(n){case"focusin":return tr=Ll(tr,t,n,a,o,h),!0;case"dragenter":return nr=Ll(nr,t,n,a,o,h),!0;case"mouseover":return ir=Ll(ir,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Vl.set(f,Ll(Vl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,Ll(kl.get(f)||null,t,n,a,o,h)),!0}return!1}function sv(t){var n=bi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ai(t.priority,function(){tv(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,ai(t.priority,function(){tv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Xo=o,a.target.dispatchEvent(o),Xo=null}else return n=Gn(a),n!==null&&ev(n),t.blockedOn=a,!1;n.shift()}return!0}function rv(t,n,a){zc(t)&&a.delete(n)}function eS(){$d=!1,tr!==null&&zc(tr)&&(tr=null),nr!==null&&zc(nr)&&(nr=null),ir!==null&&zc(ir)&&(ir=null),Vl.forEach(rv),kl.forEach(rv)}function Bc(t,n){t.blockedOn===n&&(t.blockedOn=null,$d||($d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eS)))}var qc=null;function av(t){qc!==t&&(qc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Xd(o||a)===null)continue;break}var f=Gn(a);f!==null&&(t.splice(n,3),n-=3,Yf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ro(t){function n(C){return Bc(C,t)}tr!==null&&Bc(tr,t),nr!==null&&Bc(nr,t),ir!==null&&Bc(ir,t),Vl.forEach(n),kl.forEach(n);for(var a=0;a<sr.length;a++){var o=sr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Jt]||null;if(typeof f=="function")g||av(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Jt]||null)E=g.formAction;else if(Xd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),av(a)}}}function ov(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Jd(t){this._internalRoot=t}Hc.prototype.render=Jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=qn();Z_(a,o,t,n,null,null)},Hc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Z_(t.current,2,null,t,null,null),Sc(),n[Ei]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Su();t={blockedOn:null,target:t,priority:n};for(var a=0;a<sr.length&&n!==0&&n<sr[a].priority;a++);sr.splice(a,0,t),a===0&&sv(t)}};var lv=e.version;if(lv!=="19.2.4")throw Error(r(527,lv,"19.2.4"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var tS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Mn=Gc.inject(tS),Qt=Gc}catch{}}return Pl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=py,f=gy,g=yy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=$_(t,1,!1,null,null,a,o,null,h,f,g,ov),t[Ei]=n.current,Od(t),new Jd(n)},Pl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=py,g=gy,E=yy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=$_(t,1,!0,n,a??null,o,h,C,f,g,E,ov),n.context=J_(null),a=n.current,o=qn(),o=Dr(o),h=Hs(o),h.callback=null,Gs(a,h,o),a=o,n.current.lanes=a,xr(n,a),Li(n),t[Ei]=n.current,Od(t),new Hc(n)},Pl.version="19.2.4",Pl}var _v;function hS(){if(_v)return em.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),em.exports=cS(),em.exports}var fS=hS();const dS=()=>{};var vv={};const nE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},mS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(O=64)),r.push(i[b],i[w],i[O],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(nE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):mS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new pS;const O=c<<2|p>>4;if(r.push(O),y!==64){const Q=p<<4&240|y>>2;if(r.push(Q),w!==64){const Z=y<<6&192|w;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gS=function(s){const e=nE(s);return iE.encodeByteArray(e,!0)},mh=function(s){return gS(s).replace(/\./g,"")},sE=function(s){try{return iE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _S=()=>yS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof vv>"u")return;const s=vv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ES=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&sE(s[1]);return e&&JSON.parse(e)},Mh=()=>{try{return dS()||_S()||vS()||ES()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rE=s=>Mh()?.emulatorHosts?.[s],TS=s=>{const e=rE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},aE=()=>Mh()?.config,oE=s=>Mh()?.[`_${s}`];class bS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lE(s){return(await fetch(s,{credentials:"include"})).ok}function SS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[mh(JSON.stringify(i)),mh(JSON.stringify(d)),""].join(".")}const Ql={};function AS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?s.emulator.push(e):s.prod.push(e);return s}function wS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Ev=!1;function uE(s,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||Ql[s]===e||Ql[s]||Ev)return;Ql[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=AS().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Ev=!0,d()},O}function b(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=wS(r),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),re=i("learnmore"),ee=document.getElementById(re)||document.createElement("a"),ge=i("preprendIcon"),Se=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const be=O.element;p(be),b(ee,re);const Ye=y();_(Se,ge),be.append(Se,Z,ee,Ye),document.body.appendChild(be)}c?(Z.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function CS(){const s=Mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const s=gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function OS(){return!CS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function VS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const kS="FirebaseError";class As extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=kS,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?LS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new As(l,p,r)}}function LS(s,e){return s.replace(US,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const US=/\{\$([^}]+)}/g;function PS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function vs(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(Tv(c)&&Tv(d)){if(!vs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Tv(s){return s!==null&&typeof s=="object"}function cu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function ql(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function jS(s,e){const i=new zS(s,e);return i.subscribe.bind(i)}class zS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");BS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=sm),l.error===void 0&&(l.error=sm),l.complete===void 0&&(l.complete=sm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function sm(){}function Vt(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class qS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new bS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GS(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(s){return s===na?void 0:s}function GS(s){return s.instantiationMode==="EAGER"}class FS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new qS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const KS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},QS=ze.INFO,YS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},XS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=YS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=QS,this._logHandler=XS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const $S=(s,e)=>e.some(i=>s instanceof i);let bv,Sv;function JS(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,Tm=new WeakMap,hE=new WeakMap,rm=new WeakMap,Xm=new WeakMap;function WS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(fr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&cE.set(i,s)}).catch(()=>{}),Xm.set(e,s),e}function eA(s){if(Tm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Tm.set(s,e)}let bm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||hE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function tA(s){bm=s(bm)}function nA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(am(this),e,...i);return hE.set(r,e.sort?e.sort():[e]),fr(r)}:ZS().includes(s)?function(...e){return s.apply(am(this),e),fr(cE.get(this))}:function(...e){return fr(s.apply(am(this),e))}}function iA(s){return typeof s=="function"?nA(s):(s instanceof IDBTransaction&&eA(s),$S(s,JS())?new Proxy(s,bm):s)}function fr(s){if(s instanceof IDBRequest)return WS(s);if(rm.has(s))return rm.get(s);const e=iA(s);return e!==s&&(rm.set(s,e),Xm.set(e,s)),e}const am=s=>Xm.get(s);function sA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=fr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const rA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],om=new Map;function Av(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=aA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||rA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return om.set(e,c),c}tA(s=>({...s,get:(e,i,r)=>Av(e,i)||s.get(e,i,r),has:(e,i)=>!!Av(e,i)||s.has(e,i)}));class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function lA(s){return s.getComponent()?.type==="VERSION"}const Sm="@firebase/app",wv="0.14.8";const Es=new Ym("@firebase/app"),uA="@firebase/app-compat",cA="@firebase/analytics-compat",hA="@firebase/analytics",fA="@firebase/app-check-compat",dA="@firebase/app-check",mA="@firebase/auth",pA="@firebase/auth-compat",gA="@firebase/database",yA="@firebase/data-connect",_A="@firebase/database-compat",vA="@firebase/functions",EA="@firebase/functions-compat",TA="@firebase/installations",bA="@firebase/installations-compat",SA="@firebase/messaging",AA="@firebase/messaging-compat",wA="@firebase/performance",RA="@firebase/performance-compat",CA="@firebase/remote-config",IA="@firebase/remote-config-compat",xA="@firebase/storage",NA="@firebase/storage-compat",DA="@firebase/firestore",OA="@firebase/ai",MA="@firebase/firestore-compat",VA="firebase",kA="12.9.0";const Am="[DEFAULT]",LA={[Sm]:"fire-core",[uA]:"fire-core-compat",[hA]:"fire-analytics",[cA]:"fire-analytics-compat",[dA]:"fire-app-check",[fA]:"fire-app-check-compat",[mA]:"fire-auth",[pA]:"fire-auth-compat",[gA]:"fire-rtdb",[yA]:"fire-data-connect",[_A]:"fire-rtdb-compat",[vA]:"fire-fn",[EA]:"fire-fn-compat",[TA]:"fire-iid",[bA]:"fire-iid-compat",[SA]:"fire-fcm",[AA]:"fire-fcm-compat",[wA]:"fire-perf",[RA]:"fire-perf-compat",[CA]:"fire-rc",[IA]:"fire-rc-compat",[xA]:"fire-gcs",[NA]:"fire-gcs-compat",[DA]:"fire-fst",[MA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};const Wl=new Map,UA=new Map,wm=new Map;function Rv(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Eo(s){const e=s.name;if(wm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,s);for(const i of Wl.values())Rv(i,s);for(const i of UA.values())Rv(i,s);return!0}function $m(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}const PA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new uu("app","Firebase",PA);class jA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const xo=kA;function fE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Am,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw dr.create("bad-app-name",{appName:String(l)});if(i||(i=aE()),!i)throw dr.create("no-options");const c=Wl.get(l);if(c){if(vs(i,c.options)&&vs(r,c.config))return c;throw dr.create("duplicate-app",{appName:l})}const d=new FS(l);for(const _ of wm.values())d.addComponent(_);const p=new jA(i,r,d);return Wl.set(l,p),p}function Jm(s=Am){const e=Wl.get(s);if(!e&&s===Am&&aE())return fE();if(!e)throw dr.create("no-app",{appName:s});return e}function zA(){return Array.from(Wl.values())}function mr(s,e,i){let r=LA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}Eo(new aa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const BA="firebase-heartbeat-database",qA=1,eu="firebase-heartbeat-store";let lm=null;function dE(){return lm||(lm=sA(BA,qA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),lm}async function HA(s){try{const i=(await dE()).transaction(eu),r=await i.objectStore(eu).get(mE(s));return await i.done,r}catch(e){if(e instanceof As)Es.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function Cv(s,e){try{const r=(await dE()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,mE(s)),await r.done}catch(i){if(i instanceof As)Es.warn(i.message);else{const r=dr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(r.message)}}}function mE(s){return`${s.name}!${s.options.appId}`}const GA=1024,FA=30;class KA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new YA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>FA){const l=XA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iv(),{heartbeatsToSend:i,unsentEntries:r}=QA(this._heartbeatsCache.heartbeats),l=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function QA(s,e=GA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),xv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),xv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class YA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?VS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await HA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xv(s){return mh(JSON.stringify({version:2,heartbeats:s})).length}function XA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function $A(s){Eo(new aa("platform-logger",e=>new oA(e),"PRIVATE")),Eo(new aa("heartbeat",e=>new KA(e),"PRIVATE")),mr(Sm,wv,s),mr(Sm,wv,"esm2020"),mr("fire-js","")}$A("");var JA="firebase",ZA="12.9.0";mr(JA,ZA,"app");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,pE;(function(){var s;function e(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,k){for(var R=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)R[ft-2]=arguments[ft];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],N=x.g[2];let k=x.g[3],R;R=A+(k^I&(N^k))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(N^A&(I^N))+V[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(I^k&(A^I))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(A^N&(k^A))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(k^I&(N^k))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(N^A&(I^N))+V[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(I^k&(A^I))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(A^N&(k^A))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(k^I&(N^k))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(N^A&(I^N))+V[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(I^k&(A^I))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(A^N&(k^A))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(k^I&(N^k))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(N^A&(I^N))+V[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(I^k&(A^I))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(A^N&(k^A))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(N^k&(I^N))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(A^I))+V[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(k^A))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(N^k))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^k&(I^N))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(A^I))+V[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(k^A))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(N^k))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^k&(I^N))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(A^I))+V[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(k^A))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(N^k))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^k&(I^N))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(A^I))+V[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(k^A))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(N^k))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(I^N^k)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^N)+V[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^I)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^A)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^k)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^N)+V[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^I)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^A)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^k)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^N)+V[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^I)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^A)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^k)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^N)+V[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^I)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^A)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(N^(I|~k))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~N))+V[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~I))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~A))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~k))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~N))+V[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~I))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~A))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~k))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~N))+V[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~I))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~A))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~k))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~N))+V[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~I))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=I;)l(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(V[N++]=x.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<A;)if(V[N++]=x[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const k=x[N]|0;V&&k==A||(I[N]=k,V=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return ee(y(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return ee(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=w;for(let k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var w=_(0),O=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-ee(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(re(this))return"-"+ee(this).toString(x);const A=y(Math.pow(x,6));var I=this;let V="";for(;;){const N=Ye(I,A).g;I=ge(I,N.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,Z(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function re(x){return x.h==-1}s.l=function(x){return x=ge(this,x),re(x)?-1:Z(x)?0:1};function ee(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(O)}s.abs=function(){return re(this)?ee(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let k=V+(this.i(N)&65535)+(x.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,I[N]=R<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ge(x,A){return x.add(ee(A))}s.j=function(x){if(Z(this)||Z(x))return w;if(re(this))return re(x)?ee(this).j(ee(x)):ee(ee(this).j(x));if(re(x))return ee(this.j(ee(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,ft=x.i(N)>>>16,kt=x.i(N)&65535;I[2*V+2*N]+=R*kt,Se(I,2*V+2*N),I[2*V+2*N+1]+=k*kt,Se(I,2*V+2*N+1),I[2*V+2*N+1]+=R*ft,Se(I,2*V+2*N+1),I[2*V+2*N+2]+=k*ft,Se(I,2*V+2*N+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function Se(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function be(x,A){this.g=x,this.h=A}function Ye(x,A){if(Z(A))throw Error("division by zero");if(Z(x))return new be(w,w);if(re(x))return A=Ye(ee(x),A),new be(ee(A.g),ee(A.h));if(re(A))return A=Ye(x,ee(A)),new be(ee(A.g),A.h);if(x.g.length>30){if(re(x)||re(A))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=A;V.l(x)<=0;)I=ct(I),V=ct(V);var N=Ge(I,1),k=Ge(V,1);for(V=Ge(V,2),I=Ge(I,2);!Z(V);){var R=k.add(V);R.l(x)<=0&&(N=N.add(I),k=R),V=Ge(V,1),I=Ge(I,1)}return A=ge(x,N.j(A)),new be(N,A)}for(N=w;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(I),R=k.j(A);re(R)||R.l(x)>0;)I-=V,k=y(I),R=k.j(A);Z(k)&&(k=O),N=N.add(k),x=ge(x,R)}return new be(N,x)}s.B=function(x){return Ye(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function ct(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Ge(x,A){const I=A>>5;A%=32;const V=x.g.length-I,N=[];for(let k=0;k<V;k++)N[k]=A>0?x.i(k+I)>>>A|x.i(k+I+1)<<32-A:x.i(k+I);return new d(N,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,pr=d}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,Hl,yE,ih,Rm,_E,vE,EE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break e;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var W=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)W[Ne-2]=arguments[Ne];return m.prototype[P].apply(T,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=P[W]}else u.push(P)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,v){const T=be.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var be=new re(()=>new Ye,u=>u.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,Ge=!1,x=new Se,A=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(I)}};function I(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){ee(v)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ge=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ft(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ft,N),ft.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=xe(u,m,T,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xe(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Lt={};function dt(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)dt(u,m[q],v,T,P);return null}return v=tn(v),u&&u[kt]?u.J(m,v,p(T)?!!T.capture:!1,P):ri(u,m,v,!1,T,P)}function ri(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const W=p(P)?!!P.capture:!!P;let Ne=vi(u);if(Ne||(u[Ue]=Ne=new ae(u)),v=Ne.add(m,v,T,W,q),v.proxy)return v;if(T=Ki(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Tn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ki(){function u(v){return m.call(u.src,u.listener,v)}const m=Rr;return u}function wr(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)wr(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=tn(v),u&&u[kt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=xe(m,v,T,P),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=vi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,v,T,P)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[kt])ve(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Tn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=vi(m))?(ve(v,u),v.h==0&&(v.src=null,m[Ue]=null)):de(u)}}}function Tn(u){return u in Lt?Lt[u]:Lt[u]="on"+u}function Rr(u,m){if(u.da)u=!0;else{m=new ft(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qi(u),u=v.call(T,m)}return u}function vi(u){return u=u[Ue],u instanceof ae?u:null}var Cs="__closure_events_fn_"+(Math.random()*1e9>>>0);function tn(u){return typeof u=="function"?u:(u[Cs]||(u[Cs]=function(m){return u.handleEvent(m)}),u[Cs])}function _t(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}w(_t,V),_t.prototype[kt]=!0,_t.prototype.removeEventListener=function(u,m,v,T){wr(this,u,m,v,T)};function te(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),ne(m,P)}P=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],P=nn(q,T,!0,m)&&P;if(q=m.g=u,P=nn(q,T,!0,m)&&P,P=nn(q,T,!1,m)&&P,v)for(W=0;W<v.length;W++)q=m.g=v[W],P=nn(q,T,!1,m)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)de(v[T]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_t.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function nn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const Ne=W.listener,xt=W.ha||W.src;W.fa&&ve(u.i,W),P=Ne.call(xt,T)!==!1&&P}}return P&&!T.defaultPrevented}function se(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function It(u){u.g=se(()=>{u.g=null,u.i&&(u.i=!1,It(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class St extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){V.call(this),this.h=u,this.g={}}w(Yi,V);var Cr=[];function Ir(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),Ir(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=d.JSON.stringify,Uo=d.JSON.parse,pa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ga(){}function ya(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){N.call(this,"d")}w(Qt,N);function Sn(){N.call(this,"c")}w(Sn,N);var Tt={},_a=null;function Is(){return _a=_a||new _t}Tt.Ia="serverreachability";function va(u){N.call(this,Tt.Ia,u)}w(va,N);function U(u){const m=Is();te(m,new va(m))}Tt.STAT_EVENT="statevent";function fe(u,m){N.call(this,Tt.STAT_EVENT,u),this.stat=m}w(fe,N);function ce(u){const m=Is();te(m,new fe(m,u))}Tt.Ja="timingevent";function _e(u,m){N.call(this,Tt.Ja,u),this.size=m}w(_e,N);function Ie(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ht(){this.g=!0}ht.prototype.ua=function(){this.g=!1};function st(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var W="",Ne=q.split("&");for(let $e=0;$e<Ne.length;$e++){var xt=Ne[$e].split("=");if(xt.length>1){const vt=xt[0];xt=xt[1];const Qn=vt.split("_");W=Qn.length>=2&&Qn[1]=="type"?W+(vt+"="+xt+"&"):W+(vt+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function At(u,m,v,T,P,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+W})}function Ut(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nf(u,v)+(T?" "+T:"")})}function xr(u,m){u.info(function(){return"TIMEOUT: "+m})}ht.prototype.info=function(){};function nf(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return bn(q)}catch{return m}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function Dr(){}w(Dr,ga),Dr.prototype.g=function(){return new XMLHttpRequest},jo=new Dr;function Xi(u){return encodeURIComponent(String(u))}function Su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Pt={},Jt={};function Ei(u,m,v){u.M=1,u.A=Or(zt(m)),u.u=v,u.R=!0,Ea(u,null)}function Ea(u,m){u.F=Date.now(),Ti(u),u.B=zt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new oi,u.g=Pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new St(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Cr[0]=P.toString()),P=Cr);for(let q=0;q<P.length;q++){const W=dt(v,P[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),U(),st(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=ci(this.g),xt=this.g.ya(),$e=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ne!=4||xt==7||(xt==8||$e<=0?U(3):U(2)),bi(this);var m=this.g.ca();this.X=m;var v=sf(this);if(this.o=m==200,At(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)Ut(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,ce(12),Vn(this),Gn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=wu(this,v),vt==Jt){Ne==4&&(this.m=4,ce(14),u=!1),Ut(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Pt){this.m=4,ce(15),Ut(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ut(this.i,this.l,vt,null),Si(this,vt);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,ce(16),u=!1),this.o=this.o&&u,!u)Ut(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(W),W.P=!0,ce(11))}}else Ut(this.i,this.l,v,null),Si(this,v);Ne==4&&Vn(this),this.o&&!this.K&&(Ne==4?Vu(this.j,this):(this.o=!1,Ti(this)))}else Ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ce(12)):(this.m=0,ce(13)),Vn(this),Gn(this)}}}catch{}};function sf(u){if(!Au(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const T=m.length,P=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Jt:(v=Number(m.substring(v,T)),isNaN(v)?Pt:(T+=1,T+v>m.length?Jt:(m=m.slice(T,T+v),u.C=T+v,m)))}ai.prototype.cancel=function(){this.K=!0,Vn(this)};function Ti(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ie(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(U(),ce(17)),Vn(this),this.m=2,Gn(this)):Ta(this,this.T-u)};function Gn(u){u.j.I==0||u.K||Vu(u.j,u)}function Vn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ir(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),Ls(v);else break e;jr(v),ce(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ie(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&xa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let $e=P[m];const vt=$e[0];if(!(vt<=v.K))if(v.K=vt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Qn=$e[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const Oi=$e[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const hi=$e[5];hi!=null&&typeof hi=="number"&&hi>0&&(T=1.5*hi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const fi=u.g;if(fi){const zr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var q=T.h;q.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(qo(q,q.h),q.h=null))}if(T.G){const Na=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(T.wa=Na,We(T.J,T.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Uu(T,T.L?T.ba:null,T.W),W.L){Ho(T.h,W);var Ne=W,xt=T.O;xt&&(Ne.H=xt),Ne.D&&(bi(Ne),Ti(Ne)),T.g=W}else Ou(T);v.i.length>0&&Ni(v)}else $e[0]!="stop"&&$e[0]!="close"||Di(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Di(v,7):Zo(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}U(4)}catch{}}var jt=class{constructor(u,m){this.g=u,this.map=m}};function zo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qo(u,m){u.g?u.g.add(m):u.h=m}function Ho(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,Fo(this,Nu(u.i)),this.m=u.m):u&&(m=String(u).match(Ru))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),xs(this,m[4]),this.h=Ri(m[5]||"",!0),Fo(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Mr(m,Sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,Sa,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?Ko:Cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,Iu)),u.join("")},kn.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?Zt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)xs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let W=0;W<P.length;){const Ne=P[W++];Ne=="."?T&&W==P.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==P.length&&q.push("")):(q.push(Ne),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Fo(m,Nu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new kn(u)}function Zt(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Fo(u,m,v){m instanceof Ds?(u.i=m,wa(u.i,u.l)):(v||(m=Mr(m,Ns)),u.i=new Ds(m,u.l))}function We(u,m,v){u.i.set(m,v)}function Or(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,An),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,Cu=/[#\?:]/g,Ko=/[#\?]/g,Ns=/[#\?@]/g,Iu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ds.prototype,s.add=function(u,m){wn(this),this.i=null,u=Os(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function xu(u,m){wn(u),m=Os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qo(u,m){return wn(u),m=Os(u,m),u.g.has(m)}s.forEach=function(u,m){wn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Yo(u,m){wn(u);let v=[];if(typeof m=="string")Qo(u,m)&&(v=v.concat(u.g.get(Os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return wn(this),this.i=null,u=Os(this,u),Qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Yo(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){xu(u,m),v.length>0&&(u.i=null,u.g.set(Os(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Xi(v);v=Yo(this,v);for(let q=0;q<v.length;q++){let W=P;v[q]!==""&&(W+="="+Xi(v[q])),u.push(W)}}return this.i=u.join("&")};function Nu(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wa(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(xu(this,T),Aa(this,P,v))},u)),u.j=m}function li(u,m){const v=new ht;if(d.Image){const T=new Image;T.onload=b(Fn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Fn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Fn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Fn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xo(u,m){const v=new ht,T=new AbortController,P=setTimeout(()=>{T.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Ms(){this.g=new pa}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ci,ga),Ci.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Vr,_t),s=Vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):ui(this),this.readyState==3&&Ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},s.Na=function(u){this.g&&(this.response=u,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ve(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function kr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Kn(v),typeof u=="string"?v!=null&&Xi(v):We(u,m,v))}function rt(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(rt,_t);var Ii=/^https?$/i,$o=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Lr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($o,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Lr(this,q)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Jo(u),$i(u)}function Jo(u){u.A||(u.A=!0,te(u,"complete"),te(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,te(this,"complete"),te(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},s.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(te(u,"readystatechange"),ci(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let W=String(u.D).match(Ru)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ii.test(W?W.toLowerCase():"")}v=T}if(v)te(u,"complete"),te(u,"success");else{u.o=6;try{var P=ci(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Jo(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||te(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uo(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Su(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Xe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new ht,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ce(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Uu(this,null,this.W),Ni(this)};function Zo(u){if(Ca(u),u.I==3){var m=u.V++,v=zt(u.J);if(We(v,"SID",u.M),We(v,"RID",m),We(v,"TYPE","terminate"),Pr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Or(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Lu(u)}function Ls(u){u.g&&(el(u),u.g.cancel(),u.g=null)}function Ca(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ct||A(),Ge||(ct(),Ge=!0),x.add(m,u),u.D=0}}function Ia(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ie(y(u.Ea,u,m),ku(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ai(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Du(this,P,m),v=zt(this.J),We(v,"RID",u),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),Pr(this,v),q&&(this.R?m="headers="+Xi(Kn(q))+"&"+m:this.u&&kr(v,this.u,q)),qo(this.h,P),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",m),We(v,"SID","null"),P.U=!0,Ei(P,v,null)):Ei(P,v,m),this.I=2}}else this.I==3&&(u?Wo(this,u):this.i.length==0||Bo(this.h)||Wo(this))};function Wo(u,m){var v;m?v=m.l:v=u.V++;const T=zt(u.J);We(T,"SID",u.M),We(T,"RID",v),We(T,"AID",u.K),Pr(u,T),u.u&&u.o&&kr(T,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qo(u.h,v),Ei(v,T,m)}function Pr(u,m){u.H&&Ve(u.H,function(v,T){We(m,T,v)}),u.l&&Ve({},function(v,T){We(m,T,v)})}function Du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ne=-1;for(;;){const xt=["count="+v];Ne==-1?v>0?(Ne=P[0].g,xt.push("ofs="+Ne)):Ne=0:xt.push("ofs="+Ne);let $e=!0;for(let vt=0;vt<v;vt++){var q=P[vt].g;const Qn=P[vt].map;if(q-=Ne,q<0)Ne=Math.max(0,P[vt].g-100),$e=!1;else try{q="req"+q+"_"||"";try{var W=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Oi,hi]of W){let fi=hi;p(hi)&&(fi=bn(hi)),xt.push(q+Oi+"="+encodeURIComponent(fi))}}catch(Oi){throw xt.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{T&&T(Qn)}}if($e){W=xt.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ct||A(),Ge||(ct(),Ge=!0),x.add(m,u),u.A=0}}function jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ie(y(u.Da,u),ku(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ie(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ce(10),Ls(this),Mu(this))};function el(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Mu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),Pr(u,m),u.u&&u.o&&kr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Or(zt(m)),v.u=null,v.R=!0,Ea(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),jr(this),ce(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vu(u,m){var v=null;if(u.g==m){xa(u),el(u),u.g=null;var T=2}else if(wi(u.h,m))v=m.G,Ho(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Is(),te(T,new _e(T,v)),Ni(u)}else Ou(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ia(u,m)||T==2&&jr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function ku(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),Or(T),P?li(T.toString(),v):Xo(T.toString(),v)}else ce(2);u.I=0,u.l&&u.l.pa(m),Lu(u),Ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Lu(u){if(u.I=0,u.ja=[],u.l){const m=Go(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Uu(u,m,v){var T=v instanceof kn?zt(v):new kn(v);if(T.g!="")m&&(T.g=m+"."+T.g),xs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new kn(null);T&&Zt(q,T),m&&(q.g=m),P&&xs(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&We(T,v,m),We(T,"VER",u.ka),Pr(u,T),T}function Pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new Ci({ab:v})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Us(){}Us.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){_t.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}w(yn,_t),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Zo(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=bn(u),u=v);m.i.push(new jt(m.Ya++,u)),m.I==3&&Ni(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,yn.Z.N.call(this)};function zu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(zu,Qt);function Bu(){Sn.call(this),this.status=1}w(Bu,Sn);function Zi(u){this.g=u}w(Zi,ju),Zi.prototype.ra=function(){te(this.g,"a")},Zi.prototype.qa=function(u){te(this.g,new zu(u))},Zi.prototype.pa=function(u){te(this.g,new Bu)},Zi.prototype.oa=function(){te(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,EE=function(){return new Us},vE=function(){return Is()},_E=Tt,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,ih=Nr,Po.COMPLETE="complete",yE=Po,ya.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Hl=ya,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,gE=rt}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let No="12.9.0";function WA(s){No=s}const oa=new Ym("@firebase/firestore");function uo(){return oa.logLevel}function oe(s,...e){if(oa.logLevel<=ze.DEBUG){const i=e.map(Zm);oa.debug(`Firestore (${No}): ${s}`,...i)}}function Ts(s,...e){if(oa.logLevel<=ze.ERROR){const i=e.map(Zm);oa.error(`Firestore (${No}): ${s}`,...i)}}function la(s,...e){if(oa.logLevel<=ze.WARN){const i=e.map(Zm);oa.warn(`Firestore (${No}): ${s}`,...i)}}function Zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,TE(s,r,i)}function TE(s,e,i){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ts(r),new Error(r)}function Ze(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||TE(e,l,r)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class bE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ew{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class tw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nw{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new bE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class iw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new iw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Wm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=aw(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Be(s,e){return s<e?-1:s>e?1:0}function Cm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return um(l)===um(c)?Be(l,c):um(l)?1:-1}return Be(s.length,e.length)}const ow=55296,lw=57343;function um(s){const e=s.charCodeAt(0);return e>=ow&&e<=lw}function To(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Ov="__name__";class Ui{constructor(e,i,r){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Te(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Ui.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const r=Ui.isNumericId(e),l=Ui.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):Cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class gt extends Ui{construct(e,i,r){return new gt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new gt(i)}static emptyPath(){return new gt([])}}const uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Ui{construct(e,i,r){return new cn(e,i,r)}static isValidIdentifier(e){return uw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new cn([Ov])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(gt.fromString(e))}static fromName(e){return new pe(gt.fromString(e).popFirst(5))}static empty(){return new pe(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return gt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new gt(e.slice()))}}function SE(s,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cw(s,e,i,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Mv(s){if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Vv(s){if(pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function AE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ep(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function vn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ep(s);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function hu(s,e){if(!AE(s))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue(J.INVALID_ARGUMENT,i);return!0}const kv=-62135596800,Lv=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Lv);return new yt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<kv)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Kt("string",yt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new yt(0,0))}static max(){return new we(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function hw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new yt(i+1,0):new yt(i,r));return new yr(l,pe.empty(),e)}function fw(s){return new yr(s.readTime,s.key,tu)}class yr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new yr(we.min(),pe.empty(),tu)}static max(){return new yr(we.max(),pe.empty(),tu)}}function dw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==mw)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&r(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function gw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Oo(s){return s.name==="IndexedDbTransactionError"}class Vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;const tp=-1;function kh(s){return s==null}function ph(s){return s===0&&1/s==-1/0}function yw(s){return typeof s=="number"&&Number.isInteger(s)&&!ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const wE="";function _w(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Uv(e)),e=vw(s.get(i),e);return Uv(e)}function vw(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case wE:i+="";break;default:i+=c}}return i}function Uv(s){return s+wE+""}function Pv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function RE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||un.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??un.RED,this.left=l??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new un(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return un.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new un(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new $t(cn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const Ew=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const i=Ew.exec(s);if(Ze(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(s.seconds),nanos:Ot(s.nanos)}}function Ot(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}const IE="server_timestamp",xE="__type__",NE="__previous_value__",DE="__local_write_time__";function np(s){return(s?.mapValue?.fields||{})[xE]?.stringValue===IE}function Lh(s){const e=s.mapValue.fields[NE];return np(e)?Lh(e):e}function nu(s){const e=_r(s.mapValue.fields[DE].timestampValue);return new yt(e.seconds,e.nanos)}class Tw{constructor(e,i,r,l,c,d,p,_,y,b,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const gh="(default)";class iu{constructor(e,i){this.projectId=e,this.database=i||gh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function bw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(s.options.projectId,e)}const OE="__type__",Sw="__max__",Qc={mapValue:{}},ME="__vector__",yh="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?np(s)?4:ww(s)?9007199254740991:Aw(s)?10:11:Te(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nu(s).isEqual(nu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=_r(l.timestampValue),p=_r(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return vr(l.bytesValue).isEqual(vr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ot(l.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(l.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ot(l.integerValue)===Ot(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ot(l.doubleValue),p=Ot(c.doubleValue);return d===p?ph(d)===ph(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return To(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Pv(d)!==Pv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Hi(d[_],p[_])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function su(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function bo(s,e){if(s===e)return 0;const i=Er(s),r=Er(e);if(i!==r)return Be(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ot(c.integerValue||c.doubleValue),_=Ot(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return zv(s.timestampValue,e.timestampValue);case 4:return zv(nu(s),nu(e));case 5:return Cm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=vr(c),_=vr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Be(p[y],_[y]);if(b!==0)return b}return Be(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Be(Ot(c.latitude),Ot(d.latitude));return p!==0?p:Be(Ot(c.longitude),Ot(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Bv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[yh]?.arrayValue,b=_[yh]?.arrayValue,w=Be(y?.values?.length||0,b?.values?.length||0);return w!==0?w:Bv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Qc.mapValue&&d===Qc.mapValue)return 0;if(c===Qc.mapValue)return 1;if(d===Qc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const O=Cm(_[w],b[w]);if(O!==0)return O;const Q=bo(p[_[w]],y[b[w]]);if(Q!==0)return Q}return Be(_.length,b.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function zv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=_r(s),r=_r(e),l=Be(i.seconds,r.seconds);return l!==0?l:Be(i.nanos,r.nanos)}function Bv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=bo(i[l],r[l]);if(c)return c}return Be(i.length,r.length)}function So(s){return Im(s)}function Im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=_r(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return vr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Im(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Im(i.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function sh(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+sh(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+sh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Sr(r.fields,((c,d)=>{l+=c.length+sh(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function xm(s){return!!s&&"integerValue"in s}function ip(s){return!!s&&"arrayValue"in s}function qv(s){return!!s&&"nullValue"in s}function Hv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function rh(s){return!!s&&"mapValue"in s}function Aw(s){return(s?.mapValue?.fields||{})[OE]?.stringValue===ME}function Yl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Yl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(s.arrayValue.values[i]);return e}return{...s}}function ww(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Sw}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!rh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=cn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Yl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());rh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];rh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Sr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new On(Yl(this.value))}}function VE(s){const e=[];return Sr(s.fields,((i,r)=>{const l=new cn([i]);if(rh(r)){const c=VE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Hn(e)}class pn{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,we.min(),we.min(),we.min(),On.empty(),0)}static newFoundDocument(e,i,r,l){return new pn(e,1,i,we.min(),r,l,0)}static newNoDocument(e,i){return new pn(e,2,i,we.min(),we.min(),On.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,we.min(),we.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(e,i){this.position=e,this.inclusive=i}}function Gv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=pe.comparator(pe.fromName(d.referenceValue),i.key):r=bo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class vh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Rw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class kE{}class Xt extends kE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Iw(e,i,r):i==="array-contains"?new Dw(e,r):i==="in"?new Ow(e,r):i==="not-in"?new Mw(e,r):i==="array-contains-any"?new Vw(e,r):new Xt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new xw(e,r):new Nw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bo(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(bo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends kE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return LE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(s){return s.op==="and"}function UE(s){return Cw(s)&&LE(s)}function Cw(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function Nm(s){if(s instanceof Xt)return s.field.canonicalString()+s.op.toString()+So(s.value);if(UE(s))return s.filters.map((e=>Nm(e))).join(",");{const e=s.filters.map((i=>Nm(i))).join(",");return`${s.op}(${e})`}}function PE(s,e){return s instanceof Xt?(function(r,l){return l instanceof Xt&&r.op===l.op&&r.field.isEqual(l.field)&&Hi(r.value,l.value)})(s,e):s instanceof Gi?(function(r,l){return l instanceof Gi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&PE(d,l.filters[p])),!0):!1})(s,e):void Te(19439)}function jE(s){return s instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${So(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(s):"Filter"}class Iw extends Xt{constructor(e,i,r){super(e,i,r),this.key=pe.fromName(r.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class xw extends Xt{constructor(e,i){super(e,"in",i),this.keys=zE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Nw extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=zE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function zE(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class Dw extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ip(i)&&su(i.arrayValue,this.value)}}class Ow extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&su(this.value.arrayValue,i)}}class Mw extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!su(this.value.arrayValue,i)}}class Vw extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ip(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}class kw{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Kv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new kw(s,e,i,r,l,c,d)}function sp(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Nm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),kh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>So(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>So(r))).join(",")),e.Te=i}return e.Te}function rp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Rw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!PE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fv(s.startAt,e.startAt)&&Fv(s.endAt,e.endAt)}function Dm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Uh{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Lw(s,e,i,r,l,c,d,p){return new Uh(s,e,i,r,l,c,d,p)}function Ph(s){return new Uh(s)}function Qv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Uw(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Pw(s){return s.collectionGroup!==null}function Xl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $t(cn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vh(c,r))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new vh(cn.keyField(),r))}return e.Ie}function Pi(s){const e=Ce(s);return e.Ee||(e.Ee=jw(e,Xl(s))),e.Ee}function jw(s,e){if(s.limitType==="F")return Kv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new vh(l.field,c)}));const i=s.endAt?new _h(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new _h(s.startAt.position,s.startAt.inclusive):null;return Kv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Om(s,e,i){return new Uh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function jh(s,e){return rp(Pi(s),Pi(e))&&s.limitType===e.limitType}function BE(s){return`${sp(Pi(s))}|lt:${s.limitType}`}function co(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),kh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>So(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>So(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=Gv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Xl(r),l)||r.endAt&&!(function(d,p,_){const y=Gv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Xl(r),l))})(s,e)}function zw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qE(s){return(e,i)=>{let r=!1;for(const l of Xl(s)){const c=Bw(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Bw(s,e,i){const r=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?bo(_,y):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const qw=new bt(pe.comparator);function bs(){return qw}const HE=new bt(pe.comparator);function Gl(...s){let e=HE;for(const i of s)e=e.insert(i.key,i);return e}function GE(s){let e=HE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ia(){return $l()}function FE(){return $l()}function $l(){return new fa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Hw=new bt(pe.comparator),Gw=new $t(pe.comparator);function qe(...s){let e=Gw;for(const i of s)e=e.add(i);return e}const Fw=new $t(Be);function Kw(){return Fw}function ap(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function KE(s){return{integerValue:""+s}}function Qw(s,e){return yw(e)?KE(e):ap(s,e)}class Bh{constructor(){this._=void 0}}function Yw(s,e,i){return s instanceof ru?(function(l,c){const d={fields:{[xE]:{stringValue:IE},[DE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&np(c)&&(c=Lh(c)),c&&(d.fields[NE]=c),{mapValue:d}})(i,e):s instanceof Ao?YE(s,e):s instanceof wo?XE(s,e):(function(l,c){const d=QE(l,c),p=Yv(d)+Yv(l.Ae);return xm(d)&&xm(l.Ae)?KE(p):ap(l.serializer,p)})(s,e)}function Xw(s,e,i){return s instanceof Ao?YE(s,e):s instanceof wo?XE(s,e):i}function QE(s,e){return s instanceof Eh?(function(r){return xm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class ru extends Bh{}class Ao extends Bh{constructor(e){super(),this.elements=e}}function YE(s,e){const i=$E(e);for(const r of s.elements)i.some((l=>Hi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class wo extends Bh{constructor(e){super(),this.elements=e}}function XE(s,e){let i=$E(e);for(const r of s.elements)i=i.filter((l=>!Hi(l,r)));return{arrayValue:{values:i}}}class Eh extends Bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yv(s){return Ot(s.integerValue||s.doubleValue)}function $E(s){return ip(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class op{constructor(e,i){this.field=e,this.transform=i}}function $w(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Ao&&l instanceof Ao||r instanceof wo&&l instanceof wo?To(r.elements,l.elements,Hi):r instanceof Eh&&l instanceof Eh?Hi(r.Ae,l.Ae):r instanceof ru&&l instanceof ru})(s.transform,e.transform)}class Jw{constructor(e,i){this.version=e,this.transformResults=i}}class En{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function JE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hh(s.key,En.none()):new fu(s.key,s.data,En.none());{const i=s.data,r=On.empty();let l=new $t(cn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ar(s.key,r,new Hn(l.toArray()),En.none())}}function Zw(s,e,i){s instanceof fu?(function(l,c,d){const p=l.value.clone(),_=$v(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Ar?(function(l,c,d){if(!ah(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$v(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ZE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(s,e,i,r){return s instanceof fu?(function(c,d,p,_){if(!ah(c.precondition,d))return p;const y=c.value.clone(),b=Jv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ar?(function(c,d,p,_){if(!ah(c.precondition,d))return p;const y=Jv(c.fieldTransforms,_,d),b=d.data;return b.setAll(ZE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,p){return ah(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Ww(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=QE(r.transform,l||null);c!=null&&(i===null&&(i=On.empty()),i.set(r.field,c))}return i||null}function Xv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&To(r,l,((c,d)=>$w(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fu extends qh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ar extends qh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function $v(s,e,i){const r=new Map;Ze(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,Xw(d,p,i[l]))}return r}function Jv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Yw(c,d,e))}return r}class Hh extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e2 extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class t2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Zw(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Jl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Jl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=FE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=JE(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((i,r)=>Xv(i,r)))&&To(this.baseMutations,e.baseMutations,((i,r)=>Xv(i,r)))}}class lp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Hw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new lp(e,i,r,l)}}class n2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Fe;function s2(s){switch(s){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function WE(s){if(s===void 0)return Ts("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ft.OK:return J.OK;case Ft.CANCELLED:return J.CANCELLED;case Ft.UNKNOWN:return J.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return J.INTERNAL;case Ft.UNAVAILABLE:return J.UNAVAILABLE;case Ft.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ft.NOT_FOUND:return J.NOT_FOUND;case Ft.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ft.ABORTED:return J.ABORTED;case Ft.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ft.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:s})}}(Fe=Ft||(Ft={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function r2(){return new TextEncoder}const a2=new pr([4294967295,4294967295],0);function Zv(s){const e=r2().encode(s),i=new pE;return i.update(e),new Uint8Array(i.digest())}function Wv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,r],0),new pr([l,c],0)]}class up{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(r<0)throw new Fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(pr.fromNumber(r)));return l.compare(a2)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Zv(e),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new up(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Zv(e),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Gh(we.min(),l,new bt(Be),bs(),qe())}}class du{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new du(r,i,qe(),qe(),qe())}}class oh{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class eT{constructor(e,i){this.targetId=e,this.Ce=i}}class tT{constructor(e,i,r=hn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class e0{constructor(){this.ve=0,this.Fe=t0(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),r=qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:c})}})),new du(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=t0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class o2{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=Yc(),this.Je=Yc(),this.Ze=new bt(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Dm(c))if(r===0){const d=new pe(c.path);this.et(i,d,pn.newNoDocument(d,we.min()))}else Ze(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=vr(r).toUint8Array()}catch(_){if(_ instanceof CE)return la("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new up(d,l,c)}catch(_){return la(_ instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Dm(p.target)){const _=new pe(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,pn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=qe();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Gh(e,i,this.Ze,this.je,r);return this.je=bs(),this.He=Yc(),this.Je=Yc(),this.Ze=new bt(Be),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new e0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new $t(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new $t(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yc(){return new bt(pe.comparator)}function t0(){return new bt(pe.comparator)}const l2={asc:"ASCENDING",desc:"DESCENDING"},u2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class h2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Mm(s,e){return s.useProto3Json||kh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function f2(s,e){return Th(s,e.toTimestamp())}function ji(s){return Ze(!!s,49232),we.fromTimestamp((function(i){const r=_r(i);return new yt(r.seconds,r.nanos)})(s))}function cp(s,e){return Vm(s,e).canonicalString()}function Vm(s,e){const i=(function(l){return new gt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function iT(s){const e=gt.fromString(s);return Ze(lT(e),10190,{key:e.toString()}),e}function km(s,e){return cp(s.databaseId,e.path)}function cm(s,e){const i=iT(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(rT(i))}function sT(s,e){return cp(s.databaseId,e)}function d2(s){const e=iT(s);return e.length===4?gt.emptyPath():rT(e)}function Lm(s){return new gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rT(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function n0(s,e,i){return{name:km(s,e),fields:i.value.mapValue.fields}}function m2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Ze(b===void 0||typeof b=="string",58123),hn.fromBase64String(b||"")):(Ze(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),hn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:WE(y.code);return new ue(b,y.message||"")})(d);i=new tT(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=cm(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):we.min(),p=new On({mapValue:{fields:r.document.fields}}),_=pn.newFoundDocument(l,c,d,p),y=r.targetIds||[],b=r.removedTargetIds||[];i=new oh(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=cm(s,r.document),c=r.readTime?ji(r.readTime):we.min(),d=pn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new oh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=cm(s,r.document),c=r.removedTargetIds||[];i=new oh([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new i2(l,c),p=r.targetId;i=new eT(p,d)}}return i}function p2(s,e){let i;if(e instanceof fu)i={update:n0(s,e.key,e.value)};else if(e instanceof Hh)i={delete:km(s,e.key)};else if(e instanceof Ar)i={update:n0(s,e.key,e.data),updateMask:A2(e.fieldMask)};else{if(!(e instanceof e2))return Te(16599,{dt:e.type});i={verify:km(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof ru)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof wo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:f2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function g2(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(we.min())&&(d=ji(c)),new Jw(d,l.transformResults||[])})(i,e)))):[]}function y2(s,e){return{documents:[sT(s,e.path)]}}function _2(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=sT(s,l);const c=(function(y){if(y.length!==0)return oT(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(O){return{field:ho(O.field),direction:T2(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Mm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function v2(s){let e=d2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ze(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const O=aT(w);return O instanceof Gi&&UE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(Z){return new vh(fo(Z.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let O;return O=typeof w=="object"?w.value:w,kh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(w){const O=!!w.before,Q=w.values||[];return new _h(Q,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const O=!w.before,Q=w.values||[];return new _h(Q,O)})(i.endAt)),Lw(e,l,d,c,p,"F",_,y)}function E2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=fo(i.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=fo(i.unaryFilter.field);return Xt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fo(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fo(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xt.create(fo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((r=>aT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function T2(s){return l2[s]}function b2(s){return u2[s]}function S2(s){return c2[s]}function ho(s){return{fieldPath:s.canonicalString()}}function fo(s){return cn.fromServerFormat(s.fieldPath)}function oT(s){return s instanceof Xt?(function(i){if(i.op==="=="){if(Hv(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NAN"}};if(qv(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hv(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NOT_NAN"}};if(qv(i.value))return{unaryFilter:{field:ho(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(i.field),op:b2(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const r=i.getFilters().map((l=>oT(l)));return r.length===1?r[0]:{compositeFilter:{op:S2(i.op),filters:r}}})(s):Te(54877,{filter:s})}function A2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class hr{constructor(e,i,r,l,c=we.min(),d=we.min(),p=hn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w2{constructor(e){this.yt=e}}function R2(s){const e=v2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Om(e,e.limit,"L"):e}class C2{constructor(){this.Sn=new I2}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(yr.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class I2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new $t(gt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new $t(gt.comparator)).toArray()}}const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(cT,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Ro{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ro(0)}static ar(){return new Ro(-1)}}const s0="LruGarbageCollector",x2=1048576;function r0([s,e],[i,r]){const l=Be(s,i);return l===0?Be(e,r):l}class N2{constructor(e){this.Pr=e,this.buffer=new $t(r0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();r0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class D2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(s0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Oo(i)?oe(s0,"Ignoring IndexedDB error during garbage collection: ",i):await Do(i)}await this.Ar(3e5)}))}}class O2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Vh.ce);const r=new N2(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(i0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),uo()<=ze.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function M2(s,e){return new O2(s,e)}class V2{constructor(){this.changes=new fa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class k2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class L2{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Jl(r.mutation,l,Hn.empty(),yt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=qe()){const l=ia();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Gl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ia();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,qe())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=bs();const d=$l(),p=(function(){return $l()})();return i.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Ar)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Jl(b.mutation,y,b.mutation.getFieldMask(),yt.now())):d.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new k2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=$l();let l=new bt(((d,p)=>d-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Hn.empty();b=p.applyToLocalView(y,b),r.set(_,b);const w=(l.get(p.batchId)||qe()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,w=FE();b.forEach((O=>{if(!c.has(O)){const Q=JE(i.get(O),r.get(O));Q!==null&&w.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return Uw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Pw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(ia());let p=tu,_=c;return d.next((y=>$.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{_=_.insert(b,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,qe()))).next((b=>({batchId:p,changes:GE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((r=>{let l=Gl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(w,O){return new Uh(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,pn.newInvalidDocument(b)))}));let p=Gl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Jl(b.mutation,y,Hn.empty(),yt.now()),zh(i,y)&&(p=p.insert(_,y))})),p}))}}class U2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:R2(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class P2{constructor(){this.overlays=new bt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ia();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=ia(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new bt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=ia(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ia(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new n2(i,r));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class j2{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class hp{constructor(){this.kr=new $t(en.Kr),this.qr=new $t(en.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new en(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new en(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new pe(new gt([])),r=new en(i,e),l=new en(i,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new gt([])),r=new en(i,e),l=new en(i,e+1);let c=qe();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new en(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class z2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(en.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new t2(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new en(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?tp:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new en(i,0),l=new en(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new $t(Be);return i.forEach((l=>{const c=new en(l,0),d=new en(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;pe.isDocumentKey(c)||(c=c.child(""));const d=new en(new pe(c),0);let p=new $t(Be);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ze(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(l=>{const c=new en(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new en(i,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class B2{constructor(e){this.ti=e,this.docs=(function(){return new bt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let r=bs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():pn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=bs();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||dw(fw(b),r)<=0||(l.has(b.key)||zh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Te(9500)}ni(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new q2(this)}getSize(e){return $.resolve(this.size)}}class q2 extends V2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class H2{constructor(e){this.persistence=e,this.ri=new fa((i=>sp(i)),rp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new hp,this.targetCount=0,this.oi=Ro._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Ro(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class hT{constructor(e,i){this._i={},this.overlays={},this.ai=new Vh(0),this.ui=!1,this.ui=!0,this.ci=new j2,this.referenceDelegate=e(this),this.li=new H2(this),this.indexManager=new C2,this.remoteDocumentCache=(function(l){return new B2(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new w2(i),this.Pi=new U2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new P2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new z2(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){oe("MemoryPersistence","Starting transaction:",e);const l=new G2(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class G2 extends pw{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Ri=new hp,this.Ai=null}static Vi(e){return new fp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=pe.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class bh{constructor(e,i){this.persistence=e,this.fi=new fa((r=>_w(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=M2(this,i)}static Vi(e,i){return new bh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=sh(e.data.value)),i}wr(e,i,r){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=qe(),l=qe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new dp(e,i.fromCache,r,l)}}class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class K2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return OS()?8:gw(gn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new F2;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(uo()<=ze.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",co(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(uo()<=ze.DEBUG&&oe("QueryEngine","Query:",co(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(uo()<=ze.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",co(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):$.resolve())}gs(e,i){if(Qv(i))return $.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Om(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,Om(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,l){return Qv(i)||l.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?$.resolve(null):(uo()<=ze.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),co(i)),this.Ds(e,d,i,hw(l,tu)).next((p=>p)))}))}bs(e,i){let r=new $t(qE(e));return i.forEach(((l,c)=>{zh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return uo()<=ze.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",co(i)),this.fs.getDocumentsMatchingQuery(e,i,yr.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const mp="LocalStore",Q2=3e8;class Y2{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new bt(Be),this.Fs=new fa((c=>sp(c)),rp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function X2(s,e,i,r){return new Y2(s,e,i,r)}async function fT(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=qe();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function $2(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const w=y.batch,O=w.keys();let Q=$.resolve();return O.forEach((Z=>{Q=Q.next((()=>b.getEntry(_,Z))).next((re=>{const ee=y.docVersions.get(Z);Ze(ee!==null,48541),re.version.compareTo(ee)<0&&(w.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),b.addEntry(re)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function dT(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function J2(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,w)=>{const O=l.get(w);if(!O)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Q=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Q=Q.withResumeToken(hn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,r)),l=l.insert(w,Q),(function(re,ee,ge){return re.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=Q2?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(O,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let _=bs(),y=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(Z2(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!r.isEqual(we.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function Z2(s,e,i){let r=qe(),l=qe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=bs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):oe(mp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function W2(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function eR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new hr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Um(s,e,i){const r=Ce(s),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Oo(d))throw d;oe(mp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function a0(s,e,i){const r=Ce(s);let l=we.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=Ce(_),O=w.Fs.get(b);return O!==void 0?$.resolve(w.vs.get(O)):w.li.getTargetData(y,b)})(r,d,Pi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:qe()))).next((p=>(tR(r,zw(e),p),{documents:p,ks:c})))))}function tR(s,e,i){let r=s.Ms.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class o0{constructor(){this.activeTargetIds=Kw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nR{constructor(){this.vo=new o0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new o0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iR{Mo(e){}shutdown(){}}const l0="ConnectivityMonitor";class u0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(l0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(l0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xc=null;function Pm(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}const hm="RestConnection",sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const d=Pm(),p=this.Qo(e,i.toUriEncodedString());oe(hm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=Io(y);return this.zo(e,p,_,r,b).then((w=>(oe(hm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw la(hm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}jo(e,i,r,l,c,d){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=sR[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class aR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",jl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class po extends rR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!po.c_){const e=vE();jl(e,_E.STAT_EVENT,(i=>{i.stat===Rm.PROXY?oe(dn,"STAT_EVENT: detected buffering proxy"):i.stat===Rm.NOPROXY&&oe(dn,"STAT_EVENT: detected no buffering proxy")})),po.c_=!0}}zo(e,i,r,l,c){const d=Pm();return new Promise(((p,_)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ih.NO_ERROR:const w=y.getResponseJson();oe(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case ih.TIMEOUT:oe(dn,`RPC '${e}' ${d} timed out`),_(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const O=y.getStatus();if(oe(dn,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const re=(function(ge){const Se=ge.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Se)>=0?Se:J.UNKNOWN})(Z.status);_(new ue(re,Z.message))}else _(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(dn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(dn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=Pm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=c.join("");oe(dn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,O=!1;const Q=new aR({Ho:Z=>{O?oe(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(w||(oe(dn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),oe(dn,`RPC '${e}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return jl(b,Hl.EventType.OPEN,(()=>{O||(oe(dn,`RPC '${e}' stream ${l} transport opened.`),Q.i_())})),jl(b,Hl.EventType.CLOSE,(()=>{O||(O=!0,oe(dn,`RPC '${e}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),jl(b,Hl.EventType.ERROR,(Z=>{O||(O=!0,la(dn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),jl(b,Hl.EventType.MESSAGE,(Z=>{if(!O){const re=Z.data[0];Ze(!!re,16349);const ee=re,ge=ee?.error||ee[0]?.error;if(ge){oe(dn,`RPC '${e}' stream ${l} received error:`,ge);const Se=ge.status;let be=(function(Ge){const x=Ft[Ge];if(x!==void 0)return WE(x)})(Se),Ye=ge.message;Se==="NOT_FOUND"&&Ye.includes("database")&&Ye.includes("does not exist")&&Ye.includes(this.databaseId.database)&&la(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),be===void 0&&(be=J.INTERNAL,Ye="Unknown error status: "+Se+" with message "+ge.message),O=!0,Q.o_(new ue(be,Ye)),b.close()}else oe(dn,`RPC '${e}' stream ${l} received:`,re),Q.__(re)}})),po.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return EE()}}function oR(s){return new po(s)}function fm(){return typeof document<"u"?document:null}function Fh(s){return new h2(s,!0)}po.c_=!1;class mT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const c0="PersistentStream";class pT{constructor(e,i,r,l,c,d,p,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(c0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lR extends pT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=m2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?ji(d.readTime):we.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Lm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Dm(_)?{documents:y2(c,_)}:{query:_2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=nT(c,d.resumeToken);const y=Mm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=Th(c,d.snapshotVersion.toTimestamp());const y=Mm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=E2(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Lm(this.serializer),i.removeTarget=e,this.K_(i)}}class uR extends pT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=g2(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Lm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>p2(this.serializer,r)))};this.K_(i)}}class cR{}class hR extends cR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Vm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Vm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function fR(s,e,i,r){return new hR(s,e,i,r)}class dR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class mR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{da(this)&&(oe(ua,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await mu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Va=new dR(r,l)}}async function Kh(s){if(da(s))for(const e of s.Ra)await e(!0)}async function mu(s){for(const e of s.Ra)await e(!1)}function gT(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),_p(i)?yp(i):Mo(i).O_()&&gp(i,e))}function pp(s,e){const i=Ce(s),r=Mo(i);i.Ia.delete(e),r.O_()&&yT(i,e),i.Ia.size===0&&(r.O_()?r.L_():da(i)&&i.Va.set("Unknown"))}function gp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mo(s).Z_(e)}function yT(s,e){s.da.$e(e),Mo(s).X_(e)}function yp(s){s.da=new o2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Mo(s).start(),s.Va.ua()}function _p(s){return da(s)&&!Mo(s).x_()&&s.Ia.size>0}function da(s){return Ce(s).Ea.size===0}function _T(s){s.da=void 0}async function pR(s){s.Va.set("Online")}async function gR(s){s.Ia.forEach(((e,i)=>{gp(s,e)}))}async function yR(s,e){_T(s),_p(s)?(s.Va.ha(e),yp(s)):s.Va.set("Unknown")}async function _R(s,e,i){if(s.Va.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){oe(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(s,r)}else if(e instanceof oh?s.da.Xe(e):e instanceof eT?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const r=await dT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(hn.EMPTY_BYTE_STRING,b.snapshotVersion)),yT(c,_);const w=new hr(b.target,_,y,b.sequenceNumber);gp(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){oe(ua,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,e,i){if(!Oo(e))throw e;s.Ea.add(1),await mu(s),s.Va.set("Offline"),i||(i=()=>dT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Kh(s)}))}function vT(s,e){return e().catch((i=>Sh(s,i,e)))}async function Qh(s){const e=Ce(s),i=Tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tp;for(;vR(e);)try{const l=await W2(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,ER(e,l)}catch(l){await Sh(e,l)}ET(e)&&TT(e)}function vR(s){return da(s)&&s.Ta.length<10}function ER(s,e){s.Ta.push(e);const i=Tr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function ET(s){return da(s)&&!Tr(s).x_()&&s.Ta.length>0}function TT(s){Tr(s).start()}async function TR(s){Tr(s).ra()}async function bR(s){const e=Tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function SR(s,e,i){const r=s.Ta.shift(),l=lp.from(r,e,i);await vT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Qh(s)}async function AR(s,e){e&&Tr(s).Y_&&await(async function(r,l){if((function(d){return s2(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Tr(r).B_(),await vT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Qh(r)}})(s,e),ET(s)&&TT(s)}async function h0(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),oe(ua,"RemoteStore received new credentials");const r=da(i);i.Ea.add(3),await mu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Kh(i)}async function wR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Kh(i)):e||(i.Ea.add(2),await mu(i),i.Va.set("Unknown"))}function Mo(s){return s.ma||(s.ma=(function(i,r,l){const c=Ce(i);return c.sa(),new lR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:pR.bind(null,s),Yo:gR.bind(null,s),t_:yR.bind(null,s),J_:_R.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),_p(s)?yp(s):s.Va.set("Unknown")):(await s.ma.stop(),_T(s))}))),s.ma}function Tr(s){return s.fa||(s.fa=(function(i,r,l){const c=Ce(i);return c.sa(),new uR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TR.bind(null,s),t_:AR.bind(null,s),ta:bR.bind(null,s),na:SR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class vp{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new vp(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),Oo(s))return new ue(J.UNAVAILABLE,`${e}: ${s}`);throw s}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pe.comparator(i.key,r.key):(i,r)=>pe.comparator(i.key,r.key),this.keyedMap=Gl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class f0{constructor(){this.ga=new bt(pe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Co{constructor(e,i,r,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Co(e,i,go.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class RR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class CR{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),c=l.queries;l.queries=d0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function d0(){return new fa((s=>BE(s)),jh)}async function Tp(s,e){const i=Ce(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new RR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Ep(d,`Initialization of query '${co(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Sp(i)}async function bp(s,e){const i=Ce(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function IR(s,e){const i=Ce(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&Sp(i)}function xR(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function Sp(s){s.Ca.forEach((e=>{e.next()}))}var jm,m0;(m0=jm||(jm={})).Ma="default",m0.Cache="cache";class Ap{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jm.Cache}}class bT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class NR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=qE(e),this.tu=new go(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new f0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,w)=>{const O=l.get(b),Q=zh(this.query,w)?w:null,Z=!!O&&this.mutatedKeys.has(O.key),re=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;O&&Q?O.data.isEqual(Q.data)?Z!==re&&(r.track({type:3,doc:Q}),ee=!0):this.su(O,Q)||(r.track({type:2,doc:Q}),ee=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!O&&Q?(r.track({type:0,doc:Q}),ee=!0):O&&!Q&&(r.track({type:1,doc:O}),ee=!0,(_||y)&&(p=!0)),ee&&(Q?(d=d.add(Q),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(Q,Z){const re=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:ee})}};return re(Q)-re(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new Co(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new ST(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new bT(r))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wp="SyncEngine";class DR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class OR{constructor(e){this.key=e,this.hu=!1}}class MR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((p=>BE(p)),jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(pe.comparator),this.Au=new Map,this.Vu=new hp,this.du={},this.mu=new Map,this.fu=Ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VR(s,e,i=!0){const r=xT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AT(r,e,i,!0),l}async function kR(s,e){const i=xT(s);await AT(i,e,!0,!1)}async function AT(s,e,i,r){const l=await eR(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await LR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&gT(s.remoteStore,l),p}async function LR(s,e,i,r,l){s.pu=(w,O,Q)=>(async function(re,ee,ge,Se){let be=ee.view.ru(ge);be.Ss&&(be=await a0(re.localStore,ee.query,!1).then((({documents:x})=>ee.view.ru(x,be))));const Ye=Se&&Se.targetChanges.get(ee.targetId),ct=Se&&Se.targetMismatches.get(ee.targetId)!=null,Ge=ee.view.applyChanges(be,re.isPrimaryClient,Ye,ct);return g0(re,ee.targetId,Ge.au),Ge.snapshot})(s,w,O,Q);const c=await a0(s.localStore,e,!0),d=new NR(e,c.ks),p=d.ru(c.documents),_=du.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);g0(s,i,y.au);const b=new DR(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function UR(s,e,i){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!jh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Um(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&pp(r.remoteStore,l.targetId),zm(r,l.targetId)})).catch(Do)):(zm(r,l.targetId),await Um(r.localStore,l.targetId,!0))}async function PR(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),pp(i.remoteStore,r.targetId))}async function jR(s,e,i){const r=KR(s);try{const l=await(function(d,p){const _=Ce(d),y=yt.now(),b=p.reduce(((Q,Z)=>Q.add(Z.key)),qe());let w,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=bs(),re=qe();return _.xs.getEntries(Q,b).next((ee=>{Z=ee,Z.forEach(((ge,Se)=>{Se.isValidDocument()||(re=re.add(ge))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((ee=>{w=ee;const ge=[];for(const Se of p){const be=Ww(Se,w.get(Se.key).overlayedDocument);be!=null&&ge.push(new Ar(Se.key,be,VE(be.value.mapValue),En.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ge,p)})).next((ee=>{O=ee;const ge=ee.applyToLocalDocumentSet(w,re);return _.documentOverlayCache.saveOverlays(Q,ee.batchId,ge)}))})).then((()=>({batchId:O.batchId,changes:GE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new bt(Be)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await pu(r,l.changes),await Qh(r.remoteStore)}catch(l){const c=Ep(l,"Failed to persist write");i.reject(c)}}async function wT(s,e){const i=Ce(s);try{const r=await J2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ze(d.hu,14607):l.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await pu(i,r,e)}catch(r){await Do(r)}}function p0(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Ce(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,w)=>{for(const O of w.ba)O.va(p)&&(y=!0)})),y&&Sp(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zR(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new bt(pe.comparator);d=d.insert(c,pn.newNoDocument(c,we.min()));const p=qe().add(c),_=new Gh(we.min(),new Map,new bt(Be),d,p);await wT(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),Rp(r)}else await Um(r.localStore,e,!1).then((()=>zm(r,e,i))).catch(Do)}async function BR(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await $2(i.localStore,e);CT(i,r,null),RT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await pu(i,l)}catch(l){await Do(l)}}async function qR(s,e,i){const r=Ce(s);try{const l=await(function(d,p){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Ze(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);CT(r,e,i),RT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await pu(r,l)}catch(l){await Do(l)}}function RT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function CT(s,e,i){const r=Ce(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function zm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||IT(s,r)}))}function IT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(pp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Rp(s))}function g0(s,e,i){for(const r of i)r instanceof bT?(s.Vu.addReference(r.key,e),HR(s,r)):r instanceof ST?(oe(wp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||IT(s,r.key)):Te(19791,{wu:r})}function HR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(oe(wp,"New document in limbo: "+i),s.Eu.add(r),Rp(s))}function Rp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(gt.fromString(e)),r=s.fu.next();s.Au.set(r,new OR(i)),s.Ru=s.Ru.insert(i,r),gT(s.remoteStore,new hr(Pi(Ph(i.path)),r,"TargetPurposeLimboResolution",Vh.ce))}}async function pu(s,e,i){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=dp.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const b=Ce(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(O=>$.forEach(O.Ts,(Q=>b.persistence.referenceDelegate.addReference(w,O.targetId,Q))).next((()=>$.forEach(O.Is,(Q=>b.persistence.referenceDelegate.removeReference(w,O.targetId,Q)))))))))}catch(w){if(!Oo(w))throw w;oe(mp,"Failed to update sequence numbers: "+w)}for(const w of y){const O=w.targetId;if(!w.fromCache){const Q=b.vs.get(O),Z=Q.snapshotVersion,re=Q.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(O,re)}}})(r.localStore,c))}async function GR(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){oe(wp,"User change. New user:",e.toKey());const r=await fT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ue(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pu(i,r.Ns)}}function FR(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let l=qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function xT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zR.bind(null,e),e.Pu.J_=IR.bind(null,e.eventManager),e.Pu.yu=xR.bind(null,e.eventManager),e}function KR(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qR.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return X2(this.persistence,new K2,e.initialUser,this.serializer)}Cu(e){return new hT(fp.Vi,this.serializer)}Du(e){return new nR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class QR extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new hT((r=>bh.Vi(r,i)),this.serializer)}}class Bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GR.bind(null,this.syncEngine),await wR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CR})()}createDatastore(e){const i=Fh(e.databaseInfo.databaseId),r=oR(e.databaseInfo);return fR(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new mR(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>p0(this.syncEngine,i,0)),(function(){return u0.v()?new u0:new iR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const w=new MR(l,c,d,p,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);oe(ua,"RemoteStore shutting down."),r.Ea.add(5),await mu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bm.provider={build:()=>new Bm};class Cp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const br="FirestoreClient";class YR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=mn.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ep(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(br,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await fT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function y0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await XR(s);oe(br,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>h0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>h0(e.remoteStore,l))),s._onlineComponents=e}async function XR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(br,"Using user provided OfflineComponentProvider");try{await dm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;la("Error using user provided cache. Falling back to memory cache: "+i),await dm(s,new Ah)}}else oe(br,"Using default OfflineComponentProvider"),await dm(s,new QR(void 0));return s._offlineComponents}async function NT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(br,"Using user provided OnlineComponentProvider"),await y0(s,s._uninitializedComponentsProvider._online)):(oe(br,"Using default OnlineComponentProvider"),await y0(s,new Bm))),s._onlineComponents}function $R(s){return NT(s).then((e=>e.syncEngine))}async function wh(s){const e=await NT(s),i=e.eventManager;return i.onListen=VR.bind(null,e.syncEngine),i.onUnlisten=UR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=kR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=PR.bind(null,e.syncEngine),i}function JR(s,e,i,r){const l=new Cp(r),c=new Ap(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>Tp(await wh(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>bp(await wh(s),c)))}}function ZR(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Cp({next:O=>{b.Nu(),d.enqueueAndForget((()=>bp(c,w)));const Q=O.docs.has(p);!Q&&O.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&O.fromCache&&_&&_.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),w=new Ap(Ph(p.path),b,{includeMetadataChanges:!0,Ka:!0});return Tp(c,w)})(await wh(s),s.asyncQueue,e,i,r))),r.promise}function WR(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Cp({next:O=>{b.Nu(),d.enqueueAndForget((()=>bp(c,w))),O.fromCache&&_.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),w=new Ap(p,b,{includeMetadataChanges:!0,Ka:!0});return Tp(c,w)})(await wh(s),s.asyncQueue,e,i,r))),r.promise}function eC(s,e){const i=new ys;return s.asyncQueue.enqueueAndForget((async()=>jR(await $R(s),e,i))),i.promise}function DT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const tC="ComponentProvider",_0=new Map;function nC(s,e,i,r,l){return new Tw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,DT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const OT="firestore.googleapis.com",v0=!0;class E0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=v0}else this.host=e.host,this.ssl=e.ssl??v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x2)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ew;switch(r.type){case"firstParty":return new sw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_0.get(i);r&&(oe(tC,"Removing Datastore"),_0.delete(i),r.terminate())})(this),Promise.resolve()}}function iC(s,e,i,r={}){s=vn(s,Yh);const l=Io(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(lE(`https://${p}`),uE("Firestore",!0)),c.host!==OT&&c.host!==p&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!vs(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=mn.MOCK_USER;else{y=SS(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new mn(w)}s._authCredentials=new tw(new bE(y,b))}}class gu{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gu(this.firestore,e,this._query)}}class Mt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(hu(i,Mt._jsonSchema))return new Mt(e,r||null,new pe(gt.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Kt("string",Mt._jsonSchemaVersion),referencePath:Kt("string")};class gr extends gu{constructor(e,i,r){super(e,i,Ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new pe(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function ms(s,e,...i){if(s=Vt(s),SE("collection","path",e),s instanceof Yh){const r=gt.fromString(e,...i);return Vv(r),new gr(s,null,r)}{if(!(s instanceof Mt||s instanceof gr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(gt.fromString(e,...i));return Vv(r),new gr(s.firestore,null,r)}}function Ct(s,e,...i){if(s=Vt(s),arguments.length===1&&(e=Wm.newId()),SE("doc","path",e),s instanceof Yh){const r=gt.fromString(e,...i);return Mv(r),new Mt(s,null,new pe(r))}{if(!(s instanceof Mt||s instanceof gr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(gt.fromString(e,...i));return Mv(r),new Mt(s.firestore,s instanceof gr?s.converter:null,new pe(r))}}const T0="AsyncQueue";class b0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const r=fm();r&&oe(T0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=fm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=fm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;oe(T0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",S0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=vp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:S0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function S0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Fi extends Yh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new b0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b0(e),this._firestoreClient=void 0,await e}}}function sC(s,e){const i=typeof s=="object"?s:Jm(),r=typeof s=="string"?s:gh,l=$m(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=TS("firestore");c&&iC(l,...c)}return l}function yu(s){if(s._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rC(s),s._firestoreClient}function rC(s){const e=s._freezeSettings(),i=nC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new YR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(hn.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Kt("string",si._jsonSchemaVersion),bytes:Kt("string")};class Xh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vo{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(hu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Kt("string",zi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new yi(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Kt("string",yi._jsonSchemaVersion),vectorValues:Kt("object")};const aC=/^__.*__$/;class oC{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new fu(e,this.data,i,this.fieldTransforms)}}class MT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function VT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class $h{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $h({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VT(this.dataSource)&&aC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class lC{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(e)}createContext(e,i,r,l=!1){return new $h({dataSource:e,methodName:i,targetDoc:r,path:cn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(s){const e=s._freezeSettings(),i=Fh(s._databaseId);return new lC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Ip(s,e,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Op("Data must be an object, but it was:",d,r);const p=PT(r,d);let _,y;if(c.merge)_=new Hn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const O=au(e,w,i);if(!d.contains(O))throw new ue(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);BT(b,O)||b.push(O)}_=new Hn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new oC(new On(p),_,y)}class Zh extends Vo{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function kT(s,e,i){return new $h({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xp extends Vo{_toFieldTransform(e){return new op(e.path,new ru)}isEqual(e){return e instanceof xp}}class Np extends Vo{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=kT(this,e,!0),r=this.Ac.map((c=>ko(c,i))),l=new Ao(r);return new op(e.path,l)}isEqual(e){return e instanceof Np&&vs(this.Ac,e.Ac)}}class Dp extends Vo{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=kT(this,e,!0),r=this.Ac.map((c=>ko(c,i))),l=new wo(r);return new op(e.path,l)}isEqual(e){return e instanceof Dp&&vs(this.Ac,e.Ac)}}function LT(s,e,i,r){const l=s.createContext(1,e,i);Op("Data must be an object, but it was:",l,r);const c=[],d=On.empty();Sr(r,((_,y)=>{const b=zT(e,_,i);y=Vt(y);const w=l.childContextForFieldPath(b);if(y instanceof Zh)c.push(b);else{const O=ko(y,w);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Hn(c);return new MT(d,p,l.fieldTransforms)}function UT(s,e,i,r,l,c){const d=s.createContext(1,e,i),p=[au(e,r,i)],_=[l];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(au(e,c[O])),_.push(c[O+1]);const y=[],b=On.empty();for(let O=p.length-1;O>=0;--O)if(!BT(y,p[O])){const Q=p[O];let Z=_[O];Z=Vt(Z);const re=d.childContextForFieldPath(Q);if(Z instanceof Zh)y.push(Q);else{const ee=ko(Z,re);ee!=null&&(y.push(Q),b.set(Q,ee))}}const w=new Hn(y);return new MT(b,w,d.fieldTransforms)}function ko(s,e){if(jT(s=Vt(s)))return Op("Unsupported field value:",e,s),PT(s,e);if(s instanceof Vo)return(function(r,l){if(!VT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=ko(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=yt.fromDate(r);return{timestampValue:Th(l.serializer,c)}}if(r instanceof yt){const c=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(l.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:nT(l.serializer,r._byteString)};if(r instanceof Mt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof yi)return(function(d,p){const _=d instanceof yi?d.toArray():d;return{mapValue:{fields:{[OE]:{stringValue:ME},[yh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return ap(p.serializer,b)}))}}}}}})(r,l);if(uT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ep(r)}`)})(s,e)}function PT(s,e){const i={};return RE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,((r,l)=>{const c=ko(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function jT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof zi||s instanceof si||s instanceof Mt||s instanceof Vo||s instanceof yi||uT(s))}function Op(s,e,i){if(!jT(i)||!AE(i)){const r=ep(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function au(s,e,i){if((e=Vt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return zT(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const uC=new RegExp("[~\\*/\\[\\]]");function zT(s,e,i){if(e.search(uC)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Xh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Rh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ue(J.INVALID_ARGUMENT,p+s+_)}function BT(s,e){return s.some((i=>i.isEqual(e)))}class cC{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Sr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[yh].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new yi(i)}convertGeoPoint(e){return new zi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const i=_r(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=gt.fromString(e);Ze(lT(r),9688,{name:e});const l=new iu(r.get(1),r.get(3)),c=new pe(r.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Mp extends cC{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}function ao(){return new xp("serverTimestamp")}function $c(...s){return new Np("arrayUnion",s)}function mm(...s){return new Dp("arrayRemove",s)}const A0="@firebase/firestore",w0="4.11.0";function R0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class qT{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(au("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class hC extends qT{data(){return super.data()}}function HT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Vp(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends qT{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(au("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Kt("string",sa._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class lh extends sa{data(e={}){return super.data(e)}}class ra{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Kl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new lh(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new lh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new lh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:fC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Kt("string",ra._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class dC{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Jh(e)}set(e,i,r){this._verifyNotCommitted();const l=pm(e,this._firestore),c=Vp(l.converter,i,r),d=Ip(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,En.none())),this}update(e,i,r,...l){this._verifyNotCommitted();const c=pm(e,this._firestore);let d;return d=typeof(i=Vt(i))=="string"||i instanceof Xh?UT(this._dataReader,"WriteBatch.update",c._key,i,r,l):LT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=pm(e,this._firestore);return this._mutations=this._mutations.concat(new Hh(i._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pm(s,e){if((s=Vt(s)).firestore!==e)throw new ue(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function mC(s){s=vn(s,Mt);const e=vn(s.firestore,Fi),i=yu(e);return ZR(i,s._key).then((r=>GT(e,s,r)))}function pC(s){s=vn(s,gu);const e=vn(s.firestore,Fi),i=yu(e),r=new Mp(e);return HT(s._query),WR(i,s._query).then((l=>new ra(e,r,s,l)))}function gC(s,e,i){s=vn(s,Mt);const r=vn(s.firestore,Fi),l=Vp(s.converter,e,i),c=Jh(r);return _u(r,[Ip(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,En.none())])}function zl(s,e,i,...r){s=vn(s,Mt);const l=vn(s.firestore,Fi),c=Jh(l);let d;return d=typeof(e=Vt(e))=="string"||e instanceof Xh?UT(c,"updateDoc",s._key,e,i,r):LT(c,"updateDoc",s._key,e),_u(l,[d.toMutation(s._key,En.exists(!0))])}function oo(s){return _u(vn(s.firestore,Fi),[new Hh(s._key,En.none())])}function Jc(s,e){const i=vn(s.firestore,Fi),r=Ct(s),l=Vp(s.converter,e),c=Jh(s.firestore);return _u(i,[Ip(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then((()=>r))}function Zc(s,...e){s=Vt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||R0(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(R0(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Mt)d=vn(s.firestore,Fi),p=Ph(s._key.path),c={next:y=>{e[r]&&e[r](GT(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=vn(s,gu);d=vn(y.firestore,Fi),p=y._query;const b=new Mp(d);c={next:w=>{e[r]&&e[r](new ra(d,b,y,w))},error:e[r+1],complete:e[r+2]},HT(s._query)}const _=yu(d);return JR(_,p,l,c)}function _u(s,e){const i=yu(s);return eC(i,e)}function GT(s,e,i){const r=i.docs.get(e._key),l=new Mp(s);return new sa(s,l,e._key,r,new Kl(i.hasPendingWrites,i.fromCache),e.converter)}function Wc(s){return s=vn(s,Fi),yu(s),new dC(s,(e=>_u(s,e)))}(function(e,i=!0){WA(xo),Eo(new aa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Fi(new nw(r.getProvider("auth-internal")),new rw(d,r.getProvider("app-check-internal")),bw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),mr(A0,w0,e),mr(A0,w0,"esm2020")})();function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yC=FT,KT=new uu("auth","Firebase",FT());const Ch=new Ym("@firebase/auth");function _C(s,...e){Ch.logLevel<=ze.WARN&&Ch.warn(`Auth (${xo}): ${s}`,...e)}function uh(s,...e){Ch.logLevel<=ze.ERROR&&Ch.error(`Auth (${xo}): ${s}`,...e)}function _i(s,...e){throw kp(s,...e)}function Bi(s,...e){return kp(s,...e)}function QT(s,e,i){const r={...yC(),[e]:i};return new uu("auth","Firebase",r).create(e,{appName:s.name})}function _s(s){return QT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return KT.create(s,...e)}function Ee(s,e,...i){if(!s)throw kp(e,...i)}function ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw uh(e),new Error(e)}function Ss(s,e){s||ps(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function vC(){return C0()==="http:"||C0()==="https:"}function C0(){return typeof self<"u"&&self.location?.protocol||null}function EC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vC()||xS()||"connection"in navigator)?navigator.onLine:!0}function TC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class vu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=RS()||NS()}get(){return EC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lp(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class YT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new vu(3e4,6e4);function ws(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rs(s,e,i,r,l={}){return XT(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=cu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return IS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Io(s.emulatorConfig.host)&&(y.credentials="include"),YT.fetch()(await $T(s,s.config.apiHost,i,p),y)})}async function XT(s,e,i){s._canInitEmulator=!1;const r={...bC,...e};try{const l=new RC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw eh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw eh(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw QT(s,b,y);_i(s,b)}}catch(l){if(l instanceof As)throw l;_i(s,"network-request-failed",{message:String(l)})}}async function Eu(s,e,i,r,l={}){const c=await Rs(s,e,i,r,l);return"mfaPendingCredential"in c&&_i(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $T(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Lp(s.config,l):`${s.config.apiScheme}://${l}`;return SC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function wC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),AC.get())})}}function eh(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Bi(s,e,r);return l.customData._tokenResponse=i,l}function I0(s){return s!==void 0&&s.enterprise!==void 0}class CC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return wC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IC(s,e){return Rs(s,"GET","/v2/recaptchaConfig",ws(s,e))}async function xC(s,e){return Rs(s,"POST","/v1/accounts:delete",e)}async function Ih(s,e){return Rs(s,"POST","/v1/accounts:lookup",e)}function Zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NC(s,e=!1){const i=Vt(s),r=await i.getIdToken(e),l=Up(r);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Zl(gm(l.auth_time)),issuedAtTime:Zl(gm(l.iat)),expirationTime:Zl(gm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function gm(s){return Number(s)*1e3}function Up(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const l=sE(i);return l?JSON.parse(l):(uh("Failed to decode base64 JWT payload"),null)}catch(l){return uh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x0(s){const e=Up(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ou(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof As&&DC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function DC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(s){const e=s.auth,i=await s.getIdToken(),r=await ou(s,Ih(e,{idToken:i}));Ee(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?ZT(l.providerUserInfo):[],d=MC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function JT(s){const e=Vt(s);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function ZT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function VC(s,e){const i=await XT(s,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await $T(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Io(s.emulatorConfig.host)&&(_.credentials="include"),YT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kC(s,e){return Rs(s,"POST","/v2/accounts:revokeToken",ws(s,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=x0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await VC(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new yo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return ps("not implemented")}}function ar(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new OC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return NC(this,e)}reload(){return JT(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await ou(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:Q,providerData:Z,stsTokenManager:re}=i;Ee(w&&re,e,"internal-error");const ee=yo.fromJSON(this.name,re);Ee(typeof w=="string",e,"internal-error"),ar(r,e.name),ar(l,e.name),Ee(typeof O=="boolean",e,"internal-error"),Ee(typeof Q=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(p,e.name),ar(_,e.name),ar(y,e.name),ar(b,e.name);const ge=new gi({uid:w,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ge.providerData=Z.map(Se=>({...Se}))),_&&(ge._redirectEventId=_),ge}static async _fromIdTokenResponse(e,i,r=!1){const l=new yo;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await xh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ZT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new yo;p.updateFromIdToken(r);const _=new gi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const N0=new Map;function gs(s){Ss(s instanceof Function,"Expected a class definition");let e=N0.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,N0.set(s,e),e)}class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}WT.type="NONE";const D0=WT;function ch(s,e,i){return`firebase:${s}:${e}:${i}`}class _o{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=ch(this.userKey,l.apiKey,c),this.fullPersistenceKey=ch("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Ih(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new _o(gs(D0),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||gs(D0);const d=ch(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const O=await Ih(e,{idToken:b}).catch(()=>{});if(!O)break;w=await gi._fromGetAccountInfoResponse(e,O,b)}else w=gi._fromJSON(e,b);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new _o(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new _o(c,e,r))}}function O0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r1(e))return"Blackberry";if(a1(e))return"Webos";if(t1(e))return"Safari";if((e.includes("chrome/")||n1(e))&&!e.includes("edge/"))return"Chrome";if(s1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function e1(s=gn()){return/firefox\//i.test(s)}function t1(s=gn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n1(s=gn()){return/crios\//i.test(s)}function i1(s=gn()){return/iemobile/i.test(s)}function s1(s=gn()){return/android/i.test(s)}function r1(s=gn()){return/blackberry/i.test(s)}function a1(s=gn()){return/webos/i.test(s)}function Pp(s=gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function LC(s=gn()){return Pp(s)&&!!window.navigator?.standalone}function UC(){return DS()&&document.documentMode===10}function o1(s=gn()){return Pp(s)||s1(s)||a1(s)||r1(s)||/windows phone/i.test(s)||i1(s)}function l1(s,e=[]){let i;switch(s){case"Browser":i=O0(gn());break;case"Worker":i=`${O0(gn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xo}/${r}`}class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function jC(s,e={}){return Rs(s,"GET","/v2/passwordPolicy",ws(s,e))}const zC=6;class BC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??zC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class qC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M0(this),this.idTokenSubscription=new M0(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Ih(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(_s(this));const i=e?Vt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jC(this),i=new BC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await kC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_C(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ma(s){return Vt(s)}class M0{constructor(e){this.auth=e,this.observer=null,this.addObserver=jS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HC(s){Wh=s}function u1(s){return Wh.loadJS(s)}function GC(){return Wh.recaptchaEnterpriseScript}function FC(){return Wh.gapiScript}function KC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new YC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class YC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const XC="recaptcha-enterprise",c1="NO_RECAPTCHA";class $C{constructor(e){this.type=XC,this.auth=ma(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{IC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new CC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;I0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(c1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&I0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=GC();_.length!==0&&(_+=p),u1(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function V0(s,e,i,r=!1,l=!1){const c=new $C(s);let d;if(l)d=c1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Gm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await V0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await V0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function JC(s,e){const i=$m(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(vs(c,e??{}))return l;_i(l,"already-initialized")}return i.initialize({options:e})}function ZC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function WC(s,e,i){const r=ma(s);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=h1(e),{host:d,port:p}=eI(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(vs(y,r.config.emulator)&&vs(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Io(d)?(lE(`${c}//${d}${_}`),uE("Auth",!0)):tI()}function h1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function eI(s){const e=h1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:k0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:k0(d)}}}function k0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function tI(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class jp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function nI(s,e){return Rs(s,"POST","/v1/accounts:signUp",e)}async function iI(s,e){return Eu(s,"POST","/v1/accounts:signInWithPassword",ws(s,e))}async function sI(s,e){return Rs(s,"POST","/v1/accounts:sendOobCode",ws(s,e))}async function rI(s,e){return sI(s,e)}async function aI(s,e){return Eu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}async function oI(s,e){return Eu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}class lu extends jp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new lu(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new lu(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,i,"signInWithPassword",iI);case"emailLink":return aI(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,r,"signUpPassword",nI);case"emailLink":return oI(e,{idToken:i,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vo(s,e){return Eu(s,"POST","/v1/accounts:signInWithIdp",ws(s,e))}const lI="http://localhost";class ca extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ca(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return vo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,vo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,vo(e,i)}buildRequest(){const e={requestUri:lI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=cu(i)}return e}}function uI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cI(s){const e=Bl(ql(s)).link,i=e?Bl(ql(e)).deep_link_id:null,r=Bl(ql(s)).deep_link_id;return(r?Bl(ql(r)).link:null)||r||i||e||s}class zp{constructor(e){const i=Bl(ql(e)),r=i.apiKey??null,l=i.oobCode??null,c=uI(i.mode??null);Ee(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=cI(e);try{return new zp(i)}catch{return null}}}class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,i){return lu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=zp.parseLink(i);return Ee(r,"argument-error"),lu._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tu extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends Tu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class lr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return lr.credential(i,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ur extends Tu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends Tu{constructor(){super("twitter.com")}static credential(e,i){return ca._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return cr.credential(i,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function hI(s,e){return Eu(s,"POST","/v1/accounts:signUp",ws(s,e))}class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await gi._fromIdTokenResponse(e,r,l),d=L0(r);return new ha({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=L0(r);return new ha({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function L0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Nh extends As{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Nh(e,i,r,l)}}function d1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(s,c,e,r):c})}async function fI(s,e,i=!1){const r=await ou(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ha._forOperation(s,"link",r)}async function dI(s,e,i=!1){const{auth:r}=s;if(ii(r.app))return Promise.reject(_s(r));const l="reauthenticate";try{const c=await ou(s,d1(r,l,e,s),i);Ee(c.idToken,r,"internal-error");const d=Up(c.idToken);Ee(d,r,"internal-error");const{sub:p}=d;return Ee(s.uid===p,r,"user-mismatch"),ha._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&_i(r,"user-mismatch"),c}}async function m1(s,e,i=!1){if(ii(s.app))return Promise.reject(_s(s));const r="signIn",l=await d1(s,r,e),c=await ha._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function mI(s,e){return m1(ma(s),e)}async function p1(s){const e=ma(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pI(s,e,i){if(ii(s.app))return Promise.reject(_s(s));const r=ma(s),d=await Gm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&p1(s),_}),p=await ha._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function gI(s,e,i){return ii(s.app)?Promise.reject(_s(s)):mI(Vt(s),Lo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&p1(s),r})}async function U0(s,e){const i=Vt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await rI(i.auth,l);c!==s.email&&await s.reload()}function yI(s,e,i,r){return Vt(s).onIdTokenChanged(e,i,r)}function _I(s,e,i){return Vt(s).beforeAuthStateChanged(e,i)}function vI(s,e,i,r){return Vt(s).onAuthStateChanged(e,i,r)}function P0(s){return Vt(s).signOut()}const Dh="__sak";class g1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const EI=1e3,TI=10;class y1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);UC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,TI):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const bI=y1;class _1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_1.type="SESSION";const v1=_1;function SI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await SI(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function Bp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class AI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Bp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const O=w;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function wI(s){qi().location.href=s}function E1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function RI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CI(){return navigator?.serviceWorker?.controller||null}function II(){return E1()?self:null}const T1="firebaseLocalStorageDb",xI=1,Oh="firebaseLocalStorage",b1="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function tf(s,e){return s.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function NI(){const s=indexedDB.deleteDatabase(T1);return new bu(s).toPromise()}function Fm(){const s=indexedDB.open(T1,xI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Oh,{keyPath:b1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await NI(),e(await Fm()))})})}async function j0(s,e,i){const r=tf(s,!0).put({[b1]:e,value:i});return new bu(r).toPromise()}async function DI(s,e){const i=tf(s,!1).get(e),r=await new bu(i).toPromise();return r===void 0?null:r.value}function z0(s,e){const i=tf(s,!0).delete(e);return new bu(i).toPromise()}const OI=800,MI=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>MI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(II()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RI(),!this.activeServiceWorker)return;this.sender=new AI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await j0(e,Dh,"1"),await z0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>j0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>DI(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>z0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=tf(l,!1).getAll();return new bu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const VI=S1;new vu(3e4,6e4);function kI(s,e){return e?gs(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return vo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function LI(s){return m1(s.auth,new qp(s),s.bypassAuthState)}function UI(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),dI(i,new qp(s),s.bypassAuthState)}async function PI(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),fI(i,new qp(s),s.bypassAuthState)}class A1{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LI;case"linkViaPopup":case"linkViaRedirect":return PI;case"reauthViaPopup":case"reauthViaRedirect":return UI;default:_i(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jI=new vu(2e3,1e4);class mo extends A1{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jI.get())};e()}}mo.currentPopupAction=null;const zI="pendingRedirect",hh=new Map;class BI extends A1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await qI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qI(s,e){const i=FI(e),r=GI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function HI(s,e){hh.set(s._key(),e)}function GI(s){return gs(s._redirectPersistence)}function FI(s){return ch(zI,s.config.apiKey,s.name)}async function KI(s,e,i=!1){if(ii(s.app))return Promise.reject(_s(s));const r=ma(s),l=kI(r,e),d=await new BI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const QI=600*1e3;class YI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!w1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QI&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function w1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function XI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w1(s);default:return!1}}async function $I(s,e={}){return Rs(s,"GET","/v1/projects",e)}const JI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZI=/^https?/;async function WI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $I(s);for(const i of e)try{if(ex(i))return}catch{}_i(s,"unauthorized-domain")}function ex(s){const e=qm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!ZI.test(i))return!1;if(JI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const tx=new vu(3e4,6e4);function q0(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function nx(s){return new Promise((e,i)=>{function r(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),i(Bi(s,"network-request-failed"))},timeout:tx.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const l=KC("iframefcb");return qi()[l]=()=>{gapi.load?r():i(Bi(s,"network-request-failed"))},u1(`${FC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw fh=null,e})}let fh=null;function ix(s){return fh=fh||nx(s),fh}const sx=new vu(5e3,15e3),rx="__/auth/iframe",ax="emulator/auth/iframe",ox={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ux(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lp(e,ax):`https://${s.config.authDomain}/${rx}`,r={apiKey:e.apiKey,appName:s.name,v:xo},l=lx.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${cu(r).slice(1)}`}async function cx(s){const e=await ix(s),i=qi().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:ux(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ox,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},sx.get());function _(){qi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const hx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fx=500,dx=600,mx="_blank",px="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gx(s,e,i,r=fx,l=dx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...hx,width:r.toString(),height:l.toString(),top:c,left:d},y=gn().toLowerCase();i&&(p=n1(y)?mx:i),e1(y)&&(e=e||px,_.scrollbars="yes");const b=Object.entries(_).reduce((O,[Q,Z])=>`${O}${Q}=${Z},`,"");if(LC(y)&&p!=="_self")return yx(e||"",p),new H0(null);const w=window.open(e||"",p,b);Ee(w,s,"popup-blocked");try{w.focus()}catch{}return new H0(w)}function yx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const _x="__/auth/handler",vx="emulator/auth/handler",Ex=encodeURIComponent("fac");async function G0(s,e,i,r,l,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:xo,eventId:l};if(e instanceof f1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",PS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof Tu){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${Ex}=${encodeURIComponent(_)}`:"";return`${Tx(s)}?${cu(p).slice(1)}${y}`}function Tx({config:s}){return s.emulator?Lp(s,vx):`https://${s.authDomain}/${_x}`}const ym="webStorageSupport";class bx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=KI,this._overrideRedirectResult=HI}async _openPopup(e,i,r,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await G0(e,i,r,qm(),l);return gx(e,c,Bp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await G0(e,i,r,qm(),l);return wI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await cx(e),r=new YI(e);return i.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ym,{type:ym},l=>{const c=l?.[0]?.[ym];c!==void 0&&i(!!c),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=WI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return o1()||t1()||Pp()}}const Sx=bx;var F0="@firebase/auth",K0="1.12.0";class Ax{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rx(s){Eo(new aa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(s)},y=new qC(r,l,c,_);return ZC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new aa("auth-internal",e=>{const i=ma(e.getProvider("auth").getImmediate());return(r=>new Ax(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(F0,K0,wx(s)),mr(F0,K0,"esm2020")}const Cx=300,Ix=oE("authIdTokenMaxAge")||Cx;let Q0=null;const xx=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Ix)return;const l=i?.token;Q0!==l&&(Q0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Nx(s=Jm()){const e=$m(s,"auth");if(e.isInitialized())return e.getImmediate();const i=JC(s,{popupRedirectResolver:Sx,persistence:[VI,bI,v1]}),r=oE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=xx(c.toString());_I(i,d,()=>d(i.currentUser)),yI(i,p=>d(p))}}const l=rE("auth");return l&&WC(i,`http://${l}`),i}function Dx(){return document.getElementsByTagName("head")?.[0]??document}HC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Dx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rx("Browser");const R1=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const Ox=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Mx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const Y0=s=>{const e=Mx(s);return e.charAt(0).toUpperCase()+e.slice(1)};var Vx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Lx=Me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Me.createElement("svg",{ref:_,...Vx,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:R1("lucide",l),...!c&&!kx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Me.createElement(y,b)),...Array.isArray(c)?c:[c]]));const it=(s,e)=>{const i=Me.forwardRef(({className:r,...l},c)=>Me.createElement(Lx,{ref:c,iconNode:e,className:R1(`lucide-${Ox(Y0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Y0(s),i};const Ux=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Px=it("bell",Ux);const jx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zx=it("check",jx);const Bx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qx=it("circle-check",Bx);const Hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Gx=it("clock",Hx);const Fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],Kx=it("compass",Fx);const Qx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yx=it("copy",Qx);const Xx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],$x=it("crown",Xx);const Jx=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],_m=it("gamepad-2",Jx);const Zx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Wx=it("lock-open",Zx);const eN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],th=it("lock",eN);const tN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],X0=it("log-out",tN);const nN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iN=it("mail",nN);const sN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$0=it("message-square",sN);const rN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],aN=it("palette",rN);const oN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lN=it("plus",oN);const uN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vm=it("refresh-cw",uN);const cN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hN=it("search",cN);const fN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J0=it("shield-check",fN);const dN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mN=it("shield",dN);const pN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],gN=it("skull",pN);const yN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Z0=it("timer",yN);const _N=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vN=it("trash-2",_N);const EN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],TN=it("user-minus",EN);const bN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],W0=it("user-plus",bN);const SN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],AN=it("user-x",SN);const wN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RN=it("user",wN);const CN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],eE=it("users",CN);const IN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nh=it("x",IN);const xN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],NN=it("zap",xN),tE={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"}},DN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},ON=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(s){console.error(s)}return DN},dh=ON(),Km=!!(dh&&dh.apiKey&&dh.apiKey.startsWith("AIza")),MN=typeof __app_id<"u"?__app_id:"community_calendar_production",nt=MN.replace(/[^a-zA-Z0-9]/g,"_");let Em,ni,Ae;if(Km)try{Em=zA().length>0?Jm():fE(dh),ni=Nx(Em),Ae=sC(Em)}catch(s){console.error("Firebase Error:",s)}const lo=({src:s,name:e,size:i="md",className:r=""})=>{const l={sm:"w-6 h-6 text-[8px]",md:"w-10 h-10 text-[12px]",lg:"w-16 h-16 text-xl",xl:"w-32 h-32 text-4xl"},c=String(e||"O");return s&&typeof s=="string"&&s.startsWith("http")?S.jsx("img",{src:s,alt:c,className:`${l[i]} rounded-2xl object-cover border border-white/10 shadow-md ${r}`,onError:d=>{d.target.src="",d.target.onerror=null}}):S.jsx("div",{className:`${l[i]} rounded-2xl bg-indigo-600 flex items-center justify-center text-white font-black uppercase shadow-lg border border-white/10 ${r}`,children:c.charAt(0)})},VN=()=>{const[s,e]=Me.useState(null),[i,r]=Me.useState(!0),[l,c]=Me.useState("login"),[d,p]=Me.useState({email:"",password:"",displayName:""}),[_,y]=Me.useState(null),[b,w]=Me.useState(!1),[O,Q]=Me.useState([]),[Z,re]=Me.useState([]),[ee,ge]=Me.useState("all"),[Se,be]=Me.useState("calendar"),[Ye,ct]=Me.useState(!1),[Ge,x]=Me.useState(!1),[A,I]=Me.useState(!1),[V,N]=Me.useState(null),[k,R]=Me.useState(null),[ft,kt]=Me.useState(!1),[G,ie]=Me.useState([]),[de,Ve]=Me.useState(!1),[Xe,M]=Me.useState(!1),[Y,ne]=Me.useState(""),[ae,ve]=Me.useState(!1),[xe,Ue]=Me.useState(!1),[Lt,dt]=Me.useState(!1),[ri,Ki]=Me.useState(""),[wr,Qi]=Me.useState(null),[Tn,Rr]=Me.useState(""),[vi,Cs]=Me.useState(!1),[tn,_t]=Me.useState({name:"",desc:"",isPrivate:!1}),[te,nn]=Me.useState({displayName:"Operator",photoURL:"",joinedGuilds:[],friends:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""]}),se=Me.useMemo(()=>tE[te.theme]||tE.light,[te.theme]),[It,St]=Me.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});Me.useEffect(()=>{if(!Km||!ni){r(!1);return}const U=vI(ni,fe=>{e(fe),r(!1)});return()=>U()},[]),Me.useEffect(()=>{if(!s||!Ae||!s.emailVerified)return;const U=Ct(Ae,"artifacts",nt,"users",s.uid,"profile","info");(async()=>(await mC(U)).exists()||await gC(U,{displayName:d.displayName||`Operator_${s.uid.slice(0,4)}`,photoURL:"",joinedGuilds:[],friends:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""],createdAt:ao()}))();const ce=Zc(ms(Ae,"artifacts",nt,"public","data","sessions"),st=>{Q(st.docs.map(At=>({id:At.id,...At.data()})))}),_e=Zc(ms(Ae,"artifacts",nt,"public","data","guilds"),st=>{re(st.docs.map(At=>({id:At.id,...At.data()})))}),Ie=Zc(U,st=>{st.exists()&&nn(At=>({...At,...st.data()}))}),ht=Zc(ms(Ae,"artifacts",nt,"public","data","notifications"),st=>{const At=st.docs.map(Ut=>({id:Ut.id,...Ut.data()})).filter(Ut=>Ut.targetUid===s.uid);ie(At)});return()=>{ce(),_e(),Ie(),ht()}},[s,s?.emailVerified]);const Yi=async U=>{U.preventDefault(),y(null),r(!0);try{if(l==="register"){const fe=await pI(ni,d.email,d.password);await U0(fe.user)}else await gI(ni,d.email,d.password)}catch(fe){y(fe.message)}finally{r(!1)}},Cr=async()=>{if(ni.currentUser){w(!0);try{await JT(ni.currentUser),e(ni.currentUser)}catch{y("SYNC FAILED: Try again in a moment.")}finally{w(!1)}}},Ir=async()=>{if(ni.currentUser)try{await U0(ni.currentUser),y("NEW VERIFICATION LINK TRANSMITTED")}catch(U){y(U.message)}},bn=async U=>{if(!(!s||!Ae)){Cs(!0);try{const fe=Wc(Ae),ce=Ct(Ae,"artifacts",nt,"users",s.uid,"profile","info");fe.set(ce,U,{merge:!0});const _e=Ct(Ae,"artifacts",nt,"public","data","user_directory",s.uid);fe.set(_e,{displayName:U.displayName,photoURL:U.photoURL||"",handles:U.handles||{},showcaseGames:U.showcaseGames||[],theme:U.theme||"light",uid:s.uid},{merge:!0}),Z.forEach(Ie=>{const ht=Ie.members?.findIndex(st=>(st.uid||st)===s.uid);if(ht!==-1){const st=[...Ie.members];st[ht]={uid:s.uid,name:U.displayName,photoURL:U.photoURL||""},fe.update(Ct(Ae,"artifacts",nt,"public","data","guilds",Ie.id),{members:st})}}),O.forEach(Ie=>{let ht=!1;const st={};Ie.userId===s.uid&&(st.userName=U.displayName,st.userPhotoURL=U.photoURL||"",ht=!0);const At=Ie.participants?.findIndex(Ut=>Ut.uid===s.uid);if(At!==-1){const Ut=[...Ie.participants];Ut[At]={uid:s.uid,name:U.displayName,photoURL:U.photoURL||""},st.participants=Ut,ht=!0}ht&&fe.update(Ct(Ae,"artifacts",nt,"public","data","sessions",Ie.id),st)}),await fe.commit()}finally{setTimeout(()=>Cs(!1),800)}}},Uo=async U=>{!s||!Ae||await Jc(ms(Ae,"artifacts",nt,"public","data","notifications"),{type:"friend_request",targetUid:U.uid,senderUid:s.uid,senderName:te.displayName,senderPhotoURL:te.photoURL||"",timestamp:ao()})},pa=async U=>{if(!s||!Ae)return;const fe=Wc(Ae),ce=Ct(Ae,"artifacts",nt,"users",s.uid,"profile","info");fe.update(ce,{friends:$c({uid:U.senderUid,name:U.senderName,photoURL:U.senderPhotoURL||""})});const _e=Ct(Ae,"artifacts",nt,"users",U.senderUid,"profile","info");fe.update(_e,{friends:$c({uid:s.uid,name:te.displayName,photoURL:te.photoURL||""})});const Ie=Ct(Ae,"artifacts",nt,"public","data","notifications",U.id);fe.delete(Ie),await fe.commit()},ga=async U=>{if(!s||!Ae)return;const fe=te.friends?.find(Ie=>Ie.uid===U);if(!fe)return;const ce=Wc(Ae);ce.update(Ct(Ae,"artifacts",nt,"users",s.uid,"profile","info"),{friends:mm(fe)});const _e=Ct(Ae,"artifacts",nt,"users",U,"profile","info");ce.update(_e,{friends:mm({uid:s.uid,name:te.displayName,photoURL:te.photoURL||""})}),await ce.commit()},ya=async U=>{if(!s||!Ae)return;const fe=te.joinedGuilds||[];if(fe.includes(U.id)){const _e=fe.filter(ht=>ht!==U.id);await bn({...te,joinedGuilds:_e});const Ie=U.members?.find(ht=>(ht.uid||ht)===s.uid);U.members?.length===1?await oo(Ct(Ae,"artifacts",nt,"public","data","guilds",U.id)):await zl(Ct(Ae,"artifacts",nt,"public","data","guilds",U.id),{members:mm(Ie)})}else{if(U.isPrivate)return;await bn({...te,joinedGuilds:[...fe,U.id]}),await zl(Ct(Ae,"artifacts",nt,"public","data","guilds",U.id),{members:$c({uid:s.uid,name:te.displayName,photoURL:te.photoURL||""})})}},Mn=async U=>{if(!Ae||!s)return;const fe=U.participants||[];if(fe.some(_e=>_e.uid===s.uid)){const _e=fe.filter(Ie=>Ie.uid!==s.uid);await zl(Ct(Ae,"artifacts",nt,"public","data","sessions",U.id),{participants:_e})}else{if(fe.length>=(Number(U.maxOpenings)||0)+1)return;const _e=[...fe,{uid:s.uid,name:te.displayName,photoURL:te.photoURL||""}];await zl(Ct(Ae,"artifacts",nt,"public","data","sessions",U.id),{participants:_e})}},Qt=async U=>{if(U.preventDefault(),!(!Ae||!s)){ve(!0);try{await Jc(ms(Ae,"artifacts",nt,"public","data","feedback"),{message:Y,senderName:te.displayName,senderUid:s.uid,timestamp:ao()}),M(!0),ne(""),setTimeout(()=>{Ve(!1),M(!1)},2e3)}finally{ve(!1)}}},Sn=async U=>{if(!window.confirm("PERMANENT DISBAND?"))return;await oo(Ct(Ae,"artifacts",nt,"public","data","guilds",U)),(await pC(ms(Ae,"artifacts",nt,"public","data","sessions"))).docs.filter(ce=>ce.data().guildId===U).forEach(ce=>oo(ce.ref))},Tt=async()=>{if(!tn.name||!s||!Ae)return;const U=Math.random().toString(36).substring(2,8).toUpperCase(),fe=await Jc(ms(Ae,"artifacts",nt,"public","data","guilds"),{name:tn.name,desc:tn.desc||"Active Sector",ownerId:s.uid,members:[{uid:s.uid,name:te.displayName,photoURL:te.photoURL||""}],isPrivate:tn.isPrivate,inviteCode:U,createdAt:ao()});await bn({...te,joinedGuilds:[...te.joinedGuilds||[],fe.id]}),_t({name:"",desc:"",isPrivate:!1}),x(!1)},_a=async U=>{if(U.preventDefault(),!ri||!Ae||!s)return;Qi(null);const fe=ri.toUpperCase().trim(),ce=Z.find(_e=>_e.inviteCode===fe);if(!ce){Qi("INVALID CODE");return}await bn({...te,joinedGuilds:[...te.joinedGuilds||[],ce.id]}),await zl(Ct(Ae,"artifacts",nt,"public","data","guilds",ce.id),{members:$c({uid:s.uid,name:te.displayName,photoURL:te.photoURL||""})}),Ki(""),ge(ce.id)},Is=async U=>{if(U.preventDefault(),!Ae||!s)return;const fe=It.guildId||ee;if(fe==="all"||!fe)return;const ce=await Jc(ms(Ae,"artifacts",nt,"public","data","sessions"),{...It,maxOpenings:Number(It.maxOpenings),guildId:fe,userId:s.uid,userName:te.displayName,userPhotoURL:te.photoURL||"",participants:[{uid:s.uid,name:te.displayName,photoURL:te.photoURL||""}],createdAt:ao()}),_e=Z.find(Ie=>Ie.id===fe);if(_e&&te.friends?.length>0){const Ie=Wc(Ae);te.friends.filter(st=>_e.members.some(At=>(At.uid||At)===st.uid)).forEach(st=>{const At=Ct(ms(Ae,"artifacts",nt,"public","data","notifications"));Ie.set(At,{type:"session_alert",targetUid:st.uid,senderName:te.displayName,senderPhotoURL:te.photoURL||"",gameTitle:It.gameTitle,guildName:_e.name,sessionId:ce.id,timestamp:ao()})}),await Ie.commit()}ct(!1)},va=Me.useMemo(()=>{const U=te.joinedGuilds||[],fe=O.filter(_e=>(ee==="all"?U.includes(_e.guildId):_e.guildId===ee)&&String(_e.gameTitle).toLowerCase().includes(Tn.toLowerCase())).sort((_e,Ie)=>String(_e.date).localeCompare(String(Ie.date))),ce={};return fe.forEach(_e=>{const Ie=String(_e.date);ce[Ie]||(ce[Ie]=[]),ce[Ie].push(_e)}),ce},[O,ee,te.joinedGuilds,Tn]);return Km?i?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:S.jsx(_m,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):s?s&&!s.emailVerified?S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white text-center",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[5rem] border border-zinc-800 shadow-2xl relative",children:[S.jsxs("div",{className:"mb-10",children:[S.jsx(iN,{className:"w-16 h-16 text-indigo-400 mx-auto mb-6 animate-pulse"}),S.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Verify Intel"})]}),S.jsxs("button",{onClick:Cr,disabled:b,className:"w-full p-6 rounded-3xl bg-indigo-600 font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-3 active:scale-95 transition",children:[b?S.jsx(vm,{className:"w-4 h-4 animate-spin"}):S.jsx(J0,{className:"w-4 h-4"})," Access Sector"]}),S.jsx("button",{onClick:Ir,className:"w-full mt-4 p-6 rounded-3xl bg-white/5 border border-white/10 font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Resend Transmission"}),S.jsxs("button",{onClick:()=>P0(ni),className:"mt-12 flex items-center gap-2 mx-auto text-[9px] font-black uppercase opacity-30 hover:opacity-100 transition",children:[S.jsx(X0,{className:"w-3 h-3"})," Abort Registry"]}),_&&S.jsx("div",{className:"mt-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-[9px] text-emerald-500 font-bold uppercase",children:_})]})}):S.jsxs("div",{className:`min-h-screen ${se.bg} ${se.text} transition-colors duration-500`,children:[S.jsxs("header",{className:`${se.header} border-b ${se.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[S.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>be("calendar"),children:[S.jsx(_m,{className:`w-8 h-8 ${se.accent}`}),S.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),S.jsxs("nav",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>be("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Se==="calendar"?se.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),S.jsx("button",{onClick:()=>be("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Se==="profile"?se.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),S.jsxs("button",{onClick:()=>I(!A),className:"relative p-2 opacity-40 hover:text-indigo-500 transition",children:[S.jsx(Px,{className:"w-5 h-5"}),G.length>0&&S.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-rose-500 rounded-full flex items-center justify-center text-[8px] font-black text-white shadow-lg animate-pulse",children:G.length})]}),S.jsx("button",{onClick:()=>Ve(!0),className:"p-2 opacity-40 hover:text-indigo-500 transition",children:S.jsx($0,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>P0(ni),className:"p-2 opacity-40 hover:text-rose-500 transition",children:S.jsx(X0,{className:"w-4 h-4"})})]})]}),A&&S.jsxs("div",{className:`fixed top-20 right-8 z-[100] w-80 ${se.card} border ${se.border} rounded-3xl shadow-2xl p-6 animate-in slide-in-from-top-4 duration-300`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"Tactical Comms"}),S.jsx("button",{onClick:()=>I(!1),children:S.jsx(nh,{className:"w-4 h-4 opacity-40"})})]}),S.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:G.length===0?S.jsx("p",{className:"text-center py-8 text-[10px] font-black uppercase opacity-20 italic",children:"Sector is silent"}):G.sort((U,fe)=>(fe.timestamp?.seconds||0)-(U.timestamp?.seconds||0)).map(U=>S.jsxs("div",{className:`${se.bg} p-4 rounded-2xl border ${se.border}`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx(lo,{src:U.senderPhotoURL,name:U.senderName,size:"sm"}),S.jsx("div",{className:"flex-1 min-w-0",children:U.type==="friend_request"?S.jsxs("p",{className:"text-[10px] font-black uppercase leading-tight",children:[String(U.senderName)," ",S.jsx("span",{className:"opacity-40 font-bold",children:"requested enlistment"})]}):S.jsxs("p",{className:"text-[10px] font-black uppercase leading-tight",children:[String(U.senderName)," ",S.jsx("span",{className:"opacity-40 font-bold",children:"deployed"})," ",String(U.gameTitle)," ",S.jsx("span",{className:"opacity-40 font-bold",children:"in"})," ",String(U.guildName)]})})]}),S.jsx("div",{className:"flex gap-2",children:U.type==="friend_request"?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>pa(U),className:"flex-1 py-2 bg-indigo-600 text-white rounded-xl flex items-center justify-center transition active:scale-95",children:S.jsx(zx,{className:"w-3 h-3"})}),S.jsx("button",{onClick:()=>oo(Ct(Ae,"artifacts",nt,"public","data","notifications",U.id)),className:"flex-1 py-2 bg-rose-500/10 text-rose-500 rounded-xl flex items-center justify-center transition active:scale-95",children:S.jsx(AN,{className:"w-3 h-3"})})]}):S.jsx("button",{onClick:()=>{oo(Ct(Ae,"artifacts",nt,"public","data","notifications",U.id)),I(!1)},className:"w-full py-2 bg-indigo-600/10 text-indigo-400 rounded-xl font-black uppercase text-[8px] tracking-widest",children:"Acknowledge"})})]},U.id))})]}),S.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[S.jsxs("aside",{className:"w-full md:w-72",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Tactical Sectors"}),S.jsx("button",{onClick:()=>ge("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${ee==="all"?se.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),S.jsx("div",{className:"mt-6 space-y-2",children:Z.filter(U=>te.joinedGuilds?.includes(U.id)).map(U=>S.jsxs("div",{className:"flex items-center gap-1 group",children:[S.jsx("button",{onClick:()=>ge(U.id),className:`flex-1 text-left p-3 rounded-xl font-bold text-xs transition truncate ${ee===U.id?se.button:"hover:bg-slate-500/10"}`,children:String(U.name)}),S.jsx("button",{onClick:()=>N(U),className:"p-3 rounded-xl bg-slate-500/5 hover:bg-indigo-500 hover:text-white transition opacity-0 group-hover:opacity-100",children:S.jsx(eE,{className:"w-4 h-4"})})]},U.id))}),S.jsxs("button",{onClick:()=>x(!0),className:"w-full p-4 mt-6 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[S.jsx(Kx,{className:"w-4 h-4"})," Find Sectors"]})]}),S.jsx("div",{className:"flex-1",children:Se==="calendar"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[S.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:ee==="all"?"The Hub":Z.find(U=>U.id===ee)?.name}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx(hN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"text",placeholder:"Filter...",value:Tn,onChange:U=>Rr(U.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${se.card} border ${se.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),S.jsx("button",{onClick:()=>ct(!0),className:`${se.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg`,children:"+ New Mission"})]})]}),S.jsx("div",{className:"space-y-12",children:Object.entries(va).map(([U,fe])=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[S.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:U}),S.jsx("div",{className:`flex-1 h-px ${se.border}`})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:fe.map(ce=>S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[S.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors leading-tight mb-4",children:String(ce.gameTitle)}),S.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 opacity-40",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Gx,{className:"w-3 h-3"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:String(ce.startTime)})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Z0,{className:"w-3 h-3"}),S.jsxs("span",{className:"text-[10px] font-black uppercase",children:[ce.duration," HR"]})]})]}),S.jsxs("div",{className:"mb-8 flex-1",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-4",children:[ce.participants?.length||0," / ",(Number(ce.maxOpenings)||0)+1," Enlisted"]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:ce.participants?.map((_e,Ie)=>S.jsxs("button",{onClick:()=>openPublicProfile(_e.uid),className:`flex items-center gap-2 text-[9px] font-black px-3 py-1.5 rounded-full ${se.bg} border ${se.border} uppercase shadow-sm hover:border-indigo-500 transition`,children:[S.jsx(lo,{src:_e.photoURL,name:_e.name,size:"sm"}),String(_e.name)]},Ie))})]}),S.jsxs("div",{className:"flex gap-3 mt-auto",children:[S.jsx("button",{onClick:()=>Mn(ce),className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition ${ce.participants?.some(_e=>_e.uid===s.uid)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":se.button}`,children:ce.participants?.some(_e=>_e.uid===s.uid)?"Retire":"Enlist"}),ce.userId===s.uid&&S.jsx("button",{onClick:()=>oo(Ct(Ae,"artifacts",nt,"public","data","sessions",ce.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:S.jsx(vN,{className:"w-5 h-5"})})]})]},ce.id))})]},U))})]}):S.jsxs("div",{className:"max-w-6xl mx-auto pb-20 space-y-8",children:[S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[5rem] p-12 shadow-2xl relative overflow-hidden`,children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[S.jsxs("div",{className:"w-full md:w-1/3 text-center",children:[S.jsx("div",{className:"relative group mx-auto w-fit",children:S.jsx(lo,{src:te.photoURL,name:te.displayName,size:"xl",className:"mx-auto mb-8"})}),S.jsx("input",{type:"text",value:te.displayName,onChange:U=>nn({...te,displayName:U.target.value}),className:"w-full bg-transparent text-center text-3xl font-black italic uppercase outline-none focus:text-indigo-600 transition"}),S.jsxs("div",{className:"mt-8 flex gap-3",children:[S.jsx("button",{onClick:()=>nn({...te,theme:"light"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${te.theme==="light"?"border-indigo-600":"border-transparent opacity-40"}`,children:S.jsx(aN,{className:"w-4 h-4 mx-auto"})}),S.jsx("button",{onClick:()=>nn({...te,theme:"dark"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${te.theme==="dark"?"border-indigo-400":"border-transparent opacity-40"}`,children:S.jsx(NN,{className:"w-4 h-4 mx-auto"})})]}),S.jsxs("button",{onClick:()=>bn(te),disabled:vi,className:`w-full mt-6 py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2`,children:[vi?S.jsx(vm,{className:"w-4 h-4 animate-spin"}):S.jsx(J0,{className:"w-4 h-4"})," SYNC PROFILE"]}),S.jsx("div",{className:"mt-12",children:S.jsx("button",{onClick:()=>Ue(!0),className:"text-[10px] font-black uppercase text-rose-500 opacity-40 hover:opacity-100 transition tracking-widest underline decoration-dotted underline-offset-4",children:"Terminate Identity"})})]}),S.jsxs("div",{className:"flex-1 space-y-10",children:[S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(RN,{className:"w-3 h-3 inline mr-2"})," Visual Identity"]}),S.jsx("input",{placeholder:"AVATAR IMAGE URL (PNG/JPG)",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:te.photoURL,onChange:U=>nn({...te,photoURL:U.target.value})})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(th,{className:"w-3 h-3 inline mr-2"})," Identity Matrix"]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[S.jsx("input",{placeholder:"STEAM",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:te.handles?.steam,onChange:U=>nn({...te,handles:{...te.handles,steam:U.target.value}})}),S.jsx("input",{placeholder:"PSN",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:te.handles?.psn,onChange:U=>nn({...te,handles:{...te.handles,psn:U.target.value}})}),S.jsx("input",{placeholder:"XBOX",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:te.handles?.xbox,onChange:U=>nn({...te,handles:{...te.handles,xbox:U.target.value}})})]})]})]})]})]}),S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 shadow-xl`,children:[S.jsxs("p",{className:"text-[11px] font-black uppercase opacity-30 mb-8 tracking-widest flex items-center gap-2",children:[S.jsx(eE,{className:"w-4 h-4"})," Enlisted Allies (",te.friends?.length||0,")"]}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:te.friends?.map(U=>S.jsxs("button",{onClick:()=>openPublicProfile(U.uid),className:`${se.bg} border ${se.border} p-6 rounded-[2.5rem] flex flex-col items-center gap-3 hover:border-indigo-500 transition group`,children:[S.jsx(lo,{src:U.photoURL,name:U.name,size:"md",className:"group-hover:scale-110 transition"}),S.jsx("p",{className:"text-[10px] font-black uppercase truncate w-full text-center",children:U.name})]},U.uid))})]})]})})]}),k&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl transition-all",children:S.jsxs("div",{className:`${k.theme==="dark"?"bg-zinc-900 border-zinc-800 text-white":"bg-white border-slate-100 text-slate-900"} border rounded-[5rem] p-12 max-w-xl w-full shadow-2xl relative overflow-hidden`,children:[S.jsx("button",{onClick:()=>R(null),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(nh,{})}),S.jsxs("div",{className:"text-center mb-8",children:[S.jsx(lo,{src:k.photoURL,name:k.displayName,size:"xl",className:"mx-auto mb-6"}),S.jsx("h3",{className:"text-3xl font-black italic uppercase tracking-tight",children:k.displayName})]}),k.uid!==s?.uid&&S.jsx("div",{className:"flex justify-center mb-10",children:te.friends?.some(U=>U.uid===k.uid)?S.jsxs("button",{onClick:()=>ga(k.uid),className:"px-10 py-4 rounded-2xl bg-rose-500/10 text-rose-500 border border-rose-500/20 font-black uppercase text-[10px] tracking-widest flex items-center gap-2 active:scale-95 transition",children:[S.jsx(TN,{className:"w-4 h-4"})," Remove Ally"]}):S.jsxs("button",{onClick:()=>Uo(k),disabled:G.some(U=>U.senderUid===k.uid),className:"px-10 py-4 rounded-2xl bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest flex items-center gap-2 active:scale-95 transition shadow-xl disabled:opacity-50",children:[S.jsx(W0,{className:"w-4 h-4"})," Enlist Ally"]})}),S.jsx("div",{className:"grid grid-cols-3 gap-4 mb-10",children:Object.entries(k.handles||{}).map(([U,fe])=>fe&&S.jsxs("div",{className:"p-3 bg-slate-500/5 border border-slate-500/10 rounded-xl text-center",children:[S.jsx("p",{className:"text-[7px] font-black uppercase opacity-40 mb-1",children:U}),S.jsx("p",{className:"text-[9px] font-black uppercase truncate",children:fe})]},U))})]})}),V&&S.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:V.name}),V.isPrivate&&S.jsxs("div",{className:"mt-4 flex items-center gap-4 p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-2xl",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-[8px] font-black uppercase opacity-40 tracking-widest",children:"Invite Code"}),S.jsx("p",{className:"text-2xl font-black italic text-indigo-400 tracking-tighter select-all",children:V.inviteCode})]}),S.jsx("button",{onClick:()=>navigator.clipboard.writeText(V.inviteCode),className:"p-3 rounded-xl bg-indigo-600 text-white",children:S.jsx(Yx,{className:"w-4 h-4"})})]})]}),S.jsx("button",{onClick:()=>N(null),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:S.jsx(nh,{})})]}),S.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:V.members?.map((U,fe)=>S.jsxs("button",{onClick:()=>openPublicProfile(U.uid||U),className:`w-full text-left ${se.bg} p-4 rounded-3xl border ${se.border} flex items-center gap-4 hover:border-indigo-500 transition group`,children:[S.jsx(lo,{src:U.photoURL,name:U.name,size:"md",className:"group-hover:scale-110 transition"}),S.jsx("div",{className:"flex-1 overflow-hidden",children:S.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate",children:String(U.name||"Unknown Op")})}),(U.uid||U)===V.ownerId&&S.jsx($x,{className:"w-4 h-4 text-amber-500"})]},fe))})]})}),Ge&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-10",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Directory"}),S.jsx("button",{onClick:()=>x(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("div",{className:"mb-10 p-6 rounded-[2.5rem] bg-indigo-600/10 border border-indigo-500/20",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-40 mb-4 tracking-widest flex items-center gap-2",children:[S.jsx(th,{className:"w-3 h-3"})," Secure Enlistment"]}),S.jsxs("form",{onSubmit:_a,className:"flex gap-4",children:[S.jsx("input",{placeholder:"INVITE CODE",className:"flex-1 p-5 rounded-2xl bg-black/40 border border-indigo-500/30 outline-none text-xs font-black uppercase transition text-white",value:ri,onChange:U=>Ki(U.target.value.toUpperCase()),maxLength:6}),S.jsx("button",{type:"submit",className:"px-8 py-5 rounded-2xl bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest shadow-xl transition",children:"Enlist"})]})]}),S.jsx("div",{className:"space-y-4 max-h-[30vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:Z.map(U=>S.jsxs("div",{className:`${se.bg} p-6 rounded-[2.5rem] border ${se.border} flex justify-between items-center group`,children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(U.name)}),U.isPrivate&&S.jsx(th,{className:"w-3 h-3 opacity-30"})]}),S.jsxs("p",{className:"text-[9px] font-black opacity-30 mt-1 uppercase",children:[U.members?.length||0," Members"]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[U.isPrivate?S.jsx("div",{className:"px-6 py-3 rounded-2xl bg-slate-500/5 text-slate-400 text-[9px] font-black uppercase italic border border-white/5",children:"Private"}):S.jsx("button",{onClick:()=>ya(U),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${te.joinedGuilds?.includes(U.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":se.button}`,children:te.joinedGuilds?.includes(U.id)?"Retire":"Enlist"}),U.ownerId===s?.uid&&S.jsx("button",{onClick:()=>Sn(U.id),className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:S.jsx(gN,{className:"w-4 h-4"})})]})]},U.id))}),S.jsxs("div",{className:`pt-10 border-t ${se.border} space-y-4`,children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"Commission Sector"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[S.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:tn.name,onChange:U=>_t({...tn,name:U.target.value})}),S.jsxs("button",{type:"button",onClick:()=>_t({...tn,isPrivate:!tn.isPrivate}),className:`p-5 rounded-2xl border-2 transition flex items-center justify-center gap-3 ${tn.isPrivate?"border-indigo-600 bg-indigo-500/10 text-indigo-400":"border-slate-500/20 opacity-40"}`,children:[tn.isPrivate?S.jsx(th,{className:"w-4 h-4"}):S.jsx(Wx,{className:"w-4 h-4"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:tn.isPrivate?"Private":"Public"})]})]}),S.jsx("button",{onClick:Tt,className:`w-full py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl transition`,children:"Commission Sector"})]})]})}),de&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsx("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl relative`,children:Xe?S.jsxs("div",{className:"text-center py-20 animate-in fade-in zoom-in duration-500",children:[S.jsx(qx,{className:"w-20 h-20 text-emerald-500 mx-auto mb-6 animate-bounce"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-emerald-500",children:"Received"})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>Ve(!1),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:S.jsx(nh,{})}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx($0,{className:"w-12 h-12 text-indigo-500 mx-auto mb-6"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Submit Intelligence"})]}),S.jsxs("form",{onSubmit:Qt,className:"space-y-6",children:[S.jsx("textarea",{required:!0,placeholder:"DESCRIBE ISSUE...",className:`w-full h-40 p-6 rounded-[2rem] ${se.bg} border ${se.border} outline-none font-black uppercase text-xs focus:border-indigo-500 transition shadow-inner resize-none`,value:Y,onChange:U=>ne(U.target.value)}),S.jsxs("button",{type:"submit",disabled:ae,className:`w-full py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl transition flex items-center justify-center gap-2`,children:[ae?S.jsx(vm,{className:"w-4 h-4 animate-spin"}):S.jsx(lN,{className:"w-4 h-4"})," TRANSMIT REPORT"]})]})]})})}),Ye&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-8",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),S.jsx("button",{onClick:()=>ct(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("form",{onSubmit:Is,className:"space-y-6",children:[S.jsx("input",{placeholder:"GAME / OPERATION NAME",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:It.gameTitle,onChange:U=>St({...It,gameTitle:U.target.value}),required:!0}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:It.date,onChange:U=>St({...It,date:U.target.value})}),S.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:It.startTime,onChange:U=>St({...It,startTime:U.target.value})}),S.jsxs("div",{className:"relative",children:[S.jsx(Z0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"HR",className:`w-full pl-12 p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:It.duration,onChange:U=>St({...It,duration:U.target.value})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[S.jsxs("select",{className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black uppercase`,value:It.guildId,onChange:U=>St({...It,guildId:U.target.value}),required:!0,children:[S.jsx("option",{value:"",children:"Select Guild"}),Z.filter(U=>te.joinedGuilds?.includes(U.id)).map(U=>S.jsx("option",{value:U.id,children:String(U.name)},U.id))]}),S.jsxs("div",{className:"relative",children:[S.jsx(W0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"SLOTS",className:`w-full pl-12 p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:It.maxOpenings,onChange:U=>St({...It,maxOpenings:U.target.value})})]})]}),S.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition mt-4`,children:"Deploy Mission"})]})]})})]}):S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(_m,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),S.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"})]}),S.jsxs("form",{onSubmit:Yi,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.email,onChange:U=>p({...d,email:U.target.value})}),S.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.password,onChange:U=>p({...d,password:U.target.value})}),_&&S.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),S.jsx("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Establish Link"})]}),S.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[S.jsx(mN,{className:"w-16 h-16 text-rose-500 mb-6"}),S.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"})]})};fS.createRoot(document.getElementById("root")).render(S.jsx(Me.StrictMode,{children:S.jsx(VN,{})}));
