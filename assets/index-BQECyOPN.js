(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function rS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kd={exports:{}},Vl={};var ov;function aS(){if(ov)return Vl;ov=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var lv;function oS(){return lv||(lv=1,Kd.exports=aS()),Kd.exports}var S=oS(),Qd={exports:{}},Re={};var uv;function lS(){if(uv)return Re;uv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function ge(M,Y,te){this.props=M,this.context=Y,this.refs=ee,this.updater=te||Z}ge.prototype.isReactComponent={},ge.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ge.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Se(){}Se.prototype=ge.prototype;function Te(M,Y,te){this.props=M,this.context=Y,this.refs=ee,this.updater=te||Z}var $e=Te.prototype=new Se;$e.constructor=Te,se($e,ge.prototype),$e.isPureReactComponent=!0;var dt=Array.isArray;function Fe(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,Y,te){var ae=te.ref;return{$$typeof:s,type:M,key:Y,ref:ae!==void 0?ae:null,props:te}}function V(M,Y){return I(M.type,Y,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var R=/\/+/g;function mt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Y.toString(36)}function bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Fe,Fe):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,te,ae,_e){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Ae){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case s:case e:ke=!0;break;case b:return ke=M._init,G(ke(M._payload),Y,te,ae,_e)}}if(ke)return _e=_e(M),ke=ae===""?"."+mt(M,0):ae,dt(_e)?(te="",ke!=null&&(te=ke.replace(R,"$&/")+"/"),G(_e,Y,te,"",function(si){return si})):_e!=null&&(D(_e)&&(_e=V(_e,te+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+ke)),Y.push(_e)),1;ke=0;var At=ae===""?".":ae+":";if(dt(M))for(var ut=0;ut<M.length;ut++)ae=M[ut],Ae=At+mt(ae,ut),ke+=G(ae,Y,te,Ae,_e);else if(ut=Q(M),typeof ut=="function")for(M=ut.call(M),ut=0;!(ae=M.next()).done;)ae=ae.value,Ae=At+mt(ae,ut++),ke+=G(ae,Y,te,Ae,_e);else if(Ae==="object"){if(typeof M.then=="function")return G(bt(M),Y,te,ae,_e);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(M,Y,te){if(M==null)return M;var ae=[],_e=0;return G(M,ae,"","",function(Ae){return Y.call(te,Ae,_e++)}),ae}function de(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qe={map:ne,forEach:function(M,Y,te){ne(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return ne(M,function(){Y++}),Y},toArray:function(M){return ne(M,function(Y){return Y})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=w,Re.Children=Qe,Re.Component=ge,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=Te,Re.StrictMode=a,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=se({},M.props),_e=M.key;if(Y!=null)for(Ae in Y.key!==void 0&&(_e=""+Y.key),Y)!A.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(ae[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=te;else if(1<Ae){for(var ke=Array(Ae),At=0;At<Ae;At++)ke[At]=arguments[At+2];ae.children=ke}return I(M.type,_e,ae)},Re.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Re.createElement=function(M,Y,te){var ae,_e={},Ae=null;if(Y!=null)for(ae in Y.key!==void 0&&(Ae=""+Y.key),Y)A.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=Y[ae]);var ke=arguments.length-2;if(ke===1)_e.children=te;else if(1<ke){for(var At=Array(ke),ut=0;ut<ke;ut++)At[ut]=arguments[ut+2];_e.children=At}if(M&&M.defaultProps)for(ae in ke=M.defaultProps,ke)_e[ae]===void 0&&(_e[ae]=ke[ae]);return I(M,Ae,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:p,render:M}},Re.isValidElement=D,Re.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:de}},Re.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Re.startTransition=function(M){var Y=x.T,te={};x.T=te;try{var ae=M(),_e=x.S;_e!==null&&_e(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Fe,Ue)}catch(Ae){Ue(Ae)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),x.T=Y}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(M){return x.H.use(M)},Re.useActionState=function(M,Y,te){return x.H.useActionState(M,Y,te)},Re.useCallback=function(M,Y){return x.H.useCallback(M,Y)},Re.useContext=function(M){return x.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,Y){return x.H.useDeferredValue(M,Y)},Re.useEffect=function(M,Y){return x.H.useEffect(M,Y)},Re.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(M,Y,te){return x.H.useImperativeHandle(M,Y,te)},Re.useInsertionEffect=function(M,Y){return x.H.useInsertionEffect(M,Y)},Re.useLayoutEffect=function(M,Y){return x.H.useLayoutEffect(M,Y)},Re.useMemo=function(M,Y){return x.H.useMemo(M,Y)},Re.useOptimistic=function(M,Y){return x.H.useOptimistic(M,Y)},Re.useReducer=function(M,Y,te){return x.H.useReducer(M,Y,te)},Re.useRef=function(M){return x.H.useRef(M)},Re.useState=function(M){return x.H.useState(M)},Re.useSyncExternalStore=function(M,Y,te){return x.H.useSyncExternalStore(M,Y,te)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.4",Re}var cv;function Fm(){return cv||(cv=1,Qd.exports=lS()),Qd.exports}var Me=Fm();const uS=rS(Me);var Yd={exports:{}},kl={},Xd={exports:{}},$d={};var hv;function cS(){return hv||(hv=1,(function(s){function e(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var Ue=de-1>>>1,Qe=G[Ue];if(0<l(Qe,ne))G[Ue]=ne,G[de]=Qe,de=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var Ue=0,Qe=G.length,M=Qe>>>1;Ue<M;){var Y=2*(Ue+1)-1,te=G[Y],ae=Y+1,_e=G[ae];if(0>l(te,de))ae<Qe&&0>l(_e,te)?(G[Ue]=_e,G[ae]=de,Ue=ae):(G[Ue]=te,G[Y]=de,Ue=Y);else if(ae<Qe&&0>l(_e,de))G[Ue]=_e,G[ae]=de,Ue=ae;else break e}}return ne}function l(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,w=null,N=3,Q=!1,Z=!1,se=!1,ee=!1,ge=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function $e(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=G)a(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function dt(G){if(se=!1,$e(G),!Z)if(i(_)!==null)Z=!0,Fe||(Fe=!0,P());else{var ne=i(y);ne!==null&&bt(dt,ne.startTime-G)}}var Fe=!1,x=-1,A=5,I=-1;function V(){return ee?!0:!(s.unstable_now()-I<A)}function D(){if(ee=!1,Fe){var G=s.unstable_now();I=G;var ne=!0;try{e:{Z=!1,se&&(se=!1,Se(x),x=-1),Q=!0;var de=N;try{t:{for($e(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,N=w.priorityLevel;var Qe=Ue(w.expirationTime<=G);if(G=s.unstable_now(),typeof Qe=="function"){w.callback=Qe,$e(G),ne=!0;break t}w===i(_)&&a(_),$e(G)}else a(_);w=i(_)}if(w!==null)ne=!0;else{var M=i(y);M!==null&&bt(dt,M.startTime-G),ne=!1}}break e}finally{w=null,N=de,Q=!1}ne=void 0}}finally{ne?P():Fe=!1}}}var P;if(typeof Te=="function")P=function(){Te(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,mt=R.port2;R.port1.onmessage=D,P=function(){mt.postMessage(null)}}else P=function(){ge(D,0)};function bt(G,ne){x=ge(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var ne=3;break;default:ne=N}var de=N;N=ne;try{return G()}finally{N=de}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=N;N=G;try{return ne()}finally{N=de}},s.unstable_scheduleCallback=function(G,ne,de){var Ue=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ue+de:Ue):de=Ue,G){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=de+Qe,G={id:b++,callback:ne,priorityLevel:G,startTime:de,expirationTime:Qe,sortIndex:-1},de>Ue?(G.sortIndex=de,e(y,G),i(_)===null&&G===i(y)&&(se?(Se(x),x=-1):se=!0,bt(dt,de-Ue))):(G.sortIndex=Qe,e(_,G),Z||Q||(Z=!0,Fe||(Fe=!0,P()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ne=N;return function(){var de=N;N=ne;try{return G.apply(this,arguments)}finally{N=de}}}})($d)),$d}var fv;function hS(){return fv||(fv=1,Xd.exports=cS()),Xd.exports}var Jd={exports:{}},hn={};var dv;function fS(){if(dv)return hn;dv=1;var s=Fm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},hn.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},hn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},hn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},hn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:Q}):b==="script"&&a.d.X(_,{crossOrigin:w,integrity:N,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},hn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},hn.requestFormReset=function(_){a.d.r(_)},hn.unstable_batchedUpdates=function(_,y){return _(y)},hn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var mv;function dS(){if(mv)return Jd.exports;mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=fS(),Jd.exports}var pv;function mS(){if(pv)return kl;pv=1;var s=hS(),e=Fm(),i=dS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ge:return"Profiler";case ee:return"StrictMode";case dt:return"Suspense";case Fe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Te:return t.displayName||"Context";case Se:return(t._context.displayName||"Context")+".Consumer";case $e:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:mt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return mt(t(n))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ue=[],Qe=-1;function M(t){return{current:t}}function Y(t){0>Qe||(t.current=Ue[Qe],Ue[Qe]=null,Qe--)}function te(t,n){Qe++,Ue[Qe]=t.current,t.current=n}var ae=M(null),_e=M(null),Ae=M(null),ke=M(null);function At(t,n){switch(te(Ae,n),te(_e,t),te(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?N_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=N_(n),t=D_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),te(ae,t)}function ut(){Y(ae),Y(_e),Y(Ae)}function si(t){t.memoizedState!==null&&te(ke,t);var n=ae.current,r=D_(n,t.type);n!==r&&(te(_e,t),te(ae,r))}function Cs(t){_e.current===t&&(Y(ae),Y(_e)),ke.current===t&&(Y(ke),Nl._currentValue=de)}var ri,Yi;function wt(t){if(ri===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ri=n&&n[1]||"",Yi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+t+Yi}var Xi=!1;function he(t,n){if(!t||Xi)return"";Xi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Xi=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?wt(r):""}function en(t,n){switch(t.tag){case 26:case 27:case 5:return wt(t.type);case 16:return wt("Lazy");case 13:return t.child!==n&&n!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return he(t.type,!1);case 11:return he(t.type.render,!1);case 1:return he(t.type,!0);case 31:return wt("Activity");default:return""}}function ie(t){try{var n="",r=null;do n+=en(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var De=Object.prototype.hasOwnProperty,ct=s.unstable_scheduleCallback,ai=s.unstable_cancelCallback,Vo=s.unstable_shouldYield,da=s.unstable_requestPaint,tn=s.unstable_now,On=s.unstable_getCurrentPriorityLevel,wr=s.unstable_ImmediatePriority,Rr=s.unstable_UserBlockingPriority,Ei=s.unstable_NormalPriority,ma=s.unstable_LowPriority,pa=s.unstable_IdlePriority,ga=s.log,ya=s.unstable_setDisableYieldValue,Mn=null,Ft=null;function En(t){if(typeof ga=="function"&&ya(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Mn,t)}catch{}}var k=Math.clz32?Math.clz32:be,re=Math.log,le=Math.LN2;function be(t){return t>>>=0,t===0?32:31-(re(t)/le|0)|0}var We=256,vt=262144,Ve=4194304;function Kt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rt(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Kt(o):(g&=E,g!==0?h=Kt(g):r||(r=E&~t,r!==0&&(h=Kt(r))))):(E=o&~f,E!==0?h=Kt(E):g!==0?h=Kt(g):r||(r=o&~t,r!==0&&(h=Kt(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Tn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Is(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),t}function Ti(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $h(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(r=g&~r;0<r;){var F=31-k(r),X=1<<F;E[F]=0,C[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&Ir(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ir(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-k(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function ko(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-k(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Lo(t,n){var r=n&-n;return r=(r&42)!==0?1:xr(r),(r&(t.suspendedLanes|n))!==0?0:r}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:ev(t.type))}function oi(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var li=Math.random().toString(36).slice(2),Lt="__reactFiber$"+li,$t="__reactProps$"+li,bi="__reactContainer$"+li,_a="__reactEvents$"+li,Jh="__reactListeners$"+li,Tu="__reactHandles$"+li,bu="__reactResources$"+li,Si="__reactMarker$"+li;function va(t){delete t[Lt],delete t[$t],delete t[_a],delete t[Jh],delete t[Tu]}function Ai(t){var n=t[Lt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bi]||r[Lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=U_(t);t!==null;){if(r=t[Lt])return r;t=U_(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[Lt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Si]=!0}var Po=new Set,Uo={};function Ri(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Uo[t]=n,t=0;t<n.length;t++)Po.add(n[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Su(t){return De.call(Bo,t)?!0:De.call(zo,t)?!1:jo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function Ea(t,n,r){if(Su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ut(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=qo(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=xs(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function bn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,r,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ho(t,g,Jt(n)):r!=null?Ho(t,g,Jt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function Au(t,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){tt(t);return}r=r!=null?""+Jt(r):"",n=n!=null?""+Jt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),tt(t)}function Ho(t,n,r){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ns(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,r){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Jt(r):""}function Ds(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Jt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),tt(t)}function Sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Ru.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Fo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Go(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Go(t,f,n[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var Ko=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,xi=null;function Or(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[$t]||null;if(!h)throw Error(a(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Nr(o)}break e;case"textarea":wu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ns(t,!!r.multiple,n,!1)}}}var Aa=!1;function Vs(t,n,r){if(Aa)return t(n,r);Aa=!0;try{var o=t(n);return o}finally{if(Aa=!1,(Ms!==null||xi!==null)&&(Ec(),Ms&&(n=Ms,t=xi,xi=Ms=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function ci(t,n){var r=t.stateNode;if(r===null)return null;var o=r[$t]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Kn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Mr=!1}var Ni=null,Qo=null,Vr=null;function Yo(){if(Vr)return Vr;var t,n=Qo,r=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Vr=h.slice(t,1<o?1-o:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function hi(){return!1}function nn(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:hi,this.isPropagationStopped=hi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=nn(Zi),ks=w({},Zi,{view:0,detail:0}),Xo=nn(ks),Ls,wa,Oi,Ra=w({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ls=t.screenX-Oi.screenX,wa=t.screenY-Oi.screenY):wa=Ls=0,Oi=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),$o=nn(Ra),Lr=w({},Ra,{dataTransfer:0}),Iu=nn(Lr),xu=w({},ks,{relatedTarget:0}),Pr=nn(xu),Jo=w({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=nn(Jo),Ca=w({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=nn(Ca),Ou=w({},Zi,{data:0}),Mi=nn(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function Ps(){return Lu}var gn=w({},ks,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=nn(gn),Uu=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=nn(Uu),u=w({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=nn(u),v=w({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(v),U=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=nn(U),W=w({},Zi,{newState:0,oldState:0}),Ie=nn(W),Dt=[9,13,27,32],Je=Kn&&"CompositionEvent"in window,Et=null;Kn&&"documentMode"in document&&(Et=document.documentMode);var Qn=Kn&&"TextEvent"in window&&!Et,Vi=Kn&&(!Je||Et&&8<Et&&11>=Et),fi=" ",di=!1;function Ur(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function x1(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function N1(t,n){if(xa)return t==="compositionend"||!Je&&Ur(t,n)?(t=Yo(),Vr=Qo=Ni=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!D1[t.type]:n==="textarea"}function qp(t,n,r,o){Ms?xi?xi.push(o):xi=[o]:Ms=o,n=Cc(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Zo=null,Wo=null;function O1(t){A_(t,0)}function ju(t){var n=Vn(t);if(Nr(n))return t}function Hp(t,n){if(t==="change")return n}var Gp=!1;if(Kn){var Zh;if(Kn){var Wh="oninput"in document;if(!Wh){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),Wh=typeof Fp.oninput=="function"}Zh=Wh}else Zh=!1;Gp=Zh&&(!document.documentMode||9<document.documentMode)}function Kp(){Zo&&(Zo.detachEvent("onpropertychange",Qp),Wo=Zo=null)}function Qp(t){if(t.propertyName==="value"&&ju(Wo)){var n=[];qp(n,Wo,t,Fn(t)),Vs(O1,n)}}function M1(t,n,r){t==="focusin"?(Kp(),Zo=n,Wo=r,Zo.attachEvent("onpropertychange",Qp)):t==="focusout"&&Kp()}function V1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Wo)}function k1(t,n){if(t==="click")return ju(n)}function L1(t,n){if(t==="input"||t==="change")return ju(n)}function P1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:P1;function el(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!De.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xp(t,n){var r=Yp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yp(r)}}function $p(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$p(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ii(t.document)}return n}function ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var U1=Kn&&"documentMode"in document&&11>=document.documentMode,Na=null,tf=null,tl=null,nf=!1;function Zp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nf||Na==null||Na!==Ii(o)||(o=Na,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tl&&el(tl,o)||(tl=o,o=Cc(tf,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Na)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Da={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},sf={},Wp={};Kn&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function zr(t){if(sf[t])return sf[t];if(!Da[t])return t;var n=Da[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Wp)return sf[t]=n[r];return t}var eg=zr("animationend"),tg=zr("animationiteration"),ng=zr("animationstart"),j1=zr("transitionrun"),z1=zr("transitionstart"),B1=zr("transitioncancel"),ig=zr("transitionend"),sg=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function mi(t,n){sg.set(t,n),Ri(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Oa=0,af=0;function Bu(){for(var t=Oa,n=af=Oa=0;n<t;){var r=Yn[n];Yn[n++]=null;var o=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&rg(r,h,f)}}function qu(t,n,r,o){Yn[Oa++]=t,Yn[Oa++]=n,Yn[Oa++]=r,Yn[Oa++]=o,af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function of(t,n,r,o){return qu(t,n,r,o),Hu(t)}function Br(t,n){return qu(t,null,null,n),Hu(t)}function rg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-k(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Hu(t){if(50<Sl)throw Sl=0,gd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function q1(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,n,r,o){return new q1(t,n,r,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var r=t.alternate;return r===null?(r=Pn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ag(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")lf(t)&&(g=1);else if(typeof t=="string")g=Qb(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Pn(31,r,n,h),t.elementType=I,t.lanes=f,t;case se:return qr(r.children,h,f,n);case ee:g=8,h|=24;break;case ge:return t=Pn(12,r,n,h|2),t.elementType=ge,t.lanes=f,t;case dt:return t=Pn(13,r,n,h),t.elementType=dt,t.lanes=f,t;case Fe:return t=Pn(19,r,n,h),t.elementType=Fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:g=10;break e;case Se:g=9;break e;case $e:g=11;break e;case x:g=14;break e;case A:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Pn(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function qr(t,n,r,o){return t=Pn(7,t,o,n),t.lanes=r,t}function uf(t,n,r){return t=Pn(6,t,null,n),t.lanes=r,t}function og(t){var n=Pn(18,null,null,0);return n.stateNode=t,n}function cf(t,n,r){return n=Pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var lg=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var r=lg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ie(n)},lg.set(t,n),n)}return{value:t,source:n,stack:ie(n)}}var Va=[],ka=0,Fu=null,nl=0,$n=[],Jn=0,Us=null,ki=1,Li="";function ts(t,n){Va[ka++]=nl,Va[ka++]=Fu,Fu=t,nl=n}function ug(t,n,r){$n[Jn++]=ki,$n[Jn++]=Li,$n[Jn++]=Us,Us=t;var o=ki;t=Li;var h=32-k(o)-1;o&=~(1<<h),r+=1;var f=32-k(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,ki=1<<32-k(n)+h|r<<h|o,Li=f+t}else ki=1<<f|r<<h|o,Li=t}function hf(t){t.return!==null&&(ts(t,1),ug(t,1,0))}function ff(t){for(;t===Fu;)Fu=Va[--ka],Va[ka]=null,nl=Va[--ka],Va[ka]=null;for(;t===Us;)Us=$n[--Jn],$n[Jn]=null,Li=$n[--Jn],$n[Jn]=null,ki=$n[--Jn],$n[Jn]=null}function cg(t,n){$n[Jn++]=ki,$n[Jn++]=Li,$n[Jn++]=Us,ki=n.id,Li=n.overflow,Us=t}var sn=null,pt=null,Ge=!1,js=null,Zn=!1,df=Error(a(519));function zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Xn(n,t)),df}function hg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Lt]=t,n[$t]=o,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(r=0;r<wl.length;r++)Pe(wl[r],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),Au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Ds(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||I_(n.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||zs(t,!0)}function fg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:sn=sn.return}}function La(t){if(t!==sn)return!1;if(!Ge)return fg(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Dd(t.type,t.memoizedProps)),r=!r),r&&pt&&zs(t),fg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=P_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=P_(t)}else n===27?(n=pt,er(t.type)?(t=Ld,Ld=null,pt=t):pt=n):pt=sn?ei(t.stateNode.nextSibling):null;return!0}function Hr(){pt=sn=null,Ge=!1}function mf(){var t=js;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),js=null),t}function il(t){js===null?js=[t]:js.push(t)}var pf=M(null),Gr=null,ns=null;function Bs(t,n,r){te(pf,n._currentValue),n._currentValue=r}function is(t){t._currentValue=pf.current,Y(pf)}function gf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function yf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),gf(f.return,r,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),gf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Pa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Ln(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&yf(n,t,r,o),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Gr=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return dg(Gr,t)}function Qu(t,n){return Gr===null&&Fr(t),dg(t,n)}function dg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ns===null){if(t===null)throw Error(a(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return r}var H1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},G1=s.unstable_scheduleCallback,F1=s.unstable_NormalPriority,jt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new H1,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&G1(F1,function(){t.controller.abort()})}var rl=null,vf=0,Ua=0,ja=null;function K1(t,n){if(rl===null){var r=rl=[];vf=0,Ua=bd(),ja={status:"pending",value:void 0,then:function(o){r.push(o)}}}return vf++,n.then(mg,mg),n}function mg(){if(--vf===0&&rl!==null){ja!==null&&(ja.status="fulfilled");var t=rl;rl=null,Ua=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Q1(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var pg=G.S;G.S=function(t,n){Zy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&K1(t,n),pg!==null&&pg(t,n)};var Kr=M(null);function Ef(){var t=Kr.current;return t!==null?t:ht.pooledCache}function Yu(t,n){n===null?te(Kr,Kr.current):te(Kr,n.pool)}function gg(){var t=Ef();return t===null?null:{parent:jt._currentValue,pool:t}}var za=Error(a(460)),Tf=Error(a(474)),Xu=Error(a(542)),$u={then:function(){}};function yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _g(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ui,ui),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Eg(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Eg(t),t}throw Yr=n,za}}function Qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Yr=r,za):r}}var Yr=null;function vg(){if(Yr===null)throw Error(a(459));var t=Yr;return Yr=null,t}function Eg(t){if(t===za||t===Xu)throw Error(a(483))}var Ba=null,al=0;function Ju(t){var n=al;return al+=1,Ba===null&&(Ba=[]),_g(Ba,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tg(t){function n(L,O){if(t){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function r(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=es(L,O),L.index=0,L.sibling=null,L}function f(L,O,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,j,K){return O===null||O.tag!==6?(O=uf(j,L.mode,K),O.return=L,O):(O=h(O,j),O.return=L,O)}function C(L,O,j,K){var me=j.type;return me===se?F(L,O,j.props.children,K,j.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Qr(me)===O.type)?(O=h(O,j.props),ol(O,j),O.return=L,O):(O=Gu(j.type,j.key,j.props,null,L.mode,K),ol(O,j),O.return=L,O)}function z(L,O,j,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=cf(j,L.mode,K),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function F(L,O,j,K,me){return O===null||O.tag!==7?(O=qr(j,L.mode,K,me),O.return=L,O):(O=h(O,j),O.return=L,O)}function X(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=uf(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return j=Gu(O.type,O.key,O.props,null,L.mode,j),ol(j,O),j.return=L,j;case Z:return O=cf(O,L.mode,j),O.return=L,O;case A:return O=Qr(O),X(L,O,j)}if(bt(O)||P(O))return O=qr(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return X(L,Ju(O),j);if(O.$$typeof===Te)return X(L,Qu(L,O),j);Zu(L,O)}return null}function B(L,O,j,K){var me=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:E(L,O,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===me?C(L,O,j,K):null;case Z:return j.key===me?z(L,O,j,K):null;case A:return j=Qr(j),B(L,O,j,K)}if(bt(j)||P(j))return me!==null?null:F(L,O,j,K,null);if(typeof j.then=="function")return B(L,O,Ju(j),K);if(j.$$typeof===Te)return B(L,O,Qu(L,j),K);Zu(L,j)}return null}function H(L,O,j,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(j)||null,E(O,L,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return L=L.get(K.key===null?j:K.key)||null,C(O,L,K,me);case Z:return L=L.get(K.key===null?j:K.key)||null,z(O,L,K,me);case A:return K=Qr(K),H(L,O,j,K,me)}if(bt(K)||P(K))return L=L.get(j)||null,F(O,L,K,me,null);if(typeof K.then=="function")return H(L,O,j,Ju(K),me);if(K.$$typeof===Te)return H(L,O,j,Qu(O,K),me);Zu(O,K)}return null}function ue(L,O,j,K){for(var me=null,Ye=null,fe=O,Ne=O=0,ze=null;fe!==null&&Ne<j.length;Ne++){fe.index>Ne?(ze=fe,fe=null):ze=fe.sibling;var Xe=B(L,fe,j[Ne],K);if(Xe===null){fe===null&&(fe=ze);break}t&&fe&&Xe.alternate===null&&n(L,fe),O=f(Xe,O,Ne),Ye===null?me=Xe:Ye.sibling=Xe,Ye=Xe,fe=ze}if(Ne===j.length)return r(L,fe),Ge&&ts(L,Ne),me;if(fe===null){for(;Ne<j.length;Ne++)fe=X(L,j[Ne],K),fe!==null&&(O=f(fe,O,Ne),Ye===null?me=fe:Ye.sibling=fe,Ye=fe);return Ge&&ts(L,Ne),me}for(fe=o(fe);Ne<j.length;Ne++)ze=H(fe,L,Ne,j[Ne],K),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?Ne:ze.key),O=f(ze,O,Ne),Ye===null?me=ze:Ye.sibling=ze,Ye=ze);return t&&fe.forEach(function(rr){return n(L,rr)}),Ge&&ts(L,Ne),me}function ye(L,O,j,K){if(j==null)throw Error(a(151));for(var me=null,Ye=null,fe=O,Ne=O=0,ze=null,Xe=j.next();fe!==null&&!Xe.done;Ne++,Xe=j.next()){fe.index>Ne?(ze=fe,fe=null):ze=fe.sibling;var rr=B(L,fe,Xe.value,K);if(rr===null){fe===null&&(fe=ze);break}t&&fe&&rr.alternate===null&&n(L,fe),O=f(rr,O,Ne),Ye===null?me=rr:Ye.sibling=rr,Ye=rr,fe=ze}if(Xe.done)return r(L,fe),Ge&&ts(L,Ne),me;if(fe===null){for(;!Xe.done;Ne++,Xe=j.next())Xe=X(L,Xe.value,K),Xe!==null&&(O=f(Xe,O,Ne),Ye===null?me=Xe:Ye.sibling=Xe,Ye=Xe);return Ge&&ts(L,Ne),me}for(fe=o(fe);!Xe.done;Ne++,Xe=j.next())Xe=H(fe,L,Ne,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&fe.delete(Xe.key===null?Ne:Xe.key),O=f(Xe,O,Ne),Ye===null?me=Xe:Ye.sibling=Xe,Ye=Xe);return t&&fe.forEach(function(sS){return n(L,sS)}),Ge&&ts(L,Ne),me}function lt(L,O,j,K){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:e:{for(var me=j.key;O!==null;){if(O.key===me){if(me=j.type,me===se){if(O.tag===7){r(L,O.sibling),K=h(O,j.props.children),K.return=L,L=K;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Qr(me)===O.type){r(L,O.sibling),K=h(O,j.props),ol(K,j),K.return=L,L=K;break e}r(L,O);break}else n(L,O);O=O.sibling}j.type===se?(K=qr(j.props.children,L.mode,K,j.key),K.return=L,L=K):(K=Gu(j.type,j.key,j.props,null,L.mode,K),ol(K,j),K.return=L,L=K)}return g(L);case Z:e:{for(me=j.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){r(L,O.sibling),K=h(O,j.children||[]),K.return=L,L=K;break e}else{r(L,O);break}else n(L,O);O=O.sibling}K=cf(j,L.mode,K),K.return=L,L=K}return g(L);case A:return j=Qr(j),lt(L,O,j,K)}if(bt(j))return ue(L,O,j,K);if(P(j)){if(me=P(j),typeof me!="function")throw Error(a(150));return j=me.call(j),ye(L,O,j,K)}if(typeof j.then=="function")return lt(L,O,Ju(j),K);if(j.$$typeof===Te)return lt(L,O,Qu(L,j),K);Zu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(r(L,O.sibling),K=h(O,j),K.return=L,L=K):(r(L,O),K=uf(j,L.mode,K),K.return=L,L=K),g(L)):r(L,O)}return function(L,O,j,K){try{al=0;var me=lt(L,O,j,K);return Ba=null,me}catch(fe){if(fe===za||fe===Xu)throw fe;var Ye=Pn(29,fe,null,L.mode);return Ye.lanes=K,Ye.return=L,Ye}}}var Xr=Tg(!0),bg=Tg(!1),qs=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hu(t),rg(t,null,r),n}return qu(t,o,n,r),Hu(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,ko(t,r)}}function Af(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var wf=!1;function ul(){if(wf){var t=ja;if(t!==null)throw t}}function cl(t,n,r,o){wf=!1;var h=t.updateQueue;qs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,F=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(je&B)===B:(o&B)===B){B!==0&&B===Ua&&(wf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ye=E;B=n;var lt=r;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){X=ue.call(lt,X,B);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,B=typeof ue=="function"?ue.call(lt,X,B):ue,B==null)break e;X=w({},X,B);break e;case 2:qs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=X):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Xs|=g,t.lanes=g,t.memoizedState=X}}function Sg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Ag(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Sg(r[t],n)}var qa=M(null),Wu=M(0);function wg(t,n){t=fs,te(Wu,t),te(qa,n),fs=t|n.baseLanes}function Rf(){te(Wu,fs),te(qa,qa.current)}function Cf(){fs=Wu.current,Y(qa),Y(Wu)}var Un=M(null),Wn=null;function Fs(t){var n=t.alternate;te(Ot,Ot.current&1),te(Un,t),Wn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Wn=t)}function If(t){te(Ot,Ot.current),te(Un,t),Wn===null&&(Wn=t)}function Rg(t){t.tag===22?(te(Ot,Ot.current),te(Un,t),Wn===null&&(Wn=t)):Ks()}function Ks(){te(Ot,Ot.current),te(Un,Un.current)}function jn(t){Y(Un),Wn===t&&(Wn=null),Y(Ot)}var Ot=M(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Vd(r)||kd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,xe=null,at=null,zt=null,tc=!1,Ha=!1,$r=!1,nc=0,hl=0,Ga=null,Y1=0;function Ct(){throw Error(a(321))}function xf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ln(t[r],n[r]))return!1;return!0}function Nf(t,n,r,o,h,f){return ss=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?uy:Ff,$r=!1,f=r(o,h),$r=!1,Ha&&(f=Ig(n,r,o,h)),Cg(t),f}function Cg(t){G.H=ml;var n=at!==null&&at.next!==null;if(ss=0,zt=at=xe=null,tc=!1,hl=0,Ga=null,n)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&Ku(t)&&(Bt=!0))}function Ig(t,n,r,o){xe=t;var h=0;do{if(Ha&&(Ga=null),hl=0,Ha=!1,25<=h)throw Error(a(301));if(h+=1,zt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=cy,f=n(r,o)}while(Ha);return f}function X1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(xe.flags|=1024),n}function Df(){var t=nc!==0;return nc=0,t}function Of(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Mf(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}ss=0,zt=at=xe=null,Ha=!1,hl=nc=0,Ga=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?xe.memoizedState=zt=t:zt=zt.next=t,zt}function Mt(){if(at===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=zt===null?xe.memoizedState:zt.next;if(n!==null)zt=n,at=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},zt===null?xe.memoizedState=zt=t:zt=zt.next=t}return zt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Ga===null&&(Ga=[]),t=_g(Ga,t,n),n=xe,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?uy:Ff),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===Te)return rn(t)}throw Error(a(438,String(t)))}function Vf(t){var n=null,r=xe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ic(),xe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function rs(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=Mt();return kf(n,at,t)}function kf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(je&X)===X:(ss&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ua&&(F=!0);else if((ss&B)===B){z=z.next,B===Ua&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,xe.lanes|=B,Xs|=B;X=z.action,$r&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,xe.lanes|=X,Xs|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!Ln(f,t.memoizedState)&&(Bt=!0,F&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Lf(t){var n=Mt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function xg(t,n,r){var o=xe,h=Mt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Ln((at||h).memoizedState,r);if(g&&(h.memoizedState=r,Bt=!0),h=h.queue,jf(Og.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||zt!==null&&zt.memoizedState.tag&1){if(o.flags|=2048,Fa(9,{destroy:void 0},Dg.bind(null,o,h,r,n),null),ht===null)throw Error(a(349));f||(ss&127)!==0||Ng(o,n,r)}return r}function Ng(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=xe.updateQueue,n===null?(n=ic(),xe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Dg(t,n,r,o){n.value=r,n.getSnapshot=o,Mg(n)&&Vg(t)}function Og(t,n,r){return r(function(){Mg(n)&&Vg(t)})}function Mg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ln(t,r)}catch{return!0}}function Vg(t){var n=Br(t,2);n!==null&&In(n,t,2)}function Pf(t){var n=yn();if(typeof t=="function"){var r=t;if(t=r(),$r){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function kg(t,n,r,o){return t.baseState=r,kf(t,at,typeof o=="function"?o:rs)}function $1(t,n,r,o,h){if(lc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Lg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Lg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),C=G.S;C!==null&&C(g,E),Pg(t,n,E)}catch(z){Uf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),Pg(t,n,f)}catch(z){Uf(t,n,z)}}function Pg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ug(t,n,o)},function(o){return Uf(t,n,o)}):Ug(t,n,r)}function Ug(t,n,r){n.status="fulfilled",n.value=r,jg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Lg(t,r)))}function Uf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,jg(n),n=n.next;while(n!==o)}t.action=null}function jg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zg(t,n){return n}function Bg(t,n){if(Ge){var r=ht.formState;if(r!==null){e:{var o=xe;if(Ge){if(pt){t:{for(var h=pt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ei(h.nextSibling),o=h.data==="F!";break e}}zs(o)}o=!1}o&&(n=r[0])}}return r=yn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:n},r.queue=o,r=ay.bind(null,xe,o),o.dispatch=r,o=Pf(!1),f=Gf.bind(null,xe,!1,o.queue),o=yn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=$1.bind(null,xe,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function qg(t){var n=Mt();return Hg(n,at,t)}function Hg(t,n,r){if(n=kf(t,n,zg)[0],t=rc(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(g){throw g===za?Xu:g}else o=n;n=Mt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(xe.flags|=2048,Fa(9,{destroy:void 0},J1.bind(null,h,r),null)),[o,f,t]}function J1(t,n){t.action=n}function Gg(t){var n=Mt(),r=at;if(r!==null)return Hg(n,r,t);Mt(),n=n.memoizedState,r=Mt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Fa(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=ic(),xe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Fg(){return Mt().memoizedState}function ac(t,n,r,o){var h=yn();xe.flags|=t,h.memoizedState=Fa(1|n,{destroy:void 0},r,o===void 0?null:o)}function oc(t,n,r,o){var h=Mt();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&xf(o,at.memoizedState.deps)?h.memoizedState=Fa(n,f,r,o):(xe.flags|=t,h.memoizedState=Fa(1|n,f,r,o))}function Kg(t,n){ac(8390656,8,t,n)}function jf(t,n){oc(2048,8,t,n)}function Z1(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=ic(),xe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Qg(t){var n=Mt().memoizedState;return Z1({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Yg(t,n){return oc(4,2,t,n)}function Xg(t,n){return oc(4,4,t,n)}function $g(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jg(t,n,r){r=r!=null?r.concat([t]):null,oc(4,4,$g.bind(null,n,t),r)}function zf(){}function Zg(t,n){var r=Mt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&xf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Wg(t,n){var r=Mt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&xf(n,o[1]))return o[0];if(o=t(),$r){En(!0);try{t()}finally{En(!1)}}return r.memoizedState=[o,n],o}function Bf(t,n,r){return r===void 0||(ss&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=e_(),xe.lanes|=t,Xs|=t,r)}function ey(t,n,r,o){return Ln(r,n)?r:qa.current!==null?(t=Bf(t,r,o),Ln(t,n)||(Bt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(je&261930)===0?(Bt=!0,t.memoizedState=r):(t=e_(),xe.lanes|=t,Xs|=t,n)}function ty(t,n,r,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Gf(t,!1,n,r);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=Q1(C,o);dl(t,n,F,qn(t))}else dl(t,n,o,qn(t))}catch(X){dl(t,n,{then:function(){},status:"rejected",reason:X},qn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function W1(){}function qf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=ny(t).queue;ty(t,h,n,de,r===null?W1:function(){return iy(t),r(o)})}function ny(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function iy(t){var n=ny(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},qn())}function Hf(){return rn(Nl)}function sy(){return Mt().memoizedState}function ry(){return Mt().memoizedState}function eb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=qn();t=Hs(r);var o=Gs(n,t,r);o!==null&&(In(o,n,r),ll(o,n,r)),n={cache:_f()},t.payload=n;return}n=n.return}}function tb(t,n,r){var o=qn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},lc(t)?oy(n,r):(r=of(t,n,r,o),r!==null&&(In(r,t,o),ly(r,n,o)))}function ay(t,n,r){var o=qn();dl(t,n,r,o)}function dl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(lc(t))oy(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,g))return qu(t,n,h,0),ht===null&&Bu(),!1}catch{}if(r=of(t,n,h,o),r!==null)return In(r,t,o),ly(r,n,o),!0}return!1}function Gf(t,n,r,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(n)throw Error(a(479))}else n=of(t,r,o,2),n!==null&&In(n,t,2)}function lc(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function oy(t,n){Ha=tc=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ly(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,ko(t,r)}}var ml={readContext:rn,use:sc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};ml.useEffectEvent=Ct;var uy={readContext:rn,use:sc,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Kg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ac(4194308,4,$g.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var r=yn();n=n===void 0?null:n;var o=t();if($r){En(!0);try{t()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=yn();if(r!==void 0){var h=r(n);if($r){En(!0);try{r(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=tb.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=Pf(t);var n=t.queue,r=ay.bind(null,xe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:zf,useDeferredValue:function(t,n){var r=yn();return Bf(r,t,n)},useTransition:function(){var t=Pf(!1);return t=ty.bind(null,xe,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=xe,h=yn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ht===null)throw Error(a(349));(je&127)!==0||Ng(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Kg(Og.bind(null,o,f,t),[t]),o.flags|=2048,Fa(9,{destroy:void 0},Dg.bind(null,o,f,r,n),null),r},useId:function(){var t=yn(),n=ht.identifierPrefix;if(Ge){var r=Li,o=ki;r=(o&~(1<<32-k(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=nc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Y1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Hf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Gf.bind(null,xe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Vf,useCacheRefresh:function(){return yn().memoizedState=eb.bind(null,xe)},useEffectEvent:function(t){var n=yn(),r={impl:t};return n.memoizedState=r,function(){if((Ze&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Ff={readContext:rn,use:sc,useCallback:Zg,useContext:rn,useEffect:jf,useImperativeHandle:Jg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Wg,useReducer:rc,useRef:Fg,useState:function(){return rc(rs)},useDebugValue:zf,useDeferredValue:function(t,n){var r=Mt();return ey(r,at.memoizedState,t,n)},useTransition:function(){var t=rc(rs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:xg,useId:sy,useHostTransitionStatus:Hf,useFormState:qg,useActionState:qg,useOptimistic:function(t,n){var r=Mt();return kg(r,at,t,n)},useMemoCache:Vf,useCacheRefresh:ry};Ff.useEffectEvent=Qg;var cy={readContext:rn,use:sc,useCallback:Zg,useContext:rn,useEffect:jf,useImperativeHandle:Jg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Lf,useRef:Fg,useState:function(){return Lf(rs)},useDebugValue:zf,useDeferredValue:function(t,n){var r=Mt();return at===null?Bf(r,t,n):ey(r,at.memoizedState,t,n)},useTransition:function(){var t=Lf(rs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:xg,useId:sy,useHostTransitionStatus:Hf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,n){var r=Mt();return at!==null?kg(r,at,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:ry};cy.useEffectEvent=Qg;function Kf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=qn(),h=Hs(o);h.payload=n,r!=null&&(h.callback=r),n=Gs(t,h,o),n!==null&&(In(n,t,o),ll(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=qn(),h=Hs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Gs(t,h,o),n!==null&&(In(n,t,o),ll(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=qn(),o=Hs(r);o.tag=2,n!=null&&(o.callback=n),n=Gs(t,o,r),n!==null&&(In(n,t,r),ll(n,t,r))}};function hy(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!el(r,o)||!el(h,f):!0}function fy(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Qf.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function dy(t){zu(t)}function my(t){console.error(t)}function py(t){zu(t)}function uc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function gy(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,n,r){return r=Hs(r),r.tag=3,r.payload={element:null},r.callback=function(){uc(t,n)},r}function yy(t){return t=Hs(t),t.tag=3,t}function _y(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){gy(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){gy(n,r,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function nb(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Pa(n,r,h,!0),r=Un.current,r!==null){switch(r.tag){case 31:case 13:return Wn===null?Tc():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===$u?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),vd(t,o,h)),!1;case 22:return r.flags|=65536,o===$u?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),vd(t,o,h)),!1}throw Error(a(435,r.tag))}return vd(t,o,h),Tc(),!1}if(Ge)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==df&&(t=Error(a(422),{cause:o}),il(Xn(t,r)))):(o!==df&&(n=Error(a(423),{cause:o}),il(Xn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xn(o,r),h=Yf(t.stateNode,o,h),Af(t,h),It!==4&&(It=2)),!1;var f=Error(a(520),{cause:o});if(f=Xn(f,r),bl===null?bl=[f]:bl.push(f),It!==4&&(It=2),n===null)return!0;o=Xn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Yf(r.stateNode,o,t),Af(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=yy(h),_y(h,t,r,o),Af(r,h),!1}r=r.return}while(r!==null);return!1}var Xf=Error(a(461)),Bt=!1;function an(t,n,r,o){n.child=t===null?bg(n,null,r,o):Xr(n,t.child,r,o)}function vy(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Fr(n),o=Nf(t,n,r,g,f,h),E=Df(),t!==null&&!Bt?(Of(t,n,h),as(t,n,h)):(Ge&&E&&hf(n),n.flags|=1,an(t,n,o,h),n.child)}function Ey(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!lf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ty(t,n,f,o,h)):(t=Gu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!id(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(g,o)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=es(f,o),t.ref=n.ref,t.return=n,n.child=t}function Ty(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(el(f,o)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=o=f,id(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,as(t,n,h)}return $f(t,n,r,o,h)}function by(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Sy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?wg(n,f):Rf(),Rg(n);else return o=n.lanes=536870912,Sy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Yu(n,f.cachePool),wg(n,f),Ks(),n.memoizedState=null):(t!==null&&Yu(n,null),Rf(),Ks());return an(t,n,h,r),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Sy(t,n,r,o,h){var f=Ef();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Yu(n,null),Rf(),Rg(n),t!==null&&Pa(t,n,o,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ay(t,n,r){return Xr(n,t.child,null,r),t=cc(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function ib(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,pl(null,t);if(If(n),(t=pt)?(t=L_(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=og(t),r.return=n,n.child=r,sn=n,pt=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return cc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(If(n),h)if(n.flags&256)n.flags&=-257,n=Ay(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Bt||Pa(t,n,r,!1),h=(r&t.childLanes)!==0,Bt||h){if(o=ht,o!==null&&(g=Lo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Br(t,g),In(o,t,g),Xf;Tc(),n=Ay(t,n,r)}else t=f.treeContext,pt=ei(g.nextSibling),sn=n,Ge=!0,js=null,Zn=!1,t!==null&&cg(n,t),n=cc(n,o),n.flags|=4096;return n}return t=es(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function $f(t,n,r,o,h){return Fr(n),r=Nf(t,n,r,o,void 0,h),o=Df(),t!==null&&!Bt?(Of(t,n,h),as(t,n,h)):(Ge&&o&&hf(n),n.flags|=1,an(t,n,r,h),n.child)}function wy(t,n,r,o,h,f){return Fr(n),n.updateQueue=null,r=Ig(n,o,r,h),Cg(t),o=Df(),t!==null&&!Bt?(Of(t,n,f),as(t,n,f)):(Ge&&o&&hf(n),n.flags|=1,an(t,n,r,f),n.child)}function Ry(t,n,r,o,h){if(Fr(n),n.stateNode===null){var f=Ma,g=r.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},bf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?rn(g):Ma,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Kf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Qf.enqueueReplaceState(f,f.state,null),cl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Jr(r,E);f.props=C;var z=f.context,F=r.contextType;g=Ma,typeof F=="object"&&F!==null&&(g=rn(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&fy(n,f,o,g),qs=!1;var B=n.memoizedState;f.state=B,cl(n,o,f,h),ul(),z=n.memoizedState,E||B!==z||qs?(typeof X=="function"&&(Kf(n,r,X,o),z=n.memoizedState),(C=qs||hy(n,r,C,o,B,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Sf(t,n),g=n.memoizedProps,F=Jr(r,g),f.props=F,X=n.pendingProps,B=f.context,z=r.contextType,C=Ma,typeof z=="object"&&z!==null&&(C=rn(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&fy(n,f,o,C),qs=!1,B=n.memoizedState,f.state=B,cl(n,o,f,h),ul();var H=n.memoizedState;g!==X||B!==H||qs||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(Kf(n,r,E,o),H=n.memoizedState),(F=qs||hy(n,r,F,o,B,H,C)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,r,h)):an(t,n,r,h),n.memoizedState=f.state,t=n.child):t=as(t,n,h),t}function Cy(t,n,r,o){return Hr(),n.flags|=256,an(t,n,r,o),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:gg()}}function Wf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function Iy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Fs(n):Ks(),(t=pt)?(t=L_(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=og(t),r.return=n,n.child=r,sn=n,pt=null)):t=null,t===null)throw zs(n);return kd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ks(),h=n.mode,E=fc({mode:"hidden",children:E},h),o=qr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Zf(r),o.childLanes=Wf(t,g,r),n.memoizedState=Jf,pl(null,o)):(Fs(n),ed(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Fs(n),n.flags&=-257,n=td(t,n,r)):n.memoizedState!==null?(Ks(),n.child=t.child,n.flags|=128,n=null):(Ks(),E=o.fallback,h=n.mode,o=fc({mode:"visible",children:o.children},h),E=qr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Xr(n,t.child,null,r),o=n.child,o.memoizedState=Zf(r),o.childLanes=Wf(t,g,r),n.memoizedState=Jf,n=pl(null,o));else if(Fs(n),kd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,il({value:o,source:null,stack:null}),n=td(t,n,r)}else if(Bt||Pa(t,n,r,!1),g=(r&t.childLanes)!==0,Bt||g){if(g=ht,g!==null&&(o=Lo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Br(t,o),In(g,t,o),Xf;Vd(E)||Tc(),n=td(t,n,r)}else Vd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=ei(E.nextSibling),sn=n,Ge=!0,js=null,Zn=!1,t!==null&&cg(n,t),n=ed(n,o.children),n.flags|=4096);return n}return h?(Ks(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=es(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=es(z,E):(E=qr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,pl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Zf(r):(h=E.cachePool,h!==null?(C=jt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=gg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Wf(t,g,r),n.memoizedState=Jf,pl(t.child,o)):(Fs(n),r=t.child,t=r.sibling,r=es(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function ed(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=Pn(22,t,null,n),t.lanes=0,t}function td(t,n,r){return Xr(n,t.child,null,r),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),gf(t.return,n,r)}function nd(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Ny(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ot.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,te(Ot,g),an(t,n,o,r),o=Ge?nl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,r,n);else if(t.tag===19)xy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&ec(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),nd(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}nd(n,!0,r,null,f,o);break;case"together":nd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Xs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Pa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=es(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function sb(t,n,r){switch(n.tag){case 3:At(n,n.stateNode.containerInfo),Bs(n,jt,t.memoizedState.cache),Hr();break;case 27:case 5:si(n);break;case 4:At(n,n.stateNode.containerInfo);break;case 10:Bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,If(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Iy(t,n,r):(Fs(n),t=as(t,n,r),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Pa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Ny(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Ot,Ot.current),o)break;return null;case 22:return n.lanes=0,by(t,n,r,n.pendingProps);case 24:Bs(n,jt,t.memoizedState.cache)}return as(t,n,r)}function Dy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!id(t,r)&&(n.flags&128)===0)return Bt=!1,sb(t,n,r);Bt=(t.flags&131072)!==0}else Bt=!1,Ge&&(n.flags&1048576)!==0&&ug(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Qr(n.elementType),n.type=t,typeof t=="function")lf(t)?(o=Jr(t,o),n.tag=1,n=Ry(null,n,t,o,r)):(n.tag=0,n=$f(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===$e){n.tag=11,n=vy(null,n,t,o,r);break e}else if(h===x){n.tag=14,n=Ey(null,n,t,o,r);break e}}throw n=mt(t)||t,Error(a(306,n,""))}}return n;case 0:return $f(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Jr(o,n.pendingProps),Ry(t,n,o,h,r);case 3:e:{if(At(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Sf(t,n),cl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Bs(n,jt,o),o!==f.cache&&yf(n,[jt],r,!0),ul(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cy(t,n,o,r);break e}else if(o!==h){h=Xn(Error(a(424)),n),il(h),n=Cy(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=ei(t.firstChild),sn=n,Ge=!0,js=null,Zn=!0,r=bg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),o===h){n=as(t,n,r);break e}an(t,n,o,r)}n=n.child}return n;case 26:return hc(t,n),t===null?(r=q_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,o=Ic(Ae.current).createElement(r),o[Lt]=n,o[$t]=t,on(o,r,t),Pt(o),n.stateNode=o):n.memoizedState=q_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return si(n),t===null&&Ge&&(o=n.stateNode=j_(n.type,n.pendingProps,Ae.current),sn=n,Zn=!0,h=pt,er(n.type)?(Ld=h,pt=ei(o.firstChild)):pt=h),an(t,n,n.pendingProps.children,r),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=pt)&&(o=Vb(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,sn=n,pt=ei(o.firstChild),Zn=!1,h=!0):h=!1),h||zs(n)),si(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Dd(h,f)?o=null:g!==null&&Dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Nf(t,n,X1,null,null,r),Nl._currentValue=h),hc(t,n),an(t,n,o,r),n.child;case 6:return t===null&&Ge&&((t=r=pt)&&(r=kb(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,sn=n,pt=null,t=!0):t=!1),t||zs(n)),null;case 13:return Iy(t,n,r);case 4:return At(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Xr(n,null,o,r):an(t,n,o,r),n.child;case 11:return vy(t,n,n.type,n.pendingProps,r);case 7:return an(t,n,n.pendingProps,r),n.child;case 8:return an(t,n,n.pendingProps.children,r),n.child;case 12:return an(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Bs(n,n.type,o.value),an(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=rn(h),o=o(h),n.flags|=1,an(t,n,o,r),n.child;case 14:return Ey(t,n,n.type,n.pendingProps,r);case 15:return Ty(t,n,n.type,n.pendingProps,r);case 19:return Ny(t,n,r);case 31:return ib(t,n,r);case 22:return by(t,n,r,n.pendingProps);case 24:return Fr(n),o=rn(jt),t===null?(h=Ef(),h===null&&(h=ht,f=_f(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},bf(n),Bs(n,jt,h)):((t.lanes&r)!==0&&(Sf(t,n),cl(n,null,null,r),ul()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Bs(n,jt,o)):(o=f.cache,Bs(n,jt,o),o!==h.cache&&yf(n,[jt],r,!0))),an(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function sd(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(s_())t.flags|=8192;else throw Yr=$u,Tf}else t.flags&=-16777217}function Oy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(n))if(s_())t.flags|=8192;else throw Yr=$u,Tf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vu():536870912,t.lanes|=n,Xa|=n)}function gl(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function rb(t,n,r){var o=n.pendingProps;switch(ff(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),is(jt),ut(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(La(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mf())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(gt(n),Oy(n,f)):(gt(n),sd(n,h,null,o,r))):f?f!==t.memoizedState?(os(n),gt(n),Oy(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&os(n),gt(n),sd(n,h,t,o,r)),null;case 27:if(Cs(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}t=ae.current,La(n)?hg(n):(t=j_(h,o,r),n.stateNode=t,os(n))}return gt(n),null;case 5:if(Cs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(f=ae.current,La(n))hg(n);else{var g=Ic(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Lt]=n,f[$t]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(on(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&os(n)}}return gt(n),sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,La(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||I_(t.nodeValue,r)),t||zs(n,!0)}else t=Ic(t).createTextNode(o),t[Lt]=n,n.stateNode=t}return gt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=La(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else r=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),dc(n,n.updateQueue),gt(n),null);case 4:return ut(),t===null&&Rd(n.stateNode.containerInfo),gt(n),null;case 10:return is(n.type),gt(n),null;case 19:if(Y(Ot),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)gl(o,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,gl(o,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)ag(r,t),r=r.sibling;return te(Ot,Ot.current&1|2),Ge&&ts(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&tn()>_c&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return gt(n),null}else 2*tn()-o.renderingStartTime>_c&&r!==536870912&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,r=Ot.current,te(Ot,h?r&1|2:r&1),Ge&&ts(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return jn(n),Cf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),r=n.updateQueue,r!==null&&dc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),is(jt),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ab(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(jt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ot),null;case 4:return ut(),null;case 10:return is(n.type),null;case 22:case 23:return jn(n),Cf(),t!==null&&Y(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(jt),null;case 25:return null;default:return null}}function My(t,n){switch(ff(n),n.tag){case 3:is(jt),ut();break;case 26:case 27:case 5:Cs(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Y(Ot);break;case 10:is(n.type);break;case 22:case 23:jn(n),Cf(),t!==null&&Y(Kr);break;case 24:is(jt)}}function yl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){it(n,n.return,E)}}function Qs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=r,z=E;try{z()}catch(F){it(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){it(n,n.return,F)}}function Vy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Ag(n,r)}catch(o){it(t,t.return,o)}}}function ky(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){it(t,n,o)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){it(t,n,h)}}function Pi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){it(t,n,h)}else r.current=null}function Ly(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){it(t,t.return,h)}}function rd(t,n,r){try{var o=t.stateNode;Ib(o,t.type,r,n),o[$t]=n}catch(h){it(t,t.return,h)}}function Py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ui));else if(o!==4&&(o===27&&er(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,r),t=t.sibling;t!==null;)od(t,n,r),t=t.sibling}function mc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&er(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(mc(t,n,r),t=t.sibling;t!==null;)mc(t,n,r),t=t.sibling}function Uy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,o,r),n[Lt]=t,n[$t]=r}catch(f){it(t,t.return,f)}}var ls=!1,qt=!1,ld=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function ob(t,n){if(t=t.containerInfo,xd=kc,t=Jp(t),ef(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,C=-1,z=0,F=0,X=t,B=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===r&&++z===h&&(E=g),B===f&&++F===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nd={focusedElem:t,selectionRange:r},kc=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ue=Jr(r.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){it(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Md(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function zy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:cs(t,r),o&4&&yl(5,r);break;case 1:if(cs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){it(r,r.return,g)}else{var h=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){it(r,r.return,g)}}o&64&&Vy(r),o&512&&_l(r,r.return);break;case 3:if(cs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ag(t,n)}catch(g){it(r,r.return,g)}}break;case 27:n===null&&o&4&&Uy(r);case 26:case 5:cs(t,r),n===null&&o&4&&Ly(r),o&512&&_l(r,r.return);break;case 12:cs(t,r);break;case 31:cs(t,r),o&4&&Hy(t,r);break;case 13:cs(t,r),o&4&&Gy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=gb.bind(null,r),Lb(t,r))));break;case 22:if(o=r.memoizedState!==null||ls,!o){n=n!==null&&n.memoizedState!==null||qt,h=ls;var f=qt;ls=o,(qt=n)&&!f?hs(t,r,(r.subtreeFlags&8772)!==0):cs(t,r),ls=h,qt=f}break;case 30:break;default:cs(t,r)}}function By(t){var n=t.alternate;n!==null&&(t.alternate=null,By(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,An=!1;function us(t,n,r){for(r=r.child;r!==null;)qy(t,n,r),r=r.sibling}function qy(t,n,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Mn,r)}catch{}switch(r.tag){case 26:qt||Pi(r,n),us(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:qt||Pi(r,n);var o=Tt,h=An;er(r.type)&&(Tt=r.stateNode,An=!1),us(t,n,r),Cl(r.stateNode),Tt=o,An=h;break;case 5:qt||Pi(r,n);case 6:if(o=Tt,h=An,Tt=null,us(t,n,r),Tt=o,An=h,Tt!==null)if(An)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(r.stateNode)}catch(f){it(r,n,f)}else try{Tt.removeChild(r.stateNode)}catch(f){it(r,n,f)}break;case 18:Tt!==null&&(An?(t=Tt,V_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),io(t)):V_(Tt,r.stateNode));break;case 4:o=Tt,h=An,Tt=r.stateNode.containerInfo,An=!0,us(t,n,r),Tt=o,An=h;break;case 0:case 11:case 14:case 15:Qs(2,r,n),qt||Qs(4,r,n),us(t,n,r);break;case 1:qt||(Pi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ky(r,n,o)),us(t,n,r);break;case 21:us(t,n,r);break;case 22:qt=(o=qt)||r.memoizedState!==null,us(t,n,r),qt=o;break;default:us(t,n,r)}}function Hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(r){it(n,n.return,r)}}}function Gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(r){it(n,n.return,r)}}function lb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jy),n;default:throw Error(a(435,t.tag))}}function pc(t,n){var r=lb(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=yb.bind(null,t,o);o.then(h,h)}})}function wn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){Tt=E.stateNode,An=!1;break e}break;case 5:Tt=E.stateNode,An=!1;break e;case 3:case 4:Tt=E.stateNode.containerInfo,An=!0;break e}E=E.return}if(Tt===null)throw Error(a(160));qy(f,g,h),Tt=null,An=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fy(n,t),n=n.sibling}var pi=null;function Fy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),o&4&&(Qs(3,t,t.return),yl(3,t),Qs(5,t,t.return));break;case 1:wn(n,t),Rn(t),o&512&&(qt||r===null||Pi(r,r.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=pi;if(wn(n,t),Rn(t),o&512&&(qt||r===null||Pi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,o,r),f[Lt]=t,Pt(f),o=f;break e;case"link":var g=F_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),on(f,o,r),h.head.appendChild(f);break;case"meta":if(g=F_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(o),on(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Lt]=t,Pt(f),o=f}t.stateNode=o}else K_(h,t.type,t.stateNode);else t.stateNode=G_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?K_(h,t.type,t.stateNode):G_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&rd(t,t.memoizedProps,r.memoizedProps)}break;case 27:wn(n,t),Rn(t),o&512&&(qt||r===null||Pi(r,r.return)),r!==null&&o&4&&rd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(wn(n,t),Rn(t),o&512&&(qt||r===null||Pi(r,r.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(ue){it(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,r!==null?r.memoizedProps:h)),o&1024&&(ld=!0);break;case 6:if(wn(n,t),Rn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ue){it(t,t.return,ue)}}break;case 3:if(Dc=null,h=pi,pi=xc(n.containerInfo),wn(n,t),pi=h,Rn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(ue){it(t,t.return,ue)}ld&&(ld=!1,Ky(t));break;case 4:o=pi,pi=xc(t.stateNode.containerInfo),wn(n,t),Rn(t),pi=o;break;case 12:wn(n,t),Rn(t);break;case 31:wn(n,t),Rn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(yc=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,z=ls,F=qt;if(ls=z||h,qt=F||C,wn(n,t),qt=F,ls=z,Rn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||ls||qt||Zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){it(C,C.return,ue)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){it(C,C.return,ue)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?k_(H,!0):k_(C.stateNode,!1)}catch(ue){it(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,pc(t,r))));break;case 19:wn(n,t),Rn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Py(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=ad(t);mc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Sn(g,""),r.flags&=-33);var E=ad(t);mc(t,E,g);break;case 3:case 4:var C=r.stateNode.containerInfo,z=ad(t);od(t,z,C);break;default:throw Error(a(161))}}catch(F){it(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zy(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Zr(n);break;case 1:Pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ky(n,n.return,r),Zr(n);break;case 27:Cl(n.stateNode);case 26:case 5:Pi(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function hs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,r),yl(4,f);break;case 1:if(hs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){it(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Sg(C[h],E)}catch(z){it(o,o.return,z)}}r&&g&64&&Vy(f),_l(f,f.return);break;case 27:Uy(f);case 26:case 5:hs(h,f,r),r&&o===null&&g&4&&Ly(f),_l(f,f.return);break;case 12:hs(h,f,r);break;case 31:hs(h,f,r),r&&g&4&&Hy(h,f);break;case 13:hs(h,f,r),r&&g&4&&Gy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,r),_l(f,f.return);break;case 30:break;default:hs(h,f,r)}n=n.sibling}}function ud(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&sl(r))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function gi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qy(t,n,r,o),n=n.sibling}function Qy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n,r,o),h&2048&&yl(9,n);break;case 1:gi(t,n,r,o);break;case 3:gi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){gi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(n,n.return,C)}}else gi(t,n,r,o);break;case 31:gi(t,n,r,o);break;case 13:gi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?gi(t,n,r,o):vl(t,n):f._visibility&2?gi(t,n,r,o):(f._visibility|=2,Ka(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ud(g,n);break;case 24:gi(t,n,r,o),h&2048&&cd(n.alternate,n);break;default:gi(t,n,r,o)}}function Ka(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,E,C,h),yl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ka(f,g,E,C,h):vl(f,g):(F._visibility|=2,Ka(f,g,E,C,h)),h&&z&2048&&ud(g.alternate,g);break;case 24:Ka(f,g,E,C,h),h&&z&2048&&cd(g.alternate,g);break;default:Ka(f,g,E,C,h)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:vl(r,o),h&2048&&ud(o.alternate,o);break;case 24:vl(r,o),h&2048&&cd(o.alternate,o);break;default:vl(r,o)}n=n.sibling}}var El=8192;function Qa(t,n,r){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Yy(t,n,r),t=t.sibling}function Yy(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&El&&t.memoizedState!==null&&Yb(r,pi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var o=pi;pi=xc(t.stateNode.containerInfo),Qa(t,n,r),pi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,Qa(t,n,r),El=o):Qa(t,n,r));break;default:Qa(t,n,r)}}function Xy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zt=o,Jy(o,t)}Xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$y(t),t=t.sibling}function $y(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):Tl(t);break;default:Tl(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zt=o,Jy(o,t)}Xy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),gc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function Jy(t,n){for(;Zt!==null;){var r=Zt;switch(r.tag){case 0:case 11:case 15:Qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Zt=o;else e:for(r=t;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(By(o),o===r){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var ub={getCacheForType:function(t){var n=rn(jt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return rn(jt).controller.signal}},cb=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,Le=null,je=0,nt=0,zn=null,Ys=!1,Ya=!1,hd=!1,fs=0,It=0,Xs=0,Wr=0,fd=0,Bn=0,Xa=0,bl=null,Cn=null,dd=!1,yc=0,Zy=0,_c=1/0,vc=null,$s=null,Qt=0,Js=null,$a=null,ds=0,md=0,pd=null,Wy=null,Sl=0,gd=null;function qn(){return(Ze&2)!==0&&je!==0?je&-je:G.T!==null?bd():Eu()}function e_(){if(Bn===0)if((je&536870912)===0||Ge){var t=vt;vt<<=1,(vt&3932160)===0&&(vt=262144),Bn=t}else Bn=536870912;return t=Un.current,t!==null&&(t.flags|=32),Bn}function In(t,n,r){(t===ht&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Zs(t,je,Bn,!1)),Cr(t,r),((Ze&2)===0||t!==ht)&&(t===ht&&((Ze&2)===0&&(Wr|=r),It===4&&Zs(t,je,Bn,!1)),Ui(t))}function t_(t,n,r){if((Ze&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Tn(t,n),h=o?db(t,n):_d(t,n,!0),f=o;do{if(h===0){Ya&&!o&&Zs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!hb(r)){h=_d(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=bl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ja(E,g).flags|=256),g=_d(E,g,!1),g!==2){if(hd&&!C){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),Zs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,Bn,!Ys);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=yc+300-tn(),10<h)){if(Zs(o,n,Bn,!Ys),Rt(o,0,!0)!==0)break e;ds=n,o.timeoutHandle=O_(n_.bind(null,o,r,Cn,vc,dd,n,Bn,Wr,Xa,Ys,f,"Throttled",-0,0),h);break e}n_(o,r,Cn,vc,dd,n,Bn,Wr,Xa,Ys,f,null,-0,0)}}break}while(!0);Ui(t)}function n_(t,n,r,o,h,f,g,E,C,z,F,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Yy(n,f,X);var ue=(f&62914560)===f?yc-tn():(f&4194048)===f?Zy-tn():0;if(ue=Xb(X,ue),ue!==null){ds=f,t.cancelPendingCommit=ue(c_.bind(null,t,n,f,r,o,h,g,E,C,F,X,null,B,H)),Zs(t,f,g,!z);return}}c_(t,n,f,r,o,h,g,E,C)}function hb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,r,o){n&=~fd,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-k(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Ir(t,r,n)}function Ec(){return(Ze&6)===0?(Al(0),!1):!0}function yd(){if(Le!==null){if(nt===0)var t=Le.return;else t=Le,ns=Gr=null,Mf(t),Ba=null,al=0,t=Le;for(;t!==null;)My(t.alternate,t),t=t.return;Le=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Db(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ds=0,yd(),ht=t,Le=r=es(t.current,null),je=n,nt=0,zn=null,Ys=!1,Ya=Tn(t,n),hd=!1,Xa=Bn=fd=Wr=Xs=It=0,Cn=bl=null,dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-k(o),f=1<<h;n|=t[h],o&=~f}return fs=n,Bu(),r}function i_(t,n){xe=null,G.H=ml,n===za||n===Xu?(n=vg(),nt=3):n===Tf?(n=vg(),nt=4):nt=n===Xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Le===null&&(It=1,uc(t,Xn(n,t.current)))}function s_(){var t=Un.current;return t===null?!0:(je&4194048)===je?Wn===null:(je&62914560)===je||(je&536870912)!==0?t===Wn:!1}function r_(){var t=G.H;return G.H=ml,t===null?ml:t}function a_(){var t=G.A;return G.A=ub,t}function Tc(){It=4,Ys||(je&4194048)!==je&&Un.current!==null||(Ya=!0),(Xs&134217727)===0&&(Wr&134217727)===0||ht===null||Zs(ht,je,Bn,!1)}function _d(t,n,r){var o=Ze;Ze|=2;var h=r_(),f=a_();(ht!==t||je!==n)&&(vc=null,Ja(t,n)),n=!1;var g=It;e:do try{if(nt!==0&&Le!==null){var E=Le,C=zn;switch(nt){case 8:yd(),g=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var z=nt;if(nt=0,zn=null,Za(t,E,C,z),r&&Ya){g=0;break e}break;default:z=nt,nt=0,zn=null,Za(t,E,C,z)}}fb(),g=It;break}catch(F){i_(t,F)}while(!0);return n&&t.shellSuspendCounter++,ns=Gr=null,Ze=o,G.H=h,G.A=f,Le===null&&(ht=null,je=0,Bu()),g}function fb(){for(;Le!==null;)o_(Le)}function db(t,n){var r=Ze;Ze|=2;var o=r_(),h=a_();ht!==t||je!==n?(vc=null,_c=tn()+500,Ja(t,n)):Ya=Tn(t,n);e:do try{if(nt!==0&&Le!==null){n=Le;var f=zn;t:switch(nt){case 1:nt=0,zn=null,Za(t,n,f,1);break;case 2:case 9:if(yg(f)){nt=0,zn=null,l_(n);break}n=function(){nt!==2&&nt!==9||ht!==t||(nt=7),Ui(t)},f.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:yg(f)?(nt=0,zn=null,l_(n)):(nt=0,zn=null,Za(t,n,f,7));break;case 5:var g=null;switch(Le.tag){case 26:g=Le.memoizedState;case 5:case 27:var E=Le;if(g?Q_(g):E.stateNode.complete){nt=0,zn=null;var C=E.sibling;if(C!==null)Le=C;else{var z=E.return;z!==null?(Le=z,bc(z)):Le=null}break t}}nt=0,zn=null,Za(t,n,f,5);break;case 6:nt=0,zn=null,Za(t,n,f,6);break;case 8:yd(),It=6;break e;default:throw Error(a(462))}}mb();break}catch(F){i_(t,F)}while(!0);return ns=Gr=null,G.H=o,G.A=h,Ze=r,Le!==null?0:(ht=null,je=0,Bu(),It)}function mb(){for(;Le!==null&&!Vo();)o_(Le)}function o_(t){var n=Dy(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?bc(t):Le=n}function l_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=wy(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=wy(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:Mf(n);default:My(r,n),n=Le=ag(n,fs),n=Dy(r,n,fs)}t.memoizedProps=t.pendingProps,n===null?bc(t):Le=n}function Za(t,n,r,o){ns=Gr=null,Mf(n),Ba=null,al=0;var h=n.return;try{if(nb(t,h,n,r,je)){It=1,uc(t,Xn(r,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;It=1,uc(t,Xn(r,t.current)),Le=null;return}n.flags&32768?(Ge||o===1?t=!0:Ya||(je&536870912)!==0?t=!1:(Ys=t=!0,(o===2||o===9||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),u_(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){u_(n,Ys);return}t=n.return;var r=rb(n.alternate,n,fs);if(r!==null){Le=r;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);It===0&&(It=5)}function u_(t,n){do{var r=ab(t.alternate,t);if(r!==null){r.flags&=32767,Le=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=r}while(t!==null);It=6,Le=null}function c_(t,n,r,o,h,f,g,E,C){t.cancelPendingCommit=null;do Sc();while(Qt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=af,$h(t,r,f,g,E,C),t===ht&&(Le=ht=null,je=0),$a=n,Js=t,ds=r,md=f,pd=h,Wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_b(Ei,function(){return p_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,g=Ze,Ze|=4;try{ob(t,n,r)}finally{Ze=g,ne.p=h,G.T=o}}Qt=1,h_(),f_(),d_()}}function h_(){if(Qt===1){Qt=0;var t=Js,n=$a,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Ze;Ze|=4;try{Fy(n,t);var f=Nd,g=Jp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&$p(E.ownerDocument.documentElement,E)){if(C!==null&&ef(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ue=E.textContent.length,ye=Math.min(C.start,ue),lt=C.end===void 0?ye:Math.min(C.end,ue);!H.extend&&ye>lt&&(g=lt,lt=ye,ye=g);var L=Xp(E,ye),O=Xp(E,lt);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),ye>lt?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}kc=!!xd,Nd=xd=null}finally{Ze=h,ne.p=o,G.T=r}}t.current=n,Qt=2}}function f_(){if(Qt===2){Qt=0;var t=Js,n=$a,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Ze;Ze|=4;try{zy(t,n.alternate,n)}finally{Ze=h,ne.p=o,G.T=r}}Qt=3}}function d_(){if(Qt===4||Qt===3){Qt=0,da();var t=Js,n=$a,r=ds,o=Wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,$a=Js=null,m_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),$i(r),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(ds&3)!==0&&Sc(),Ui(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===gd?Sl++:(Sl=0,gd=t):Sl=0,Al(0)}}function m_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function Sc(){return h_(),f_(),d_(),p_()}function p_(){if(Qt!==5)return!1;var t=Js,n=md;md=0;var r=$i(ds),o=G.T,h=ne.p;try{ne.p=32>r?32:r,G.T=null,r=pd,pd=null;var f=Js,g=ds;if(Qt=0,$a=Js=null,ds=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,$y(f.current),Qy(f,f.current,g,r),Ze=E,Al(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{ne.p=h,G.T=o,m_(t,n)}}function g_(t,n,r){n=Xn(r,n),n=Yf(t.stateNode,n,2),t=Gs(t,n,2),t!==null&&(Cr(t,2),Ui(t))}function it(t,n,r){if(t.tag===3)g_(t,t,r);else for(;n!==null;){if(n.tag===3){g_(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=Xn(r,t),r=yy(2),o=Gs(n,r,2),o!==null&&(_y(r,o,n,t),Cr(o,2),Ui(o));break}}n=n.return}}function vd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new cb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(hd=!0,h.add(r),t=pb.bind(null,t,n,r),n.then(t,t))}function pb(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ht===t&&(je&r)===r&&(It===4||It===3&&(je&62914560)===je&&300>tn()-yc?(Ze&2)===0&&Ja(t,0):fd|=r,Xa===je&&(Xa=0)),Ui(t)}function y_(t,n){n===0&&(n=vu()),t=Br(t,n),t!==null&&(Cr(t,n),Ui(t))}function gb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),y_(t,r)}function yb(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),y_(t,r)}function _b(t,n){return ct(t,n)}var Ac=null,Wa=null,Ed=!1,wc=!1,Td=!1,Ws=0;function Ui(t){t!==Wa&&t.next===null&&(Wa===null?Ac=Wa=t:Wa=Wa.next=t),wc=!0,Ed||(Ed=!0,Eb())}function Al(t,n){if(!Td&&wc){Td=!0;do for(var r=!1,o=Ac;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-k(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,T_(o,f))}else f=je,f=Rt(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Tn(o,f)||(r=!0,T_(o,f));o=o.next}while(r);Td=!1}}function vb(){__()}function __(){wc=Ed=!1;var t=0;Ws!==0&&Nb()&&(t=Ws);for(var n=tn(),r=null,o=Ac;o!==null;){var h=o.next,f=v_(o,n);f===0?(o.next=null,r===null?Ac=h:r.next=h,h===null&&(Wa=r)):(r=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}Qt!==0&&Qt!==5||Al(t),Ws!==0&&(Ws=0)}function v_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-k(f),E=1<<g,C=h[g];C===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Is(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ht,r=je,r=Rt(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ai(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Tn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&ai(o),$i(r)){case 2:case 8:r=Rr;break;case 32:r=Ei;break;case 268435456:r=pa;break;default:r=Ei}return o=E_.bind(null,t),r=ct(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&ai(o),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Sc()&&t.callbackNode!==r)return null;var o=je;return o=Rt(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(t_(t,o,n),v_(t,tn()),t.callbackNode!=null&&t.callbackNode===r?E_.bind(null,t):null)}function T_(t,n){if(Sc())return null;t_(t,n,!0)}function Eb(){Ob(function(){(Ze&6)!==0?ct(wr,vb):__()})}function bd(){if(Ws===0){var t=Ua;t===0&&(t=We,We<<=1,(We&261888)===0&&(We=256)),Ws=t}return Ws}function b_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function S_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Tb(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=b_((h[$t]||null).action),g=o.submitter;g&&(n=(n=g[$t]||null)?b_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var C=g?S_(h,g):new FormData(h);qf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?S_(h,g):new FormData(h),qf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Sd=0;Sd<rf.length;Sd++){var Ad=rf[Sd],bb=Ad.toLowerCase(),Sb=Ad[0].toUpperCase()+Ad.slice(1);mi(bb,"on"+Sb)}mi(eg,"onAnimationEnd"),mi(tg,"onAnimationIteration"),mi(ng,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(j1,"onTransitionRun"),mi(z1,"onTransitionStart"),mi(B1,"onTransitionCancel"),mi(ig,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function A_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){zu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){zu(F)}h.currentTarget=null,f=C}}}}function Pe(t,n){var r=n[_a];r===void 0&&(r=n[_a]=new Set);var o=t+"__bubble";r.has(o)||(w_(n,t,2,!1),r.add(o))}function wd(t,n,r){var o=0;n&&(o|=4),w_(r,t,o,n)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Rc]){t[Rc]=!0,Po.forEach(function(r){r!=="selectionchange"&&(Ab.has(r)||wd(r,!1,t),wd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rc]||(n[Rc]=!0,wd("selectionchange",!1,n))}}function w_(t,n,r,o){switch(ev(n)){case 2:var h=Zb;break;case 8:h=Wb;break;default:h=Bd}r=h.bind(null,n,r,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Cd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ai(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Vs(function(){var z=f,F=Fn(r),X=[];e:{var B=sg.get(t);if(B!==void 0){var H=Di,ue=t;switch(t){case"keypress":if(kr(r)===0)break e;case"keydown":case"keyup":H=Pu;break;case"focusin":ue="focus",H=Pr;break;case"focusout":ue="blur",H=Pr;break;case"beforeblur":case"afterblur":H=Pr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case eg:case tg:case ng:H=Nu;break;case ig:H=T;break;case"scroll":case"scrollend":H=Xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wi;break;case"toggle":case"beforetoggle":H=Ie}var ye=(n&4)!==0,lt=!ye&&(t==="scroll"||t==="scrollend"),L=ye?B!==null?B+"Capture":null:B;ye=[];for(var O=z,j;O!==null;){var K=O;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||L===null||(K=ci(O,L),K!=null&&ye.push(Rl(O,K,j))),lt)break;O=O.return}0<ye.length&&(B=new H(B,ue,null,r,F),X.push({event:B,listeners:ye}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Ko&&(ue=r.relatedTarget||r.fromElement)&&(Ai(ue)||ue[bi]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ue=r.relatedTarget||r.toElement,H=z,ue=ue?Ai(ue):null,ue!==null&&(lt=c(ue),ye=ue.tag,ue!==lt||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(ye=$o,K="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Wi,K="onPointerLeave",L="onPointerEnter",O="pointer"),lt=H==null?B:Vn(H),j=ue==null?B:Vn(ue),B=new ye(K,O+"leave",H,r,F),B.target=lt,B.relatedTarget=j,K=null,Ai(F)===z&&(ye=new ye(L,O+"enter",ue,r,F),ye.target=j,ye.relatedTarget=lt,K=ye),lt=K,H&&ue)t:{for(ye=wb,L=H,O=ue,j=0,K=L;K;K=ye(K))j++;K=0;for(var me=O;me;me=ye(me))K++;for(;0<j-K;)L=ye(L),j--;for(;0<K-j;)O=ye(O),K--;for(;j--;){if(L===O||O!==null&&L===O.alternate){ye=L;break t}L=ye(L),O=ye(O)}ye=null}else ye=null;H!==null&&R_(X,B,H,ye,!1),ue!==null&&lt!==null&&R_(X,lt,ue,ye,!0)}}e:{if(B=z?Vn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ye=Hp;else if(Bp(B))if(Gp)Ye=L1;else{Ye=V1;var fe=M1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ba(z.elementType)&&(Ye=Hp):Ye=k1;if(Ye&&(Ye=Ye(t,z))){qp(X,Ye,r,F);break e}fe&&fe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(fe=z?Vn(z):window,t){case"focusin":(Bp(fe)||fe.contentEditable==="true")&&(Na=fe,tf=z,tl=null);break;case"focusout":tl=tf=Na=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Zp(X,r,F);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":Zp(X,r,F)}var Ne;if(Je)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else xa?Ur(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Vi&&r.locale!=="ko"&&(xa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&xa&&(Ne=Yo()):(Ni=F,Qo="value"in Ni?Ni.value:Ni.textContent,xa=!0)),fe=Cc(z,ze),0<fe.length&&(ze=new Mi(ze,t,null,r,F),X.push({event:ze,listeners:fe}),Ne?ze.data=Ne:(Ne=Ia(r),Ne!==null&&(ze.data=Ne)))),(Ne=Qn?x1(t,r):N1(t,r))&&(ze=Cc(z,"onBeforeInput"),0<ze.length&&(fe=new Mi("onBeforeInput","beforeinput",null,r,F),X.push({event:fe,listeners:ze}),fe.data=Ne)),Tb(X,t,z,r,F)}A_(X,n)})}function Rl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Cc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,r),h!=null&&o.unshift(Rl(t,h,f)),h=ci(t,n),h!=null&&o.push(Rl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function wb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ci(r,f),z!=null&&g.unshift(Rl(r,z,C))):h||(z=ci(r,f),z!=null&&g.push(Rl(r,z,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var Rb=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function C_(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Cb,"")}function I_(t,n){return n=C_(n),C_(t)===n}function ot(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Sn(t,""+o);break;case"className":kn(t,"class",o);break;case"tabIndex":kn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,o);break;case"style":Fo(t,o,f);break;case"data":if(n!=="object"){kn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Sa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Sa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ui);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Ea(t,"popover",o);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Cu.get(r)||r,Ea(t,r,o))}}function Id(t,n,r,o,h,f){switch(r){case"style":Fo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&Sn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[$t]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ea(t,r,o)}}}function on(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,f,g,r,null)}}h&&ot(t,n,"srcSet",r.srcSet,r,null),o&&ot(t,n,"src",r.src,r,null);return;case"input":Pe("invalid",t);var E=f=g=h=null,C=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ot(t,n,o,F,r,null)}}Au(t,f,E,C,z,g,h,!1);return;case"select":Pe("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ot(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!o,n!=null?Ns(t,!!o,n,!1):r!=null&&Ns(t,!!o,r,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ot(t,n,g,E,r,null)}Ds(t,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ot(t,n,C,o,r,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<wl.length;o++)Pe(wl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,z,o,r,null)}return;default:if(ba(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&Id(t,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ot(t,n,E,o,r,null))}function Ib(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ot(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=r[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ot(t,n,B,H,o,X)}}Ta(t,g,E,C,z,F,f,h);return;case"select":H=g=E=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ot(t,n,h,f,o,C)}n=E,r=g,o=H,B!=null?Ns(t,!!r,B,!1):!!o!=!!r&&(n!=null?Ns(t,!!r,n,!0):Ns(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ot(t,n,g,h,o,f)}wu(t,B,H);return;case"option":for(var ue in r)B=r[ue],r.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:ot(t,n,ue,null,o,B));for(C in o)B=o[C],H=r[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ot(t,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)B=r[ye],r.hasOwnProperty(ye)&&B!=null&&!o.hasOwnProperty(ye)&&ot(t,n,ye,null,o,B);for(z in o)if(B=o[z],H=r[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ot(t,n,z,B,o,H)}return;default:if(ba(n)){for(var lt in r)B=r[lt],r.hasOwnProperty(lt)&&B!==void 0&&!o.hasOwnProperty(lt)&&Id(t,n,lt,void 0,o,B);for(F in o)B=o[F],H=r[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Id(t,n,F,B,o,H);return}}for(var L in r)B=r[L],r.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&ot(t,n,L,null,o,B);for(X in o)B=o[X],H=r[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ot(t,n,X,B,o,H)}function x_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&x_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],z=C.startTime;if(z>E)break;var F=C.transferSize,X=C.initiatorType;F&&x_(X)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Nd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function Nb(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(Mb)}:O_;function Mb(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function V_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),io(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Cl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Cl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Cl(t.ownerDocument.body);r=h}while(r);io(n)}function k_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Md(r),va(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Vb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function kb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ei(t.nextSibling),t===null))return null;return t}function L_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ld=null;function P_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ei(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function j_(t,n,r){switch(n=Ic(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var ti=new Map,z_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=ne.d;ne.d={f:Pb,r:Ub,D:jb,C:zb,L:Bb,m:qb,X:Gb,S:Hb,M:Fb};function Pb(){var t=ms.f(),n=Ec();return t||n}function Ub(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?iy(n):ms.r(t)}var eo=typeof document>"u"?null:document;function B_(t,n,r){var o=eo;if(o&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),z_.has(h)||(z_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),on(n,"link",t),Pt(n),o.head.appendChild(n)))}}function jb(t){ms.D(t),B_("dns-prefetch",t,null)}function zb(t,n){ms.C(t,n),B_("preconnect",t,n)}function Bb(t,n,r){ms.L(t,n,r);var o=eo;if(o&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+bn(r.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var f=h;switch(n){case"style":f=to(t);break;case"script":f=no(t)}ti.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ti.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Il(f))||n==="script"&&o.querySelector(xl(f))||(n=o.createElement("link"),on(n,"link",t),Pt(n),o.head.appendChild(n)))}}function qb(t,n){ms.m(t,n);var r=eo;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(o)+'"][href="'+bn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!ti.has(f)&&(t=w({rel:"modulepreload",href:t},n),ti.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xl(f)))return}o=r.createElement("link"),on(o,"link",t),Pt(o),r.head.appendChild(o)}}}function Hb(t,n,r){ms.S(t,n,r);var o=eo;if(o&&t){var h=wi(o).hoistableStyles,f=to(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Il(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ti.get(f))&&Pd(t,r);var C=g=o.createElement("link");Pt(C),on(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Gb(t,n){ms.X(t,n);var r=eo;if(r&&t){var o=wi(r).hoistableScripts,h=no(t),f=o.get(h);f||(f=r.querySelector(xl(h)),f||(t=w({src:t,async:!0},n),(n=ti.get(h))&&Ud(t,n),f=r.createElement("script"),Pt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Fb(t,n){ms.M(t,n);var r=eo;if(r&&t){var o=wi(r).hoistableScripts,h=no(t),f=o.get(h);f||(f=r.querySelector(xl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ti.get(h))&&Ud(t,n),f=r.createElement("script"),Pt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function q_(t,n,r,o){var h=(h=Ae.current)?xc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=to(r.href),r=wi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=to(r.href);var f=wi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ti.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ti.set(t,r),f||Kb(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(r),r=wi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function to(t){return'href="'+bn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function H_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),on(n,"link",r),Pt(n),t.head.appendChild(n))}function no(t){return'[src="'+bn(t)+'"]'}function xl(t){return"script[async]"+t}function G_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+bn(r.href)+'"]');if(o)return n.instance=o,Pt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pt(o),on(o,"style",h),Nc(o,r.precedence,t),n.instance=o;case"stylesheet":h=to(r.href);var f=t.querySelector(Il(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;o=H_(r),(h=ti.get(h))&&Pd(o,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),on(f,"link",o),n.state.loading|=4,Nc(f,r.precedence,t),n.instance=f;case"script":return f=no(r.src),(h=t.querySelector(xl(f)))?(n.instance=h,Pt(h),h):(o=r,(h=ti.get(f))&&(o=w({},r),Ud(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),on(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,r.precedence,t));return n.instance}function Nc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function F_(t,n,r){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(r,o)}else h=Dc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Si]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function K_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Qb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Yb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=to(o.href),f=n.querySelector(Il(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Pt(f);return}f=n.ownerDocument||n,o=H_(o),(h=ti.get(h))&&Pd(o,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),on(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Oc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var jd=0;function Xb(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&jd===0&&(jd=62500*xb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach($b,t),Mc=null,Oc.call(t))}function $b(t,n){if(!(n.state.loading&4)){var r=Mc.get(t);if(r)var o=r.get(null);else{r=new Map,Mc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:Te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Jb(t,n,r,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Y_(t,n,r,o,h,f,g,E,C,z,F,X){return t=new Jb(t,n,r,g,C,z,F,X,E),n=1,f===!0&&(n|=24),f=Pn(3,null,null,n),t.current=f,f.stateNode=t,n=_f(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},bf(f),t}function X_(t){return t?(t=Ma,t):Ma}function $_(t,n,r,o,h,f){h=X_(h),o.context===null?o.context=h:o.pendingContext=h,o=Hs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Gs(t,o,n),r!==null&&(In(r,t,n),ll(r,t,n))}function J_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function zd(t,n){J_(t,n),(t=t.alternate)&&J_(t,n)}function Z_(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&In(n,t,67108864),zd(t,67108864)}}function W_(t){if(t.tag===13||t.tag===31){var n=qn();n=xr(n);var r=Br(t,n);r!==null&&In(r,t,n),zd(t,n)}}var kc=!0;function Zb(t,n,r,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,Bd(t,n,r,o)}finally{ne.p=f,G.T=h}}function Wb(t,n,r,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,Bd(t,n,r,o)}finally{ne.p=f,G.T=h}}function Bd(t,n,r,o){if(kc){var h=qd(o);if(h===null)Cd(t,n,o,Lc,r),tv(t,o);else if(tS(h,t,n,r,o))o.stopPropagation();else if(tv(t,o),n&4&&-1<eS.indexOf(t)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kt(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-k(g);E.entanglements[1]|=C,g&=~C}Ui(f),(Ze&6)===0&&(_c=tn()+500,Al(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&In(E,f,2),Ec(),zd(f,2)}if(f=qd(o),f===null&&Cd(t,n,o,Lc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Cd(t,n,o,null,r)}}function qd(t){return t=Fn(t),Hd(t)}var Lc=null;function Hd(t){if(Lc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lc=t,null}function ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(On()){case wr:return 2;case Rr:return 8;case Ei:case ma:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Gd=!1,tr=null,nr=null,ir=null,Dl=new Map,Ol=new Map,sr=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&Z_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function tS(t,n,r,o,h){switch(n){case"focusin":return tr=Ml(tr,t,n,r,o,h),!0;case"dragenter":return nr=Ml(nr,t,n,r,o,h),!0;case"mouseover":return ir=Ml(ir,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ml(Dl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,r,o,h)),!0}return!1}function nv(t){var n=Ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,oi(t.priority,function(){W_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,oi(t.priority,function(){W_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=qd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ko=o,r.target.dispatchEvent(o),Ko=null}else return n=Gn(r),n!==null&&Z_(n),t.blockedOn=r,!1;n.shift()}return!0}function iv(t,n,r){Pc(t)&&r.delete(n)}function nS(){Gd=!1,tr!==null&&Pc(tr)&&(tr=null),nr!==null&&Pc(nr)&&(nr=null),ir!==null&&Pc(ir)&&(ir=null),Dl.forEach(iv),Ol.forEach(iv)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nS)))}var jc=null;function sv(t){jc!==t&&(jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Hd(o||r)===null)continue;break}var f=Gn(r);f!==null&&(t.splice(n,3),n-=3,qf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function io(t){function n(C){return Uc(C,t)}tr!==null&&Uc(tr,t),nr!==null&&Uc(nr,t),ir!==null&&Uc(ir,t),Dl.forEach(n),Ol.forEach(n);for(var r=0;r<sr.length;r++){var o=sr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)nv(r),r.blockedOn===null&&sr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[$t]||null;if(typeof f=="function")g||sv(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(Hd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),sv(r)}}}function rv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Fd(t){this._internalRoot=t}zc.prototype.render=Fd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=qn();$_(r,o,t,n,null,null)},zc.prototype.unmount=Fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;$_(t.current,2,null,t,null,null),Ec(),n[bi]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Eu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<sr.length&&n!==0&&n<sr[r].priority;r++);sr.splice(r,0,t),r===0&&nv(t)}};var av=e.version;if(av!=="19.2.4")throw Error(a(527,av,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var iS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Mn=Bc.inject(iS),Ft=Bc}catch{}}return kl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=dy,f=my,g=py;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Y_(t,1,!1,null,null,r,o,null,h,f,g,rv),t[bi]=n.current,Rd(t),new Fd(n)},kl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=dy,g=my,E=py,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=Y_(t,1,!0,n,r??null,o,h,C,f,g,E,rv),n.context=X_(null),r=n.current,o=qn(),o=xr(o),h=Hs(o),h.callback=null,Gs(r,h,o),r=o,n.current.lanes=r,Cr(n,r),Ui(n),t[bi]=n.current,Rd(t),new zc(n)},kl.version="19.2.4",kl}var gv;function pS(){if(gv)return Yd.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=mS(),Yd.exports}var gS=pS();const yS=()=>{};var yv={};const nE=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},_S=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(N=64)),a.push(i[b],i[w],i[N],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(nE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):_S(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new vS;const N=c<<2|p>>4;if(a.push(N),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),w!==64){const Z=y<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(s){const e=nE(s);return iE.encodeByteArray(e,!0)},lh=function(s){return ES(s).replace(/\./g,"")},sE=function(s){try{return iE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bS=()=>TS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof yv>"u")return;const s=yv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},AS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&sE(s[1]);return e&&JSON.parse(e)},Ch=()=>{try{return yS()||bS()||SS()||AS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rE=s=>Ch()?.emulatorHosts?.[s],wS=s=>{const e=rE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},aE=()=>Ch()?.config,oE=s=>Ch()?.[`_${s}`];class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lE(s){return(await fetch(s,{credentials:"include"})).ok}function CS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(i)),lh(JSON.stringify(d)),""].join(".")}const Hl={};function IS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function xS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let _v=!1;function uE(s,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Hl[s]===e||Hl[s]||_v)return;Hl[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=IS().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,Q){N.setAttribute("width","24"),N.setAttribute("id",Q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{_v=!0,d()},N}function b(N,Q){N.setAttribute("id",Q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=xS(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),ge=i("preprendIcon"),Se=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Te=N.element;p(Te),b(ee,se);const $e=y();_(Se,ge),Te.append(Se,Z,ee,$e),document.body.appendChild(Te)}c?(Z.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function DS(){const s=Ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function LS(){return!DS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const jS="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=jS,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?zS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new As(l,p,a)}}function zS(s,e){return s.replace(BS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const BS=/\{\$([^}]+)}/g;function qS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function vs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(vv(c)&&vv(d)){if(!vs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function vv(s){return s!==null&&typeof s=="object"}function au(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Pl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ul(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function HS(s,e){const i=new GS(s,e);return i.subscribe.bind(i)}class GS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");FS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Zd),l.error===void 0&&(l.error=Zd),l.complete===void 0&&(l.complete=Zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Zd(){}function Nt(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class KS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new RS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YS(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:QS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(s){return s===ea?void 0:s}function YS(s){return s.instantiationMode==="EAGER"}class XS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new KS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const $S={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},JS=Be.INFO,ZS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},WS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=ZS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=JS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const eA=(s,e)=>e.some(i=>s instanceof i);let Ev,Tv;function tA(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,_m=new WeakMap,hE=new WeakMap,Wd=new WeakMap,Qm=new WeakMap;function iA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(fr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&cE.set(i,s)}).catch(()=>{}),Qm.set(e,s),e}function sA(s){if(_m.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});_m.set(s,e)}let vm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return _m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||hE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function rA(s){vm=s(vm)}function aA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(em(this),e,...i);return hE.set(a,e.sort?e.sort():[e]),fr(a)}:nA().includes(s)?function(...e){return s.apply(em(this),e),fr(cE.get(this))}:function(...e){return fr(s.apply(em(this),e))}}function oA(s){return typeof s=="function"?aA(s):(s instanceof IDBTransaction&&sA(s),eA(s,tA())?new Proxy(s,vm):s)}function fr(s){if(s instanceof IDBRequest)return iA(s);if(Wd.has(s))return Wd.get(s);const e=oA(s);return e!==s&&(Wd.set(s,e),Qm.set(e,s)),e}const em=s=>Qm.get(s);function lA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=fr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const uA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],tm=new Map;function bv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=cA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||uA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return tm.set(e,c),c}rA(s=>({...s,get:(e,i,a)=>bv(e,i)||s.get(e,i,a),has:(e,i)=>!!bv(e,i)||s.has(e,i)}));class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fA(s){return s.getComponent()?.type==="VERSION"}const Em="@firebase/app",Sv="0.14.8";const Es=new Km("@firebase/app"),dA="@firebase/app-compat",mA="@firebase/analytics-compat",pA="@firebase/analytics",gA="@firebase/app-check-compat",yA="@firebase/app-check",_A="@firebase/auth",vA="@firebase/auth-compat",EA="@firebase/database",TA="@firebase/data-connect",bA="@firebase/database-compat",SA="@firebase/functions",AA="@firebase/functions-compat",wA="@firebase/installations",RA="@firebase/installations-compat",CA="@firebase/messaging",IA="@firebase/messaging-compat",xA="@firebase/performance",NA="@firebase/performance-compat",DA="@firebase/remote-config",OA="@firebase/remote-config-compat",MA="@firebase/storage",VA="@firebase/storage-compat",kA="@firebase/firestore",LA="@firebase/ai",PA="@firebase/firestore-compat",UA="firebase",jA="12.9.0";const Tm="[DEFAULT]",zA={[Em]:"fire-core",[dA]:"fire-core-compat",[pA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[gA]:"fire-app-check-compat",[_A]:"fire-auth",[vA]:"fire-auth-compat",[EA]:"fire-rtdb",[TA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[SA]:"fire-fn",[AA]:"fire-fn-compat",[wA]:"fire-iid",[RA]:"fire-iid-compat",[CA]:"fire-fcm",[IA]:"fire-fcm-compat",[xA]:"fire-perf",[NA]:"fire-perf-compat",[DA]:"fire-rc",[OA]:"fire-rc-compat",[MA]:"fire-gcs",[VA]:"fire-gcs-compat",[kA]:"fire-fst",[PA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[UA]:"fire-js-all"};const Xl=new Map,BA=new Map,bm=new Map;function Av(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function yo(s){const e=s.name;if(bm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,s);for(const i of Xl.values())Av(i,s);for(const i of BA.values())Av(i,s);return!0}function Ym(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const qA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new ru("app","Firebase",qA);class HA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Ro=jA;function fE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Tm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw dr.create("bad-app-name",{appName:String(l)});if(i||(i=aE()),!i)throw dr.create("no-options");const c=Xl.get(l);if(c){if(vs(i,c.options)&&vs(a,c.config))return c;throw dr.create("duplicate-app",{appName:l})}const d=new XS(l);for(const _ of bm.values())d.addComponent(_);const p=new HA(i,a,d);return Xl.set(l,p),p}function Xm(s=Tm){const e=Xl.get(s);if(!e&&s===Tm&&aE())return fE();if(!e)throw dr.create("no-app",{appName:s});return e}function GA(){return Array.from(Xl.values())}function mr(s,e,i){let a=zA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}yo(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const FA="firebase-heartbeat-database",KA=1,$l="firebase-heartbeat-store";let nm=null;function dE(){return nm||(nm=lA(FA,KA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),nm}async function QA(s){try{const i=(await dE()).transaction($l),a=await i.objectStore($l).get(mE(s));return await i.done,a}catch(e){if(e instanceof As)Es.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function wv(s,e){try{const a=(await dE()).transaction($l,"readwrite");await a.objectStore($l).put(e,mE(s)),await a.done}catch(i){if(i instanceof As)Es.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function mE(s){return`${s.name}!${s.options.appId}`}const YA=1024,XA=30;class $A{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ZA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>XA){const l=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rv(),{heartbeatsToSend:i,unsentEntries:a}=JA(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function JA(s,e=YA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Cv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Cv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ZA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await QA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Cv(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function WA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function ew(s){yo(new sa("platform-logger",e=>new hA(e),"PRIVATE")),yo(new sa("heartbeat",e=>new $A(e),"PRIVATE")),mr(Em,Sv,s),mr(Em,Sv,"esm2020"),mr("fire-js","")}ew("");var tw="firebase",nw="12.9.0";mr(tw,nw,"app");var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,pE;(function(){var s;function e(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,D,P){for(var R=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)R[mt-2]=arguments[mt];return A.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],D=x.g[2];let P=x.g[3],R;R=A+(P^I&(D^P))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(D^A&(I^D))+V[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(I^P&(A^I))+V[2]+606105819&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(A^D&(P^A))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(P^I&(D^P))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(D^A&(I^D))+V[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(I^P&(A^I))+V[6]+2821735955&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(A^D&(P^A))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(P^I&(D^P))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(D^A&(I^D))+V[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(I^P&(A^I))+V[10]+4294925233&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(A^D&(P^A))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(P^I&(D^P))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(D^A&(I^D))+V[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(I^P&(A^I))+V[14]+2792965006&4294967295,D=P+(R<<17&4294967295|R>>>15),R=I+(A^D&(P^A))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(D^P&(I^D))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(A^I))+V[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(P^A))+V[11]+643717713&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(D^P))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^P&(I^D))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(A^I))+V[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(P^A))+V[15]+3634488961&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(D^P))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^P&(I^D))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(A^I))+V[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(P^A))+V[3]+4107603335&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(D^P))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^P&(I^D))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^D&(A^I))+V[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(P^A))+V[7]+1735328473&4294967295,D=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(D^P))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(I^D^P)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^D)+V[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^I)+V[11]+1839030562&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^A)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^P)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^D)+V[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^I)+V[7]+4139469664&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^A)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^P)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^D)+V[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^I)+V[3]+3572445317&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^A)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^P)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^D)+V[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^I)+V[15]+530742520&4294967295,D=P+(R<<16&4294967295|R>>>16),R=I+(D^P^A)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(D^(I|~P))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~D))+V[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~I))+V[14]+2878612391&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~A))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~P))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~D))+V[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~I))+V[10]+4293915773&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~A))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~P))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~D))+V[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~I))+V[6]+2734768916&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~A))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~P))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~D))+V[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~I))+V[2]+718787259&4294967295,D=P+(R<<15&4294967295|R>>>17),R=I+(P^(D|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+P&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let D=this.h,P=0;for(;P<A;){if(D==0)for(;P<=I;)l(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<A;)if(V[D++]=x.charCodeAt(P++),D==this.blockSize){l(this,V),D=0;break}}else for(;P<A;)if(V[D++]=x[P++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let D=x.length-1;D>=0;D--){const P=x[D]|0;V&&P==A||(I[D]=P,V=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return ee(y(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return ee(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=w;for(let P=0;P<x.length;P+=8){var D=Math.min(8,x.length-P);const R=parseInt(x.substring(P,P+D),A);D<8?(D=y(Math.pow(A,D)),V=V.j(D).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var w=_(0),N=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(se(this))return-ee(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(se(this))return"-"+ee(this).toString(x);const A=y(Math.pow(x,6));var I=this;let V="";for(;;){const D=$e(I,A).g;I=ge(I,D.j(A));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,Z(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function se(x){return x.h==-1}s.l=function(x){return x=ge(this,x),se(x)?-1:Z(x)?0:1};function ee(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(N)}s.abs=function(){return se(this)?ee(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let D=0;D<=A;D++){let P=V+(this.i(D)&65535)+(x.i(D)&65535),R=(P>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,P&=65535,R&=65535,I[D]=R<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ge(x,A){return x.add(ee(A))}s.j=function(x){if(Z(this)||Z(x))return w;if(se(this))return se(x)?ee(this).j(ee(x)):ee(ee(this).j(x));if(se(x))return ee(this.j(ee(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const P=this.i(V)>>>16,R=this.i(V)&65535,mt=x.i(D)>>>16,bt=x.i(D)&65535;I[2*V+2*D]+=R*bt,Se(I,2*V+2*D),I[2*V+2*D+1]+=P*bt,Se(I,2*V+2*D+1),I[2*V+2*D+1]+=R*mt,Se(I,2*V+2*D+1),I[2*V+2*D+2]+=P*mt,Se(I,2*V+2*D+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function Se(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function Te(x,A){this.g=x,this.h=A}function $e(x,A){if(Z(A))throw Error("division by zero");if(Z(x))return new Te(w,w);if(se(x))return A=$e(ee(x),A),new Te(ee(A.g),ee(A.h));if(se(A))return A=$e(x,ee(A)),new Te(ee(A.g),A.h);if(x.g.length>30){if(se(x)||se(A))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=A;V.l(x)<=0;)I=dt(I),V=dt(V);var D=Fe(I,1),P=Fe(V,1);for(V=Fe(V,2),I=Fe(I,2);!Z(V);){var R=P.add(V);R.l(x)<=0&&(D=D.add(I),P=R),V=Fe(V,1),I=Fe(I,1)}return A=ge(x,D.j(A)),new Te(D,A)}for(D=w;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(I),R=P.j(A);se(R)||R.l(x)>0;)I-=V,P=y(I),R=P.j(A);Z(P)&&(P=N),D=D.add(P),x=ge(x,R)}return new Te(D,x)}s.B=function(x){return $e(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function dt(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Fe(x,A){const I=A>>5;A%=32;const V=x.g.length-I,D=[];for(let P=0;P<V;P++)D[P]=A>0?x.i(P+I)>>>A|x.i(P+I+1)<<32-A:x.i(P+I);return new d(D,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,pr=d}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,jl,yE,Jc,Sm,_E,vE,EE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var W=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)W[Ie-2]=arguments[Ie];return m.prototype[U].apply(T,W)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=U[W]}else u.push(U)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new se(()=>new $e,u=>u.reset());class $e{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Fe=!1,x=new Se,A=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(I)}};function I(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){ee(v)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function mt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(mt,D),mt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=Ae(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),At={};function ut(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ut(u,m[q],v,T,U);return null}return v=ie(v),u&&u[bt]?u.J(m,v,p(T)?!!T.capture:!1,U):si(u,m,v,!1,T,U)}function si(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let Ie=he(u);if(Ie||(u[ke]=Ie=new ae(u)),v=Ie.add(m,v,T,W,q),v.proxy)return v;if(T=Cs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)P||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(wt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cs(){function u(v){return m.call(u.src,u.listener,v)}const m=Xi;return u}function ri(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)ri(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=ie(v),u&&u[bt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ae(m,v,T,U),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=he(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,T,U)),(v=u>-1?m[u]:null)&&Yi(v))}function Yi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])_e(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(wt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=he(m))?(_e(v,u),v.h==0&&(v.src=null,m[ke]=null)):de(u)}}}function wt(u){return u in At?At[u]:At[u]="on"+u}function Xi(u,m){if(u.da)u=!0;else{m=new mt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Yi(u),u=v.call(T,m)}return u}function he(u){return u=u[ke],u instanceof ae?u:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function ie(u){return typeof u=="function"?u:(u[en]||(u[en]=function(m){return u.handleEvent(m)}),u[en])}function De(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}w(De,V),De.prototype[bt]=!0,De.prototype.removeEventListener=function(u,m,v,T){ri(this,u,m,v,T)};function ct(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),te(m,U)}U=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],U=ai(q,T,!0,m)&&U;if(q=m.g=u,U=ai(q,T,!0,m)&&U,U=ai(q,T,!1,m)&&U,v)for(W=0;W<v.length;W++)q=m.g=v[W],U=ai(q,T,!1,m)&&U}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)de(v[T]);delete u.g[m],u.h--}}this.G=null},De.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},De.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ai(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const Ie=W.listener,Dt=W.ha||W.src;W.fa&&_e(u.i,W),U=Ie.call(Dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Vo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function da(u){u.g=Vo(()=>{u.g=null,u.i&&(u.i=!1,da(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(u){V.call(this),this.h=u,this.g={}}w(On,V);var wr=[];function Rr(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&Yi(m)},u),u.g={}}On.prototype.N=function(){On.Z.N.call(this),Rr(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=d.JSON.stringify,ma=d.JSON.parse,pa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ga(){}function ya(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}w(Ft,D);function En(){D.call(this,"c")}w(En,D);var k={},re=null;function le(){return re=re||new De}k.Ia="serverreachability";function be(u){D.call(this,k.Ia,u)}w(be,D);function We(u){const m=le();ct(m,new be(m))}k.STAT_EVENT="statevent";function vt(u,m){D.call(this,k.STAT_EVENT,u),this.stat=m}w(vt,D);function Ve(u){const m=le();ct(m,new vt(m,u))}k.Ja="timingevent";function Kt(u,m){D.call(this,k.Ja,u),this.size=m}w(Kt,D);function Rt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Tn(){this.g=!0}Tn.prototype.ua=function(){this.g=!1};function Is(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var W="",Ie=q.split("&");for(let Je=0;Je<Ie.length;Je++){var Dt=Ie[Je].split("=");if(Dt.length>1){const Et=Dt[0];Dt=Dt[1];const Qn=Et.split("_");W=Qn.length>=2&&Qn[1]=="type"?W+(Et+"="+Dt+"&"):W+(Et+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function vu(u,m,v,T,U,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+W})}function Ti(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$h(u,v)+(T?" "+T:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}Tn.prototype.info=function(){};function $h(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Ei(q)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function xr(){}w(xr,ga),xr.prototype.g=function(){return new XMLHttpRequest},Lo=new xr;function $i(u){return encodeURIComponent(String(u))}function Eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function oi(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new On(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Lt={},$t={};function bi(u,m,v){u.M=1,u.A=Nr(Ut(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Si(u),u.B=Ut(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ba(v.i,"t",T),u.C=0,v=u.j.L,u.h=new li,u.g=ku(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(wr[0]=U.toString()),U=wr);for(let q=0;q<U.length;q++){const W=ut(v,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),We(),Is(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=hi(this.g),Dt=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ie!=4||Dt==7||(Dt==8||Je<=0?We(3):We(2)),Ai(this);var m=this.g.ca();this.X=m;var v=Jh(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,Ve(12),Vn(this),Gn(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=bu(this,v),Et==$t){Ie==4&&(this.m=4,Ve(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Lt){this.m=4,Ve(15),Ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,Et,null),wi(this,Et);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Ve(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(W),W.P=!0,Ve(11))}}else Ti(this.i,this.l,v,null),wi(this,v);Ie==4&&Vn(this),this.o&&!this.K&&(Ie==4?Du(this.j,this):(this.o=!1,Si(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Vn(this),Gn(this)}}}catch{}};function Jh(u){if(!Tu(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let v="";const T=m.length,U=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?$t:(v=Number(m.substring(v,T)),isNaN(v)?Lt:(T+=1,T+v>m.length?$t:(m=m.slice(T,T+v),u.C=T+v,m)))}oi.prototype.cancel=function(){this.K=!0,Vn(this)};function Si(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Rt(y(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(We(),Ve(17)),Vn(this),this.m=2,Gn(this)):va(this,this.T-u)};function Gn(u){u.j.I==0||u.K||Du(u.j,u)}function Vn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Rr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ci(v.h,u))){if(!u.L&&Ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ca(v),Ls(v);else break e;Pr(v),Ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Rt(y(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Ca(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Je=U[m];const Et=Je[0];if(!(Et<=v.K))if(v.K=Et,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Qn=Je[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const Vi=Je[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const fi=Je[5];fi!=null&&typeof fi=="number"&&fi>0&&(T=1.5*fi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const di=u.g;if(di){const Ur=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var q=T.h;q.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jo(q,q.h),q.h=null))}if(T.G){const Ia=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(T.wa=Ia,tt(T.J,T.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Vu(T,T.L?T.ba:null,T.W),W.L){zo(T.h,W);var Ie=W,Dt=T.O;Dt&&(Ie.H=Dt),Ie.D&&(Ai(Ie),Si(Ie)),T.g=W}else xu(T);v.i.length>0&&Oi(v)}else Je[0]!="stop"&&Je[0]!="close"||Mi(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Mi(v,7):Xo(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}We(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jo(u,m){u.g?u.g.add(m):u.h=m}function zo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,qo(this,Cu(u.i)),this.m=u.m):u&&(m=String(u).match(Su))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),xs(this,m[4]),this.h=Ii(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,Ta,!0),"@"),u.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Dr(v,v.charAt(0)=="/"?Ho:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Dr(v,wu)),u.join("")},kn.prototype.resolve=function(u){const m=Ut(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)xs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let W=0;W<U.length;){const Ie=U[W++];Ie=="."?T&&W==U.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==U.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?qo(m,Cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ut(u){return new kn(u)}function Jt(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function qo(u,m,v){m instanceof Ds?(u.i=m,Sa(u.i,u.l)):(v||(m=Dr(m,Ns)),u.i=new Ds(m,u.l))}function tt(u,m,v){u.i.set(m,v)}function Nr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,Au=/[#\?:]/g,Ho=/[#\?]/g,Ns=/[#\?@]/g,wu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ds.prototype,s.add=function(u,m){Sn(this),this.i=null,u=Os(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ru(u,m){Sn(u),m=Os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Go(u,m){return Sn(u),m=Os(u,m),u.g.has(m)}s.forEach=function(u,m){Sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Fo(u,m){Sn(u);let v=[];if(typeof m=="string")Go(u,m)&&(v=v.concat(u.g.get(Os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Sn(this),this.i=null,u=Os(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Fo(this,u),u.length>0?String(u[0]):m):m};function ba(u,m,v){Ru(u,m),v.length>0&&(u.i=null,u.g.set(Os(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=$i(v);v=Fo(this,v);for(let q=0;q<v.length;q++){let W=U;v[q]!==""&&(W+="="+$i(v[q])),u.push(W)}}return this.i=u.join("&")};function Cu(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(Ru(this,T),ba(this,U,v))},u)),u.j=m}function ui(u,m){const v=new Tn;if(d.Image){const T=new Image;T.onload=b(Fn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Fn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Fn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Fn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ko(u,m){const v=new Tn,T=new AbortController,U=setTimeout(()=>{T.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Ms(){this.g=new pa}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(xi,ga),xi.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){De.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Or,De),s=Or.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):ci(this),this.readyState==3&&Aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},s.Na=function(u){this.g&&(this.response=u,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ue(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Mr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Kn(v),typeof u=="string"?v!=null&&$i(v):tt(u,m,v))}function rt(u){De.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(rt,De);var Ni=/^https?$/i,Qo=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Vr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Vr(this,q)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yo(u),Ji(u)}function Yo(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ct(this,"complete"),ct(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ct(u,"readystatechange"),hi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let W=String(u.D).match(Su)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ni.test(W?W.toLowerCase():"")}v=T}if(v)ct(u,"complete"),ct(u,"success");else{u.o=6;try{var U=hi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Yo(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ma(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Eu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Qe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new Tn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Vu(this,null,this.W),Oi(this)};function Xo(u){if(wa(u),u.I==3){var m=u.V++,v=Ut(u.J);if(tt(v,"SID",u.M),tt(v,"RID",m),tt(v,"TYPE","terminate"),Lr(u,v),m=new oi(u,u.j,m),m.M=2,m.A=Nr(Ut(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}Mu(u)}function Ls(u){u.g&&(Jo(u),u.g.cancel(),u.g=null)}function wa(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Uo(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||A(),Fe||(dt(),Fe=!0),x.add(m,u),u.D=0}}function Ra(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Rt(y(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new oi(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),te(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Iu(this,U,m),v=Ut(this.J),tt(v,"RID",u),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),Lr(this,v),q&&(this.R?m="headers="+$i(Kn(q))+"&"+m:this.u&&Mr(v,this.u,q)),jo(this.h,U),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",m),tt(v,"SID","null"),U.U=!0,bi(U,v,null)):bi(U,v,m),this.I=2}}else this.I==3&&(u?$o(this,u):this.i.length==0||Uo(this.h)||$o(this))};function $o(u,m){var v;m?v=m.l:v=u.V++;const T=Ut(u.J);tt(T,"SID",u.M),tt(T,"RID",v),tt(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Mr(T,u.u,u.o),v=new oi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jo(u.h,v),bi(v,T,m)}function Lr(u,m){u.H&&Ue(u.H,function(v,T){tt(m,T,v)}),u.l&&Ue({},function(v,T){tt(m,T,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Dt=["count="+v];Ie==-1?v>0?(Ie=U[0].g,Dt.push("ofs="+Ie)):Ie=0:Dt.push("ofs="+Ie);let Je=!0;for(let Et=0;Et<v;Et++){var q=U[Et].g;const Qn=U[Et].map;if(q-=Ie,q<0)Ie=Math.max(0,U[Et].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var W=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Vi,fi]of W){let di=fi;p(fi)&&(di=Ei(fi)),Dt.push(q+Vi+"="+encodeURIComponent(di))}}catch(Vi){throw Dt.push(q+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Qn)}}if(Je){W=Dt.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function xu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||A(),Fe||(dt(),Fe=!0),x.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Rt(y(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Rt(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Ls(this),Nu(this))};function Jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Nr(Ut(m)),v.u=null,v.R=!0,_a(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),Pr(this),Ve(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var v=null;if(u.g==m){Ca(u),Jo(u),u.g=null;var T=2}else if(Ci(u.h,m))v=m.G,zo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=le(),ct(T,new Kt(T,v)),Oi(u)}else xu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ra(u,m)||T==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function Ou(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(T,"https"),Nr(T),U?ui(T.toString(),v):Ko(T.toString(),v)}else Ve(2);u.I=0,u.l&&u.l.pa(m),Mu(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=Bo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,v){var T=v instanceof kn?Ut(v):new kn(v);if(T.g!="")m&&(T.g=m+"."+T.g),xs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new kn(null);T&&Jt(q,T),m&&(q.g=m),U&&xs(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&tt(T,v,m),tt(T,"VER",u.ka),Lr(u,T),T}function ku(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new xi({ab:v})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}s=Lu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){De.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}w(gn,De),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Xo(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ei(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Oi(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,gn.Z.N.call(this)};function Pu(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Pu,Ft);function Uu(){En.call(this),this.status=1}w(Uu,En);function Wi(u){this.g=u}w(Wi,Lu),Wi.prototype.ra=function(){ct(this.g,"a")},Wi.prototype.qa=function(u){ct(this.g,new Pu(u))},Wi.prototype.pa=function(u){ct(this.g,new Uu)},Wi.prototype.oa=function(){ct(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,EE=function(){return new Ps},vE=function(){return le()},_E=k,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Jc=Ir,ko.COMPLETE="complete",yE=ko,ya.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",De.prototype.listen=De.prototype.J,jl=ya,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,gE=rt}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Co="12.9.0";function iw(s){Co=s}const ra=new Km("@firebase/firestore");function ao(){return ra.logLevel}function oe(s,...e){if(ra.logLevel<=Be.DEBUG){const i=e.map($m);ra.debug(`Firestore (${Co}): ${s}`,...i)}}function Ts(s,...e){if(ra.logLevel<=Be.ERROR){const i=e.map($m);ra.error(`Firestore (${Co}): ${s}`,...i)}}function aa(s,...e){if(ra.logLevel<=Be.WARN){const i=e.map($m);ra.warn(`Firestore (${Co}): ${s}`,...i)}}function $m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,TE(s,a,i)}function TE(s,e,i){let a=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function et(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||TE(e,l,a)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class bE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class rw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class aw{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new bE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class ow{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new ow(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=cw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function qe(s,e){return s<e?-1:s>e?1:0}function Am(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return im(l)===im(c)?qe(l,c):im(l)?1:-1}return qe(s.length,e.length)}const hw=55296,fw=57343;function im(s){const e=s.charCodeAt(0);return e>=hw&&e<=fw}function _o(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const Nv="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=ji.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),l=ji.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ji.extractNumericId(e).compare(ji.extractNumericId(i)):Am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class yt extends ji{construct(e,i,a){return new yt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const dw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ji{construct(e,i,a){return new un(e,i,a)}static isValidIdentifier(e){return dw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nv}static keyField(){return new un([Nv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(yt.fromString(e))}static fromName(e){return new pe(yt.fromString(e).popFirst(5))}static empty(){return new pe(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new yt(e.slice()))}}function SE(s,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function mw(s,e,i,a){if(e===!0&&a===!0)throw new ce(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Dv(s){if(!pe.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ov(s){if(pe.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function AE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function _n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zm(s);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ou(s,e){if(!AE(s))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const Mv=-62135596800,Vv=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Vv);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Mv)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Gt("string",_t._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new _t(0,0))}static max(){return new we(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function pw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new yr(l,pe.empty(),e)}function gw(s){return new yr(s.readTime,s.key,Jl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(we.min(),pe.empty(),Jl)}static max(){return new yr(we.max(),pe.empty(),Jl)}}function yw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const _w="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==_w)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Ew(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xo(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const Wm=-1;function xh(s){return s==null}function uh(s){return s===0&&1/s==-1/0}function Tw(s){return typeof s=="number"&&Number.isInteger(s)&&!uh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const wE="";function bw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=kv(e)),e=Sw(s.get(i),e);return kv(e)}function Sw(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case wE:i+="";break;default:i+=c}}return i}function kv(s){return s+wE+""}function Lv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function RE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??ln.RED,this.left=l??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new ln(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return ln.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new Xt(un.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Aw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=Aw.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const IE="server_timestamp",xE="__type__",NE="__previous_value__",DE="__local_write_time__";function ep(s){return(s?.mapValue?.fields||{})[xE]?.stringValue===IE}function Nh(s){const e=s.mapValue.fields[NE];return ep(e)?Nh(e):e}function Zl(s){const e=_r(s.mapValue.fields[DE].timestampValue);return new _t(e.seconds,e.nanos)}class ww{constructor(e,i,a,l,c,d,p,_,y,b,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const ch="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||ch}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}function Rw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(s.options.projectId,e)}const OE="__type__",Cw="__max__",Gc={mapValue:{}},ME="__vector__",hh="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ep(s)?4:xw(s)?9007199254740991:Iw(s)?10:11:Ee(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=_r(l.timestampValue),p=_r(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return vr(l.bytesValue).isEqual(vr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Vt(l.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(l.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Vt(l.integerValue)===Vt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Vt(l.doubleValue),p=Vt(c.doubleValue);return d===p?uh(d)===uh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Lv(d)!==Lv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Fi(d[_],p[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function eu(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function vo(s,e){if(s===e)return 0;const i=Er(s),a=Er(e);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Vt(c.integerValue||c.doubleValue),_=Vt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(Zl(s),Zl(e));case 5:return Am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=vr(c),_=vr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=qe(p[y],_[y]);if(b!==0)return b}return qe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=qe(Vt(c.latitude),Vt(d.latitude));return p!==0?p:qe(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return jv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[hh]?.arrayValue,b=_[hh]?.arrayValue,w=qe(y?.values?.length||0,b?.values?.length||0);return w!==0?w:jv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gc.mapValue&&d===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const N=Am(_[w],b[w]);if(N!==0)return N;const Q=vo(p[_[w]],y[b[w]]);if(Q!==0)return Q}return qe(_.length,b.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=_r(s),a=_r(e),l=qe(i.seconds,a.seconds);return l!==0?l:qe(i.nanos,a.nanos)}function jv(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=vo(i[l],a[l]);if(c)return c}return qe(i.length,a.length)}function Eo(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return vr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=wm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${wm(i.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function Zc(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Sr(a.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function Rm(s){return!!s&&"integerValue"in s}function tp(s){return!!s&&"arrayValue"in s}function zv(s){return!!s&&"nullValue"in s}function Bv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Wc(s){return!!s&&"mapValue"in s}function Iw(s){return(s?.mapValue?.fields||{})[OE]?.stringValue===ME}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Gl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function xw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Cw}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Wc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=un.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Gl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Dn(Gl(this.value))}}function VE(s){const e=[];return Sr(s.fields,((i,a)=>{const l=new un([i]);if(Wc(a)){const c=VE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Hn(e)}class mn{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,we.min(),we.min(),we.min(),Dn.empty(),0)}static newFoundDocument(e,i,a,l){return new mn(e,1,i,we.min(),a,l,0)}static newNoDocument(e,i){return new mn(e,2,i,we.min(),we.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,we.min(),we.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function qv(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=vo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Hv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class dh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Nw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class kE{}class Yt extends kE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Ow(e,i,a):i==="array-contains"?new kw(e,a):i==="in"?new Lw(e,a):i==="not-in"?new Pw(e,a):i==="array-contains-any"?new Uw(e,a):new Yt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Mw(e,a):new Vw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vo(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(vo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends kE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return LE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(s){return s.op==="and"}function PE(s){return Dw(s)&&LE(s)}function Dw(s){for(const e of s.filters)if(e instanceof Ki)return!1;return!0}function Cm(s){if(s instanceof Yt)return s.field.canonicalString()+s.op.toString()+Eo(s.value);if(PE(s))return s.filters.map((e=>Cm(e))).join(",");{const e=s.filters.map((i=>Cm(i))).join(",");return`${s.op}(${e})`}}function UE(s,e){return s instanceof Yt?(function(a,l){return l instanceof Yt&&a.op===l.op&&a.field.isEqual(l.field)&&Fi(a.value,l.value)})(s,e):s instanceof Ki?(function(a,l){return l instanceof Ki&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&UE(d,l.filters[p])),!0):!1})(s,e):void Ee(19439)}function jE(s){return s instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Eo(i.value)}`})(s):s instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(s):"Filter"}class Ow extends Yt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class Mw extends Yt{constructor(e,i){super(e,"in",i),this.keys=zE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Vw extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=zE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function zE(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class kw extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tp(i)&&eu(i.arrayValue,this.value)}}class Lw extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eu(this.value.arrayValue,i)}}class Pw extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eu(this.value.arrayValue,i)}}class Uw extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>eu(this.value.arrayValue,a)))}}class jw{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Gv(s,e=null,i=[],a=[],l=null,c=null,d=null){return new jw(s,e,i,a,l,c,d)}function np(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Cm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Eo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Eo(a))).join(",")),e.Te=i}return e.Te}function ip(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Nw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!UE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Hv(s.startAt,e.startAt)&&Hv(s.endAt,e.endAt)}function Im(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Dh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zw(s,e,i,a,l,c,d,p){return new Dh(s,e,i,a,l,c,d,p)}function Oh(s){return new Dh(s)}function Fv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Bw(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function qw(s){return s.collectionGroup!==null}function Fl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Xt(un.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dh(c,a))})),i.has(un.keyField().canonicalString())||e.Ie.push(new dh(un.keyField(),a))}return e.Ie}function zi(s){const e=Ce(s);return e.Ee||(e.Ee=Hw(e,Fl(s))),e.Ee}function Hw(s,e){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new dh(l.field,c)}));const i=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function xm(s,e,i){return new Dh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Mh(s,e){return ip(zi(s),zi(e))&&s.limitType===e.limitType}function BE(s){return`${np(zi(s))}|lt:${s.limitType}`}function oo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Eo(l))).join(",")),`Target(${a})`})(zi(s))}; limitType=${s.limitType})`}function Vh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Fl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=qv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Fl(a),l)||a.endAt&&!(function(d,p,_){const y=qv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Fl(a),l))})(s,e)}function Gw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qE(s){return(e,i)=>{let a=!1;for(const l of Fl(s)){const c=Fw(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Fw(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?vo(_,y):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const Kw=new St(pe.comparator);function bs(){return Kw}const HE=new St(pe.comparator);function zl(...s){let e=HE;for(const i of s)e=e.insert(i.key,i);return e}function GE(s){let e=HE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ta(){return Kl()}function FE(){return Kl()}function Kl(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Qw=new St(pe.comparator),Yw=new Xt(pe.comparator);function He(...s){let e=Yw;for(const i of s)e=e.add(i);return e}const Xw=new Xt(qe);function $w(){return Xw}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function KE(s){return{integerValue:""+s}}function Jw(s,e){return Tw(e)?KE(e):sp(s,e)}class kh{constructor(){this._=void 0}}function Zw(s,e,i){return s instanceof tu?(function(l,c){const d={fields:{[xE]:{stringValue:IE},[DE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ep(c)&&(c=Nh(c)),c&&(d.fields[NE]=c),{mapValue:d}})(i,e):s instanceof To?YE(s,e):s instanceof bo?XE(s,e):(function(l,c){const d=QE(l,c),p=Kv(d)+Kv(l.Ae);return Rm(d)&&Rm(l.Ae)?KE(p):sp(l.serializer,p)})(s,e)}function Ww(s,e,i){return s instanceof To?YE(s,e):s instanceof bo?XE(s,e):i}function QE(s,e){return s instanceof mh?(function(a){return Rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class tu extends kh{}class To extends kh{constructor(e){super(),this.elements=e}}function YE(s,e){const i=$E(e);for(const a of s.elements)i.some((l=>Fi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class bo extends kh{constructor(e){super(),this.elements=e}}function XE(s,e){let i=$E(e);for(const a of s.elements)i=i.filter((l=>!Fi(l,a)));return{arrayValue:{values:i}}}class mh extends kh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Kv(s){return Vt(s.integerValue||s.doubleValue)}function $E(s){return tp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class rp{constructor(e,i){this.field=e,this.transform=i}}function e2(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof To&&l instanceof To||a instanceof bo&&l instanceof bo?_o(a.elements,l.elements,Fi):a instanceof mh&&l instanceof mh?Fi(a.Ae,l.Ae):a instanceof tu&&l instanceof tu})(s.transform,e.transform)}class t2{constructor(e,i){this.version=e,this.transformResults=i}}class vn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Lh{}function JE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ph(s.key,vn.none()):new lu(s.key,s.data,vn.none());{const i=s.data,a=Dn.empty();let l=new Xt(un.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ar(s.key,a,new Hn(l.toArray()),vn.none())}}function n2(s,e,i){s instanceof lu?(function(l,c,d){const p=l.value.clone(),_=Yv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Ar?(function(l,c,d){if(!eh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Yv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ZE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ql(s,e,i,a){return s instanceof lu?(function(c,d,p,_){if(!eh(c.precondition,d))return p;const y=c.value.clone(),b=Xv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Ar?(function(c,d,p,_){if(!eh(c.precondition,d))return p;const y=Xv(c.fieldTransforms,_,d),b=d.data;return b.setAll(ZE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function i2(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=QE(a.transform,l||null);c!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,c))}return i||null}function Qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&_o(a,l,((c,d)=>e2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Lh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ar extends Lh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Yv(s,e,i){const a=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,Ww(d,p,i[l]))}return a}function Xv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Zw(c,d,e))}return a}class Ph extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s2 extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class r2{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&n2(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=FE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=JE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((i,a)=>Qv(i,a)))&&_o(this.baseMutations,e.baseMutations,((i,a)=>Qv(i,a)))}}class ap{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Qw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ap(e,i,a,l)}}class a2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class o2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Ke;function l2(s){switch(s){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function WE(s){if(s===void 0)return Ts("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ht.OK:return J.OK;case Ht.CANCELLED:return J.CANCELLED;case Ht.UNKNOWN:return J.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return J.INTERNAL;case Ht.UNAVAILABLE:return J.UNAVAILABLE;case Ht.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ht.NOT_FOUND:return J.NOT_FOUND;case Ht.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ht.ABORTED:return J.ABORTED;case Ht.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ht.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ke=Ht||(Ht={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function u2(){return new TextEncoder}const c2=new pr([4294967295,4294967295],0);function $v(s){const e=u2().encode(s),i=new pE;return i.update(e),new Uint8Array(i.digest())}function Jv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,a],0),new pr([l,c],0)]}class op{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(pr.fromNumber(a)));return l.compare(c2)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$v(e),[a,l]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new op(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=$v(e),[a,l]=Jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Uh(we.min(),l,new St(qe),bs(),He())}}class uu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new uu(a,i,He(),He(),He())}}class th{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class eT{constructor(e,i){this.targetId=e,this.Ce=i}}class tT{constructor(e,i,a=cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Zv{constructor(){this.ve=0,this.Fe=Wv(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),a=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ee(38017,{changeType:c})}})),new uu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Wv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class h2{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=Fc(),this.Je=Fc(),this.Ze=new St(qe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Im(c))if(a===0){const d=new pe(c.path);this.et(i,d,mn.newNoDocument(d,we.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=vr(a).toUint8Array()}catch(_){if(_ instanceof CE)return aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new op(d,l,c)}catch(_){return aa(_ instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Im(p.target)){const _=new pe(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,mn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=He();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Uh(e,i,this.Ze,this.je,a);return this.je=bs(),this.He=Fc(),this.Je=Fc(),this.Ze=new St(qe),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Zv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Xt(qe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Xt(qe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fc(){return new St(pe.comparator)}function Wv(){return new St(pe.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class p2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nm(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function g2(s,e){return ph(s,e.toTimestamp())}function Bi(s){return et(!!s,49232),we.fromTimestamp((function(i){const a=_r(i);return new _t(a.seconds,a.nanos)})(s))}function lp(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const i=(function(l){return new yt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function iT(s){const e=yt.fromString(s);return et(lT(e),10190,{key:e.toString()}),e}function Om(s,e){return lp(s.databaseId,e.path)}function sm(s,e){const i=iT(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(rT(i))}function sT(s,e){return lp(s.databaseId,e)}function y2(s){const e=iT(s);return e.length===4?yt.emptyPath():rT(e)}function Mm(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rT(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function e0(s,e,i){return{name:Om(s,e),fields:i.value.mapValue.fields}}function _2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(et(b===void 0||typeof b=="string",58123),cn.fromBase64String(b||"")):(et(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),cn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:WE(y.code);return new ce(b,y.message||"")})(d);i=new tT(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=sm(s,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):we.min(),p=new Dn({mapValue:{fields:a.document.fields}}),_=mn.newFoundDocument(l,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new th(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=sm(s,a.document),c=a.readTime?Bi(a.readTime):we.min(),d=mn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new th([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=sm(s,a.document),c=a.removedTargetIds||[];i=new th([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new o2(l,c),p=a.targetId;i=new eT(p,d)}}return i}function v2(s,e){let i;if(e instanceof lu)i={update:e0(s,e.key,e.value)};else if(e instanceof Ph)i={delete:Om(s,e.key)};else if(e instanceof Ar)i={update:e0(s,e.key,e.data),updateMask:I2(e.fieldMask)};else{if(!(e instanceof s2))return Ee(16599,{dt:e.type});i={verify:Om(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof To)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:g2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function E2(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(we.min())&&(d=Bi(c)),new t2(d,l.transformResults||[])})(i,e)))):[]}function T2(s,e){return{documents:[sT(s,e.path)]}}function b2(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sT(s,l);const c=(function(y){if(y.length!==0)return oT(Ki.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(N){return{field:lo(N.field),direction:w2(N.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Nm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function S2(s){let e=y2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){et(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const N=aT(w);return N instanceof Ki&&PE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((N=>(function(Z){return new dh(uo(Z.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let N;return N=typeof w=="object"?w.value:w,xh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(w){const N=!!w.before,Q=w.values||[];return new fh(Q,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const N=!w.before,Q=w.values||[];return new fh(Q,N)})(i.endAt)),zw(e,l,d,c,p,"F",_,y)}function A2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=uo(i.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=uo(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uo(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=uo(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Yt.create(uo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>aT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function w2(s){return f2[s]}function R2(s){return d2[s]}function C2(s){return m2[s]}function lo(s){return{fieldPath:s.canonicalString()}}function uo(s){return un.fromServerFormat(s.fieldPath)}function oT(s){return s instanceof Yt?(function(i){if(i.op==="=="){if(Bv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NAN"}};if(zv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Bv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NAN"}};if(zv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(i.field),op:R2(i.op),value:i.value}}})(s):s instanceof Ki?(function(i){const a=i.getFilters().map((l=>oT(l)));return a.length===1?a[0]:{compositeFilter:{op:C2(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function I2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class hr{constructor(e,i,a,l,c=we.min(),d=we.min(),p=cn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x2{constructor(e){this.yt=e}}function N2(s){const e=S2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xm(e,e.limit,"L"):e}class D2{constructor(){this.Sn=new O2}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(yr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class O2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Xt(yt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Xt(yt.comparator)).toArray()}}const t0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(cT,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class So{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new So(0)}static ar(){return new So(-1)}}const n0="LruGarbageCollector",M2=1048576;function i0([s,e],[i,a]){const l=qe(s,i);return l===0?qe(e,a):l}class V2{constructor(e){this.Pr=e,this.buffer=new Xt(i0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();i0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class k2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(n0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xo(i)?oe(n0,"Ignoring IndexedDB error during garbage collection: ",i):await Io(i)}await this.Ar(3e5)}))}}class L2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ih.ce);const a=new V2(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(t0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),ao()<=Be.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function P2(s,e){return new L2(s,e)}class U2{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class j2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class z2{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ql(a.mutation,l,Hn.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,He()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=He()){const l=ta();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=zl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,He())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=bs();const d=Kl(),p=(function(){return Kl()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Ar)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ql(b.mutation,y,b.mutation.getFieldMask(),_t.now())):d.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new j2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Kl();let l=new St(((d,p)=>d-p)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||Hn.empty();b=p.applyToLocalView(y,b),a.set(_,b);const w=(l.get(p.batchId)||He()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,w=FE();b.forEach((N=>{if(!c.has(N)){const Q=JE(i.get(N),a.get(N));Q!==null&&w.set(N,Q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return Bw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):qw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ta());let p=Jl,_=c;return d.next((y=>$.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{_=_.insert(b,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,He()))).next((b=>({batchId:p,changes:GE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let l=zl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(w,N){return new Dh(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((b=>{b.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,mn.newInvalidDocument(b)))}));let p=zl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ql(b.mutation,y,Hn.empty(),_t.now()),Vh(i,y)&&(p=p.insert(_,y))})),p}))}}class B2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:N2(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),$.resolve()}}class q2{constructor(){this.overlays=new St(pe.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ta(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new St(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=ta(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ta(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new a2(i,a));let c=this.Lr.get(i);c===void 0&&(c=He(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class H2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class up{constructor(){this.kr=new Xt(Wt.Kr),this.qr=new Xt(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Wt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Wt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new yt([])),a=new Wt(i,e),l=new Wt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new yt([])),a=new Wt(i,e),l=new Wt(i,e+1);let c=He();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||qe(e.Hr,i.Hr)}static Ur(e,i){return qe(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class G2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(Wt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new r2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Wt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Xt(qe);return i.forEach((l=>{const c=new Wt(l,0),d=new Wt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new pe(c),0);let p=new Xt(qe);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Wt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Wt(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class F2{constructor(e){this.ti=e,this.docs=(function(){return new St(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():mn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=bs();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||yw(gw(b),a)<=0||(l.has(b.key)||Vh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ee(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new K2(this)}getSize(e){return $.resolve(this.size)}}class K2 extends U2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Q2{constructor(e){this.persistence=e,this.ri=new ca((i=>np(i)),ip),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new up,this.targetCount=0,this.oi=So._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new So(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class hT{constructor(e,i){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new H2,this.referenceDelegate=e(this),this.li=new Q2(this),this.indexManager=new D2,this.remoteDocumentCache=(function(l){return new F2(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new x2(i),this.Pi=new B2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new q2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new G2(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new Y2(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class Y2 extends vw{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new up,this.Ai=null}static Vi(e){return new cp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=pe.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.fi=new ca((a=>bw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=P2(this,i)}static Vi(e,i){return new gh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hp(e,i.fromCache,a,l)}}class X2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LS()?8:Ew(pn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new X2;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(ao()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",oo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(ao()<=Be.DEBUG&&oe("QueryEngine","Query:",oo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(ao()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",oo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):$.resolve())}gs(e,i){if(Fv(i))return $.resolve(null);let a=zi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=xm(i,null,"F"),a=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=He(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,xm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,a,l){return Fv(i)||l.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(ao()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),oo(i)),this.Ds(e,d,i,pw(l,Jl)).next((p=>p)))}))}bs(e,i){let a=new Xt(qE(e));return i.forEach(((l,c)=>{Vh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return ao()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",oo(i)),this.fs.getDocumentsMatchingQuery(e,i,yr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fp="LocalStore",J2=3e8;class Z2{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new St(qe),this.Fs=new ca((c=>np(c)),ip),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function W2(s,e,i,a){return new Z2(s,e,i,a)}async function fT(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=He();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function eR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const w=y.batch,N=w.keys();let Q=$.resolve();return N.forEach((Z=>{Q=Q.next((()=>b.getEntry(_,Z))).next((se=>{const ee=y.docVersions.get(Z);et(ee!==null,48541),se.version.compareTo(ee)<0&&(w.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),b.addEntry(se)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=He();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function dT(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function tR(s,e){const i=Ce(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,w)=>{const N=l.get(w);if(!N)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Q=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Q=Q.withResumeToken(cn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(w,Q),(function(se,ee,ge){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=J2?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(N,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let _=bs(),y=He();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(nR(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!a.isEqual(we.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function nR(s,e,i){let a=He(),l=He();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=bs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):oe(fp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function iR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function sR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Vm(s,e,i){const a=Ce(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!xo(d))throw d;oe(fp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function s0(s,e,i){const a=Ce(s);let l=we.min(),c=He();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=Ce(_),N=w.Fs.get(b);return N!==void 0?$.resolve(w.vs.get(N)):w.li.getTargetData(y,b)})(a,d,zi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:He()))).next((p=>(rR(a,Gw(e),p),{documents:p,ks:c})))))}function rR(s,e,i){let a=s.Ms.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class r0{constructor(){this.activeTargetIds=$w()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aR{constructor(){this.vo=new r0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new r0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oR{Mo(e){}shutdown(){}}const a0="ConnectivityMonitor";class o0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(a0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kc=null;function km(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}const rm="RestConnection",lR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class uR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===ch?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=km(),p=this.Qo(e,i.toUriEncodedString());oe(rm,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=wo(y);return this.zo(e,p,_,a,b).then((w=>(oe(rm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw aa(rm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=lR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class cR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Ll=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ho extends uR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ho.c_){const e=vE();Ll(e,_E.STAT_EVENT,(i=>{i.stat===Sm.PROXY?oe(fn,"STAT_EVENT: detected buffering proxy"):i.stat===Sm.NOPROXY&&oe(fn,"STAT_EVENT: detected no buffering proxy")})),ho.c_=!0}}zo(e,i,a,l,c){const d=km();return new Promise(((p,_)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const w=y.getResponseJson();oe(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Jc.TIMEOUT:oe(fn,`RPC '${e}' ${d} timed out`),_(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const N=y.getStatus();if(oe(fn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const se=(function(ge){const Se=ge.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Se)>=0?Se:J.UNKNOWN})(Z.status);_(new ce(se,Z.message))}else _(new ce(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(fn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(fn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=km(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");oe(fn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,N=!1;const Q=new cR({Ho:Z=>{N?oe(fn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(w||(oe(fn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),oe(fn,`RPC '${e}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return Ll(b,jl.EventType.OPEN,(()=>{N||(oe(fn,`RPC '${e}' stream ${l} transport opened.`),Q.i_())})),Ll(b,jl.EventType.CLOSE,(()=>{N||(N=!0,oe(fn,`RPC '${e}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),Ll(b,jl.EventType.ERROR,(Z=>{N||(N=!0,aa(fn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),Ll(b,jl.EventType.MESSAGE,(Z=>{if(!N){const se=Z.data[0];et(!!se,16349);const ee=se,ge=ee?.error||ee[0]?.error;if(ge){oe(fn,`RPC '${e}' stream ${l} received error:`,ge);const Se=ge.status;let Te=(function(Fe){const x=Ht[Fe];if(x!==void 0)return WE(x)})(Se),$e=ge.message;Se==="NOT_FOUND"&&$e.includes("database")&&$e.includes("does not exist")&&$e.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Te===void 0&&(Te=J.INTERNAL,$e="Unknown error status: "+Se+" with message "+ge.message),N=!0,Q.o_(new ce(Te,$e)),b.close()}else oe(fn,`RPC '${e}' stream ${l} received:`,se),Q.__(se)}})),ho.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return EE()}}function hR(s){return new ho(s)}function am(){return typeof document<"u"?document:null}function jh(s){return new p2(s,!0)}ho.c_=!1;class mT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const l0="PersistentStream";class pT{constructor(e,i,a,l,c,d,p,_){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ce(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(l0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fR extends pT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=_2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Bi(d.readTime):we.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Im(_)?{documents:T2(c,_)}:{query:b2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=nT(c,d.resumeToken);const y=Nm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=ph(c,d.snapshotVersion.toTimestamp());const y=Nm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=A2(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Mm(this.serializer),i.removeTarget=e,this.K_(i)}}class dR extends pT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=E2(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Mm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>v2(this.serializer,a)))};this.K_(i)}}class mR{}class pR extends mR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Dm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function gR(s,e,i,a){return new pR(s,e,i,a)}class yR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class _R{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ha(this)&&(oe(oa,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await cu(y),y.Va.set("Unknown"),y.Ea.delete(4),await zh(y)})(this))}))})),this.Va=new yR(a,l)}}async function zh(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function cu(s){for(const e of s.Ra)await e(!1)}function gT(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),gp(i)?pp(i):No(i).O_()&&mp(i,e))}function dp(s,e){const i=Ce(s),a=No(i);i.Ia.delete(e),a.O_()&&yT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Va.set("Unknown"))}function mp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}No(s).Z_(e)}function yT(s,e){s.da.$e(e),No(s).X_(e)}function pp(s){s.da=new h2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function gp(s){return ha(s)&&!No(s).x_()&&s.Ia.size>0}function ha(s){return Ce(s).Ea.size===0}function _T(s){s.da=void 0}async function vR(s){s.Va.set("Online")}async function ER(s){s.Ia.forEach(((e,i)=>{mp(s,e)}))}async function TR(s,e){_T(s),gp(s)?(s.Va.ha(e),pp(s)):s.Va.set("Unknown")}async function bR(s,e,i){if(s.Va.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(a){oe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof th?s.da.Xe(e):e instanceof eT?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const a=await dT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(cn.EMPTY_BYTE_STRING,b.snapshotVersion)),yT(c,_);const w=new hr(b.target,_,y,b.sequenceNumber);mp(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){oe(oa,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!xo(e))throw e;s.Ea.add(1),await cu(s),s.Va.set("Offline"),i||(i=()=>dT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function vT(s,e){return e().catch((i=>yh(s,i,e)))}async function Bh(s){const e=Ce(s),i=Tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;SR(e);)try{const l=await iR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,AR(e,l)}catch(l){await yh(e,l)}ET(e)&&TT(e)}function SR(s){return ha(s)&&s.Ta.length<10}function AR(s,e){s.Ta.push(e);const i=Tr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function ET(s){return ha(s)&&!Tr(s).x_()&&s.Ta.length>0}function TT(s){Tr(s).start()}async function wR(s){Tr(s).ra()}async function RR(s){const e=Tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function CR(s,e,i){const a=s.Ta.shift(),l=ap.from(a,e,i);await vT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Bh(s)}async function IR(s,e){e&&Tr(s).Y_&&await(async function(a,l){if((function(d){return l2(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Tr(a).B_(),await vT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Bh(a)}})(s,e),ET(s)&&TT(s)}async function u0(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),oe(oa,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await cu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zh(i)}async function xR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await zh(i)):e||(i.Ea.add(2),await cu(i),i.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(i,a,l){const c=Ce(i);return c.sa(),new fR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:vR.bind(null,s),Yo:ER.bind(null,s),t_:TR.bind(null,s),J_:bR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),gp(s)?pp(s):s.Va.set("Unknown")):(await s.ma.stop(),_T(s))}))),s.ma}function Tr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ce(i);return c.sa(),new dR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:wR.bind(null,s),t_:IR.bind(null,s),ta:RR.bind(null,s),na:CR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Bh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new yp(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),xo(s))return new ce(J.UNAVAILABLE,`${e}: ${s}`);throw s}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=zl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class c0{constructor(){this.ga=new St(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ao{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ao(e,i,fo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class NR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class DR{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ce(i),c=l.queries;l.queries=h0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function h0(){return new ca((s=>BE(s)),Mh)}async function vp(s,e){const i=Ce(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new NR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=_p(d,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Tp(i)}async function Ep(s,e){const i=Ce(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function OR(s,e){const i=Ce(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Tp(i)}function MR(s,e,i){const a=Ce(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function Tp(s){s.Ca.forEach((e=>{e.next()}))}var Lm,f0;(f0=Lm||(Lm={})).Ma="default",f0.Cache="cache";class bp{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Ao(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}class bT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class VR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=qE(e),this.tu=new fo(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new c0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,w)=>{const N=l.get(b),Q=Vh(this.query,w)?w:null,Z=!!N&&this.mutatedKeys.has(N.key),se=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;N&&Q?N.data.isEqual(Q.data)?Z!==se&&(a.track({type:3,doc:Q}),ee=!0):this.su(N,Q)||(a.track({type:2,doc:Q}),ee=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!N&&Q?(a.track({type:0,doc:Q}),ee=!0):N&&!Q&&(a.track({type:1,doc:N}),ee=!0,(_||y)&&(p=!0)),ee&&(Q?(d=d.add(Q),c=se?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(Q,Z){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:ee})}};return se(Q)-se(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new Ao(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new ST(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new bT(a))})),i}cu(e){this.Za=e.ks,this.Ya=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sp="SyncEngine";class kR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class LR{constructor(e){this.key=e,this.hu=!1}}class PR{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((p=>BE(p)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(pe.comparator),this.Au=new Map,this.Vu=new up,this.du={},this.mu=new Map,this.fu=So.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UR(s,e,i=!0){const a=xT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AT(a,e,i,!0),l}async function jR(s,e){const i=xT(s);await AT(i,e,!0,!1)}async function AT(s,e,i,a){const l=await sR(s.localStore,zi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await zR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&gT(s.remoteStore,l),p}async function zR(s,e,i,a,l){s.pu=(w,N,Q)=>(async function(se,ee,ge,Se){let Te=ee.view.ru(ge);Te.Ss&&(Te=await s0(se.localStore,ee.query,!1).then((({documents:x})=>ee.view.ru(x,Te))));const $e=Se&&Se.targetChanges.get(ee.targetId),dt=Se&&Se.targetMismatches.get(ee.targetId)!=null,Fe=ee.view.applyChanges(Te,se.isPrimaryClient,$e,dt);return m0(se,ee.targetId,Fe.au),Fe.snapshot})(s,w,N,Q);const c=await s0(s.localStore,e,!0),d=new VR(e,c.ks),p=d.ru(c.documents),_=uu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);m0(s,i,y.au);const b=new kR(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function BR(s,e,i){const a=Ce(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Mh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&dp(a.remoteStore,l.targetId),Pm(a,l.targetId)})).catch(Io)):(Pm(a,l.targetId),await Vm(a.localStore,l.targetId,!0))}async function qR(s,e){const i=Ce(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dp(i.remoteStore,a.targetId))}async function HR(s,e,i){const a=$R(s);try{const l=await(function(d,p){const _=Ce(d),y=_t.now(),b=p.reduce(((Q,Z)=>Q.add(Z.key)),He());let w,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=bs(),se=He();return _.xs.getEntries(Q,b).next((ee=>{Z=ee,Z.forEach(((ge,Se)=>{Se.isValidDocument()||(se=se.add(ge))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((ee=>{w=ee;const ge=[];for(const Se of p){const Te=i2(Se,w.get(Se.key).overlayedDocument);Te!=null&&ge.push(new Ar(Se.key,Te,VE(Te.value.mapValue),vn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ge,p)})).next((ee=>{N=ee;const ge=ee.applyToLocalDocumentSet(w,se);return _.documentOverlayCache.saveOverlays(Q,ee.batchId,ge)}))})).then((()=>({batchId:N.batchId,changes:GE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new St(qe)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await hu(a,l.changes),await Bh(a.remoteStore)}catch(l){const c=_p(l,"Failed to persist write");i.reject(c)}}async function wT(s,e){const i=Ce(s);try{const a=await tR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await hu(i,a,e)}catch(a){await Io(a)}}function d0(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Ce(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,w)=>{for(const N of w.ba)N.va(p)&&(y=!0)})),y&&Tp(_)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function GR(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new St(pe.comparator);d=d.insert(c,mn.newNoDocument(c,we.min()));const p=He().add(c),_=new Uh(we.min(),new Map,new St(qe),d,p);await wT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),Ap(a)}else await Vm(a.localStore,e,!1).then((()=>Pm(a,e,i))).catch(Io)}async function FR(s,e){const i=Ce(s),a=e.batch.batchId;try{const l=await eR(i.localStore,e);CT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await hu(i,l)}catch(l){await Io(l)}}async function KR(s,e,i){const a=Ce(s);try{const l=await(function(d,p){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(et(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,e);CT(a,e,i),RT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await hu(a,l)}catch(l){await Io(l)}}function RT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function CT(s,e,i){const a=Ce(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||IT(s,a)}))}function IT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(dp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Ap(s))}function m0(s,e,i){for(const a of i)a instanceof bT?(s.Vu.addReference(a.key,e),QR(s,a)):a instanceof ST?(oe(Sp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||IT(s,a.key)):Ee(19791,{wu:a})}function QR(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(oe(Sp,"New document in limbo: "+i),s.Eu.add(a),Ap(s))}function Ap(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(yt.fromString(e)),a=s.fu.next();s.Au.set(a,new LR(i)),s.Ru=s.Ru.insert(i,a),gT(s.remoteStore,new hr(zi(Oh(i.path)),a,"TargetPurposeLimboResolution",Ih.ce))}}async function hu(s,e,i){const a=Ce(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=hp.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const b=Ce(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(N=>$.forEach(N.Ts,(Q=>b.persistence.referenceDelegate.addReference(w,N.targetId,Q))).next((()=>$.forEach(N.Is,(Q=>b.persistence.referenceDelegate.removeReference(w,N.targetId,Q)))))))))}catch(w){if(!xo(w))throw w;oe(fp,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const Q=b.vs.get(N),Z=Q.snapshotVersion,se=Q.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(N,se)}}})(a.localStore,c))}async function YR(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){oe(Sp,"User change. New user:",e.toKey());const a=await fT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ce(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hu(i,a.Ns)}}function XR(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return He().add(a.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function xT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GR.bind(null,e),e.Pu.J_=OR.bind(null,e.eventManager),e.Pu.yu=MR.bind(null,e.eventManager),e}function $R(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return W2(this.persistence,new $2,e.initialUser,this.serializer)}Cu(e){return new hT(cp.Vi,this.serializer)}Du(e){return new aR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class JR extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new k2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new hT((a=>gh.Vi(a,i)),this.serializer)}}class Um{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>d0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,this.syncEngine),await xR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DR})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),a=hR(e.databaseInfo);return gR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new _R(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>d0(this.syncEngine,i,0)),(function(){return o0.v()?new o0:new oR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const w=new PR(l,c,d,p,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);oe(oa,"RemoteStore shutting down."),a.Ea.add(5),await cu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const br="FirestoreClient";class ZR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_p(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function om(s,e){s.asyncQueue.verifyOperationInProgress(),oe(br,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await fT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function p0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await WR(s);oe(br,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>u0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>u0(e.remoteStore,l))),s._onlineComponents=e}async function WR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(br,"Using user provided OfflineComponentProvider");try{await om(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;aa("Error using user provided cache. Falling back to memory cache: "+i),await om(s,new _h)}}else oe(br,"Using default OfflineComponentProvider"),await om(s,new JR(void 0));return s._offlineComponents}async function NT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(br,"Using user provided OnlineComponentProvider"),await p0(s,s._uninitializedComponentsProvider._online)):(oe(br,"Using default OnlineComponentProvider"),await p0(s,new Um))),s._onlineComponents}function eC(s){return NT(s).then((e=>e.syncEngine))}async function vh(s){const e=await NT(s),i=e.eventManager;return i.onListen=UR.bind(null,e.syncEngine),i.onUnlisten=BR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=jR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=qR.bind(null,e.syncEngine),i}function tC(s,e,i,a){const l=new wp(a),c=new bp(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>vp(await vh(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>Ep(await vh(s),c)))}}function nC(s,e,i={}){const a=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new wp({next:N=>{b.Nu(),d.enqueueAndForget((()=>Ep(c,w)));const Q=N.docs.has(p);!Q&&N.fromCache?y.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&N.fromCache&&_&&_.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new bp(Oh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return vp(c,w)})(await vh(s),s.asyncQueue,e,i,a))),a.promise}function iC(s,e,i={}){const a=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new wp({next:N=>{b.Nu(),d.enqueueAndForget((()=>Ep(c,w))),N.fromCache&&_.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new bp(p,b,{includeMetadataChanges:!0,Ka:!0});return vp(c,w)})(await vh(s),s.asyncQueue,e,i,a))),a.promise}function sC(s,e){const i=new ys;return s.asyncQueue.enqueueAndForget((async()=>HR(await eC(s),e,i))),i.promise}function DT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const rC="ComponentProvider",g0=new Map;function aC(s,e,i,a,l){return new ww(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,DT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const OT="firestore.googleapis.com",y0=!0;class _0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=y0}else this.host=e.host,this.ssl=e.ssl??y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M2)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new sw;switch(a.type){case"firstParty":return new lw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=g0.get(i);a&&(oe(rC,"Removing Datastore"),g0.delete(i),a.terminate())})(this),Promise.resolve()}}function oC(s,e,i,a={}){s=_n(s,qh);const l=wo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(lE(`https://${p}`),uE("Firestore",!0)),c.host!==OT&&c.host!==p&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!vs(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=dn.MOCK_USER;else{y=CS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new dn(w)}s._authCredentials=new rw(new bE(y,b))}}class fu{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ou(i,kt._jsonSchema))return new kt(e,a||null,new pe(yt.fromString(i.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Gt("string",kt._jsonSchemaVersion),referencePath:Gt("string")};class gr extends fu{constructor(e,i,a){super(e,i,Oh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new pe(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function so(s,e,...i){if(s=Nt(s),SE("collection","path",e),s instanceof qh){const a=yt.fromString(e,...i);return Ov(a),new gr(s,null,a)}{if(!(s instanceof kt||s instanceof gr))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return Ov(a),new gr(s.firestore,null,a)}}function xt(s,e,...i){if(s=Nt(s),arguments.length===1&&(e=Jm.newId()),SE("doc","path",e),s instanceof qh){const a=yt.fromString(e,...i);return Dv(a),new kt(s,null,new pe(a))}{if(!(s instanceof kt||s instanceof gr))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return Dv(a),new kt(s.firestore,s instanceof gr?s.converter:null,new pe(a))}}const v0="AsyncQueue";class E0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const a=am();a&&oe(v0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=am();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=am();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;oe(v0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",T0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=yp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function T0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Qi extends qh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new E0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E0(e),this._firestoreClient=void 0,await e}}}function lC(s,e){const i=typeof s=="object"?s:Xm(),a=typeof s=="string"?s:ch,l=Ym(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wS("firestore");c&&oC(l,...c)}return l}function du(s){if(s._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uC(s),s._firestoreClient}function uC(s){const e=s._freezeSettings(),i=aC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ZR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(cn.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ii(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Gt("string",ii._jsonSchemaVersion),bytes:Gt("string")};class Hh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Do{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Gt("string",qi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class _i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new _i(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Gt("string",_i._jsonSchemaVersion),vectorValues:Gt("object")};const cC=/^__.*__$/;class hC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class MT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function VT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Gh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Gh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Eh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VT(this.dataSource)&&cC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||jh(e)}createContext(e,i,a,l=!1){return new Gh({dataSource:e,methodName:i,targetDoc:a,path:un.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(s){const e=s._freezeSettings(),i=jh(s._databaseId);return new fC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Rp(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Np("Data must be an object, but it was:",d,a);const p=UT(a,d);let _,y;if(c.merge)_=new Hn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const N=nu(e,w,i);if(!d.contains(N))throw new ce(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);BT(b,N)||b.push(N)}_=new Hn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new hC(new Dn(p),_,y)}class Kh extends Do{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function kT(s,e,i){return new Gh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cp extends Do{_toFieldTransform(e){return new rp(e.path,new tu)}isEqual(e){return e instanceof Cp}}class Ip extends Do{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=kT(this,e,!0),a=this.Ac.map((c=>Oo(c,i))),l=new To(a);return new rp(e.path,l)}isEqual(e){return e instanceof Ip&&vs(this.Ac,e.Ac)}}class xp extends Do{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=kT(this,e,!0),a=this.Ac.map((c=>Oo(c,i))),l=new bo(a);return new rp(e.path,l)}isEqual(e){return e instanceof xp&&vs(this.Ac,e.Ac)}}function LT(s,e,i,a){const l=s.createContext(1,e,i);Np("Data must be an object, but it was:",l,a);const c=[],d=Dn.empty();Sr(a,((_,y)=>{const b=zT(e,_,i);y=Nt(y);const w=l.childContextForFieldPath(b);if(y instanceof Kh)c.push(b);else{const N=Oo(y,w);N!=null&&(c.push(b),d.set(b,N))}}));const p=new Hn(c);return new MT(d,p,l.fieldTransforms)}function PT(s,e,i,a,l,c){const d=s.createContext(1,e,i),p=[nu(e,a,i)],_=[l];if(c.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(nu(e,c[N])),_.push(c[N+1]);const y=[],b=Dn.empty();for(let N=p.length-1;N>=0;--N)if(!BT(y,p[N])){const Q=p[N];let Z=_[N];Z=Nt(Z);const se=d.childContextForFieldPath(Q);if(Z instanceof Kh)y.push(Q);else{const ee=Oo(Z,se);ee!=null&&(y.push(Q),b.set(Q,ee))}}const w=new Hn(y);return new MT(b,w,d.fieldTransforms)}function Oo(s,e){if(jT(s=Nt(s)))return Np("Unsupported field value:",e,s),UT(s,e);if(s instanceof Do)return(function(a,l){if(!VT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Oo(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Nt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Jw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:ph(l.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(l.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ii)return{bytesValue:nT(l.serializer,a._byteString)};if(a instanceof kt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof _i)return(function(d,p){const _=d instanceof _i?d.toArray():d;return{mapValue:{fields:{[OE]:{stringValue:ME},[hh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return sp(p.serializer,b)}))}}}}}})(a,l);if(uT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Zm(a)}`)})(s,e)}function UT(s,e){const i={};return RE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,((a,l)=>{const c=Oo(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof qi||s instanceof ii||s instanceof kt||s instanceof Do||s instanceof _i||uT(s))}function Np(s,e,i){if(!jT(i)||!AE(i)){const a=Zm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function nu(s,e,i){if((e=Nt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return zT(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const dC=new RegExp("[~\\*/\\[\\]]");function zT(s,e,i){if(e.search(dC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Hh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ce(J.INVALID_ARGUMENT,p+s+_)}function BT(s,e){return s.some((i=>i.isEqual(e)))}class mC{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((a=>Vt(a.doubleValue)));return new _i(i)}convertGeoPoint(e){return new qi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Nh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=yt.fromString(e);et(lT(a),9688,{name:e});const l=new Wl(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Dp extends mC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,i)}}function Qc(){return new Cp("serverTimestamp")}function b0(...s){return new Ip("arrayUnion",s)}function lm(...s){return new xp("arrayRemove",s)}const S0="@firebase/firestore",A0="4.11.0";function w0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class qT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(nu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pC extends qT{data(){return super.data()}}function HT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Op(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends qT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(nu("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Gt("string",na._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class nh extends na{data(e={}){return super.data(e)}}class ia{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new nh(this._firestore,this._userDataWriter,a.key,a,new ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:gC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:Gt("string",ia._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class yC{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Fh(e)}set(e,i,a){this._verifyNotCommitted();const l=um(e,this._firestore),c=Op(l.converter,i,a),d=Rp(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,vn.none())),this}update(e,i,a,...l){this._verifyNotCommitted();const c=um(e,this._firestore);let d;return d=typeof(i=Nt(i))=="string"||i instanceof Hh?PT(this._dataReader,"WriteBatch.update",c._key,i,a,l):LT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=um(e,this._firestore);return this._mutations=this._mutations.concat(new Ph(i._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function um(s,e){if((s=Nt(s)).firestore!==e)throw new ce(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function R0(s){s=_n(s,kt);const e=_n(s.firestore,Qi),i=du(e);return nC(i,s._key).then((a=>GT(e,s,a)))}function _C(s){s=_n(s,fu);const e=_n(s.firestore,Qi),i=du(e),a=new Dp(e);return HT(s._query),iC(i,s._query).then((l=>new ia(e,a,s,l)))}function vC(s,e,i){s=_n(s,kt);const a=_n(s.firestore,Qi),l=Op(s.converter,e,i),c=Fh(a);return mu(a,[Rp(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,vn.none())])}function ro(s,e,i,...a){s=_n(s,kt);const l=_n(s.firestore,Qi),c=Fh(l);let d;return d=typeof(e=Nt(e))=="string"||e instanceof Hh?PT(c,"updateDoc",s._key,e,i,a):LT(c,"updateDoc",s._key,e),mu(l,[d.toMutation(s._key,vn.exists(!0))])}function Yc(s){return mu(_n(s.firestore,Qi),[new Ph(s._key,vn.none())])}function cm(s,e){const i=_n(s.firestore,Qi),a=xt(s),l=Op(s.converter,e),c=Fh(s.firestore);return mu(i,[Rp(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,vn.exists(!1))]).then((()=>a))}function hm(s,...e){s=Nt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||w0(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(w0(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof kt)d=_n(s.firestore,Qi),p=Oh(s._key.path),c={next:y=>{e[a]&&e[a](GT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=_n(s,fu);d=_n(y.firestore,Qi),p=y._query;const b=new Dp(d);c={next:w=>{e[a]&&e[a](new ia(d,b,y,w))},error:e[a+1],complete:e[a+2]},HT(s._query)}const _=du(d);return tC(_,p,l,c)}function mu(s,e){const i=du(s);return sC(i,e)}function GT(s,e,i){const a=i.docs.get(e._key),l=new Dp(s);return new na(s,l,e._key,a,new ql(i.hasPendingWrites,i.fromCache),e.converter)}function C0(s){return s=_n(s,Qi),du(s),new yC(s,(e=>mu(s,e)))}(function(e,i=!0){iw(Ro),yo(new sa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Qi(new aw(a.getProvider("auth-internal")),new uw(d,a.getProvider("app-check-internal")),Rw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),mr(S0,A0,e),mr(S0,A0,"esm2020")})();function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EC=FT,KT=new ru("auth","Firebase",FT());const Th=new Km("@firebase/auth");function TC(s,...e){Th.logLevel<=Be.WARN&&Th.warn(`Auth (${Ro}): ${s}`,...e)}function ih(s,...e){Th.logLevel<=Be.ERROR&&Th.error(`Auth (${Ro}): ${s}`,...e)}function vi(s,...e){throw Mp(s,...e)}function Hi(s,...e){return Mp(s,...e)}function QT(s,e,i){const a={...EC(),[e]:i};return new ru("auth","Firebase",a).create(e,{appName:s.name})}function _s(s){return QT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return KT.create(s,...e)}function ve(s,e,...i){if(!s)throw Mp(e,...i)}function ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ih(e),new Error(e)}function Ss(s,e){s||ps(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function bC(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}function SC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bC()||MS()||"connection"in navigator)?navigator.onLine:!0}function AC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class pu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=NS()||VS()}get(){return SC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vp(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class YT{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CC=new pu(3e4,6e4);function ws(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rs(s,e,i,a,l={}){return XT(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=au({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return OS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&wo(s.emulatorConfig.host)&&(y.credentials="include"),YT.fetch()(await $T(s,s.config.apiHost,i,p),y)})}async function XT(s,e,i){s._canInitEmulator=!1;const a={...wC,...e};try{const l=new xC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Xc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Xc(s,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw QT(s,b,y);vi(s,b)}}catch(l){if(l instanceof As)throw l;vi(s,"network-request-failed",{message:String(l)})}}async function gu(s,e,i,a,l={}){const c=await Rs(s,e,i,a,l);return"mfaPendingCredential"in c&&vi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $T(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Vp(s.config,l):`${s.config.apiScheme}://${l}`;return RC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function IC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Hi(this.auth,"network-request-failed")),CC.get())})}}function Xc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Hi(s,e,a);return l.customData._tokenResponse=i,l}function x0(s){return s!==void 0&&s.enterprise!==void 0}class NC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return IC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DC(s,e){return Rs(s,"GET","/v2/recaptchaConfig",ws(s,e))}async function OC(s,e){return Rs(s,"POST","/v1/accounts:delete",e)}async function bh(s,e){return Rs(s,"POST","/v1/accounts:lookup",e)}function Yl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MC(s,e=!1){const i=Nt(s),a=await i.getIdToken(e),l=kp(a);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Yl(fm(l.auth_time)),issuedAtTime:Yl(fm(l.iat)),expirationTime:Yl(fm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function fm(s){return Number(s)*1e3}function kp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const l=sE(i);return l?JSON.parse(l):(ih("Failed to decode base64 JWT payload"),null)}catch(l){return ih("Caught error parsing JWT payload as JSON",l?.toString()),null}}function N0(s){const e=kp(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof As&&VC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function VC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class kC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(s){const e=s.auth,i=await s.getIdToken(),a=await iu(s,bh(e,{idToken:i}));ve(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?ZT(l.providerUserInfo):[],d=LC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function JT(s){const e=Nt(s);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LC(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function ZT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function PC(s,e){const i=await XT(s,{},async()=>{const a=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await $T(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&wo(s.emulatorConfig.host)&&(_.credentials="include"),YT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function UC(s,e){return Rs(s,"POST","/v2/accounts:revokeToken",ws(s,e))}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=N0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await PC(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new mo;return a&&(ve(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return ps("not implemented")}}function ar(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new kC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return MC(this,e)}reload(){return JT(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await iu(this,OC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:Q,providerData:Z,stsTokenManager:se}=i;ve(w&&se,e,"internal-error");const ee=mo.fromJSON(this.name,se);ve(typeof w=="string",e,"internal-error"),ar(a,e.name),ar(l,e.name),ve(typeof N=="boolean",e,"internal-error"),ve(typeof Q=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(p,e.name),ar(_,e.name),ar(y,e.name),ar(b,e.name);const ge=new yi({uid:w,auth:e,email:l,emailVerified:N,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ge.providerData=Z.map(Se=>({...Se}))),_&&(ge._redirectEventId=_),ge}static async _fromIdTokenResponse(e,i,a=!1){const l=new mo;l.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ZT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new mo;p.updateFromIdToken(a);const _=new yi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const D0=new Map;function gs(s){Ss(s instanceof Function,"Expected a class definition");let e=D0.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,D0.set(s,e),e)}class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}WT.type="NONE";const O0=WT;function sh(s,e,i){return`firebase:${s}:${e}:${i}`}class po{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=sh(this.userKey,l.apiKey,c),this.fullPersistenceKey=sh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await bh(this.auth,{idToken:e}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new po(gs(O0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||gs(O0);const d=sh(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const N=await bh(e,{idToken:b}).catch(()=>{});if(!N)break;w=await yi._fromGetAccountInfoResponse(e,N,b)}else w=yi._fromJSON(e,b);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new po(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new po(c,e,a))}}function M0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r1(e))return"Blackberry";if(a1(e))return"Webos";if(t1(e))return"Safari";if((e.includes("chrome/")||n1(e))&&!e.includes("edge/"))return"Chrome";if(s1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function e1(s=pn()){return/firefox\//i.test(s)}function t1(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n1(s=pn()){return/crios\//i.test(s)}function i1(s=pn()){return/iemobile/i.test(s)}function s1(s=pn()){return/android/i.test(s)}function r1(s=pn()){return/blackberry/i.test(s)}function a1(s=pn()){return/webos/i.test(s)}function Lp(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function jC(s=pn()){return Lp(s)&&!!window.navigator?.standalone}function zC(){return kS()&&document.documentMode===10}function o1(s=pn()){return Lp(s)||s1(s)||a1(s)||r1(s)||/windows phone/i.test(s)||i1(s)}function l1(s,e=[]){let i;switch(s){case"Browser":i=M0(pn());break;case"Worker":i=`${M0(pn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${a}`}class BC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qC(s,e={}){return Rs(s,"GET","/v2/passwordPolicy",ws(s,e))}const HC=6;class GC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class FC{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await bh(this,{idToken:e}),a=await yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(_s(this));const i=e?Nt(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qC(this),i=new GC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await UC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(s){return Nt(s)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=HS(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KC(s){Qh=s}function u1(s){return Qh.loadJS(s)}function QC(){return Qh.recaptchaEnterpriseScript}function YC(){return Qh.gapiScript}function XC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class $C{constructor(){this.enterprise=new JC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class JC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const ZC="recaptcha-enterprise",c1="NO_RECAPTCHA";class WC{constructor(e){this.type=ZC,this.auth=fa(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{DC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new NC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;x0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(c1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $C().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&x0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=QC();_.length!==0&&(_+=p),u1(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function k0(s,e,i,a=!1,l=!1){const c=new WC(s);let d;if(l)d=c1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Bm(s,e,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await k0(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await k0(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function eI(s,e){const i=Ym(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(vs(c,e??{}))return l;vi(l,"already-initialized")}return i.initialize({options:e})}function tI(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function nI(s,e,i){const a=fa(s);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=h1(e),{host:d,port:p}=iI(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(vs(y,a.config.emulator)&&vs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,wo(d)?(lE(`${c}//${d}${_}`),uE("Auth",!0)):sI()}function h1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function iI(s){const e=h1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:L0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:L0(d)}}}function L0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function sI(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Pp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function rI(s,e){return Rs(s,"POST","/v1/accounts:signUp",e)}async function aI(s,e){return gu(s,"POST","/v1/accounts:signInWithPassword",ws(s,e))}async function oI(s,e){return Rs(s,"POST","/v1/accounts:sendOobCode",ws(s,e))}async function lI(s,e){return oI(s,e)}async function uI(s,e){return gu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}async function cI(s,e){return gu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}class su extends Pp{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new su(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new su(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,i,"signInWithPassword",aI);case"emailLink":return uI(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,a,"signUpPassword",rI);case"emailLink":return cI(e,{idToken:i,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function go(s,e){return gu(s,"POST","/v1/accounts:signInWithIdp",ws(s,e))}const hI="http://localhost";class la extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new la(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return go(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,go(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,go(e,i)}buildRequest(){const e={requestUri:hI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=au(i)}return e}}function fI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dI(s){const e=Pl(Ul(s)).link,i=e?Pl(Ul(e)).deep_link_id:null,a=Pl(Ul(s)).deep_link_id;return(a?Pl(Ul(a)).link:null)||a||i||e||s}class Up{constructor(e){const i=Pl(Ul(e)),a=i.apiKey??null,l=i.oobCode??null,c=fI(i.mode??null);ve(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=dI(e);try{return new Up(i)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,i){return su._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Up.parseLink(i);return ve(a,"argument-error"),su._fromEmailAndCode(e,a.code,a.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends yu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class lr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ur extends yu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends yu{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function mI(s,e){return gu(s,"POST","/v1/accounts:signUp",ws(s,e))}class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await yi._fromIdTokenResponse(e,a,l),d=P0(a);return new ua({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=P0(a);return new ua({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function P0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ah extends As{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Ah(e,i,a,l)}}function d1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(s,c,e,a):c})}async function pI(s,e,i=!1){const a=await iu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ua._forOperation(s,"link",a)}async function gI(s,e,i=!1){const{auth:a}=s;if(ni(a.app))return Promise.reject(_s(a));const l="reauthenticate";try{const c=await iu(s,d1(a,l,e,s),i);ve(c.idToken,a,"internal-error");const d=kp(c.idToken);ve(d,a,"internal-error");const{sub:p}=d;return ve(s.uid===p,a,"user-mismatch"),ua._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&vi(a,"user-mismatch"),c}}async function m1(s,e,i=!1){if(ni(s.app))return Promise.reject(_s(s));const a="signIn",l=await d1(s,a,e),c=await ua._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function yI(s,e){return m1(fa(s),e)}async function p1(s){const e=fa(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _I(s,e,i){if(ni(s.app))return Promise.reject(_s(s));const a=fa(s),d=await Bm(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&p1(s),_}),p=await ua._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function vI(s,e,i){return ni(s.app)?Promise.reject(_s(s)):yI(Nt(s),Mo.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&p1(s),a})}async function U0(s,e){const i=Nt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await lI(i.auth,l);c!==s.email&&await s.reload()}function EI(s,e,i,a){return Nt(s).onIdTokenChanged(e,i,a)}function TI(s,e,i){return Nt(s).beforeAuthStateChanged(e,i)}function bI(s,e,i,a){return Nt(s).onAuthStateChanged(e,i,a)}function j0(s){return Nt(s).signOut()}async function SI(s){return Nt(s).delete()}const wh="__sak";class g1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AI=1e3,wI=10;class y1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,wI):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const RI=y1;class _1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_1.type="SESSION";const v1=_1;function CI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await CI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function jp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class II{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=jp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function xI(s){Gi().location.href=s}function E1(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function NI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DI(){return navigator?.serviceWorker?.controller||null}function OI(){return E1()?self:null}const T1="firebaseLocalStorageDb",MI=1,Rh="firebaseLocalStorage",b1="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Xh(s,e){return s.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function VI(){const s=indexedDB.deleteDatabase(T1);return new _u(s).toPromise()}function qm(){const s=indexedDB.open(T1,MI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Rh,{keyPath:b1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Rh)?e(a):(a.close(),await VI(),e(await qm()))})})}async function z0(s,e,i){const a=Xh(s,!0).put({[b1]:e,value:i});return new _u(a).toPromise()}async function kI(s,e){const i=Xh(s,!1).get(e),a=await new _u(i).toPromise();return a===void 0?null:a.value}function B0(s,e){const i=Xh(s,!0).delete(e);return new _u(i).toPromise()}const LI=800,PI=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>PI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(OI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NI(),!this.activeServiceWorker)return;this.sender=new II(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await z0(e,wh,"1"),await B0(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>z0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>kI(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>B0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Xh(l,!1).getAll();return new _u(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const UI=S1;new pu(3e4,6e4);function jI(s,e){return e?gs(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zp extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,i){return go(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function zI(s){return m1(s.auth,new zp(s),s.bypassAuthState)}function BI(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),gI(i,new zp(s),s.bypassAuthState)}async function qI(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),pI(i,new zp(s),s.bypassAuthState)}class A1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zI;case"linkViaPopup":case"linkViaRedirect":return qI;case"reauthViaPopup":case"reauthViaRedirect":return BI;default:vi(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HI=new pu(2e3,1e4);class co extends A1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HI.get())};e()}}co.currentPopupAction=null;const GI="pendingRedirect",rh=new Map;class FI extends A1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const a=await KI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KI(s,e){const i=XI(e),a=YI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function QI(s,e){rh.set(s._key(),e)}function YI(s){return gs(s._redirectPersistence)}function XI(s){return sh(GI,s.config.apiKey,s.name)}async function $I(s,e,i=!1){if(ni(s.app))return Promise.reject(_s(s));const a=fa(s),l=jI(a,e),d=await new FI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const JI=600*1e3;class ZI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!w1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JI&&this.cachedEventUids.clear(),this.cachedEventUids.has(q0(e))}saveEventToCache(e){this.cachedEventUids.add(q0(e)),this.lastProcessedEventTime=Date.now()}}function q0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function w1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function WI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w1(s);default:return!1}}async function ex(s,e={}){return Rs(s,"GET","/v1/projects",e)}const tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nx=/^https?/;async function ix(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ex(s);for(const i of e)try{if(sx(i))return}catch{}vi(s,"unauthorized-domain")}function sx(s){const e=jm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!nx.test(i))return!1;if(tx.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const rx=new pu(3e4,6e4);function H0(){const s=Gi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ax(s){return new Promise((e,i)=>{function a(){H0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H0(),i(Hi(s,"network-request-failed"))},timeout:rx.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const l=XC("iframefcb");return Gi()[l]=()=>{gapi.load?a():i(Hi(s,"network-request-failed"))},u1(`${YC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw ah=null,e})}let ah=null;function ox(s){return ah=ah||ax(s),ah}const lx=new pu(5e3,15e3),ux="__/auth/iframe",cx="emulator/auth/iframe",hx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dx(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Vp(e,cx):`https://${s.config.authDomain}/${ux}`,a={apiKey:e.apiKey,appName:s.name,v:Ro},l=fx.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${au(a).slice(1)}`}async function mx(s){const e=await ox(s),i=Gi().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:dx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hx,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),p=Gi().setTimeout(()=>{c(d)},lx.get());function _(){Gi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const px={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gx=500,yx=600,_x="_blank",vx="http://localhost";class G0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ex(s,e,i,a=gx,l=yx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...px,width:a.toString(),height:l.toString(),top:c,left:d},y=pn().toLowerCase();i&&(p=n1(y)?_x:i),e1(y)&&(e=e||vx,_.scrollbars="yes");const b=Object.entries(_).reduce((N,[Q,Z])=>`${N}${Q}=${Z},`,"");if(jC(y)&&p!=="_self")return Tx(e||"",p),new G0(null);const w=window.open(e||"",p,b);ve(w,s,"popup-blocked");try{w.focus()}catch{}return new G0(w)}function Tx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const bx="__/auth/handler",Sx="emulator/auth/handler",Ax=encodeURIComponent("fac");async function F0(s,e,i,a,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ro,eventId:l};if(e instanceof f1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",qS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof yu){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${Ax}=${encodeURIComponent(_)}`:"";return`${wx(s)}?${au(p).slice(1)}${y}`}function wx({config:s}){return s.emulator?Vp(s,Sx):`https://${s.authDomain}/${bx}`}const dm="webStorageSupport";class Rx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=$I,this._overrideRedirectResult=QI}async _openPopup(e,i,a,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await F0(e,i,a,jm(),l);return Ex(e,c,jp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await F0(e,i,a,jm(),l);return xI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await mx(e),a=new ZI(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(dm,{type:dm},l=>{const c=l?.[0]?.[dm];c!==void 0&&i(!!c),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ix(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return o1()||t1()||Lp()}}const Cx=Rx;var K0="@firebase/auth",Q0="1.12.0";class Ix{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nx(s){yo(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(s)},y=new FC(a,l,c,_);return tI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yo(new sa("auth-internal",e=>{const i=fa(e.getProvider("auth").getImmediate());return(a=>new Ix(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(K0,Q0,xx(s)),mr(K0,Q0,"esm2020")}const Dx=300,Ox=oE("authIdTokenMaxAge")||Dx;let Y0=null;const Mx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Ox)return;const l=i?.token;Y0!==l&&(Y0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Vx(s=Xm()){const e=Ym(s,"auth");if(e.isInitialized())return e.getImmediate();const i=eI(s,{popupRedirectResolver:Cx,persistence:[UI,RI,v1]}),a=oE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Mx(c.toString());TI(i,d,()=>d(i.currentUser)),EI(i,p=>d(p))}}const l=rE("auth");return l&&nI(i,`http://${l}`),i}function kx(){return document.getElementsByTagName("head")?.[0]??document}KC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Hi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",kx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nx("Browser");const R1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const Lx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Px=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const X0=s=>{const e=Px(s);return e.charAt(0).toUpperCase()+e.slice(1)};var Ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const zx=Me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Me.createElement("svg",{ref:_,...Ux,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:R1("lucide",l),...!c&&!jx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Me.createElement(y,b)),...Array.isArray(c)?c:[c]]));const st=(s,e)=>{const i=Me.forwardRef(({className:a,...l},c)=>Me.createElement(zx,{ref:c,iconNode:e,className:R1(`lucide-${Lx(X0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=X0(s),i};const Bx=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qx=st("award",Bx);const Hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gx=st("circle-check",Hx);const Fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Kx=st("clock",Fx);const Qx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],Yx=st("compass",Qx);const Xx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$x=st("copy",Xx);const Jx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zx=st("crown",Jx);const Wx=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],mm=st("gamepad-2",Wx);const eN=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],tN=st("layout-grid",eN);const nN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],iN=st("lock-open",nN);const sN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$c=st("lock",sN);const rN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$0=st("log-out",rN);const aN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],oN=st("mail",aN);const lN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],J0=st("message-square",lN);const uN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cN=st("palette",uN);const hN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fN=st("plus",hN);const dN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pm=st("refresh-cw",dN);const mN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pN=st("search",mN);const gN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Z0=st("shield-check",gN);const yN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],C1=st("shield",yN);const _N=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],vN=st("skull",_N);const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],I1=st("target",EN);const TN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],W0=st("timer",TN);const bN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SN=st("trash-2",bN);const AN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wN=st("triangle-alert",AN);const RN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],CN=st("user-plus",RN);const IN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xN=st("users",IN);const NN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Hm=st("video",NN);const DN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gm=st("x",DN);const ON=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MN=st("zap",ON),VN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},kN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(s){console.error("Failed to parse environment firebase config",s)}return VN},oh=kN(),Gm=!!(oh&&oh.apiKey&&oh.apiKey.startsWith("AIza")),LN=typeof __app_id<"u"?__app_id:"community_calendar_production",ft=LN.replace(/[^a-zA-Z0-9]/g,"_");let ym,xn,Oe;if(Gm)try{ym=GA().length>0?Xm():fE(oh),xn=Vx(ym),Oe=lC(ym)}catch(s){console.error("Firebase Initialization Error:",s)}const eE=[{id:"first_guild",title:"Guild Enlistee",desc:"Join your first tactical sector.",icon:C1},{id:"first_session",title:"Mission Ready",desc:"Enlist in your first play session.",icon:I1},{id:"broadcaster",title:"Broadcaster",desc:"Link Twitch, YouTube, and Kick.",icon:Hm},{id:"platform_pro",title:"Multi-Platform",desc:"Link Steam, PSN, and Xbox.",icon:tN},{id:"completionist",title:"Complete Operator",desc:"Sync all identity and social handles.",icon:qx}],tE={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"}},PN=()=>{const[s,e]=Me.useState(null),[i,a]=Me.useState(!0),[l,c]=Me.useState("login"),[d,p]=Me.useState({email:"",password:"",displayName:""}),[_,y]=Me.useState(null),[b,w]=Me.useState(!1),[N,Q]=Me.useState([]),[Z,se]=Me.useState([]),[ee,ge]=Me.useState("all"),[Se,Te]=Me.useState("calendar"),[$e,dt]=Me.useState(!1),[Fe,x]=Me.useState(!1),[A,I]=Me.useState(null),[V,D]=Me.useState(null),[P,R]=Me.useState(!1),[mt,bt]=Me.useState(!1),[G,ne]=Me.useState(!1),[de,Ue]=Me.useState(""),[Qe,M]=Me.useState(!1),[Y,te]=Me.useState(!1),[ae,_e]=Me.useState(!1),[Ae,ke]=Me.useState(""),[At,ut]=Me.useState(null),[si,Cs]=Me.useState(""),[ri,Yi]=Me.useState(!1),[wt,Xi]=Me.useState({name:"",desc:"",isPrivate:!1}),[he,en]=Me.useState({displayName:"Operator",joinedGuilds:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""],achievements:[]}),ie=tE[he.theme]||tE.light,[De,ct]=Me.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});Me.useEffect(()=>{if(!Gm||!xn){a(!1);return}const k=bI(xn,re=>{e(re),a(!1)});return()=>k()},[]),Me.useEffect(()=>{if(!s||!Oe||!s.emailVerified)return;const k=xt(Oe,"artifacts",ft,"users",s.uid,"profile","info");(async()=>(await R0(k)).exists()||await vC(k,{displayName:d.displayName||`Operator_${s.uid.slice(0,4)}`,joinedGuilds:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""],achievements:[],createdAt:Qc()}))();const le=hm(so(Oe,"artifacts",ft,"public","data","sessions"),vt=>{Q(vt.docs.map(Ve=>({id:Ve.id,...Ve.data()})))}),be=hm(so(Oe,"artifacts",ft,"public","data","guilds"),vt=>{se(vt.docs.map(Ve=>({id:Ve.id,...Ve.data()})))}),We=hm(k,vt=>{vt.exists()&&en(Ve=>({...Ve,...vt.data()}))});return()=>{le(),be(),We()}},[s,s?.emailVerified]);const ai=k=>{const re=[...k.achievements||[]],le=k.handles||{},be=le.twitch?.trim()&&le.youtube?.trim()&&le.kick?.trim(),We=le.steam?.trim()&&le.psn?.trim()&&le.xbox?.trim(),vt=be&&We;return be&&!re.includes("broadcaster")&&re.push("broadcaster"),We&&!re.includes("platform_pro")&&re.push("platform_pro"),vt&&!re.includes("completionist")&&re.push("completionist"),k.joinedGuilds?.length>0&&!re.includes("first_guild")&&re.push("first_guild"),N.some(Kt=>Kt.participants?.some(Rt=>Rt.uid===s?.uid))&&!re.includes("first_session")&&re.push("first_session"),[...new Set(re)]};Me.useEffect(()=>{if(!s||!s.emailVerified||ri)return;const k=ai(he);JSON.stringify(k)!==JSON.stringify(he.achievements||[])&&ro(xt(Oe,"artifacts",ft,"users",s.uid,"profile","info"),{achievements:k})},[N.length,Z.length,he.joinedGuilds?.length,he.handles]);const Vo=async k=>{k.preventDefault(),y(null),a(!0);try{if(l==="register"){const re=await _I(xn,d.email,d.password);await U0(re.user)}else await vI(xn,d.email,d.password)}catch(re){y(re.message)}finally{a(!1)}},da=async()=>{if(xn.currentUser){w(!0);try{await JT(xn.currentUser),e(xn.currentUser)}catch{y("SYNC FAILED: Try again in a moment.")}finally{w(!1)}}},tn=async()=>{if(xn.currentUser)try{await U0(xn.currentUser),y("NEW VERIFICATION LINK TRANSMITTED")}catch(k){y(k.message)}},On=async k=>{if(!s||!Oe)return;Yi(!0);const re=ai(k),le={...k,achievements:re};try{const be=C0(Oe),We=xt(Oe,"artifacts",ft,"users",s.uid,"profile","info");be.set(We,le,{merge:!0});const vt=xt(Oe,"artifacts",ft,"public","data","user_directory",s.uid);be.set(vt,{displayName:le.displayName,handles:le.handles||{},showcaseGames:le.showcaseGames||[],achievements:le.achievements||[],theme:le.theme||"light",uid:s.uid},{merge:!0}),Z.forEach(Ve=>{const Kt=Ve.members?.findIndex(Rt=>(Rt.uid||Rt)===s.uid);if(Kt!==-1){const Rt=[...Ve.members];Rt[Kt]={uid:s.uid,name:le.displayName},be.update(xt(Oe,"artifacts",ft,"public","data","guilds",Ve.id),{members:Rt})}}),N.forEach(Ve=>{let Kt=!1;const Rt={};Ve.userId===s.uid&&(Rt.userName=le.displayName,Kt=!0);const Tn=Ve.participants?.findIndex(Is=>Is.uid===s.uid);if(Tn!==-1){const Is=[...Ve.participants];Is[Tn]={uid:s.uid,name:le.displayName},Rt.participants=Is,Kt=!0}Kt&&be.update(xt(Oe,"artifacts",ft,"public","data","sessions",Ve.id),Rt)}),await be.commit()}finally{setTimeout(()=>Yi(!1),800)}},wr=async()=>{if(!(!s||!Oe||!xn.currentUser)){_e(!0);try{const k=C0(Oe);Z.forEach(re=>{const le=re.members?.find(be=>(be.uid||be)===s.uid);le&&((re.members?.length||0)-1<=0?k.delete(xt(Oe,"artifacts",ft,"public","data","guilds",re.id)):k.update(xt(Oe,"artifacts",ft,"public","data","guilds",re.id),{members:lm(le)}))}),N.forEach(re=>{const le=re.participants?.find(be=>be.uid===s.uid);le&&k.update(xt(Oe,"artifacts",ft,"public","data","sessions",re.id),{participants:lm(le)}),re.userId===s.uid&&k.delete(xt(Oe,"artifacts",ft,"public","data","sessions",re.id))}),k.delete(xt(Oe,"artifacts",ft,"users",s.uid,"profile","info")),k.delete(xt(Oe,"artifacts",ft,"public","data","user_directory",s.uid)),await k.commit(),await SI(xn.currentUser)}catch{y("RE-AUTHENTICATION REQUIRED: Please re-login before terminating account.")}finally{_e(!1),te(!1)}}},Rr=async k=>{if(!s||!Oe)return;const re=he.joinedGuilds||[];if(re.includes(k.id)){const be=re.filter(vt=>vt!==k.id);await On({...he,joinedGuilds:be});const We=k.members?.find(vt=>(vt.uid||vt)===s.uid);k.members?.length===1?await Yc(xt(Oe,"artifacts",ft,"public","data","guilds",k.id)):await ro(xt(Oe,"artifacts",ft,"public","data","guilds",k.id),{members:lm(We)})}else{if(k.isPrivate)return;await On({...he,joinedGuilds:[...re,k.id]}),await ro(xt(Oe,"artifacts",ft,"public","data","guilds",k.id),{members:b0({uid:s.uid,name:he.displayName})})}},Ei=async k=>{if(!Oe||!s)return;const re=k.participants||[];if(re.some(be=>be.uid===s.uid)){const be=re.filter(We=>We.uid!==s.uid);await ro(xt(Oe,"artifacts",ft,"public","data","sessions",k.id),{participants:be})}else{if(re.length>=(Number(k.maxOpenings)||0)+1)return;const be=[...re,{uid:s.uid,name:he.displayName}];await ro(xt(Oe,"artifacts",ft,"public","data","sessions",k.id),{participants:be})}},ma=async k=>{if(Oe){R(!0);try{const re=await R0(xt(Oe,"artifacts",ft,"public","data","user_directory",k));re.exists()&&D(re.data())}finally{R(!1)}}},pa=async k=>{if(k.preventDefault(),!(!Oe||!s)){M(!0);try{await cm(so(Oe,"artifacts",ft,"public","data","feedback"),{message:de,senderName:he.displayName,senderUid:s.uid,timestamp:Qc()}),ne(!0),Ue(""),setTimeout(()=>{bt(!1),ne(!1)},2e3)}finally{M(!1)}}},ga=async k=>{if(!window.confirm("DISBAND?"))return;await Yc(xt(Oe,"artifacts",ft,"public","data","guilds",k)),(await _C(so(Oe,"artifacts",ft,"public","data","sessions"))).docs.filter(le=>le.data().guildId===k).forEach(le=>Yc(le.ref))},ya=async()=>{if(!wt.name||!s||!Oe)return;const k=Math.random().toString(36).substring(2,8).toUpperCase(),re=await cm(so(Oe,"artifacts",ft,"public","data","guilds"),{name:wt.name,desc:wt.desc||"Active Sector",ownerId:s.uid,members:[{uid:s.uid,name:he.displayName}],isPrivate:wt.isPrivate,inviteCode:k,createdAt:Qc()});await On({...he,joinedGuilds:[...he.joinedGuilds||[],re.id]}),Xi({name:"",desc:"",isPrivate:!1}),x(!1)},Mn=async k=>{if(k.preventDefault(),!Ae||!Oe||!s)return;ut(null);const re=Ae.toUpperCase().trim(),le=Z.find(be=>be.inviteCode===re);if(!le){ut("INVALID CODE");return}await On({...he,joinedGuilds:[...he.joinedGuilds||[],le.id]}),await ro(xt(Oe,"artifacts",ft,"public","data","guilds",le.id),{members:b0({uid:s.uid,name:he.displayName})}),ke(""),ge(le.id)},Ft=async k=>{if(k.preventDefault(),!Oe||!s)return;const re=De.guildId||ee;re!=="all"&&(await cm(so(Oe,"artifacts",ft,"public","data","sessions"),{...De,maxOpenings:Number(De.maxOpenings),guildId:re,userId:s.uid,userName:he.displayName,participants:[{uid:s.uid,name:he.displayName}],createdAt:Qc()}),dt(!1))},En=Me.useMemo(()=>{const k=he.joinedGuilds||[],re=N.filter(be=>(ee==="all"?k.includes(be.guildId):be.guildId===ee)&&String(be.gameTitle).toLowerCase().includes(si.toLowerCase())).sort((be,We)=>String(be.date).localeCompare(String(We.date))),le={};return re.forEach(be=>{const We=String(be.date);le[We]||(le[We]=[]),le[We].push(be)}),le},[N,ee,he.joinedGuilds,si]);return Gm?i?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:S.jsx(mm,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):s?s&&!s.emailVerified?S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white text-center",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[5rem] border border-zinc-800 shadow-2xl relative",children:[S.jsxs("div",{className:"mb-10",children:[S.jsx(oN,{className:"w-16 h-16 text-indigo-400 mx-auto mb-6 animate-pulse"}),S.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Verify Intel"})]}),S.jsxs("button",{onClick:da,disabled:b,className:"w-full p-6 rounded-3xl bg-indigo-600 font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-3 active:scale-95 transition",children:[b?S.jsx(pm,{className:"w-4 h-4 animate-spin"}):S.jsx(Z0,{className:"w-4 h-4"})," Access Sector"]}),S.jsx("button",{onClick:tn,className:"w-full mt-4 p-6 rounded-3xl bg-white/5 border border-white/10 font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Resend Transmission"}),S.jsxs("button",{onClick:()=>j0(xn),className:"mt-12 flex items-center gap-2 mx-auto text-[9px] font-black uppercase opacity-30 hover:opacity-100 transition",children:[S.jsx($0,{className:"w-3 h-3"})," Abort Registry"]}),_&&S.jsx("div",{className:"mt-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-[9px] text-emerald-500 font-bold uppercase",children:_})]})}):S.jsxs("div",{className:`min-h-screen ${ie.bg} ${ie.text} transition-colors duration-500`,children:[S.jsxs("header",{className:`${ie.header} border-b ${ie.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[S.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>Te("calendar"),children:[S.jsx(mm,{className:`w-8 h-8 ${ie.accent}`}),S.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),S.jsxs("nav",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>Te("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Se==="calendar"?ie.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),S.jsx("button",{onClick:()=>Te("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Se==="profile"?ie.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),S.jsx("button",{onClick:()=>bt(!0),className:"p-2 opacity-40 hover:text-indigo-500 transition",children:S.jsx(J0,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>j0(xn),className:"p-2 opacity-40 hover:text-rose-500 transition",children:S.jsx($0,{className:"w-4 h-4"})})]})]}),S.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[S.jsxs("aside",{className:"w-full md:w-72",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Tactical Sectors"}),S.jsx("button",{onClick:()=>ge("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${ee==="all"?ie.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),S.jsx("div",{className:"mt-6 space-y-2",children:Z.filter(k=>he.joinedGuilds?.includes(k.id)).map(k=>S.jsxs("div",{className:"flex items-center gap-1 group",children:[S.jsx("button",{onClick:()=>ge(k.id),className:`flex-1 text-left p-3 rounded-xl font-bold text-xs transition truncate ${ee===k.id?ie.button:"hover:bg-slate-500/10"}`,children:String(k.name)}),S.jsx("button",{onClick:()=>I(k),className:"p-3 rounded-xl bg-slate-500/5 hover:bg-indigo-500 hover:text-white transition opacity-0 group-hover:opacity-100",children:S.jsx(xN,{className:"w-4 h-4"})})]},k.id))}),S.jsxs("button",{onClick:()=>x(!0),className:"w-full p-4 mt-6 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[S.jsx(Yx,{className:"w-4 h-4"})," Find Sectors"]})]}),S.jsx("div",{className:"flex-1",children:Se==="calendar"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[S.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:ee==="all"?"The Hub":Z.find(k=>k.id===ee)?.name}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx(pN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"text",placeholder:"Filter...",value:si,onChange:k=>Cs(k.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${ie.card} border ${ie.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),S.jsx("button",{onClick:()=>dt(!0),className:`${ie.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg`,children:"+ New Mission"})]})]}),S.jsx("div",{className:"space-y-12",children:Object.entries(En).map(([k,re])=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[S.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:k}),S.jsx("div",{className:`flex-1 h-px ${ie.border}`})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:re.map(le=>S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[S.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors mb-4",children:String(le.gameTitle)}),S.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 opacity-40",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Kx,{className:"w-3 h-3"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:String(le.startTime)})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(W0,{className:"w-3 h-3"}),S.jsxs("span",{className:"text-[10px] font-black uppercase",children:[le.duration," HR"]})]})]}),S.jsxs("div",{className:"mb-8 flex-1",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-4",children:[le.participants?.length||0," / ",(Number(le.maxOpenings)||0)+1," Enlisted"]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:le.participants?.map((be,We)=>S.jsxs("button",{onClick:()=>ma(be.uid),className:`flex items-center gap-2 text-[9px] font-black px-4 py-2 rounded-full ${ie.bg} border ${ie.border} uppercase shadow-sm hover:border-indigo-500 transition`,children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),String(be.name)]},We))})]}),S.jsxs("div",{className:"flex gap-3 mt-auto",children:[S.jsx("button",{onClick:()=>Ei(le),className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition ${le.participants?.some(be=>be.uid===s.uid)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":ie.button}`,children:le.participants?.some(be=>be.uid===s.uid)?"Retire":"Enlist"}),le.userId===s.uid&&S.jsx("button",{onClick:()=>Yc(xt(Oe,"artifacts",ft,"public","data","sessions",le.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:S.jsx(SN,{className:"w-5 h-5"})})]})]},le.id))})]},k))})]}):S.jsx("div",{className:"max-w-5xl mx-auto pb-20",children:S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[5rem] p-12 shadow-2xl relative overflow-hidden`,children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[S.jsxs("div",{className:"w-full md:w-1/3 text-center",children:[S.jsx("div",{className:"w-32 h-32 mx-auto mb-8 rounded-[3rem] bg-indigo-600 flex items-center justify-center text-white text-5xl font-black shadow-2xl",children:he.displayName.charAt(0)}),S.jsx("input",{type:"text",value:he.displayName,onChange:k=>en({...he,displayName:k.target.value}),className:"w-full bg-transparent text-center text-3xl font-black italic uppercase outline-none focus:text-indigo-600 transition"}),S.jsxs("div",{className:"mt-8 flex gap-3",children:[S.jsx("button",{onClick:()=>en({...he,theme:"light"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${he.theme==="light"?"border-indigo-600":"border-transparent opacity-40"}`,children:S.jsx(cN,{className:"w-4 h-4 mx-auto"})}),S.jsx("button",{onClick:()=>en({...he,theme:"dark"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${he.theme==="dark"?"border-indigo-400":"border-transparent opacity-40"}`,children:S.jsx(MN,{className:"w-4 h-4 mx-auto"})})]}),S.jsxs("button",{onClick:()=>On(he),disabled:ri,className:`w-full mt-6 py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2`,children:[ri?S.jsx(pm,{className:"w-4 h-4 animate-spin"}):S.jsx(Z0,{className:"w-4 h-4"})," ",ri?"SYNCING...":"SYNC PROFILE"]}),S.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-500/10",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:"Achievement Vault"}),S.jsx("div",{className:"grid grid-cols-5 gap-2",children:eE.map(k=>{const re=he.achievements?.includes(k.id),le=k.icon;return S.jsx("div",{title:k.title+": "+k.desc,className:`p-3 rounded-xl border transition flex flex-col items-center justify-center ${re?"bg-indigo-600/10 border-indigo-500/30 text-indigo-400":"bg-slate-500/5 border-transparent opacity-10"}`,children:S.jsx(le,{className:"w-5 h-5"})},k.id)})})]}),S.jsx("div",{className:"mt-12",children:S.jsx("button",{onClick:()=>te(!0),className:"text-[10px] font-black uppercase text-rose-500 opacity-40 hover:opacity-100 transition tracking-widest underline decoration-dotted underline-offset-4",children:"Terminate Identity"})})]}),S.jsxs("div",{className:"flex-1 space-y-10",children:[S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest flex items-center gap-2",children:[S.jsx($c,{className:"w-3 h-3"})," Identity Matrix"]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[S.jsx("input",{placeholder:"STEAM",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase`,value:he.handles?.steam,onChange:k=>en({...he,handles:{...he.handles,steam:k.target.value}})}),S.jsx("input",{placeholder:"PSN",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase`,value:he.handles?.psn,onChange:k=>en({...he,handles:{...he.handles,psn:k.target.value}})}),S.jsx("input",{placeholder:"XBOX",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase`,value:he.handles?.xbox,onChange:k=>en({...he,handles:{...he.handles,xbox:k.target.value}})})]})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest flex items-center gap-2",children:[S.jsx(Hm,{className:"w-3 h-3"})," Broadcast Hub"]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[S.jsx("input",{placeholder:"TWITCH",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase`,value:he.handles?.twitch,onChange:k=>en({...he,handles:{...he.handles,twitch:k.target.value}})}),S.jsx("input",{placeholder:"YOUTUBE",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase`,value:he.handles?.youtube,onChange:k=>en({...he,handles:{...he.handles,youtube:k.target.value}})}),S.jsx("input",{placeholder:"KICK",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase`,value:he.handles?.kick,onChange:k=>en({...he,handles:{...he.handles,kick:k.target.value}})})]})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest flex items-center gap-2",children:[S.jsx(I1,{className:"w-3 h-3"})," Interest Showcase"]}),S.jsx("div",{className:"space-y-3",children:[0,1,2,3,4].map(k=>S.jsx("input",{placeholder:`GAME 0${k+1}`,className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.showcaseGames?.[k]||"",onChange:re=>{const le=[...he.showcaseGames||["","","","",""]];le[k]=re.target.value,en({...he,showcaseGames:le})}},k))})]})]})]})]})})})]}),Y&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/98 backdrop-blur-xl",children:S.jsxs("div",{className:"bg-zinc-900 border border-rose-500/30 rounded-[5rem] p-12 max-w-lg w-full text-center shadow-2xl relative overflow-hidden",children:[S.jsx(wN,{className:"w-16 h-16 text-rose-500 mx-auto mb-6 animate-pulse"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-rose-500 mb-2",children:"Final Warning"}),S.jsx("p",{className:"text-[11px] font-black uppercase text-white/40 tracking-widest leading-relaxed mb-10",children:"This will permanently terminate your operator identity and purge your registry handle."}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("button",{onClick:wr,disabled:ae,className:"w-full py-6 rounded-3xl bg-rose-600 text-white font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Confirm Termination"}),S.jsx("button",{onClick:()=>te(!1),className:"w-full py-6 rounded-3xl bg-white/5 border border-white/10 text-white font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Cancel"})]}),_&&S.jsx("div",{className:"mt-8 p-6 bg-rose-500/10 border border-rose-500/20 rounded-2xl text-[9px] font-black uppercase text-rose-500",children:_})]})}),mt&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsx("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl relative`,children:G?S.jsxs("div",{className:"text-center py-20 animate-in fade-in zoom-in duration-500",children:[S.jsx(Gx,{className:"w-20 h-20 text-emerald-500 mx-auto mb-6 animate-bounce"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-emerald-500",children:"Received"})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>bt(!1),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(gm,{})}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(J0,{className:"w-12 h-12 text-indigo-500 mx-auto mb-6"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Submit Intelligence"})]}),S.jsxs("form",{onSubmit:pa,className:"space-y-6",children:[S.jsx("textarea",{required:!0,placeholder:"DESCRIBE ISSUE...",className:`w-full h-40 p-6 rounded-[2rem] ${ie.bg} border ${ie.border} outline-none font-black uppercase text-xs focus:border-indigo-500 transition shadow-inner resize-none`,value:de,onChange:k=>Ue(k.target.value)}),S.jsxs("button",{type:"submit",disabled:Qe,className:`w-full py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition flex items-center justify-center gap-2`,children:[Qe?S.jsx(pm,{className:"w-4 h-4 animate-spin"}):S.jsx(fN,{className:"w-4 h-4"})," TRANSMIT REPORT"]})]})]})})}),V&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl transition-all",children:S.jsxs("div",{className:`${V.theme==="dark"?"bg-zinc-900 border-zinc-800 text-white":"bg-white border-slate-100 text-slate-900"} border rounded-[5rem] p-12 max-w-xl w-full shadow-2xl relative overflow-hidden`,children:[S.jsx("button",{onClick:()=>D(null),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(gm,{})}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-indigo-600 flex items-center justify-center text-white text-4xl font-black shadow-xl",children:V.displayName.charAt(0)}),S.jsx("h3",{className:"text-3xl font-black italic uppercase tracking-tight",children:V.displayName})]}),S.jsx("div",{className:"flex justify-center gap-2 mb-10",children:eE.map(k=>S.jsx("div",{title:k.title,className:`p-3 rounded-xl border ${V.achievements?.includes(k.id)?"bg-indigo-600 border-indigo-500 text-white shadow-lg":"bg-slate-500/5 border-transparent opacity-10"}`,children:uS.createElement(k.icon,{className:"w-5 h-5"})},k.id))}),S.jsx("div",{className:"grid grid-cols-3 gap-4 mb-10",children:Object.entries(V.handles||{}).map(([k,re])=>re&&S.jsxs("div",{className:"p-3 bg-slate-500/5 border border-slate-500/10 rounded-xl text-center",children:[S.jsx("p",{className:"text-[7px] font-black uppercase opacity-40 mb-1",children:k}),S.jsx("p",{className:"text-[9px] font-black uppercase truncate",children:re})]},k))}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 text-center tracking-widest",children:"Tactical Interests"}),V.showcaseGames?.map((k,re)=>k&&S.jsxs("div",{className:"p-3 bg-black/20 rounded-xl border border-white/5 flex items-center gap-4",children:[S.jsxs("span",{className:"text-[9px] font-black opacity-20",children:["0",re+1]}),S.jsx("span",{className:"text-xs font-black uppercase tracking-tight italic",children:k})]},re))]}),S.jsx("button",{onClick:()=>D(null),className:"w-full mt-10 py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest shadow-xl",children:"Close Intel Deck"})]})}),A&&S.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:A.name}),A.isPrivate&&S.jsxs("div",{className:"mt-4 flex items-center gap-4 p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-2xl",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-[8px] font-black uppercase opacity-40 tracking-widest",children:"Sector Invite Code"}),S.jsx("p",{className:"text-2xl font-black italic text-indigo-400 tracking-tighter select-all",children:A.inviteCode})]}),S.jsx("button",{onClick:()=>navigator.clipboard.writeText(A.inviteCode),className:"p-3 rounded-xl bg-indigo-600 text-white shadow-lg",children:S.jsx($x,{className:"w-4 h-4"})})]})]}),S.jsx("button",{onClick:()=>I(null),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:S.jsx(gm,{})})]}),S.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:A.members?.map((k,re)=>S.jsxs("button",{onClick:()=>ma(k.uid||k),className:`w-full text-left ${ie.bg} p-4 rounded-3xl border ${ie.border} flex items-center gap-4 hover:border-indigo-500 transition group`,children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-600 flex items-center justify-center text-[11px] font-black text-white shadow-lg group-hover:scale-110 transition",children:String(k.name||"O").charAt(0)}),S.jsx("div",{className:"flex-1 overflow-hidden",children:S.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate",children:String(k.name||"Unknown Op")})}),(k.uid||k)===A.ownerId&&S.jsx(Zx,{className:"w-4 h-4 text-amber-500"})]},re))}),S.jsx("button",{onClick:()=>I(null),className:"w-full py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest shadow-xl",children:"Close Roster"})]})}),Fe&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-10",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Directory"}),S.jsx("button",{onClick:()=>x(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("div",{className:"mb-10 p-6 rounded-[2.5rem] bg-indigo-600/10 border border-indigo-500/20",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-40 mb-4 tracking-widest flex items-center gap-2",children:[S.jsx($c,{className:"w-3 h-3"})," Secure Enlistment"]}),S.jsxs("form",{onSubmit:Mn,className:"flex gap-4",children:[S.jsx("input",{placeholder:"ENTER INVITE CODE",className:"flex-1 p-5 rounded-2xl bg-black/40 border border-indigo-500/30 outline-none text-xs font-black uppercase focus:border-indigo-500 transition text-white",value:Ae,onChange:k=>ke(k.target.value.toUpperCase()),maxLength:6}),S.jsx("button",{type:"submit",className:"px-8 py-5 rounded-2xl bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest shadow-xl transition",children:"Enlist"})]}),At&&S.jsx("p",{className:"text-[9px] font-black text-rose-500 uppercase mt-3 ml-2",children:At})]}),S.jsx("div",{className:"space-y-4 max-h-[30vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:Z.map(k=>S.jsxs("div",{className:`${ie.bg} p-6 rounded-[2.5rem] border ${ie.border} flex justify-between items-center group`,children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(k.name)}),k.isPrivate&&S.jsx($c,{className:"w-3 h-3 opacity-30"})]}),S.jsxs("p",{className:"text-[9px] font-black opacity-30 mt-1 uppercase",children:[k.members?.length||0," Members"]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[k.isPrivate?S.jsx("div",{className:"px-6 py-3 rounded-2xl bg-slate-500/5 text-slate-400 text-[9px] font-black uppercase italic border border-white/5",children:"Private"}):S.jsx("button",{onClick:()=>Rr(k),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${he.joinedGuilds?.includes(k.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":ie.button}`,children:he.joinedGuilds?.includes(k.id)?"Retire":"Enlist"}),k.ownerId===s?.uid&&S.jsx("button",{onClick:()=>ga(k.id),className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:S.jsx(vN,{className:"w-4 h-4"})})]})]},k.id))}),S.jsxs("div",{className:`pt-10 border-t ${ie.border} space-y-4`,children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"Commission Sector"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[S.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:wt.name,onChange:k=>Xi({...wt,name:k.target.value})}),S.jsxs("button",{type:"button",onClick:()=>Xi({...wt,isPrivate:!wt.isPrivate}),className:`p-5 rounded-2xl border-2 transition flex items-center justify-center gap-3 ${wt.isPrivate?"border-indigo-600 bg-indigo-500/10 text-indigo-400":"border-slate-500/20 opacity-40"}`,children:[wt.isPrivate?S.jsx($c,{className:"w-4 h-4"}):S.jsx(iN,{className:"w-4 h-4"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:wt.isPrivate?"Private":"Public"})]})]}),S.jsx("button",{onClick:ya,className:`w-full py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Commission Registry"})]})]})}),$e&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-8",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),S.jsx("button",{onClick:()=>dt(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("form",{onSubmit:Ft,className:"space-y-6",children:[S.jsx("input",{placeholder:"GAME / OPERATION NAME",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:De.gameTitle,onChange:k=>ct({...De,gameTitle:k.target.value}),required:!0}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.date,onChange:k=>ct({...De,date:k.target.value})}),S.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.startTime,onChange:k=>ct({...De,startTime:k.target.value})}),S.jsxs("div",{className:"relative",children:[S.jsx(W0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"HR",className:`w-full pl-12 p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.duration,onChange:k=>ct({...De,duration:k.target.value})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[S.jsxs("select",{className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black uppercase`,value:De.guildId,onChange:k=>ct({...De,guildId:k.target.value}),required:!0,children:[S.jsx("option",{value:"",children:"Select Guild"}),Z.filter(k=>he.joinedGuilds?.includes(k.id)).map(k=>S.jsx("option",{value:k.id,children:String(k.name)},k.id))]}),S.jsxs("div",{className:"relative",children:[S.jsx(CN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"SLOTS",className:`w-full pl-12 p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.maxOpenings,onChange:k=>ct({...De,maxOpenings:k.target.value})})]})]}),S.jsxs("div",{className:`${ie.bg} p-6 rounded-3xl border ${ie.border} flex items-center justify-between`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx(Hm,{className:"w-5 h-5 opacity-40"}),S.jsx("div",{children:S.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:"Broadcast Mission"})})]}),S.jsx("button",{type:"button",onClick:()=>ct({...De,isStreaming:!De.isStreaming}),className:`w-14 h-8 rounded-full transition-colors relative ${De.isStreaming?"bg-indigo-600":"bg-slate-300 dark:bg-zinc-800"}`,children:S.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${De.isStreaming?"left-7 shadow-lg":"left-1"}`})})]}),S.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition mt-4`,children:"Deploy Mission"})]})]})})]}):S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(mm,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),S.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"})]}),S.jsxs("form",{onSubmit:Vo,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.email,onChange:k=>p({...d,email:k.target.value})}),S.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.password,onChange:k=>p({...d,password:k.target.value})}),_&&S.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),S.jsx("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Establish Link"})]}),S.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[S.jsx(C1,{className:"w-16 h-16 text-rose-500 mb-6"}),S.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"})]})};gS.createRoot(document.getElementById("root")).render(S.jsx(Me.StrictMode,{children:S.jsx(PN,{})}));
