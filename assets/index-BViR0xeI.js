(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Kd={exports:{}},Ol={};var av;function nS(){if(av)return Ol;av=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var ov;function iS(){return ov||(ov=1,Kd.exports=nS()),Kd.exports}var S=iS(),Qd={exports:{}},we={};var lv;function sS(){if(lv)return we;lv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ee={};function pe(M,Y,te){this.props=M,this.context=Y,this.refs=ee,this.updater=te||Z}pe.prototype.isReactComponent={},pe.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},pe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function be(){}be.prototype=pe.prototype;function Ee(M,Y,te){this.props=M,this.context=Y,this.refs=ee,this.updater=te||Z}var Xe=Ee.prototype=new be;Xe.constructor=Ee,re(Xe,pe.prototype),Xe.isPureReactComponent=!0;var ft=Array.isArray;function Ge(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,Y,te){var ae=te.ref;return{$$typeof:s,type:M,key:Y,ref:ae!==void 0?ae:null,props:te}}function V(M,Y){return I(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var R=/\/+/g;function dt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):Y.toString(36)}function bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ge,Ge):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,te,ae,ye){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case s:case e:Me=!0;break;case b:return Me=M._init,G(Me(M._payload),Y,te,ae,ye)}}if(Me)return ye=ye(M),Me=ae===""?"."+dt(M,0):ae,ft(ye)?(te="",Me!=null&&(te=Me.replace(R,"$&/")+"/"),G(ye,Y,te,"",function(ti){return ti})):ye!=null&&(N(ye)&&(ye=V(ye,te+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Me)),Y.push(ye)),1;Me=0;var wt=ae===""?".":ae+":";if(ft(M))for(var lt=0;lt<M.length;lt++)ae=M[lt],Se=wt+dt(ae,lt),Me+=G(ae,Y,te,Se,ye);else if(lt=Q(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(ae=M.next()).done;)ae=ae.value,Se=wt+dt(ae,lt++),Me+=G(ae,Y,te,Se,ye);else if(Se==="object"){if(typeof M.then=="function")return G(bt(M),Y,te,ae,ye);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(M,Y,te){if(M==null)return M;var ae=[],ye=0;return G(M,ae,"","",function(Se){return Y.call(te,Se,ye++)}),ae}function fe(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:ne,forEach:function(M,Y,te){ne(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return ne(M,function(){Y++}),Y},toArray:function(M){return ne(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=w,we.Children=Ke,we.Component=pe,we.Fragment=i,we.Profiler=l,we.PureComponent=Ee,we.StrictMode=a,we.Suspense=_,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=re({},M.props),ye=M.key;if(Y!=null)for(Se in Y.key!==void 0&&(ye=""+Y.key),Y)!A.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(ae[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)ae.children=te;else if(1<Se){for(var Me=Array(Se),wt=0;wt<Se;wt++)Me[wt]=arguments[wt+2];ae.children=Me}return I(M.type,ye,ae)},we.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},we.createElement=function(M,Y,te){var ae,ye={},Se=null;if(Y!=null)for(ae in Y.key!==void 0&&(Se=""+Y.key),Y)A.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=Y[ae]);var Me=arguments.length-2;if(Me===1)ye.children=te;else if(1<Me){for(var wt=Array(Me),lt=0;lt<Me;lt++)wt[lt]=arguments[lt+2];ye.children=wt}if(M&&M.defaultProps)for(ae in Me=M.defaultProps,Me)ye[ae]===void 0&&(ye[ae]=Me[ae]);return I(M,Se,ye)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:p,render:M}},we.isValidElement=N,we.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:fe}},we.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},we.startTransition=function(M){var Y=x.T,te={};x.T=te;try{var ae=M(),ye=x.S;ye!==null&&ye(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ge,Ue)}catch(Se){Ue(Se)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),x.T=Y}},we.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},we.use=function(M){return x.H.use(M)},we.useActionState=function(M,Y,te){return x.H.useActionState(M,Y,te)},we.useCallback=function(M,Y){return x.H.useCallback(M,Y)},we.useContext=function(M){return x.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,Y){return x.H.useDeferredValue(M,Y)},we.useEffect=function(M,Y){return x.H.useEffect(M,Y)},we.useEffectEvent=function(M){return x.H.useEffectEvent(M)},we.useId=function(){return x.H.useId()},we.useImperativeHandle=function(M,Y,te){return x.H.useImperativeHandle(M,Y,te)},we.useInsertionEffect=function(M,Y){return x.H.useInsertionEffect(M,Y)},we.useLayoutEffect=function(M,Y){return x.H.useLayoutEffect(M,Y)},we.useMemo=function(M,Y){return x.H.useMemo(M,Y)},we.useOptimistic=function(M,Y){return x.H.useOptimistic(M,Y)},we.useReducer=function(M,Y,te){return x.H.useReducer(M,Y,te)},we.useRef=function(M){return x.H.useRef(M)},we.useState=function(M){return x.H.useState(M)},we.useSyncExternalStore=function(M,Y,te){return x.H.useSyncExternalStore(M,Y,te)},we.useTransition=function(){return x.H.useTransition()},we.version="19.2.4",we}var uv;function Gm(){return uv||(uv=1,Qd.exports=sS()),Qd.exports}var Le=Gm(),Yd={exports:{}},Ml={},Xd={exports:{}},$d={};var cv;function rS(){return cv||(cv=1,(function(s){function e(G,ne){var fe=G.length;G.push(ne);e:for(;0<fe;){var Ue=fe-1>>>1,Ke=G[Ue];if(0<l(Ke,ne))G[Ue]=ne,G[fe]=Ke,fe=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],fe=G.pop();if(fe!==ne){G[0]=fe;e:for(var Ue=0,Ke=G.length,M=Ke>>>1;Ue<M;){var Y=2*(Ue+1)-1,te=G[Y],ae=Y+1,ye=G[ae];if(0>l(te,fe))ae<Ke&&0>l(ye,te)?(G[Ue]=ye,G[ae]=fe,Ue=ae):(G[Ue]=te,G[Y]=fe,Ue=Y);else if(ae<Ke&&0>l(ye,fe))G[Ue]=ye,G[ae]=fe,Ue=ae;else break e}}return ne}function l(G,ne){var fe=G.sortIndex-ne.sortIndex;return fe!==0?fe:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,w=null,O=3,Q=!1,Z=!1,re=!1,ee=!1,pe=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function Xe(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=G)a(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function ft(G){if(re=!1,Xe(G),!Z)if(i(_)!==null)Z=!0,Ge||(Ge=!0,L());else{var ne=i(y);ne!==null&&bt(ft,ne.startTime-G)}}var Ge=!1,x=-1,A=5,I=-1;function V(){return ee?!0:!(s.unstable_now()-I<A)}function N(){if(ee=!1,Ge){var G=s.unstable_now();I=G;var ne=!0;try{e:{Z=!1,re&&(re=!1,be(x),x=-1),Q=!0;var fe=O;try{t:{for(Xe(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,O=w.priorityLevel;var Ke=Ue(w.expirationTime<=G);if(G=s.unstable_now(),typeof Ke=="function"){w.callback=Ke,Xe(G),ne=!0;break t}w===i(_)&&a(_),Xe(G)}else a(_);w=i(_)}if(w!==null)ne=!0;else{var M=i(y);M!==null&&bt(ft,M.startTime-G),ne=!1}}break e}finally{w=null,O=fe,Q=!1}ne=void 0}}finally{ne?L():Ge=!1}}}var L;if(typeof Ee=="function")L=function(){Ee(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,dt=R.port2;R.port1.onmessage=N,L=function(){dt.postMessage(null)}}else L=function(){pe(N,0)};function bt(G,ne){x=pe(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(G){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var fe=O;O=ne;try{return G()}finally{O=fe}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=O;O=G;try{return ne()}finally{O=fe}},s.unstable_scheduleCallback=function(G,ne,fe){var Ue=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ue+fe:Ue):fe=Ue,G){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,G={id:b++,callback:ne,priorityLevel:G,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>Ue?(G.sortIndex=fe,e(y,G),i(_)===null&&G===i(y)&&(re?(be(x),x=-1):re=!0,bt(ft,fe-Ue))):(G.sortIndex=Ke,e(_,G),Z||Q||(Z=!0,Ge||(Ge=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ne=O;return function(){var fe=O;O=ne;try{return G.apply(this,arguments)}finally{O=fe}}}})($d)),$d}var hv;function aS(){return hv||(hv=1,Xd.exports=rS()),Xd.exports}var Jd={exports:{}},cn={};var fv;function oS(){if(fv)return cn;fv=1;var s=Gm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},cn.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},cn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},cn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},cn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:Q}):b==="script"&&a.d.X(_,{crossOrigin:w,integrity:O,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},cn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},cn.requestFormReset=function(_){a.d.r(_)},cn.unstable_batchedUpdates=function(_,y){return _(y)},cn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var dv;function lS(){if(dv)return Jd.exports;dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=oS(),Jd.exports}var mv;function uS(){if(mv)return Ml;mv=1;var s=aS(),e=Gm(),i=lS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case pe:return"Profiler";case ee:return"StrictMode";case ft:return"Suspense";case Ge:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Ee:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:dt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return dt(t(n))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ue=[],Ke=-1;function M(t){return{current:t}}function Y(t){0>Ke||(t.current=Ue[Ke],Ue[Ke]=null,Ke--)}function te(t,n){Ke++,Ue[Ke]=t.current,t.current=n}var ae=M(null),ye=M(null),Se=M(null),Me=M(null);function wt(t,n){switch(te(Se,n),te(ye,t),te(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?x_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=x_(n),t=N_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),te(ae,t)}function lt(){Y(ae),Y(ye),Y(Se)}function ti(t){t.memoizedState!==null&&te(Me,t);var n=ae.current,r=N_(n,t.type);n!==r&&(te(ye,t),te(ae,r))}function Cs(t){ye.current===t&&(Y(ae),Y(ye)),Me.current===t&&(Y(Me),Il._currentValue=fe)}var Ki,Qi;function Rt(t){if(Ki===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ki=n&&n[1]||"",Qi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ki+t+Qi}var Yi=!1;function he(t,n){if(!t||Yi)return"";Yi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Yi=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Rt(r):""}function en(t,n){switch(t.tag){case 26:case 27:case 5:return Rt(t.type);case 16:return Rt("Lazy");case 13:return t.child!==n&&n!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return he(t.type,!1);case 11:return he(t.type.render,!1);case 1:return he(t.type,!0);case 31:return Rt("Activity");default:return""}}function se(t){try{var n="",r=null;do n+=en(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var De=Object.prototype.hasOwnProperty,ut=s.unstable_scheduleCallback,yi=s.unstable_cancelCallback,Do=s.unstable_shouldYield,fa=s.unstable_requestPaint,Nt=s.unstable_now,Xi=s.unstable_getCurrentPriorityLevel,Ar=s.unstable_ImmediatePriority,wr=s.unstable_UserBlockingPriority,ni=s.unstable_NormalPriority,Oo=s.unstable_LowPriority,da=s.unstable_IdlePriority,ma=s.log,pa=s.unstable_setDisableYieldValue,Nn=null,Kt=null;function z(t){if(typeof ma=="function"&&pa(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Nn,t)}catch{}}var ie=Math.clz32?Math.clz32:it,Te=Math.log,Ce=Math.LN2;function it(t){return t>>>=0,t===0?32:31-(Te(t)/Ce|0)|0}var Ze=256,pt=262144,St=4194304;function pn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=pn(o):(g&=E,g!==0?h=pn(g):r||(r=E&~t,r!==0&&(h=pn(r))))):(E=o&~f,E!==0?h=pn(E):g!==0?h=pn(g):r||(r=o&~t,r!==0&&(h=pn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ii(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function vi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $h(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(r=g&~r;0<r;){var F=31-ie(r),X=1<<F;E[F]=0,C[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&Cr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ie(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Mo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-ie(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Vo(t,n){var r=n&-n;return r=(r&42)!==0?1:Ir(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:W_(t.type))}function si(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var ri=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ri,$t="__reactProps$"+ri,Ei="__reactContainer$"+ri,ga="__reactEvents$"+ri,Jh="__reactListeners$"+ri,Eu="__reactHandles$"+ri,Tu="__reactResources$"+ri,Ti="__reactMarker$"+ri;function ya(t){delete t[Ut],delete t[$t],delete t[ga],delete t[Jh],delete t[Eu]}function bi(t){var n=t[Ut];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=U_(t);t!==null;){if(r=t[Ut])return r;t=U_(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[Ut]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[Tu];return n||(n=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Ti]=!0}var ko=new Set,Lo={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Lo[t]=n,t=0;t<n.length;t++)ko.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},jo={};function bu(t){return De.call(jo,t)?!0:De.call(Po,t)?!1:Uo.test(t)?jo[t]=!0:(Po[t]=!0,!1)}function _a(t,n,r){if(bu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function On(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function jt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=zo(t,n,""+t[n])}}function xr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nr=/[\n"\\]/g;function En(t){return t.replace(Nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(t,n,r,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Bo(t,g,Jt(n)):r!=null?Bo(t,g,Jt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function Su(t,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}r=r!=null?""+Jt(r):"",n=n!=null?""+Jt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),et(t)}function Bo(t,n,r){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Au(t,n,r){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Jt(r):""}function Ns(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Jt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),et(t)}function Tn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||wu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ho(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&qo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&qo(t,f,n[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var Go=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ci=null;function Dr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(va(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[$t]||null;if(!h)throw Error(a(90));va(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&xr(o)}break e;case"textarea":Au(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xs(t,!!r.multiple,n,!1)}}}var ba=!1;function Ms(t,n,r){if(ba)return t(n,r);ba=!0;try{var o=t(n);return o}finally{if(ba=!1,(Os!==null||Ci!==null)&&(vc(),Os&&(n=Os,t=Ci,Ci=Os=null,Dr(n),t)))for(n=0;n<t.length;n++)Dr(t[n])}}function oi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[$t]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Hn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Or=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Or=!1}var Ii=null,Fo=null,Mr=null;function Ko(){if(Mr)return Mr;var t,n=Fo,r=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Mr=h.slice(t,1<o?1-o:void 0)}function Vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function li(){return!1}function tn(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:li,this.isPropagationStopped=li,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=tn(Zi),Vs=w({},Zi,{view:0,detail:0}),Qo=tn(Vs),ks,Sa,Ni,Aa=w({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(ks=t.screenX-Ni.screenX,Sa=t.screenY-Ni.screenY):Sa=ks=0,Ni=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Yo=tn(Aa),kr=w({},Aa,{dataTransfer:0}),Cu=tn(kr),Iu=w({},Vs,{relatedTarget:0}),Lr=tn(Iu),Xo=w({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=tn(Xo),wa=w({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=tn(wa),Du=w({},Zi,{data:0}),Di=tn(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vu[t])?!!n[t]:!1}function Ls(){return ku}var gn=w({},Vs,{key:function(t){if(t.key){var n=Ou[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=tn(gn),Uu=w({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=tn(Uu),u=w({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),m=tn(u),v=w({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(v),U=w({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=tn(U),W=w({},Zi,{newState:0,oldState:0}),Ie=tn(W),Dt=[9,13,27,32],$e=Hn&&"CompositionEvent"in window,Et=null;Hn&&"documentMode"in document&&(Et=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!Et,Oi=Hn&&(!$e||Et&&8<Et&&11>=Et),ui=" ",ci=!1;function Ur(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function R1(t,n){switch(t){case"compositionend":return Ra(n);case"keypress":return n.which!==32?null:(ci=!0,ui);case"textInput":return t=n.data,t===ui&&ci?null:t;default:return null}}function C1(t,n){if(Ca)return t==="compositionend"||!$e&&Ur(t,n)?(t=Ko(),Mr=Fo=Ii=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!I1[t.type]:n==="textarea"}function Bp(t,n,r,o){Os?Ci?Ci.push(o):Ci=[o]:Os=o,n=Rc(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var $o=null,Jo=null;function x1(t){S_(t,0)}function Pu(t){var n=Dn(t);if(xr(n))return t}function qp(t,n){if(t==="change")return n}var Hp=!1;if(Hn){var Zh;if(Hn){var Wh="oninput"in document;if(!Wh){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),Wh=typeof Gp.oninput=="function"}Zh=Wh}else Zh=!1;Hp=Zh&&(!document.documentMode||9<document.documentMode)}function Fp(){$o&&($o.detachEvent("onpropertychange",Kp),Jo=$o=null)}function Kp(t){if(t.propertyName==="value"&&Pu(Jo)){var n=[];Bp(n,Jo,t,qn(t)),Ms(x1,n)}}function N1(t,n,r){t==="focusin"?(Fp(),$o=n,Jo=r,$o.attachEvent("onpropertychange",Kp)):t==="focusout"&&Fp()}function D1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Jo)}function O1(t,n){if(t==="click")return Pu(n)}function M1(t,n){if(t==="input"||t==="change")return Pu(n)}function V1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mn=typeof Object.is=="function"?Object.is:V1;function Zo(t,n){if(Mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!De.call(n,h)||!Mn(t[h],n[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,n){var r=Qp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qp(r)}}function Xp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ri(t.document)}return n}function ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var k1=Hn&&"documentMode"in document&&11>=document.documentMode,Ia=null,tf=null,Wo=null,nf=!1;function Jp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nf||Ia==null||Ia!==Ri(o)||(o=Ia,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Zo(Wo,o)||(Wo=o,o=Rc(tf,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ia)))}function Pr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},sf={},Zp={};Hn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function jr(t){if(sf[t])return sf[t];if(!xa[t])return t;var n=xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Zp)return sf[t]=n[r];return t}var Wp=jr("animationend"),eg=jr("animationiteration"),tg=jr("animationstart"),L1=jr("transitionrun"),U1=jr("transitionstart"),P1=jr("transitioncancel"),ng=jr("transitionend"),ig=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function hi(t,n){ig.set(t,n),Ai(n,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Na=0,af=0;function zu(){for(var t=Na,n=af=Na=0;n<t;){var r=Fn[n];Fn[n++]=null;var o=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&sg(r,h,f)}}function Bu(t,n,r,o){Fn[Na++]=t,Fn[Na++]=n,Fn[Na++]=r,Fn[Na++]=o,af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function of(t,n,r,o){return Bu(t,n,r,o),qu(t)}function zr(t,n){return Bu(t,null,null,n),qu(t)}function sg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ie(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function qu(t){if(50<Tl)throw Tl=0,gd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function j1(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,r,o){return new j1(t,n,r,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var r=t.alternate;return r===null?(r=Vn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function rg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Hu(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")lf(t)&&(g=1);else if(typeof t=="string")g=Gb(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Vn(31,r,n,h),t.elementType=I,t.lanes=f,t;case re:return Br(r.children,h,f,n);case ee:g=8,h|=24;break;case pe:return t=Vn(12,r,n,h|2),t.elementType=pe,t.lanes=f,t;case ft:return t=Vn(13,r,n,h),t.elementType=ft,t.lanes=f,t;case Ge:return t=Vn(19,r,n,h),t.elementType=Ge,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:g=10;break e;case be:g=9;break e;case Xe:g=11;break e;case x:g=14;break e;case A:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Vn(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Br(t,n,r,o){return t=Vn(7,t,o,n),t.lanes=r,t}function uf(t,n,r){return t=Vn(6,t,null,n),t.lanes=r,t}function ag(t){var n=Vn(18,null,null,0);return n.stateNode=t,n}function cf(t,n,r){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var og=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var r=og.get(t);return r!==void 0?r:(n={value:t,source:n,stack:se(n)},og.set(t,n),n)}return{value:t,source:n,stack:se(n)}}var Oa=[],Ma=0,Gu=null,el=0,Qn=[],Yn=0,Us=null,Mi=1,Vi="";function ts(t,n){Oa[Ma++]=el,Oa[Ma++]=Gu,Gu=t,el=n}function lg(t,n,r){Qn[Yn++]=Mi,Qn[Yn++]=Vi,Qn[Yn++]=Us,Us=t;var o=Mi;t=Vi;var h=32-ie(o)-1;o&=~(1<<h),r+=1;var f=32-ie(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Mi=1<<32-ie(n)+h|r<<h|o,Vi=f+t}else Mi=1<<f|r<<h|o,Vi=t}function hf(t){t.return!==null&&(ts(t,1),lg(t,1,0))}function ff(t){for(;t===Gu;)Gu=Oa[--Ma],Oa[Ma]=null,el=Oa[--Ma],Oa[Ma]=null;for(;t===Us;)Us=Qn[--Yn],Qn[Yn]=null,Vi=Qn[--Yn],Qn[Yn]=null,Mi=Qn[--Yn],Qn[Yn]=null}function ug(t,n){Qn[Yn++]=Mi,Qn[Yn++]=Vi,Qn[Yn++]=Us,Mi=n.id,Vi=n.overflow,Us=t}var nn=null,gt=null,He=!1,Ps=null,Xn=!1,df=Error(a(519));function js(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Kn(n,t)),df}function cg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ut]=t,n[$t]=o,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<Sl.length;r++)ke(Sl[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),Su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Ns(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||C_(n.textContent,r)?(o.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),o.onScroll!=null&&ke("scroll",n),o.onScrollEnd!=null&&ke("scrollend",n),o.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||js(t,!0)}function hg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:nn=nn.return}}function Va(t){if(t!==nn)return!1;if(!He)return hg(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Dd(t.type,t.memoizedProps)),r=!r),r&&gt&&js(t),hg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=L_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=L_(t)}else n===27?(n=gt,Ws(t.type)?(t=Ld,Ld=null,gt=t):gt=n):gt=nn?Jn(t.stateNode.nextSibling):null;return!0}function qr(){gt=nn=null,He=!1}function mf(){var t=Ps;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Ps=null),t}function tl(t){Ps===null?Ps=[t]:Ps.push(t)}var pf=M(null),Hr=null,ns=null;function zs(t,n,r){te(pf,n._currentValue),n._currentValue=r}function is(t){t._currentValue=pf.current,Y(pf)}function gf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function yf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),gf(f.return,r,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),gf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ka(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Mn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&yf(n,t,r,o),n.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Hr=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return fg(Hr,t)}function Ku(t,n){return Hr===null&&Gr(t),fg(t,n)}function fg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ns===null){if(t===null)throw Error(a(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return r}var z1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},B1=s.unstable_scheduleCallback,q1=s.unstable_NormalPriority,zt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new z1,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&B1(q1,function(){t.controller.abort()})}var il=null,vf=0,La=0,Ua=null;function H1(t,n){if(il===null){var r=il=[];vf=0,La=bd(),Ua={status:"pending",value:void 0,then:function(o){r.push(o)}}}return vf++,n.then(dg,dg),n}function dg(){if(--vf===0&&il!==null){Ua!==null&&(Ua.status="fulfilled");var t=il;il=null,La=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function G1(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var mg=G.S;G.S=function(t,n){Jy=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&H1(t,n),mg!==null&&mg(t,n)};var Fr=M(null);function Ef(){var t=Fr.current;return t!==null?t:ct.pooledCache}function Qu(t,n){n===null?te(Fr,Fr.current):te(Fr,n.pool)}function pg(){var t=Ef();return t===null?null:{parent:zt._currentValue,pool:t}}var Pa=Error(a(460)),Tf=Error(a(474)),Yu=Error(a(542)),Xu={then:function(){}};function gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ai,ai),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t}throw Qr=n,Pa}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Qr=r,Pa):r}}var Qr=null;function _g(){if(Qr===null)throw Error(a(459));var t=Qr;return Qr=null,t}function vg(t){if(t===Pa||t===Yu)throw Error(a(483))}var ja=null,sl=0;function $u(t){var n=sl;return sl+=1,ja===null&&(ja=[]),yg(ja,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Eg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=es(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=uf(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,K){var de=P.type;return de===re?F(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Kr(de)===D.type)?(D=h(D,P.props),rl(D,P),D.return=k,D):(D=Hu(P.type,P.key,P.props,null,k.mode,K),rl(D,P),D.return=k,D)}function j(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=cf(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,K,de){return D===null||D.tag!==7?(D=Br(P,k.mode,K,de),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=uf(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Hu(D.type,D.key,D.props,null,k.mode,P),rl(P,D),P.return=k,P;case Z:return D=cf(D,k.mode,P),D.return=k,D;case A:return D=Kr(D),X(k,D,P)}if(bt(D)||L(D))return D=Br(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,$u(D),P);if(D.$$typeof===Ee)return X(k,Ku(k,D),P);Ju(k,D)}return null}function B(k,D,P,K){var de=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===de?C(k,D,P,K):null;case Z:return P.key===de?j(k,D,P,K):null;case A:return P=Kr(P),B(k,D,P,K)}if(bt(P)||L(P))return de!==null?null:F(k,D,P,K,null);if(typeof P.then=="function")return B(k,D,$u(P),K);if(P.$$typeof===Ee)return B(k,D,Ku(k,P),K);Ju(k,P)}return null}function H(k,D,P,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?P:K.key)||null,C(D,k,K,de);case Z:return k=k.get(K.key===null?P:K.key)||null,j(D,k,K,de);case A:return K=Kr(K),H(k,D,P,K,de)}if(bt(K)||L(K))return k=k.get(P)||null,F(D,k,K,de,null);if(typeof K.then=="function")return H(k,D,P,$u(K),de);if(K.$$typeof===Ee)return H(k,D,P,Ku(D,K),de);Ju(D,K)}return null}function le(k,D,P,K){for(var de=null,Qe=null,ce=D,Ne=D=0,je=null;ce!==null&&Ne<P.length;Ne++){ce.index>Ne?(je=ce,ce=null):je=ce.sibling;var Ye=B(k,ce,P[Ne],K);if(Ye===null){ce===null&&(ce=je);break}t&&ce&&Ye.alternate===null&&n(k,ce),D=f(Ye,D,Ne),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye,ce=je}if(Ne===P.length)return r(k,ce),He&&ts(k,Ne),de;if(ce===null){for(;Ne<P.length;Ne++)ce=X(k,P[Ne],K),ce!==null&&(D=f(ce,D,Ne),Qe===null?de=ce:Qe.sibling=ce,Qe=ce);return He&&ts(k,Ne),de}for(ce=o(ce);Ne<P.length;Ne++)je=H(ce,k,Ne,P[Ne],K),je!==null&&(t&&je.alternate!==null&&ce.delete(je.key===null?Ne:je.key),D=f(je,D,Ne),Qe===null?de=je:Qe.sibling=je,Qe=je);return t&&ce.forEach(function(sr){return n(k,sr)}),He&&ts(k,Ne),de}function ge(k,D,P,K){if(P==null)throw Error(a(151));for(var de=null,Qe=null,ce=D,Ne=D=0,je=null,Ye=P.next();ce!==null&&!Ye.done;Ne++,Ye=P.next()){ce.index>Ne?(je=ce,ce=null):je=ce.sibling;var sr=B(k,ce,Ye.value,K);if(sr===null){ce===null&&(ce=je);break}t&&ce&&sr.alternate===null&&n(k,ce),D=f(sr,D,Ne),Qe===null?de=sr:Qe.sibling=sr,Qe=sr,ce=je}if(Ye.done)return r(k,ce),He&&ts(k,Ne),de;if(ce===null){for(;!Ye.done;Ne++,Ye=P.next())Ye=X(k,Ye.value,K),Ye!==null&&(D=f(Ye,D,Ne),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye);return He&&ts(k,Ne),de}for(ce=o(ce);!Ye.done;Ne++,Ye=P.next())Ye=H(ce,k,Ne,Ye.value,K),Ye!==null&&(t&&Ye.alternate!==null&&ce.delete(Ye.key===null?Ne:Ye.key),D=f(Ye,D,Ne),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye);return t&&ce.forEach(function(tS){return n(k,tS)}),He&&ts(k,Ne),de}function ot(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var de=P.key;D!==null;){if(D.key===de){if(de=P.type,de===re){if(D.tag===7){r(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Kr(de)===D.type){r(k,D.sibling),K=h(D,P.props),rl(K,P),K.return=k,k=K;break e}r(k,D);break}else n(k,D);D=D.sibling}P.type===re?(K=Br(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Hu(P.type,P.key,P.props,null,k.mode,K),rl(K,P),K.return=k,k=K)}return g(k);case Z:e:{for(de=P.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break e}else{r(k,D);break}else n(k,D);D=D.sibling}K=cf(P,k.mode,K),K.return=k,k=K}return g(k);case A:return P=Kr(P),ot(k,D,P,K)}if(bt(P))return le(k,D,P,K);if(L(P)){if(de=L(P),typeof de!="function")throw Error(a(150));return P=de.call(P),ge(k,D,P,K)}if(typeof P.then=="function")return ot(k,D,$u(P),K);if(P.$$typeof===Ee)return ot(k,D,Ku(k,P),K);Ju(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,P),K.return=k,k=K):(r(k,D),K=uf(P,k.mode,K),K.return=k,k=K),g(k)):r(k,D)}return function(k,D,P,K){try{sl=0;var de=ot(k,D,P,K);return ja=null,de}catch(ce){if(ce===Pa||ce===Yu)throw ce;var Qe=Vn(29,ce,null,k.mode);return Qe.lanes=K,Qe.return=k,Qe}}}var Yr=Eg(!0),Tg=Eg(!1),Bs=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=qu(t),sg(t,null,r),n}return Bu(t,o,n,r),qu(t)}function al(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Mo(t,r)}}function Af(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var wf=!1;function ol(){if(wf){var t=Ua;if(t!==null)throw t}}function ll(t,n,r,o){wf=!1;var h=t.updateQueue;Bs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,F=j=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Pe&B)===B:(o&B)===B){B!==0&&B===La&&(wf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ge=E;B=n;var ot=r;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){X=le.call(ot,X,B);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,B=typeof le=="function"?le.call(ot,X,B):le,B==null)break e;X=w({},X,B);break e;case 2:Bs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=H,C=X):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=g,t.lanes=g,t.memoizedState=X}}function bg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)bg(r[t],n)}var za=M(null),Zu=M(0);function Ag(t,n){t=fs,te(Zu,t),te(za,n),fs=t|n.baseLanes}function Rf(){te(Zu,fs),te(za,za.current)}function Cf(){fs=Zu.current,Y(za),Y(Zu)}var kn=M(null),$n=null;function Gs(t){var n=t.alternate;te(Ot,Ot.current&1),te(kn,t),$n===null&&(n===null||za.current!==null||n.memoizedState!==null)&&($n=t)}function If(t){te(Ot,Ot.current),te(kn,t),$n===null&&($n=t)}function wg(t){t.tag===22?(te(Ot,Ot.current),te(kn,t),$n===null&&($n=t)):Fs()}function Fs(){te(Ot,Ot.current),te(kn,kn.current)}function Ln(t){Y(kn),$n===t&&($n=null),Y(Ot)}var Ot=M(0);function Wu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Vd(r)||kd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,xe=null,rt=null,Bt=null,ec=!1,Ba=!1,Xr=!1,tc=0,ul=0,qa=null,F1=0;function Ct(){throw Error(a(321))}function xf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Mn(t[r],n[r]))return!1;return!0}function Nf(t,n,r,o,h,f){return ss=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ly:Ff,Xr=!1,f=r(o,h),Xr=!1,Ba&&(f=Cg(n,r,o,h)),Rg(t),f}function Rg(t){G.H=fl;var n=rt!==null&&rt.next!==null;if(ss=0,Bt=rt=xe=null,ec=!1,ul=0,qa=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&Fu(t)&&(qt=!0))}function Cg(t,n,r,o){xe=t;var h=0;do{if(Ba&&(qa=null),ul=0,Ba=!1,25<=h)throw Error(a(301));if(h+=1,Bt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=uy,f=n(r,o)}while(Ba);return f}function K1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(xe.flags|=1024),n}function Df(){var t=tc!==0;return tc=0,t}function Of(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Mf(t){if(ec){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ec=!1}ss=0,Bt=rt=xe=null,Ba=!1,ul=tc=0,qa=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?xe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Mt(){if(rt===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Bt===null?xe.memoizedState:Bt.next;if(n!==null)Bt=n,rt=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Bt===null?xe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ul;return ul+=1,qa===null&&(qa=[]),t=yg(qa,t,n),n=xe,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ly:Ff),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===Ee)return sn(t)}throw Error(a(438,String(t)))}function Vf(t){var n=null,r=xe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=nc(),xe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function rs(t,n){return typeof n=="function"?n(t):n}function sc(t){var n=Mt();return kf(n,rt,t)}function kf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Pe&X)===X:(ss&X)===X){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===La&&(F=!0);else if((ss&B)===B){j=j.next,B===La&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,xe.lanes|=B,Ys|=B;X=j.action,Xr&&r(f,X),f=j.hasEagerState?j.eagerState:r(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,xe.lanes|=X,Ys|=X;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=E,!Mn(f,t.memoizedState)&&(qt=!0,F&&(r=Ua,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Lf(t){var n=Mt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Mn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Ig(t,n,r){var o=xe,h=Mt(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Mn((rt||h).memoizedState,r);if(g&&(h.memoizedState=r,qt=!0),h=h.queue,jf(Dg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,Ha(9,{destroy:void 0},Ng.bind(null,o,h,r,n),null),ct===null)throw Error(a(349));f||(ss&127)!==0||xg(o,n,r)}return r}function xg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=xe.updateQueue,n===null?(n=nc(),xe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ng(t,n,r,o){n.value=r,n.getSnapshot=o,Og(n)&&Mg(t)}function Dg(t,n,r){return r(function(){Og(n)&&Mg(t)})}function Og(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Mn(t,r)}catch{return!0}}function Mg(t){var n=zr(t,2);n!==null&&Rn(n,t,2)}function Uf(t){var n=yn();if(typeof t=="function"){var r=t;if(t=r(),Xr){z(!0);try{r()}finally{z(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function Vg(t,n,r,o){return t.baseState=r,kf(t,rt,typeof o=="function"?o:rs)}function Q1(t,n,r,o,h){if(oc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,kg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function kg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),C=G.S;C!==null&&C(g,E),Lg(t,n,E)}catch(j){Pf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),Lg(t,n,f)}catch(j){Pf(t,n,j)}}function Lg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ug(t,n,o)},function(o){return Pf(t,n,o)}):Ug(t,n,r)}function Ug(t,n,r){n.status="fulfilled",n.value=r,Pg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,kg(t,r)))}function Pf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Pg(n),n=n.next;while(n!==o)}t.action=null}function Pg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jg(t,n){return n}function zg(t,n){if(He){var r=ct.formState;if(r!==null){e:{var o=xe;if(He){if(gt){t:{for(var h=gt,f=Xn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=Jn(h.nextSibling),o=h.data==="F!";break e}}js(o)}o=!1}o&&(n=r[0])}}return r=yn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},r.queue=o,r=ry.bind(null,xe,o),o.dispatch=r,o=Uf(!1),f=Gf.bind(null,xe,!1,o.queue),o=yn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=Q1.bind(null,xe,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Bg(t){var n=Mt();return qg(n,rt,t)}function qg(t,n,r){if(n=kf(t,n,jg)[0],t=sc(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=cl(n)}catch(g){throw g===Pa?Yu:g}else o=n;n=Mt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(xe.flags|=2048,Ha(9,{destroy:void 0},Y1.bind(null,h,r),null)),[o,f,t]}function Y1(t,n){t.action=n}function Hg(t){var n=Mt(),r=rt;if(r!==null)return qg(n,r,t);Mt(),n=n.memoizedState,r=Mt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ha(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=nc(),xe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Gg(){return Mt().memoizedState}function rc(t,n,r,o){var h=yn();xe.flags|=t,h.memoizedState=Ha(1|n,{destroy:void 0},r,o===void 0?null:o)}function ac(t,n,r,o){var h=Mt();o=o===void 0?null:o;var f=h.memoizedState.inst;rt!==null&&o!==null&&xf(o,rt.memoizedState.deps)?h.memoizedState=Ha(n,f,r,o):(xe.flags|=t,h.memoizedState=Ha(1|n,f,r,o))}function Fg(t,n){rc(8390656,8,t,n)}function jf(t,n){ac(2048,8,t,n)}function X1(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=nc(),xe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Kg(t){var n=Mt().memoizedState;return X1({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Qg(t,n){return ac(4,2,t,n)}function Yg(t,n){return ac(4,4,t,n)}function Xg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $g(t,n,r){r=r!=null?r.concat([t]):null,ac(4,4,Xg.bind(null,n,t),r)}function zf(){}function Jg(t,n){var r=Mt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&xf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Zg(t,n){var r=Mt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&xf(n,o[1]))return o[0];if(o=t(),Xr){z(!0);try{t()}finally{z(!1)}}return r.memoizedState=[o,n],o}function Bf(t,n,r){return r===void 0||(ss&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Wy(),xe.lanes|=t,Ys|=t,r)}function Wg(t,n,r,o){return Mn(r,n)?r:za.current!==null?(t=Bf(t,r,o),Mn(t,n)||(qt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(Pe&261930)===0?(qt=!0,t.memoizedState=r):(t=Wy(),xe.lanes|=t,Ys|=t,n)}function ey(t,n,r,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Gf(t,!1,n,r);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=G1(C,o);hl(t,n,F,jn(t))}else hl(t,n,o,jn(t))}catch(X){hl(t,n,{then:function(){},status:"rejected",reason:X},jn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function $1(){}function qf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=ty(t).queue;ey(t,h,n,fe,r===null?$1:function(){return ny(t),r(o)})}function ty(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ny(t){var n=ty(t);n.next===null&&(n=t.alternate.memoizedState),hl(t,n.next.queue,{},jn())}function Hf(){return sn(Il)}function iy(){return Mt().memoizedState}function sy(){return Mt().memoizedState}function J1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=jn();t=qs(r);var o=Hs(n,t,r);o!==null&&(Rn(o,n,r),al(o,n,r)),n={cache:_f()},t.payload=n;return}n=n.return}}function Z1(t,n,r){var o=jn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},oc(t)?ay(n,r):(r=of(t,n,r,o),r!==null&&(Rn(r,t,o),oy(r,n,o)))}function ry(t,n,r){var o=jn();hl(t,n,r,o)}function hl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(oc(t))ay(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Mn(E,g))return Bu(t,n,h,0),ct===null&&zu(),!1}catch{}if(r=of(t,n,h,o),r!==null)return Rn(r,t,o),oy(r,n,o),!0}return!1}function Gf(t,n,r,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(a(479))}else n=of(t,r,o,2),n!==null&&Rn(n,t,2)}function oc(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function ay(t,n){Ba=ec=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function oy(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Mo(t,r)}}var fl={readContext:sn,use:ic,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};fl.useEffectEvent=Ct;var ly={readContext:sn,use:ic,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Fg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,rc(4194308,4,Xg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return rc(4194308,4,t,n)},useInsertionEffect:function(t,n){rc(4,2,t,n)},useMemo:function(t,n){var r=yn();n=n===void 0?null:n;var o=t();if(Xr){z(!0);try{t()}finally{z(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=yn();if(r!==void 0){var h=r(n);if(Xr){z(!0);try{r(n)}finally{z(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Z1.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=Uf(t);var n=t.queue,r=ry.bind(null,xe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:zf,useDeferredValue:function(t,n){var r=yn();return Bf(r,t,n)},useTransition:function(){var t=Uf(!1);return t=ey.bind(null,xe,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=xe,h=yn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Pe&127)!==0||xg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Fg(Dg.bind(null,o,f,t),[t]),o.flags|=2048,Ha(9,{destroy:void 0},Ng.bind(null,o,f,r,n),null),r},useId:function(){var t=yn(),n=ct.identifierPrefix;if(He){var r=Vi,o=Mi;r=(o&~(1<<32-ie(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=tc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=F1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Hf,useFormState:zg,useActionState:zg,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Gf.bind(null,xe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Vf,useCacheRefresh:function(){return yn().memoizedState=J1.bind(null,xe)},useEffectEvent:function(t){var n=yn(),r={impl:t};return n.memoizedState=r,function(){if((Je&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Ff={readContext:sn,use:ic,useCallback:Jg,useContext:sn,useEffect:jf,useImperativeHandle:$g,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:sc,useRef:Gg,useState:function(){return sc(rs)},useDebugValue:zf,useDeferredValue:function(t,n){var r=Mt();return Wg(r,rt.memoizedState,t,n)},useTransition:function(){var t=sc(rs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Ig,useId:iy,useHostTransitionStatus:Hf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var r=Mt();return Vg(r,rt,t,n)},useMemoCache:Vf,useCacheRefresh:sy};Ff.useEffectEvent=Kg;var uy={readContext:sn,use:ic,useCallback:Jg,useContext:sn,useEffect:jf,useImperativeHandle:$g,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Lf,useRef:Gg,useState:function(){return Lf(rs)},useDebugValue:zf,useDeferredValue:function(t,n){var r=Mt();return rt===null?Bf(r,t,n):Wg(r,rt.memoizedState,t,n)},useTransition:function(){var t=Lf(rs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Ig,useId:iy,useHostTransitionStatus:Hf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,n){var r=Mt();return rt!==null?Vg(r,rt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:sy};uy.useEffectEvent=Kg;function Kf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=jn(),h=qs(o);h.payload=n,r!=null&&(h.callback=r),n=Hs(t,h,o),n!==null&&(Rn(n,t,o),al(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=jn(),h=qs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Hs(t,h,o),n!==null&&(Rn(n,t,o),al(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=jn(),o=qs(r);o.tag=2,n!=null&&(o.callback=n),n=Hs(t,o,r),n!==null&&(Rn(n,t,r),al(n,t,r))}};function cy(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zo(r,o)||!Zo(h,f):!0}function hy(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Qf.enqueueReplaceState(n,n.state,null)}function $r(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function fy(t){ju(t)}function dy(t){console.error(t)}function my(t){ju(t)}function lc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function py(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,n,r){return r=qs(r),r.tag=3,r.payload={element:null},r.callback=function(){lc(t,n)},r}function gy(t){return t=qs(t),t.tag=3,t}function yy(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){py(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){py(n,r,o),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function W1(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ka(n,r,h,!0),r=kn.current,r!==null){switch(r.tag){case 31:case 13:return $n===null?Ec():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Xu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),vd(t,o,h)),!1;case 22:return r.flags|=65536,o===Xu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),vd(t,o,h)),!1}throw Error(a(435,r.tag))}return vd(t,o,h),Ec(),!1}if(He)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==df&&(t=Error(a(422),{cause:o}),tl(Kn(t,r)))):(o!==df&&(n=Error(a(423),{cause:o}),tl(Kn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Kn(o,r),h=Yf(t.stateNode,o,h),Af(t,h),It!==4&&(It=2)),!1;var f=Error(a(520),{cause:o});if(f=Kn(f,r),El===null?El=[f]:El.push(f),It!==4&&(It=2),n===null)return!0;o=Kn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Yf(r.stateNode,o,t),Af(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=gy(h),yy(h,t,r,o),Af(r,h),!1}r=r.return}while(r!==null);return!1}var Xf=Error(a(461)),qt=!1;function rn(t,n,r,o){n.child=t===null?Tg(n,null,r,o):Yr(n,t.child,r,o)}function _y(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Gr(n),o=Nf(t,n,r,g,f,h),E=Df(),t!==null&&!qt?(Of(t,n,h),as(t,n,h)):(He&&E&&hf(n),n.flags|=1,rn(t,n,o,h),n.child)}function vy(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!lf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ey(t,n,f,o,h)):(t=Hu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!id(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(g,o)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=es(f,o),t.ref=n.ref,t.return=n,n.child=t}function Ey(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(qt=!1,n.pendingProps=o=f,id(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,as(t,n,h)}return $f(t,n,r,o,h)}function Ty(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return by(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?Ag(n,f):Rf(),wg(n);else return o=n.lanes=536870912,by(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Qu(n,f.cachePool),Ag(n,f),Fs(),n.memoizedState=null):(t!==null&&Qu(n,null),Rf(),Fs());return rn(t,n,h,r),n.child}function dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function by(t,n,r,o,h){var f=Ef();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Qu(n,null),Rf(),wg(n),t!==null&&ka(t,n,o,!0),n.childLanes=h,null}function uc(t,n){return n=hc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Sy(t,n,r){return Yr(n,t.child,null,r),t=uc(n,n.pendingProps),t.flags|=2,Ln(n),n.memoizedState=null,t}function eb(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=uc(n,o),n.lanes=536870912,dl(null,t);if(If(n),(t=gt)?(t=k_(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=ag(t),r.return=n,n.child=r,nn=n,gt=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return uc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(If(n),h)if(n.flags&256)n.flags&=-257,n=Sy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||ka(t,n,r,!1),h=(r&t.childLanes)!==0,qt||h){if(o=ct,o!==null&&(g=Vo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,zr(t,g),Rn(o,t,g),Xf;Ec(),n=Sy(t,n,r)}else t=f.treeContext,gt=Jn(g.nextSibling),nn=n,He=!0,Ps=null,Xn=!1,t!==null&&ug(n,t),n=uc(n,o),n.flags|=4096;return n}return t=es(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function cc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function $f(t,n,r,o,h){return Gr(n),r=Nf(t,n,r,o,void 0,h),o=Df(),t!==null&&!qt?(Of(t,n,h),as(t,n,h)):(He&&o&&hf(n),n.flags|=1,rn(t,n,r,h),n.child)}function Ay(t,n,r,o,h,f){return Gr(n),n.updateQueue=null,r=Cg(n,o,r,h),Rg(t),o=Df(),t!==null&&!qt?(Of(t,n,f),as(t,n,f)):(He&&o&&hf(n),n.flags|=1,rn(t,n,r,f),n.child)}function wy(t,n,r,o,h){if(Gr(n),n.stateNode===null){var f=Da,g=r.contextType;typeof g=="object"&&g!==null&&(f=sn(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},bf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?sn(g):Da,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Kf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Qf.enqueueReplaceState(f,f.state,null),ll(n,o,f,h),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=$r(r,E);f.props=C;var j=f.context,F=r.contextType;g=Da,typeof F=="object"&&F!==null&&(g=sn(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&hy(n,f,o,g),Bs=!1;var B=n.memoizedState;f.state=B,ll(n,o,f,h),ol(),j=n.memoizedState,E||B!==j||Bs?(typeof X=="function"&&(Kf(n,r,X,o),j=n.memoizedState),(C=Bs||cy(n,r,C,o,B,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Sf(t,n),g=n.memoizedProps,F=$r(r,g),f.props=F,X=n.pendingProps,B=f.context,j=r.contextType,C=Da,typeof j=="object"&&j!==null&&(C=sn(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&hy(n,f,o,C),Bs=!1,B=n.memoizedState,f.state=B,ll(n,o,f,h),ol();var H=n.memoizedState;g!==X||B!==H||Bs||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(Kf(n,r,E,o),H=n.memoizedState),(F=Bs||cy(n,r,F,o,B,H,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Yr(n,t.child,null,h),n.child=Yr(n,null,r,h)):rn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=as(t,n,h),t}function Ry(t,n,r,o){return qr(),n.flags|=256,rn(t,n,r,o),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:pg()}}function Wf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Pn),t}function Cy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Gs(n):Fs(),(t=gt)?(t=k_(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=ag(t),r.return=n,n.child=r,nn=n,gt=null)):t=null,t===null)throw js(n);return kd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Fs(),h=n.mode,E=hc({mode:"hidden",children:E},h),o=Br(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Zf(r),o.childLanes=Wf(t,g,r),n.memoizedState=Jf,dl(null,o)):(Gs(n),ed(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=td(t,n,r)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),E=o.fallback,h=n.mode,o=hc({mode:"visible",children:o.children},h),E=Br(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Yr(n,t.child,null,r),o=n.child,o.memoizedState=Zf(r),o.childLanes=Wf(t,g,r),n.memoizedState=Jf,n=dl(null,o));else if(Gs(n),kd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,tl({value:o,source:null,stack:null}),n=td(t,n,r)}else if(qt||ka(t,n,r,!1),g=(r&t.childLanes)!==0,qt||g){if(g=ct,g!==null&&(o=Vo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,zr(t,o),Rn(g,t,o),Xf;Vd(E)||Ec(),n=td(t,n,r)}else Vd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,gt=Jn(E.nextSibling),nn=n,He=!0,Ps=null,Xn=!1,t!==null&&ug(n,t),n=ed(n,o.children),n.flags|=4096);return n}return h?(Fs(),E=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=es(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=es(j,E):(E=Br(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,dl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Zf(r):(h=E.cachePool,h!==null?(C=zt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=pg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Wf(t,g,r),n.memoizedState=Jf,dl(t.child,o)):(Gs(n),r=t.child,t=r.sibling,r=es(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function ed(t,n){return n=hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hc(t,n){return t=Vn(22,t,null,n),t.lanes=0,t}function td(t,n,r){return Yr(n,t.child,null,r),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Iy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),gf(t.return,n,r)}function nd(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function xy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ot.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,te(Ot,g),rn(t,n,o,r),o=He?el:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,r,n);else if(t.tag===19)Iy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Wu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),nd(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}nd(n,!0,r,null,f,o);break;case"together":nd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ka(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=es(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function tb(t,n,r){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),zs(n,zt,t.memoizedState.cache),qr();break;case 27:case 5:ti(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,If(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Gs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Cy(t,n,r):(Gs(n),t=as(t,n,r),t!==null?t.sibling:null);Gs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ka(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return xy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Ot,Ot.current),o)break;return null;case 22:return n.lanes=0,Ty(t,n,r,n.pendingProps);case 24:zs(n,zt,t.memoizedState.cache)}return as(t,n,r)}function Ny(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!id(t,r)&&(n.flags&128)===0)return qt=!1,tb(t,n,r);qt=(t.flags&131072)!==0}else qt=!1,He&&(n.flags&1048576)!==0&&lg(n,el,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")lf(t)?(o=$r(t,o),n.tag=1,n=wy(null,n,t,o,r)):(n.tag=0,n=$f(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Xe){n.tag=11,n=_y(null,n,t,o,r);break e}else if(h===x){n.tag=14,n=vy(null,n,t,o,r);break e}}throw n=dt(t)||t,Error(a(306,n,""))}}return n;case 0:return $f(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=$r(o,n.pendingProps),wy(t,n,o,h,r);case 3:e:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Sf(t,n),ll(n,o,null,r);var g=n.memoizedState;if(o=g.cache,zs(n,zt,o),o!==f.cache&&yf(n,[zt],r,!0),ol(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ry(t,n,o,r);break e}else if(o!==h){h=Kn(Error(a(424)),n),tl(h),n=Ry(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,gt=Jn(t.firstChild),nn=n,He=!0,Ps=null,Xn=!0,r=Tg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),o===h){n=as(t,n,r);break e}rn(t,n,o,r)}n=n.child}return n;case 26:return cc(t,n),t===null?(r=B_(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,o=Cc(Se.current).createElement(r),o[Ut]=n,o[$t]=t,an(o,r,t),Pt(o),n.stateNode=o):n.memoizedState=B_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ti(n),t===null&&He&&(o=n.stateNode=P_(n.type,n.pendingProps,Se.current),nn=n,Xn=!0,h=gt,Ws(n.type)?(Ld=h,gt=Jn(o.firstChild)):gt=h),rn(t,n,n.pendingProps.children,r),cc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=gt)&&(o=Db(o,n.type,n.pendingProps,Xn),o!==null?(n.stateNode=o,nn=n,gt=Jn(o.firstChild),Xn=!1,h=!0):h=!1),h||js(n)),ti(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Dd(h,f)?o=null:g!==null&&Dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Nf(t,n,K1,null,null,r),Il._currentValue=h),cc(t,n),rn(t,n,o,r),n.child;case 6:return t===null&&He&&((t=r=gt)&&(r=Ob(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,nn=n,gt=null,t=!0):t=!1),t||js(n)),null;case 13:return Cy(t,n,r);case 4:return wt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Yr(n,null,o,r):rn(t,n,o,r),n.child;case 11:return _y(t,n,n.type,n.pendingProps,r);case 7:return rn(t,n,n.pendingProps,r),n.child;case 8:return rn(t,n,n.pendingProps.children,r),n.child;case 12:return rn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),rn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Gr(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,r),n.child;case 14:return vy(t,n,n.type,n.pendingProps,r);case 15:return Ey(t,n,n.type,n.pendingProps,r);case 19:return xy(t,n,r);case 31:return eb(t,n,r);case 22:return Ty(t,n,r,n.pendingProps);case 24:return Gr(n),o=sn(zt),t===null?(h=Ef(),h===null&&(h=ct,f=_f(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},bf(n),zs(n,zt,h)):((t.lanes&r)!==0&&(Sf(t,n),ll(n,null,null,r),ol()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,zt,o)):(o=f.cache,zs(n,zt,o),o!==h.cache&&yf(n,[zt],r,!0))),rn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function sd(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i_())t.flags|=8192;else throw Qr=Xu,Tf}else t.flags&=-16777217}function Dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K_(n))if(i_())t.flags|=8192;else throw Qr=Xu,Tf}function fc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_u():536870912,t.lanes|=n,Qa|=n)}function ml(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function nb(t,n,r){var o=n.pendingProps;switch(ff(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),is(zt),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(yt(n),Dy(n,f)):(yt(n),sd(n,h,null,o,r))):f?f!==t.memoizedState?(os(n),yt(n),Dy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&os(n),yt(n),sd(n,h,t,o,r)),null;case 27:if(Cs(n),r=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=ae.current,Va(n)?cg(n):(t=P_(h,o,r),n.stateNode=t,os(n))}return yt(n),null;case 5:if(Cs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=ae.current,Va(n))cg(n);else{var g=Cc(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ut]=n,f[$t]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&os(n)}}return yt(n),sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,Va(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ut]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||C_(t.nodeValue,r)),t||js(n,!0)}else t=Cc(t).createTextNode(o),t[Ut]=n,n.stateNode=t}return yt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Va(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ut]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else r=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Ln(n),n):(Ln(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ut]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ln(n),n):(Ln(n),null)}return Ln(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),fc(n,n.updateQueue),yt(n),null);case 4:return lt(),t===null&&Rd(n.stateNode.containerInfo),yt(n),null;case 10:return is(n.type),yt(n),null;case 19:if(Y(Ot),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wu(t),f!==null){for(n.flags|=128,ml(o,!1),t=f.updateQueue,n.updateQueue=t,fc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)rg(r,t),r=r.sibling;return te(Ot,Ot.current&1|2),He&&ts(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Nt()>yc&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304)}else{if(!h)if(t=Wu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,fc(n,t),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return yt(n),null}else 2*Nt()-o.renderingStartTime>yc&&r!==536870912&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Nt(),t.sibling=null,r=Ot.current,te(Ot,h?r&1|2:r&1),He&&ts(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return Ln(n),Cf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),r=n.updateQueue,r!==null&&fc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(Fr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),is(zt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ib(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(zt),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(Ln(n),n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ot),null;case 4:return lt(),null;case 10:return is(n.type),null;case 22:case 23:return Ln(n),Cf(),t!==null&&Y(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(zt),null;case 25:return null;default:return null}}function Oy(t,n){switch(ff(n),n.tag){case 3:is(zt),lt();break;case 26:case 27:case 5:Cs(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&Ln(n);break;case 13:Ln(n);break;case 19:Y(Ot);break;case 10:is(n.type);break;case 22:case 23:Ln(n),Cf(),t!==null&&Y(Fr);break;case 24:is(zt)}}function pl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){nt(n,n.return,E)}}function Ks(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=r,j=E;try{j()}catch(F){nt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){nt(n,n.return,F)}}function My(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Sg(n,r)}catch(o){nt(t,t.return,o)}}}function Vy(t,n,r){r.props=$r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){nt(t,n,o)}}function gl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){nt(t,n,h)}}function ki(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){nt(t,n,h)}else r.current=null}function ky(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){nt(t,t.return,h)}}function rd(t,n,r){try{var o=t.stateNode;wb(o,t.type,r,n),o[$t]=n}catch(h){nt(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ai));else if(o!==4&&(o===27&&Ws(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,r),t=t.sibling;t!==null;)od(t,n,r),t=t.sibling}function dc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Ws(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(dc(t,n,r),t=t.sibling;t!==null;)dc(t,n,r),t=t.sibling}function Uy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,r),n[Ut]=t,n[$t]=r}catch(f){nt(t,t.return,f)}}var ls=!1,Ht=!1,ld=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function sb(t,n){if(t=t.containerInfo,xd=Vc,t=$p(t),ef(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,C=-1,j=0,F=0,X=t,B=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===r&&++j===h&&(E=g),B===f&&++F===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nd={focusedElem:t,selectionRange:r},Vc=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var le=$r(r.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){nt(r,r.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Md(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function jy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:cs(t,r),o&4&&pl(5,r);break;case 1:if(cs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){nt(r,r.return,g)}else{var h=$r(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(r,r.return,g)}}o&64&&My(r),o&512&&gl(r,r.return);break;case 3:if(cs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Sg(t,n)}catch(g){nt(r,r.return,g)}}break;case 27:n===null&&o&4&&Uy(r);case 26:case 5:cs(t,r),n===null&&o&4&&ky(r),o&512&&gl(r,r.return);break;case 12:cs(t,r);break;case 31:cs(t,r),o&4&&qy(t,r);break;case 13:cs(t,r),o&4&&Hy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=db.bind(null,r),Mb(t,r))));break;case 22:if(o=r.memoizedState!==null||ls,!o){n=n!==null&&n.memoizedState!==null||Ht,h=ls;var f=Ht;ls=o,(Ht=n)&&!f?hs(t,r,(r.subtreeFlags&8772)!==0):cs(t,r),ls=h,Ht=f}break;case 30:break;default:cs(t,r)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ya(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,bn=!1;function us(t,n,r){for(r=r.child;r!==null;)By(t,n,r),r=r.sibling}function By(t,n,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Nn,r)}catch{}switch(r.tag){case 26:Ht||ki(r,n),us(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ht||ki(r,n);var o=Tt,h=bn;Ws(r.type)&&(Tt=r.stateNode,bn=!1),us(t,n,r),wl(r.stateNode),Tt=o,bn=h;break;case 5:Ht||ki(r,n);case 6:if(o=Tt,h=bn,Tt=null,us(t,n,r),Tt=o,bn=h,Tt!==null)if(bn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(r.stateNode)}catch(f){nt(r,n,f)}else try{Tt.removeChild(r.stateNode)}catch(f){nt(r,n,f)}break;case 18:Tt!==null&&(bn?(t=Tt,M_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),to(t)):M_(Tt,r.stateNode));break;case 4:o=Tt,h=bn,Tt=r.stateNode.containerInfo,bn=!0,us(t,n,r),Tt=o,bn=h;break;case 0:case 11:case 14:case 15:Ks(2,r,n),Ht||Ks(4,r,n),us(t,n,r);break;case 1:Ht||(ki(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Vy(r,n,o)),us(t,n,r);break;case 21:us(t,n,r);break;case 22:Ht=(o=Ht)||r.memoizedState!==null,us(t,n,r),Ht=o;break;default:us(t,n,r)}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(r){nt(n,n.return,r)}}}function Hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(r){nt(n,n.return,r)}}function rb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Py),n;default:throw Error(a(435,t.tag))}}function mc(t,n){var r=rb(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=mb.bind(null,t,o);o.then(h,h)}})}function Sn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){Tt=E.stateNode,bn=!1;break e}break;case 5:Tt=E.stateNode,bn=!1;break e;case 3:case 4:Tt=E.stateNode.containerInfo,bn=!0;break e}E=E.return}if(Tt===null)throw Error(a(160));By(f,g,h),Tt=null,bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gy(n,t),n=n.sibling}var fi=null;function Gy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),An(t),o&4&&(Ks(3,t,t.return),pl(3,t),Ks(5,t,t.return));break;case 1:Sn(n,t),An(t),o&512&&(Ht||r===null||ki(r,r.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=fi;if(Sn(n,t),An(t),o&512&&(Ht||r===null||ki(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,r),f[Ut]=t,Pt(f),o=f;break e;case"link":var g=G_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;case"meta":if(g=G_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ut]=t,Pt(f),o=f}t.stateNode=o}else F_(h,t.type,t.stateNode);else t.stateNode=H_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?F_(h,t.type,t.stateNode):H_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&rd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Sn(n,t),An(t),o&512&&(Ht||r===null||ki(r,r.return)),r!==null&&o&4&&rd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Sn(n,t),An(t),o&512&&(Ht||r===null||ki(r,r.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(le){nt(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,r!==null?r.memoizedProps:h)),o&1024&&(ld=!0);break;case 6:if(Sn(n,t),An(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(le){nt(t,t.return,le)}}break;case 3:if(Nc=null,h=fi,fi=Ic(n.containerInfo),Sn(n,t),fi=h,An(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{to(n.containerInfo)}catch(le){nt(t,t.return,le)}ld&&(ld=!1,Fy(t));break;case 4:o=fi,fi=Ic(t.stateNode.containerInfo),Sn(n,t),An(t),fi=o;break;case 12:Sn(n,t),An(t);break;case 31:Sn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 13:Sn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(gc=Nt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,j=ls,F=Ht;if(ls=j||h,Ht=F||C,Sn(n,t),Ht=F,ls=j,An(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||ls||Ht||Jr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){nt(C,C.return,le)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){nt(C,C.return,le)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?V_(H,!0):V_(C.stateNode,!1)}catch(le){nt(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,mc(t,r))));break;case 19:Sn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 30:break;case 21:break;default:Sn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Ly(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=ad(t);dc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Tn(g,""),r.flags&=-33);var E=ad(t);dc(t,E,g);break;case 3:case 4:var C=r.stateNode.containerInfo,j=ad(t);od(t,j,C);break;default:throw Error(a(161))}}catch(F){nt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jy(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),Jr(n);break;case 1:ki(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Vy(n,n.return,r),Jr(n);break;case 27:wl(n.stateNode);case 26:case 5:ki(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function hs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,r),pl(4,f);break;case 1:if(hs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){nt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bg(C[h],E)}catch(j){nt(o,o.return,j)}}r&&g&64&&My(f),gl(f,f.return);break;case 27:Uy(f);case 26:case 5:hs(h,f,r),r&&o===null&&g&4&&ky(f),gl(f,f.return);break;case 12:hs(h,f,r);break;case 31:hs(h,f,r),r&&g&4&&qy(h,f);break;case 13:hs(h,f,r),r&&g&4&&Hy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,r),gl(f,f.return);break;case 30:break;default:hs(h,f,r)}n=n.sibling}}function ud(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function di(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ky(t,n,r,o),n=n.sibling}function Ky(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:di(t,n,r,o),h&2048&&pl(9,n);break;case 1:di(t,n,r,o);break;case 3:di(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){di(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else di(t,n,r,o);break;case 31:di(t,n,r,o);break;case 13:di(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?di(t,n,r,o):yl(t,n):f._visibility&2?di(t,n,r,o):(f._visibility|=2,Ga(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ud(g,n);break;case 24:di(t,n,r,o),h&2048&&cd(n.alternate,n);break;default:di(t,n,r,o)}}function Ga(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ga(f,g,E,C,h),pl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ga(f,g,E,C,h):yl(f,g):(F._visibility|=2,Ga(f,g,E,C,h)),h&&j&2048&&ud(g.alternate,g);break;case 24:Ga(f,g,E,C,h),h&&j&2048&&cd(g.alternate,g);break;default:Ga(f,g,E,C,h)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:yl(r,o),h&2048&&ud(o.alternate,o);break;case 24:yl(r,o),h&2048&&cd(o.alternate,o);break;default:yl(r,o)}n=n.sibling}}var _l=8192;function Fa(t,n,r){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Qy(t,n,r),t=t.sibling}function Qy(t,n,r){switch(t.tag){case 26:Fa(t,n,r),t.flags&_l&&t.memoizedState!==null&&Fb(r,fi,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,r);break;case 3:case 4:var o=fi;fi=Ic(t.stateNode.containerInfo),Fa(t,n,r),fi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Fa(t,n,r),_l=o):Fa(t,n,r));break;default:Fa(t,n,r)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zt=o,$y(o,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pc(t)):vl(t);break;default:vl(t)}}function pc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zt=o,$y(o,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),pc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,pc(n));break;default:pc(n)}t=t.sibling}}function $y(t,n){for(;Zt!==null;){var r=Zt;switch(r.tag){case 0:case 11:case 15:Ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Zt=o;else e:for(r=t;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(zy(o),o===r){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var ab={getCacheForType:function(t){var n=sn(zt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return sn(zt).controller.signal}},ob=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Ve=null,Pe=0,tt=0,Un=null,Qs=!1,Ka=!1,hd=!1,fs=0,It=0,Ys=0,Zr=0,fd=0,Pn=0,Qa=0,El=null,wn=null,dd=!1,gc=0,Jy=0,yc=1/0,_c=null,Xs=null,Qt=0,$s=null,Ya=null,ds=0,md=0,pd=null,Zy=null,Tl=0,gd=null;function jn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:G.T!==null?bd():vu()}function Wy(){if(Pn===0)if((Pe&536870912)===0||He){var t=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),Pn=t}else Pn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Pn}function Rn(t,n,r){(t===ct&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Js(t,Pe,Pn,!1)),Rr(t,r),((Je&2)===0||t!==ct)&&(t===ct&&((Je&2)===0&&(Zr|=r),It===4&&Js(t,Pe,Pn,!1)),Li(t))}function e_(t,n,r){if((Je&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ii(t,n),h=o?cb(t,n):_d(t,n,!0),f=o;do{if(h===0){Ka&&!o&&Js(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!lb(r)){h=_d(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=El;var C=E.current.memoizedState.isDehydrated;if(C&&(Xa(E,g).flags|=256),g=_d(E,g,!1),g!==2){if(hd&&!C){E.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break e}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Xa(t,0),Js(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Js(o,n,Pn,!Qs);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=gc+300-Nt(),10<h)){if(Js(o,n,Pn,!Qs),_i(o,0,!0)!==0)break e;ds=n,o.timeoutHandle=D_(t_.bind(null,o,r,wn,_c,dd,n,Pn,Zr,Qa,Qs,f,"Throttled",-0,0),h);break e}t_(o,r,wn,_c,dd,n,Pn,Zr,Qa,Qs,f,null,-0,0)}}break}while(!0);Li(t)}function t_(t,n,r,o,h,f,g,E,C,j,F,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Qy(n,f,X);var le=(f&62914560)===f?gc-Nt():(f&4194048)===f?Jy-Nt():0;if(le=Kb(X,le),le!==null){ds=f,t.cancelPendingCommit=le(u_.bind(null,t,n,f,r,o,h,g,E,C,F,X,null,B,H)),Js(t,f,g,!j);return}}u_(t,n,f,r,o,h,g,E,C)}function lb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(t,n,r,o){n&=~fd,n&=~Zr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ie(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Cr(t,r,n)}function vc(){return(Je&6)===0?(bl(0),!1):!0}function yd(){if(Ve!==null){if(tt===0)var t=Ve.return;else t=Ve,ns=Hr=null,Mf(t),ja=null,sl=0,t=Ve;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ve=null}}function Xa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Ib(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ds=0,yd(),ct=t,Ve=r=es(t.current,null),Pe=n,tt=0,Un=null,Qs=!1,Ka=ii(t,n),hd=!1,Qa=Pn=fd=Zr=Ys=It=0,wn=El=null,dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ie(o),f=1<<h;n|=t[h],o&=~f}return fs=n,zu(),r}function n_(t,n){xe=null,G.H=fl,n===Pa||n===Yu?(n=_g(),tt=3):n===Tf?(n=_g(),tt=4):tt=n===Xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Ve===null&&(It=1,lc(t,Kn(n,t.current)))}function i_(){var t=kn.current;return t===null?!0:(Pe&4194048)===Pe?$n===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===$n:!1}function s_(){var t=G.H;return G.H=fl,t===null?fl:t}function r_(){var t=G.A;return G.A=ab,t}function Ec(){It=4,Qs||(Pe&4194048)!==Pe&&kn.current!==null||(Ka=!0),(Ys&134217727)===0&&(Zr&134217727)===0||ct===null||Js(ct,Pe,Pn,!1)}function _d(t,n,r){var o=Je;Je|=2;var h=s_(),f=r_();(ct!==t||Pe!==n)&&(_c=null,Xa(t,n)),n=!1;var g=It;e:do try{if(tt!==0&&Ve!==null){var E=Ve,C=Un;switch(tt){case 8:yd(),g=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var j=tt;if(tt=0,Un=null,$a(t,E,C,j),r&&Ka){g=0;break e}break;default:j=tt,tt=0,Un=null,$a(t,E,C,j)}}ub(),g=It;break}catch(F){n_(t,F)}while(!0);return n&&t.shellSuspendCounter++,ns=Hr=null,Je=o,G.H=h,G.A=f,Ve===null&&(ct=null,Pe=0,zu()),g}function ub(){for(;Ve!==null;)a_(Ve)}function cb(t,n){var r=Je;Je|=2;var o=s_(),h=r_();ct!==t||Pe!==n?(_c=null,yc=Nt()+500,Xa(t,n)):Ka=ii(t,n);e:do try{if(tt!==0&&Ve!==null){n=Ve;var f=Un;t:switch(tt){case 1:tt=0,Un=null,$a(t,n,f,1);break;case 2:case 9:if(gg(f)){tt=0,Un=null,o_(n);break}n=function(){tt!==2&&tt!==9||ct!==t||(tt=7),Li(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:gg(f)?(tt=0,Un=null,o_(n)):(tt=0,Un=null,$a(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var E=Ve;if(g?K_(g):E.stateNode.complete){tt=0,Un=null;var C=E.sibling;if(C!==null)Ve=C;else{var j=E.return;j!==null?(Ve=j,Tc(j)):Ve=null}break t}}tt=0,Un=null,$a(t,n,f,5);break;case 6:tt=0,Un=null,$a(t,n,f,6);break;case 8:yd(),It=6;break e;default:throw Error(a(462))}}hb();break}catch(F){n_(t,F)}while(!0);return ns=Hr=null,G.H=o,G.A=h,Je=r,Ve!==null?0:(ct=null,Pe=0,zu(),It)}function hb(){for(;Ve!==null&&!Do();)a_(Ve)}function a_(t){var n=Ny(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?Tc(t):Ve=n}function o_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ay(r,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Ay(r,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Mf(n);default:Oy(r,n),n=Ve=rg(n,fs),n=Ny(r,n,fs)}t.memoizedProps=t.pendingProps,n===null?Tc(t):Ve=n}function $a(t,n,r,o){ns=Hr=null,Mf(n),ja=null,sl=0;var h=n.return;try{if(W1(t,h,n,r,Pe)){It=1,lc(t,Kn(r,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;It=1,lc(t,Kn(r,t.current)),Ve=null;return}n.flags&32768?(He||o===1?t=!0:Ka||(Pe&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),l_(n,t)):Tc(n)}function Tc(t){var n=t;do{if((n.flags&32768)!==0){l_(n,Qs);return}t=n.return;var r=nb(n.alternate,n,fs);if(r!==null){Ve=r;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);It===0&&(It=5)}function l_(t,n){do{var r=ib(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);It=6,Ve=null}function u_(t,n,r,o,h,f,g,E,C){t.cancelPendingCommit=null;do bc();while(Qt!==0);if((Je&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=af,$h(t,r,f,g,E,C),t===ct&&(Ve=ct=null,Pe=0),Ya=n,$s=t,ds=r,md=f,pd=h,Zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pb(ni,function(){return m_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,g=Je,Je|=4;try{sb(t,n,r)}finally{Je=g,ne.p=h,G.T=o}}Qt=1,c_(),h_(),f_()}}function c_(){if(Qt===1){Qt=0;var t=$s,n=Ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Je;Je|=4;try{Gy(n,t);var f=Nd,g=$p(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Xp(E.ownerDocument.documentElement,E)){if(C!==null&&ef(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=E.textContent.length,ge=Math.min(C.start,le),ot=C.end===void 0?ge:Math.min(C.end,le);!H.extend&&ge>ot&&(g=ot,ot=ge,ge=g);var k=Yp(E,ge),D=Yp(E,ot);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),ge>ot?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Vc=!!xd,Nd=xd=null}finally{Je=h,ne.p=o,G.T=r}}t.current=n,Qt=2}}function h_(){if(Qt===2){Qt=0;var t=$s,n=Ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Je;Je|=4;try{jy(t,n.alternate,n)}finally{Je=h,ne.p=o,G.T=r}}Qt=3}}function f_(){if(Qt===4||Qt===3){Qt=0,fa();var t=$s,n=Ya,r=ds,o=Zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Ya=$s=null,d_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xs=null),$i(r),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Nn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(ds&3)!==0&&bc(),Li(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===gd?Tl++:(Tl=0,gd=t):Tl=0,bl(0)}}function d_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function bc(){return c_(),h_(),f_(),m_()}function m_(){if(Qt!==5)return!1;var t=$s,n=md;md=0;var r=$i(ds),o=G.T,h=ne.p;try{ne.p=32>r?32:r,G.T=null,r=pd,pd=null;var f=$s,g=ds;if(Qt=0,Ya=$s=null,ds=0,(Je&6)!==0)throw Error(a(331));var E=Je;if(Je|=4,Xy(f.current),Ky(f,f.current,g,r),Je=E,bl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Nn,f)}catch{}return!0}finally{ne.p=h,G.T=o,d_(t,n)}}function p_(t,n,r){n=Kn(r,n),n=Yf(t.stateNode,n,2),t=Hs(t,n,2),t!==null&&(Rr(t,2),Li(t))}function nt(t,n,r){if(t.tag===3)p_(t,t,r);else for(;n!==null;){if(n.tag===3){p_(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=Kn(r,t),r=gy(2),o=Hs(n,r,2),o!==null&&(yy(r,o,n,t),Rr(o,2),Li(o));break}}n=n.return}}function vd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new ob;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(hd=!0,h.add(r),t=fb.bind(null,t,n,r),n.then(t,t))}function fb(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Pe&r)===r&&(It===4||It===3&&(Pe&62914560)===Pe&&300>Nt()-gc?(Je&2)===0&&Xa(t,0):fd|=r,Qa===Pe&&(Qa=0)),Li(t)}function g_(t,n){n===0&&(n=_u()),t=zr(t,n),t!==null&&(Rr(t,n),Li(t))}function db(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),g_(t,r)}function mb(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),g_(t,r)}function pb(t,n){return ut(t,n)}var Sc=null,Ja=null,Ed=!1,Ac=!1,Td=!1,Zs=0;function Li(t){t!==Ja&&t.next===null&&(Ja===null?Sc=Ja=t:Ja=Ja.next=t),Ac=!0,Ed||(Ed=!0,yb())}function bl(t,n){if(!Td&&Ac){Td=!0;do for(var r=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ie(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,E_(o,f))}else f=Pe,f=_i(o,o===ct?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ii(o,f)||(r=!0,E_(o,f));o=o.next}while(r);Td=!1}}function gb(){y_()}function y_(){Ac=Ed=!1;var t=0;Zs!==0&&Cb()&&(t=Zs);for(var n=Nt(),r=null,o=Sc;o!==null;){var h=o.next,f=__(o,n);f===0?(o.next=null,r===null?Sc=h:r.next=h,h===null&&(Ja=r)):(r=o,(t!==0||(f&3)!==0)&&(Ac=!0)),o=h}Qt!==0&&Qt!==5||bl(t),Zs!==0&&(Zs=0)}function __(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ie(f),E=1<<g,C=h[g];C===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Xh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ct,r=Pe,r=_i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yi(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ii(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&yi(o),$i(r)){case 2:case 8:r=wr;break;case 32:r=ni;break;case 268435456:r=da;break;default:r=ni}return o=v_.bind(null,t),r=ut(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&yi(o),t.callbackPriority=2,t.callbackNode=null,2}function v_(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(bc()&&t.callbackNode!==r)return null;var o=Pe;return o=_i(t,t===ct?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(e_(t,o,n),__(t,Nt()),t.callbackNode!=null&&t.callbackNode===r?v_.bind(null,t):null)}function E_(t,n){if(bc())return null;e_(t,n,!0)}function yb(){xb(function(){(Je&6)!==0?ut(Ar,gb):y_()})}function bd(){if(Zs===0){var t=La;t===0&&(t=Ze,Ze<<=1,(Ze&261888)===0&&(Ze=256)),Zs=t}return Zs}function T_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function b_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function _b(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=T_((h[$t]||null).action),g=o.submitter;g&&(n=(n=g[$t]||null)?T_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var C=g?b_(h,g):new FormData(h);qf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?b_(h,g):new FormData(h),qf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Sd=0;Sd<rf.length;Sd++){var Ad=rf[Sd],vb=Ad.toLowerCase(),Eb=Ad[0].toUpperCase()+Ad.slice(1);hi(vb,"on"+Eb)}hi(Wp,"onAnimationEnd"),hi(eg,"onAnimationIteration"),hi(tg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(L1,"onTransitionRun"),hi(U1,"onTransitionStart"),hi(P1,"onTransitionCancel"),hi(ng,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function S_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){ju(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){ju(F)}h.currentTarget=null,f=C}}}}function ke(t,n){var r=n[ga];r===void 0&&(r=n[ga]=new Set);var o=t+"__bubble";r.has(o)||(A_(n,t,2,!1),r.add(o))}function wd(t,n,r){var o=0;n&&(o|=4),A_(r,t,o,n)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[wc]){t[wc]=!0,ko.forEach(function(r){r!=="selectionchange"&&(Tb.has(r)||wd(r,!1,t),wd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wc]||(n[wc]=!0,wd("selectionchange",!1,n))}}function A_(t,n,r,o){switch(W_(n)){case 2:var h=Xb;break;case 8:h=$b;break;default:h=Bd}r=h.bind(null,n,r,t),h=void 0,!Or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Cd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=bi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Ms(function(){var j=f,F=qn(r),X=[];e:{var B=ig.get(t);if(B!==void 0){var H=xi,le=t;switch(t){case"keypress":if(Vr(r)===0)break e;case"keydown":case"keyup":H=Lu;break;case"focusin":le="focus",H=Lr;break;case"focusout":le="blur",H=Lr;break;case"beforeblur":case"afterblur":H=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Wp:case eg:case tg:H=xu;break;case ng:H=T;break;case"scroll":case"scrollend":H=Qo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wi;break;case"toggle":case"beforetoggle":H=Ie}var ge=(n&4)!==0,ot=!ge&&(t==="scroll"||t==="scrollend"),k=ge?B!==null?B+"Capture":null:B;ge=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=oi(D,k),K!=null&&ge.push(Al(D,K,P))),ot)break;D=D.return}0<ge.length&&(B=new H(B,le,null,r,F),X.push({event:B,listeners:ge}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Go&&(le=r.relatedTarget||r.fromElement)&&(bi(le)||le[Ei]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=r.relatedTarget||r.toElement,H=j,le=le?bi(le):null,le!==null&&(ot=c(le),ge=le.tag,le!==ot||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(H=null,le=j),H!==le)){if(ge=Yo,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Wi,K="onPointerLeave",k="onPointerEnter",D="pointer"),ot=H==null?B:Dn(H),P=le==null?B:Dn(le),B=new ge(K,D+"leave",H,r,F),B.target=ot,B.relatedTarget=P,K=null,bi(F)===j&&(ge=new ge(k,D+"enter",le,r,F),ge.target=P,ge.relatedTarget=ot,K=ge),ot=K,H&&le)t:{for(ge=bb,k=H,D=le,P=0,K=k;K;K=ge(K))P++;K=0;for(var de=D;de;de=ge(de))K++;for(;0<P-K;)k=ge(k),P--;for(;0<K-P;)D=ge(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){ge=k;break t}k=ge(k),D=ge(D)}ge=null}else ge=null;H!==null&&w_(X,B,H,ge,!1),le!==null&&ot!==null&&w_(X,ot,le,ge,!0)}}e:{if(B=j?Dn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Qe=qp;else if(zp(B))if(Hp)Qe=M1;else{Qe=D1;var ce=N1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Ea(j.elementType)&&(Qe=qp):Qe=O1;if(Qe&&(Qe=Qe(t,j))){Bp(X,Qe,r,F);break e}ce&&ce(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Bo(B,"number",B.value)}switch(ce=j?Dn(j):window,t){case"focusin":(zp(ce)||ce.contentEditable==="true")&&(Ia=ce,tf=j,Wo=null);break;case"focusout":Wo=tf=Ia=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Jp(X,r,F);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":Jp(X,r,F)}var Ne;if($e)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ca?Ur(t,r)&&(je="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(je="onCompositionStart");je&&(Oi&&r.locale!=="ko"&&(Ca||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ca&&(Ne=Ko()):(Ii=F,Fo="value"in Ii?Ii.value:Ii.textContent,Ca=!0)),ce=Rc(j,je),0<ce.length&&(je=new Di(je,t,null,r,F),X.push({event:je,listeners:ce}),Ne?je.data=Ne:(Ne=Ra(r),Ne!==null&&(je.data=Ne)))),(Ne=Gn?R1(t,r):C1(t,r))&&(je=Rc(j,"onBeforeInput"),0<je.length&&(ce=new Di("onBeforeInput","beforeinput",null,r,F),X.push({event:ce,listeners:je}),ce.data=Ne)),_b(X,t,j,r,F)}S_(X,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Rc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,r),h!=null&&o.unshift(Al(t,h,f)),h=oi(t,n),h!=null&&o.push(Al(t,h,f))),t.tag===3)return o;t=t.return}return[]}function bb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w_(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=oi(r,f),j!=null&&g.unshift(Al(r,j,C))):h||(j=oi(r,f),j!=null&&g.push(Al(r,j,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var Sb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(Sb,`
`).replace(Ab,"")}function C_(t,n){return n=R_(n),R_(t)===n}function at(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Tn(t,""+o);break;case"className":On(t,"class",o);break;case"tabIndex":On(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,r,o);break;case"style":Ho(t,o,f);break;case"data":if(n!=="object"){On(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Ta(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Ta(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ai);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Ta(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),_a(t,"popover",o);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ru.get(r)||r,_a(t,r,o))}}function Id(t,n,r,o,h,f){switch(r){case"style":Ho(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&Tn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[$t]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):_a(t,r,o)}}}function an(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,f,g,r,null)}}h&&at(t,n,"srcSet",r.srcSet,r,null),o&&at(t,n,"src",r.src,r,null);return;case"input":ke("invalid",t);var E=f=g=h=null,C=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:at(t,n,o,F,r,null)}}Su(t,f,E,C,j,g,h,!1);return;case"select":ke("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:at(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!o,n!=null?xs(t,!!o,n,!1):r!=null&&xs(t,!!o,r,!0);return;case"textarea":ke("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:at(t,n,g,E,r,null)}Ns(t,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":at(t,n,C,o,r,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Sl.length;o++)ke(Sl[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,j,o,r,null)}return;default:if(Ea(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&Id(t,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&at(t,n,E,o,r,null))}function wb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,j=null,F=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||at(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=r[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&at(t,n,B,H,o,X)}}va(t,g,E,C,j,F,f,h);return;case"select":H=g=E=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||at(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&at(t,n,h,f,o,C)}n=E,r=g,o=H,B!=null?xs(t,!!r,B,!1):!!o!=!!r&&(n!=null?xs(t,!!r,n,!0):xs(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&at(t,n,g,h,o,f)}Au(t,B,H);return;case"option":for(var le in r)B=r[le],r.hasOwnProperty(le)&&B!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:at(t,n,le,null,o,B));for(C in o)B=o[C],H=r[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":at(t,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in r)B=r[ge],r.hasOwnProperty(ge)&&B!=null&&!o.hasOwnProperty(ge)&&at(t,n,ge,null,o,B);for(j in o)if(B=o[j],H=r[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:at(t,n,j,B,o,H)}return;default:if(Ea(n)){for(var ot in r)B=r[ot],r.hasOwnProperty(ot)&&B!==void 0&&!o.hasOwnProperty(ot)&&Id(t,n,ot,void 0,o,B);for(F in o)B=o[F],H=r[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Id(t,n,F,B,o,H);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&at(t,n,k,null,o,B);for(X in o)B=o[X],H=r[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||at(t,n,X,B,o,H)}function I_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&I_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],j=C.startTime;if(j>E)break;var F=C.transferSize,X=C.initiatorType;F&&I_(X)&&(C=C.responseEnd,g+=F*(C<E?1:(E-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Nd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function x_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function Cb(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var D_=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,xb=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(t){return O_.resolve(null).then(t).catch(Nb)}:D_;function Nb(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function M_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),to(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")wl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,wl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&wl(t.ownerDocument.body);r=h}while(r);to(n)}function V_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Md(r),ya(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Db(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function Ob(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Jn(t.nextSibling),t===null))return null;return t}function k_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Mb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ld=null;function L_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Jn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function P_(t,n,r){switch(n=Cc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ya(t)}var Zn=new Map,j_=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=ne.d;ne.d={f:Vb,r:kb,D:Lb,C:Ub,L:Pb,m:jb,X:Bb,S:zb,M:qb};function Vb(){var t=ms.f(),n=vc();return t||n}function kb(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?ny(n):ms.r(t)}var Za=typeof document>"u"?null:document;function z_(t,n,r){var o=Za;if(o&&typeof n=="string"&&n){var h=En(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),j_.has(h)||(j_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),Pt(n),o.head.appendChild(n)))}}function Lb(t){ms.D(t),z_("dns-prefetch",t,null)}function Ub(t,n){ms.C(t,n),z_("preconnect",t,n)}function Pb(t,n,r){ms.L(t,n,r);var o=Za;if(o&&t&&n){var h='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+En(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+En(r.imageSizes)+'"]')):h+='[href="'+En(t)+'"]';var f=h;switch(n){case"style":f=Wa(t);break;case"script":f=eo(t)}Zn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Zn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Rl(f))||n==="script"&&o.querySelector(Cl(f))||(n=o.createElement("link"),an(n,"link",t),Pt(n),o.head.appendChild(n)))}}function jb(t,n){ms.m(t,n);var r=Za;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!Zn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Zn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Cl(f)))return}o=r.createElement("link"),an(o,"link",t),Pt(o),r.head.appendChild(o)}}}function zb(t,n,r){ms.S(t,n,r);var o=Za;if(o&&t){var h=Si(o).hoistableStyles,f=Wa(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Rl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Zn.get(f))&&Ud(t,r);var C=g=o.createElement("link");Pt(C),an(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Bb(t,n){ms.X(t,n);var r=Za;if(r&&t){var o=Si(r).hoistableScripts,h=eo(t),f=o.get(h);f||(f=r.querySelector(Cl(h)),f||(t=w({src:t,async:!0},n),(n=Zn.get(h))&&Pd(t,n),f=r.createElement("script"),Pt(f),an(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function qb(t,n){ms.M(t,n);var r=Za;if(r&&t){var o=Si(r).hoistableScripts,h=eo(t),f=o.get(h);f||(f=r.querySelector(Cl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&Pd(t,n),f=r.createElement("script"),Pt(f),an(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function B_(t,n,r,o){var h=(h=Se.current)?Ic(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Wa(r.href),r=Si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Wa(r.href);var f=Si(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Rl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Zn.set(t,r),f||Hb(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=eo(r),r=Si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Wa(t){return'href="'+En(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function q_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Hb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",r),Pt(n),t.head.appendChild(n))}function eo(t){return'[src="'+En(t)+'"]'}function Cl(t){return"script[async]"+t}function H_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+En(r.href)+'"]');if(o)return n.instance=o,Pt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pt(o),an(o,"style",h),xc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Wa(r.href);var f=t.querySelector(Rl(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;o=q_(r),(h=Zn.get(h))&&Ud(o,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),an(f,"link",o),n.state.loading|=4,xc(f,r.precedence,t),n.instance=f;case"script":return f=eo(r.src),(h=t.querySelector(Cl(f)))?(n.instance=h,Pt(h),h):(o=r,(h=Zn.get(f))&&(o=w({},r),Pd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,xc(o,r.precedence,t));return n.instance}function xc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nc=null;function G_(t,n,r){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(r,o)}else h=Nc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function F_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Gb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function K_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Wa(o.href),f=n.querySelector(Rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Dc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Pt(f);return}f=n.ownerDocument||n,o=q_(o),(h=Zn.get(h))&&Ud(o,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),an(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Dc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var jd=0;function Kb(t,n){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&jd===0&&(jd=62500*Rb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Mc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,n.forEach(Qb,t),Oc=null,Dc.call(t))}function Qb(t,n){if(!(n.state.loading&4)){var r=Oc.get(t);if(r)var o=r.get(null);else{r=new Map,Oc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Yb(t,n,r,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Q_(t,n,r,o,h,f,g,E,C,j,F,X){return t=new Yb(t,n,r,g,C,j,F,X,E),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=_f(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},bf(f),t}function Y_(t){return t?(t=Da,t):Da}function X_(t,n,r,o,h,f){h=Y_(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Hs(t,o,n),r!==null&&(Rn(r,t,n),al(r,t,n))}function $_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function zd(t,n){$_(t,n),(t=t.alternate)&&$_(t,n)}function J_(t){if(t.tag===13||t.tag===31){var n=zr(t,67108864);n!==null&&Rn(n,t,67108864),zd(t,67108864)}}function Z_(t){if(t.tag===13||t.tag===31){var n=jn();n=Ir(n);var r=zr(t,n);r!==null&&Rn(r,t,n),zd(t,n)}}var Vc=!0;function Xb(t,n,r,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,Bd(t,n,r,o)}finally{ne.p=f,G.T=h}}function $b(t,n,r,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,Bd(t,n,r,o)}finally{ne.p=f,G.T=h}}function Bd(t,n,r,o){if(Vc){var h=qd(o);if(h===null)Cd(t,n,o,kc,r),ev(t,o);else if(Zb(h,t,n,r,o))o.stopPropagation();else if(ev(t,o),n&4&&-1<Jb.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ie(g);E.entanglements[1]|=C,g&=~C}Li(f),(Je&6)===0&&(yc=Nt()+500,bl(0))}}break;case 31:case 13:E=zr(f,2),E!==null&&Rn(E,f,2),vc(),zd(f,2)}if(f=qd(o),f===null&&Cd(t,n,o,kc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Cd(t,n,o,null,r)}}function qd(t){return t=qn(t),Hd(t)}var kc=null;function Hd(t){if(kc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return kc=t,null}function W_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case Ar:return 2;case wr:return 8;case ni:case Oo:return 32;case da:return 268435456;default:return 32}default:return 32}}var Gd=!1,er=null,tr=null,nr=null,xl=new Map,Nl=new Map,ir=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Dl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&J_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Zb(t,n,r,o,h){switch(n){case"focusin":return er=Dl(er,t,n,r,o,h),!0;case"dragenter":return tr=Dl(tr,t,n,r,o,h),!0;case"mouseover":return nr=Dl(nr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return xl.set(f,Dl(xl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Dl(Nl.get(f)||null,t,n,r,o,h)),!0}return!1}function tv(t){var n=bi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,si(t.priority,function(){Z_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,si(t.priority,function(){Z_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=qd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Go=o,r.target.dispatchEvent(o),Go=null}else return n=Bn(r),n!==null&&J_(n),t.blockedOn=r,!1;n.shift()}return!0}function nv(t,n,r){Lc(t)&&r.delete(n)}function Wb(){Gd=!1,er!==null&&Lc(er)&&(er=null),tr!==null&&Lc(tr)&&(tr=null),nr!==null&&Lc(nr)&&(nr=null),xl.forEach(nv),Nl.forEach(nv)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Wb)))}var Pc=null;function iv(t){Pc!==t&&(Pc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Hd(o||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,qf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function to(t){function n(C){return Uc(C,t)}er!==null&&Uc(er,t),tr!==null&&Uc(tr,t),nr!==null&&Uc(nr,t),xl.forEach(n),Nl.forEach(n);for(var r=0;r<ir.length;r++){var o=ir[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)tv(r),r.blockedOn===null&&ir.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[$t]||null;if(typeof f=="function")g||iv(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(Hd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),iv(r)}}}function sv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Fd(t){this._internalRoot=t}jc.prototype.render=Fd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=jn();X_(r,o,t,n,null,null)},jc.prototype.unmount=Fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;X_(t.current,2,null,t,null,null),vc(),n[Ei]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var n=vu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ir.length&&n!==0&&n<ir[r].priority;r++);ir.splice(r,0,t),r===0&&tv(t)}};var rv=e.version;if(rv!=="19.2.4")throw Error(a(527,rv,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var eS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Nn=zc.inject(eS),Kt=zc}catch{}}return Ml.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=fy,f=dy,g=my;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Q_(t,1,!1,null,null,r,o,null,h,f,g,sv),t[Ei]=n.current,Rd(t),new Fd(n)},Ml.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=fy,g=dy,E=my,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=Q_(t,1,!0,n,r??null,o,h,C,f,g,E,sv),n.context=Y_(null),r=n.current,o=jn(),o=Ir(o),h=qs(o),h.callback=null,Hs(r,h,o),r=o,n.current.lanes=r,Rr(n,r),Li(n),t[Ei]=n.current,Rd(t),new jc(n)},Ml.version="19.2.4",Ml}var pv;function cS(){if(pv)return Yd.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=uS(),Yd.exports}var hS=cS();const fS=()=>{};var gv={};const tE=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},dS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(O=64)),a.push(i[b],i[w],i[O],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(tE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):dS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new mS;const O=c<<2|p>>4;if(a.push(O),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),w!==64){const Z=y<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(s){const e=tE(s);return nE.encodeByteArray(e,!0)},oh=function(s){return pS(s).replace(/\./g,"")},iE=function(s){try{return nE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yS=()=>gS().__FIREBASE_DEFAULTS__,_S=()=>{if(typeof process>"u"||typeof gv>"u")return;const s=gv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},vS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&iE(s[1]);return e&&JSON.parse(e)},Rh=()=>{try{return fS()||yS()||_S()||vS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sE=s=>Rh()?.emulatorHosts?.[s],ES=s=>{const e=sE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},rE=()=>Rh()?.config,aE=s=>Rh()?.[`_${s}`];class TS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function bo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oE(s){return(await fetch(s,{credentials:"include"})).ok}function bS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[oh(JSON.stringify(i)),oh(JSON.stringify(d)),""].join(".")}const ql={};function SS(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function AS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let yv=!1;function lE(s,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||ql[s]===e||ql[s]||yv)return;ql[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=SS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{yv=!0,d()},O}function b(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=AS(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),re=i("learnmore"),ee=document.getElementById(re)||document.createElement("a"),pe=i("preprendIcon"),be=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Ee=O.element;p(Ee),b(ee,re);const Xe=y();_(be,pe),Ee.append(be,Z,ee,Xe),document.body.appendChild(Ee)}c?(Z.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function RS(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function xS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function DS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const VS="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=VS,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?kS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new As(l,p,a)}}function kS(s,e){return s.replace(LS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const LS=/\{\$([^}]+)}/g;function US(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function vs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(_v(c)&&_v(d)){if(!vs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function _v(s){return s!==null&&typeof s=="object"}function ru(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ul(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function PS(s,e){const i=new jS(s,e);return i.subscribe.bind(i)}class jS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");zS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Zd),l.error===void 0&&(l.error=Zd),l.complete===void 0&&(l.complete=Zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Zd(){}function xt(s){return s&&s._delegate?s._delegate:s}class ia{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wr="[DEFAULT]";class BS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new TS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HS(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:qS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qS(s){return s===Wr?void 0:s}function HS(s){return s.instantiationMode==="EAGER"}class GS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new BS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const FS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},KS=ze.INFO,QS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},YS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=QS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=KS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const XS=(s,e)=>e.some(i=>s instanceof i);let vv,Ev;function $S(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,_m=new WeakMap,cE=new WeakMap,Wd=new WeakMap,Km=new WeakMap;function ZS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&uE.set(i,s)}).catch(()=>{}),Km.set(e,s),e}function WS(s){if(_m.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});_m.set(s,e)}let vm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return _m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||cE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function eA(s){vm=s(vm)}function tA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(em(this),e,...i);return cE.set(a,e.sort?e.sort():[e]),hr(a)}:JS().includes(s)?function(...e){return s.apply(em(this),e),hr(uE.get(this))}:function(...e){return hr(s.apply(em(this),e))}}function nA(s){return typeof s=="function"?tA(s):(s instanceof IDBTransaction&&WS(s),XS(s,$S())?new Proxy(s,vm):s)}function hr(s){if(s instanceof IDBRequest)return ZS(s);if(Wd.has(s))return Wd.get(s);const e=nA(s);return e!==s&&(Wd.set(s,e),Km.set(e,s)),e}const em=s=>Km.get(s);function iA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=hr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(hr(d.result),_.oldVersion,_.newVersion,hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const sA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],tm=new Map;function Tv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=rA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||sA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return tm.set(e,c),c}eA(s=>({...s,get:(e,i,a)=>Tv(e,i)||s.get(e,i,a),has:(e,i)=>!!Tv(e,i)||s.has(e,i)}));class aA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(oA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function oA(s){return s.getComponent()?.type==="VERSION"}const Em="@firebase/app",bv="0.14.8";const Es=new Fm("@firebase/app"),lA="@firebase/app-compat",uA="@firebase/analytics-compat",cA="@firebase/analytics",hA="@firebase/app-check-compat",fA="@firebase/app-check",dA="@firebase/auth",mA="@firebase/auth-compat",pA="@firebase/database",gA="@firebase/data-connect",yA="@firebase/database-compat",_A="@firebase/functions",vA="@firebase/functions-compat",EA="@firebase/installations",TA="@firebase/installations-compat",bA="@firebase/messaging",SA="@firebase/messaging-compat",AA="@firebase/performance",wA="@firebase/performance-compat",RA="@firebase/remote-config",CA="@firebase/remote-config-compat",IA="@firebase/storage",xA="@firebase/storage-compat",NA="@firebase/firestore",DA="@firebase/ai",OA="@firebase/firestore-compat",MA="firebase",VA="12.9.0";const Tm="[DEFAULT]",kA={[Em]:"fire-core",[lA]:"fire-core-compat",[cA]:"fire-analytics",[uA]:"fire-analytics-compat",[fA]:"fire-app-check",[hA]:"fire-app-check-compat",[dA]:"fire-auth",[mA]:"fire-auth-compat",[pA]:"fire-rtdb",[gA]:"fire-data-connect",[yA]:"fire-rtdb-compat",[_A]:"fire-fn",[vA]:"fire-fn-compat",[EA]:"fire-iid",[TA]:"fire-iid-compat",[bA]:"fire-fcm",[SA]:"fire-fcm-compat",[AA]:"fire-perf",[wA]:"fire-perf-compat",[RA]:"fire-rc",[CA]:"fire-rc-compat",[IA]:"fire-gcs",[xA]:"fire-gcs-compat",[NA]:"fire-fst",[OA]:"fire-fst-compat",[DA]:"fire-vertex","fire-js":"fire-js",[MA]:"fire-js-all"};const Yl=new Map,LA=new Map,bm=new Map;function Sv(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function mo(s){const e=s.name;if(bm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,s);for(const i of Yl.values())Sv(i,s);for(const i of LA.values())Sv(i,s);return!0}function Qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Wn(s){return s==null?!1:s.settings!==void 0}const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new su("app","Firebase",UA);class PA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const So=VA;function hE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Tm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=rE()),!i)throw fr.create("no-options");const c=Yl.get(l);if(c){if(vs(i,c.options)&&vs(a,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new GS(l);for(const _ of bm.values())d.addComponent(_);const p=new PA(i,a,d);return Yl.set(l,p),p}function Ym(s=Tm){const e=Yl.get(s);if(!e&&s===Tm&&rE())return hE();if(!e)throw fr.create("no-app",{appName:s});return e}function jA(){return Array.from(Yl.values())}function dr(s,e,i){let a=kA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}mo(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const zA="firebase-heartbeat-database",BA=1,Xl="firebase-heartbeat-store";let nm=null;function fE(){return nm||(nm=iA(zA,BA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),nm}async function qA(s){try{const i=(await fE()).transaction(Xl),a=await i.objectStore(Xl).get(dE(s));return await i.done,a}catch(e){if(e instanceof As)Es.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function Av(s,e){try{const a=(await fE()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,dE(s)),await a.done}catch(i){if(i instanceof As)Es.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function dE(s){return`${s.name}!${s.options.appId}`}const HA=1024,GA=30;class FA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>GA){const l=YA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wv(),{heartbeatsToSend:i,unsentEntries:a}=KA(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function wv(){return new Date().toISOString().substring(0,10)}function KA(s,e=HA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Rv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Rv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class QA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Rv(s){return oh(JSON.stringify({version:2,heartbeats:s})).length}function YA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function XA(s){mo(new ia("platform-logger",e=>new aA(e),"PRIVATE")),mo(new ia("heartbeat",e=>new FA(e),"PRIVATE")),dr(Em,bv,s),dr(Em,bv,"esm2020"),dr("fire-js","")}XA("");var $A="firebase",JA="12.9.0";dr($A,JA,"app");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,mE;(function(){var s;function e(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,L){for(var R=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)R[dt-2]=arguments[dt];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],N=x.g[2];let L=x.g[3],R;R=A+(L^I&(N^L))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(N^L&(I^N))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(I^N^L)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(N^(I|~L))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=I;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(V[N++]=x.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<A;)if(V[N++]=x[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const L=x[N]|0;V&&L==A||(I[N]=L,V=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return ee(y(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return ee(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=w;for(let L=0;L<x.length;L+=8){var N=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var w=_(0),O=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-ee(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(re(this))return"-"+ee(this).toString(x);const A=y(Math.pow(x,6));var I=this;let V="";for(;;){const N=Xe(I,A).g;I=pe(I,N.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,Z(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function re(x){return x.h==-1}s.l=function(x){return x=pe(this,x),re(x)?-1:Z(x)?0:1};function ee(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(O)}s.abs=function(){return re(this)?ee(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let L=V+(this.i(N)&65535)+(x.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,I[N]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pe(x,A){return x.add(ee(A))}s.j=function(x){if(Z(this)||Z(x))return w;if(re(this))return re(x)?ee(this).j(ee(x)):ee(ee(this).j(x));if(re(x))return ee(this.j(ee(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,dt=x.i(N)>>>16,bt=x.i(N)&65535;I[2*V+2*N]+=R*bt,be(I,2*V+2*N),I[2*V+2*N+1]+=L*bt,be(I,2*V+2*N+1),I[2*V+2*N+1]+=R*dt,be(I,2*V+2*N+1),I[2*V+2*N+2]+=L*dt,be(I,2*V+2*N+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function be(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function Ee(x,A){this.g=x,this.h=A}function Xe(x,A){if(Z(A))throw Error("division by zero");if(Z(x))return new Ee(w,w);if(re(x))return A=Xe(ee(x),A),new Ee(ee(A.g),ee(A.h));if(re(A))return A=Xe(x,ee(A)),new Ee(ee(A.g),A.h);if(x.g.length>30){if(re(x)||re(A))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=A;V.l(x)<=0;)I=ft(I),V=ft(V);var N=Ge(I,1),L=Ge(V,1);for(V=Ge(V,2),I=Ge(I,2);!Z(V);){var R=L.add(V);R.l(x)<=0&&(N=N.add(I),L=R),V=Ge(V,1),I=Ge(I,1)}return A=pe(x,N.j(A)),new Ee(N,A)}for(N=w;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),R=L.j(A);re(R)||R.l(x)>0;)I-=V,L=y(I),R=L.j(A);Z(L)&&(L=O),N=N.add(L),x=pe(x,R)}return new Ee(N,x)}s.B=function(x){return Xe(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function ft(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Ge(x,A){const I=A>>5;A%=32;const V=x.g.length-I,N=[];for(let L=0;L<V;L++)N[L]=A>0?x.i(L+I)>>>A|x.i(L+I+1)<<32-A:x.i(L+I);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,mr=d}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,Pl,gE,$c,Sm,yE,_E,vE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var W=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)W[Ie-2]=arguments[Ie];return m.prototype[U].apply(T,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=U[W]}else u.push(U)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const T=Ee.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ee=new re(()=>new Xe,u=>u.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,Ge=!1,x=new be,A=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(I)}};function I(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){ee(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ge=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function dt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(dt,N),dt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=Se(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),wt={};function lt(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)lt(u,m[q],v,T,U);return null}return v=se(v),u&&u[bt]?u.J(m,v,p(T)?!!T.capture:!1,U):ti(u,m,v,!1,T,U)}function ti(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let Ie=he(u);if(Ie||(u[Me]=Ie=new ae(u)),v=Ie.add(m,v,T,W,q),v.proxy)return v;if(T=Cs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Rt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cs(){function u(v){return m.call(u.src,u.listener,v)}const m=Yi;return u}function Ki(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ki(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=se(v),u&&u[bt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Se(m,v,T,U),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=he(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,T,U)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])ye(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Rt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=he(m))?(ye(v,u),v.h==0&&(v.src=null,m[Me]=null)):fe(u)}}}function Rt(u){return u in wt?wt[u]:wt[u]="on"+u}function Yi(u,m){if(u.da)u=!0;else{m=new dt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qi(u),u=v.call(T,m)}return u}function he(u){return u=u[Me],u instanceof ae?u:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function se(u){return typeof u=="function"?u:(u[en]||(u[en]=function(m){return u.handleEvent(m)}),u[en])}function De(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}w(De,V),De.prototype[bt]=!0,De.prototype.removeEventListener=function(u,m,v,T){Ki(this,u,m,v,T)};function ut(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),te(m,U)}U=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],U=yi(q,T,!0,m)&&U;if(q=m.g=u,U=yi(q,T,!0,m)&&U,U=yi(q,T,!1,m)&&U,v)for(W=0;W<v.length;W++)q=m.g=v[W],U=yi(q,T,!1,m)&&U}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)fe(v[T]);delete u.g[m],u.h--}}this.G=null},De.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},De.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function yi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const Ie=W.listener,Dt=W.ha||W.src;W.fa&&ye(u.i,W),U=Ie.call(Dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Do(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function fa(u){u.g=Do(()=>{u.g=null,u.i&&(u.i=!1,fa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(u){V.call(this),this.h=u,this.g={}}w(Xi,V);var Ar=[];function wr(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}Xi.prototype.N=function(){Xi.Z.N.call(this),wr(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=d.JSON.stringify,Oo=d.JSON.parse,da=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ma(){}function pa(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){N.call(this,"d")}w(Kt,N);function z(){N.call(this,"c")}w(z,N);var ie={},Te=null;function Ce(){return Te=Te||new De}ie.Ia="serverreachability";function it(u){N.call(this,ie.Ia,u)}w(it,N);function Ze(u){const m=Ce();ut(m,new it(m))}ie.STAT_EVENT="statevent";function pt(u,m){N.call(this,ie.STAT_EVENT,u),this.stat=m}w(pt,N);function St(u){const m=Ce();ut(m,new pt(m,u))}ie.Ja="timingevent";function pn(u,m){N.call(this,ie.Ja,u),this.size=m}w(pn,N);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Xh(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var W="",Ie=q.split("&");for(let $e=0;$e<Ie.length;$e++){var Dt=Ie[$e].split("=");if(Dt.length>1){const Et=Dt[0];Dt=Dt[1];const Gn=Et.split("_");W=Gn.length>=2&&Gn[1]=="type"?W+(Et+"="+Dt+"&"):W+(Et+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function _u(u,m,v,T,U,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+W})}function vi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$h(u,v)+(T?" "+T:"")})}function Rr(u,m){u.info(function(){return"TIMEOUT: "+m})}ii.prototype.info=function(){};function $h(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ni(q)}catch{return m}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function Ir(){}w(Ir,ma),Ir.prototype.g=function(){return new XMLHttpRequest},Vo=new Ir;function $i(u){return encodeURIComponent(String(u))}function vu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function si(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Ut={},$t={};function Ei(u,m,v){u.M=1,u.A=xr(jt(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Ti(u),u.B=jt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ri,u.g=Vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Nt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ar[0]=U.toString()),U=Ar);for(let q=0;q<U.length;q++){const W=lt(v,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ze(),Xh(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const m=this.O;m&&li(u)==3?m.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=li(this.g),Dt=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ie!=4||Dt==7||(Dt==8||$e<=0?Ze(3):Ze(2)),bi(this);var m=this.g.ca();this.X=m;var v=Jh(this);if(this.o=m==200,_u(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,St(12),Dn(this),Bn(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=Tu(this,v),Et==$t){Ie==4&&(this.m=4,St(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Ut){this.m=4,St(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,Et,null),Si(this,Et);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,St(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),Dn(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(W),W.P=!0,St(11))}}else vi(this.i,this.l,v,null),Si(this,v);Ie==4&&Dn(this),this.o&&!this.K&&(Ie==4?Nu(this.j,this):(this.o=!1,Ti(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Dn(this),Bn(this)}}}catch{}};function Jh(u){if(!Eu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const T=m.length,U=li(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Tu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?$t:(v=Number(m.substring(v,T)),isNaN(v)?Ut:(T+=1,T+v>m.length?$t:(m=m.slice(T,T+v),u.C=T+v,m)))}si.prototype.cancel=function(){this.K=!0,Dn(this)};function Ti(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(Ze(),St(17)),Dn(this),this.m=2,Bn(this)):ya(this,this.T-u)};function Bn(u){u.j.I==0||u.K||Nu(u.j,u)}function Dn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),ks(v);else break e;Lr(v),St(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&wa(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let $e=U[m];const Et=$e[0];if(!(Et<=v.K))if(v.K=Et,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Gn=$e[3];Gn!=null&&(v.ka=Gn,v.j.info("VER="+v.ka));const Oi=$e[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ui=$e[5];ui!=null&&typeof ui=="number"&&ui>0&&(T=1.5*ui,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ci=u.g;if(ci){const Ur=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var q=T.h;q.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(T.G){const Ra=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(T.wa=Ra,et(T.J,T.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Mu(T,T.L?T.ba:null,T.W),W.L){Po(T.h,W);var Ie=W,Dt=T.O;Dt&&(Ie.H=Dt),Ie.D&&(bi(Ie),Ti(Ie)),T.g=W}else Iu(T);v.i.length>0&&Ni(v)}else $e[0]!="stop"&&$e[0]!="close"||Di(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Di(v,7):Qo(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}Ze(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function ko(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Uo(u,m){u.g?u.g.add(m):u.h=m}function Po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function On(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof On?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,zo(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(bu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Is(this,m[4]),this.h=Ri(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}On.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nr(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nr(m,va,!0),"@"),u.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Nr(v,v.charAt(0)=="/"?Bo:Su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Nr(v,Au)),u.join("")},On.prototype.resolve=function(u){const m=jt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let W=0;W<U.length;){const Ie=U[W++];Ie=="."?T&&W==U.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==U.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?zo(m,Ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function jt(u){return new On(u)}function Jt(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zo(u,m,v){m instanceof Ns?(u.i=m,Ta(u.i,u.l)):(v||(m=Nr(m,xs)),u.i=new Ns(m,u.l))}function et(u,m,v){u.i.set(m,v)}function xr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,En),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,Su=/[#\?:]/g,Bo=/[#\?]/g,xs=/[#\?@]/g,Au=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ns.prototype,s.add=function(u,m){Tn(this),this.i=null,u=Ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function wu(u,m){Tn(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qo(u,m){return Tn(u),m=Ds(u,m),u.g.has(m)}s.forEach=function(u,m){Tn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ho(u,m){Tn(u);let v=[];if(typeof m=="string")qo(u,m)&&(v=v.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Tn(this),this.i=null,u=Ds(this,u),qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ho(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){wu(u,m),v.length>0&&(u.i=null,u.g.set(Ds(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=$i(v);v=Ho(this,v);for(let q=0;q<v.length;q++){let W=U;v[q]!==""&&(W+="="+$i(v[q])),u.push(W)}}return this.i=u.join("&")};function Ru(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(wu(this,T),Ea(this,U,v))},u)),u.j=m}function ai(u,m){const v=new ii;if(d.Image){const T=new Image;T.onload=b(qn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(qn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(qn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(qn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Go(u,m){const v=new ii,T=new AbortController,U=setTimeout(()=>{T.abort(),qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?qn(v,"TestPingServer: ok",!0,m):qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),qn(v,"TestPingServer: error",!1,m)})}function qn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Os(){this.g=new da}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ci,ma),Ci.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(u,m){De.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Dr,De),s=Dr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):oi(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},s.Na=function(u){this.g&&(this.response=u,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return Ue(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Or(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Hn(v),typeof u=="string"?v!=null&&$i(v):et(u,m,v))}function st(u){De.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(st,De);var Ii=/^https?$/i,Fo=["POST","PUT"];s=st.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Mr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Mr(this,q)}};function Mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ko(u),Ji(u)}function Ko(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ut(this,"complete"),ut(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),st.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},s.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&li(u)==4)setTimeout(u.Ca.bind(u),0);else if(ut(u,"readystatechange"),li(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let W=String(u.D).match(bu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ii.test(W?W.toLowerCase():"")}v=T}if(v)ut(u,"complete"),ut(u,"success");else{u.o=6;try{var U=li(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ko(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ut(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(u){return u.g?u.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oo(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&li(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=vu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Ke(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Vs(u){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){St(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Mu(this,null,this.W),Ni(this)};function Qo(u){if(Sa(u),u.I==3){var m=u.V++,v=jt(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),kr(u,v),m=new si(u,u.j,m),m.M=2,m.A=xr(jt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Ou(u)}function ks(u){u.g&&(Xo(u),u.g.cancel(),u.g=null)}function Sa(u){ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Lo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ft||A(),Ge||(ft(),Ge=!0),x.add(m,u),u.D=0}}function Aa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(y(u.Ea,u,m),Du(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new si(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),te(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Cu(this,U,m),v=jt(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),kr(this,v),q&&(this.R?m="headers="+$i(Hn(q))+"&"+m:this.u&&Or(v,this.u,q)),Uo(this.h,U),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),U.U=!0,Ei(U,v,null)):Ei(U,v,m),this.I=2}}else this.I==3&&(u?Yo(this,u):this.i.length==0||Lo(this.h)||Yo(this))};function Yo(u,m){var v;m?v=m.l:v=u.V++;const T=jt(u.J);et(T,"SID",u.M),et(T,"RID",v),et(T,"AID",u.K),kr(u,T),u.u&&u.o&&Or(T,u.u,u.o),v=new si(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Uo(u.h,v),Ei(v,T,m)}function kr(u,m){u.H&&Ue(u.H,function(v,T){et(m,T,v)}),u.l&&Ue({},function(v,T){et(m,T,v)})}function Cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Dt=["count="+v];Ie==-1?v>0?(Ie=U[0].g,Dt.push("ofs="+Ie)):Ie=0:Dt.push("ofs="+Ie);let $e=!0;for(let Et=0;Et<v;Et++){var q=U[Et].g;const Gn=U[Et].map;if(q-=Ie,q<0)Ie=Math.max(0,U[Et].g-100),$e=!1;else try{q="req"+q+"_"||"";try{var W=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Oi,ui]of W){let ci=ui;p(ui)&&(ci=ni(ui)),Dt.push(q+Oi+"="+encodeURIComponent(ci))}}catch(Oi){throw Dt.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{T&&T(Gn)}}if($e){W=Dt.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ft||A(),Ge||(ft(),Ge=!0),x.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(y(u.Da,u),Du(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),ks(this),xu(this))};function Xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xu(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=jt(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Or(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=xr(jt(m)),v.u=null,v.R=!0,ga(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ks(this),Lr(this),St(19))};function wa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){wa(u),Xo(u),u.g=null;var T=2}else if(wi(u.h,m))v=m.G,Po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Ce(),ut(T,new pn(T,v)),Ni(u)}else Iu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Aa(u,m)||T==2&&Lr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new On(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(T,"https"),xr(T),U?ai(T.toString(),v):Go(T.toString(),v)}else St(2);u.I=0,u.l&&u.l.pa(m),Ou(u),Sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=jo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,v){var T=v instanceof On?jt(v):new On(v);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new On(null);T&&Jt(q,T),m&&(q.g=m),U&&Is(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&et(T,v,m),et(T,"VER",u.ka),kr(u,T),T}function Vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new Ci({ab:v})):new st(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}s=ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ls(){}Ls.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){De.call(this),this.g=new Vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}w(gn,De),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qo(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ni(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Ni(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,gn.Z.N.call(this)};function Lu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Lu,Kt);function Uu(){z.call(this),this.status=1}w(Uu,z);function Wi(u){this.g=u}w(Wi,ku),Wi.prototype.ra=function(){ut(this.g,"a")},Wi.prototype.qa=function(u){ut(this.g,new Lu(u))},Wi.prototype.pa=function(u){ut(this.g,new Uu)},Wi.prototype.oa=function(){ut(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,vE=function(){return new Ls},_E=function(){return Ce()},yE=ie,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,$c=Cr,Mo.COMPLETE="complete",gE=Mo,pa.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",De.prototype.listen=De.prototype.J,Pl=pa,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,pE=st}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Ao="12.9.0";function ZA(s){Ao=s}const sa=new Fm("@firebase/firestore");function io(){return sa.logLevel}function oe(s,...e){if(sa.logLevel<=ze.DEBUG){const i=e.map(Xm);sa.debug(`Firestore (${Ao}): ${s}`,...i)}}function Ts(s,...e){if(sa.logLevel<=ze.ERROR){const i=e.map(Xm);sa.error(`Firestore (${Ao}): ${s}`,...i)}}function ra(s,...e){if(sa.logLevel<=ze.WARN){const i=e.map(Xm);sa.warn(`Firestore (${Ao}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,EE(s,a,i)}function EE(s,e,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function We(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||EE(e,l,a)}function Re(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class TE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class ew{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class tw{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class nw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class iw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new nw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Iv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=rw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function Am(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return im(l)===im(c)?Be(l,c):im(l)?1:-1}return Be(s.length,e.length)}const aw=55296,ow=57343;function im(s){const e=s.charCodeAt(0);return e>=aw&&e<=ow}function po(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const xv="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Ui.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),l=Ui.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):Am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class _t extends Ui{construct(e,i,a){return new _t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ui{construct(e,i,a){return new ln(e,i,a)}static isValidIdentifier(e){return lw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new ln([xv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(_t.fromString(e))}static fromName(e){return new me(_t.fromString(e).popFirst(5))}static empty(){return new me(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new _t(e.slice()))}}function bE(s,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function uw(s,e,i,a){if(e===!0&&a===!0)throw new ue(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Nv(s){if(!me.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Dv(s){if(me.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function SE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function _n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(s);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ft(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!SE(s))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue(J.INVALID_ARGUMENT,i);return!0}const Ov=-62135596800,Mv=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Mv);return new vt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ov)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ft("string",vt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new vt(0,0))}static max(){return new Ae(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function cw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(a===1e9?new vt(i+1,0):new vt(i,a));return new gr(l,me.empty(),e)}function hw(s){return new gr(s.readTime,s.key,$l)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(Ae.min(),me.empty(),$l)}static max(){return new gr(Ae.max(),me.empty(),$l)}}function fw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const dw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==dw)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function pw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Zm=-1;function Ih(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function gw(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const AE="";function yw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Vv(e)),e=_w(s.get(i),e);return Vv(e)}function _w(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function Vv(s){return s+AE+""}function kv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function br(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function wE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new on(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new zn([])}unionWith(e){let i=new Xt(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new RE("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(We(!!s,39018),typeof s=="string"){let e=0;const i=vw.exec(s);if(We(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const CE="server_timestamp",IE="__type__",xE="__previous_value__",NE="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[IE]?.stringValue===CE}function xh(s){const e=s.mapValue.fields[xE];return Wm(e)?xh(e):e}function Jl(s){const e=yr(s.mapValue.fields[NE].timestampValue);return new vt(e.seconds,e.nanos)}class Ew{constructor(e,i,a,l,c,d,p,_,y,b,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const uh="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}function Tw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(s.options.projectId,e)}const DE="__type__",bw="__max__",Hc={mapValue:{}},OE="__vector__",ch="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:Aw(s)?9007199254740991:Sw(s)?10:11:ve(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=yr(l.timestampValue),p=yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return _r(l.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return kt(l.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return kt(l.integerValue)===kt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=kt(l.doubleValue),p=kt(c.doubleValue);return d===p?lh(d)===lh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return po(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(kv(d)!==kv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Hi(d[_],p[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function go(s,e){if(s===e)return 0;const i=vr(s),a=vr(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=kt(c.integerValue||c.doubleValue),_=kt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(Jl(s),Jl(e));case 5:return Am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=_r(c),_=_r(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Be(p[y],_[y]);if(b!==0)return b}return Be(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Be(kt(c.latitude),kt(d.latitude));return p!==0?p:Be(kt(c.longitude),kt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Pv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[ch]?.arrayValue,b=_[ch]?.arrayValue,w=Be(y?.values?.length||0,b?.values?.length||0);return w!==0?w:Pv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Hc.mapValue&&d===Hc.mapValue)return 0;if(c===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const O=Am(_[w],b[w]);if(O!==0)return O;const Q=go(p[_[w]],y[b[w]]);if(Q!==0)return Q}return Be(_.length,b.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=yr(s),a=yr(e),l=Be(i.seconds,a.seconds);return l!==0?l:Be(i.nanos,a.nanos)}function Pv(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=go(i[l],a[l]);if(c)return c}return Be(i.length,a.length)}function yo(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return me.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=wm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${wm(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Jc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(s);return e?16+Jc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return br(a.fields,((c,d)=>{l+=c.length+Jc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function Rm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function jv(s){return!!s&&"nullValue"in s}function zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function Sw(s){return(s?.mapValue?.fields||{})[DE]?.stringValue===OE}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Hl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function Aw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bw}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=ln.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Hl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){br(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new xn(Hl(this.value))}}function ME(s){const e=[];return br(s.fields,((i,a)=>{const l=new ln([i]);if(Zc(a)){const c=ME(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new zn(e)}class dn{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),xn.empty(),0)}static newFoundDocument(e,i,a,l){return new dn(e,1,i,Ae.min(),a,l,0)}static newNoDocument(e,i){return new dn(e,2,i,Ae.min(),Ae.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,Ae.min(),Ae.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function Bv(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),i.key):a=go(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function qv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function ww(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class VE{}class Yt extends VE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Cw(e,i,a):i==="array-contains"?new Nw(e,a):i==="in"?new Dw(e,a):i==="not-in"?new Ow(e,a):i==="array-contains-any"?new Mw(e,a):new Yt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Iw(e,a):new xw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends VE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return kE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(s){return s.op==="and"}function LE(s){return Rw(s)&&kE(s)}function Rw(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function Cm(s){if(s instanceof Yt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(LE(s))return s.filters.map((e=>Cm(e))).join(",");{const e=s.filters.map((i=>Cm(i))).join(",");return`${s.op}(${e})`}}function UE(s,e){return s instanceof Yt?(function(a,l){return l instanceof Yt&&a.op===l.op&&a.field.isEqual(l.field)&&Hi(a.value,l.value)})(s,e):s instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&UE(d,l.filters[p])),!0):!1})(s,e):void ve(19439)}function PE(s){return s instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${yo(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(PE).join(" ,")+"}"})(s):"Filter"}class Cw extends Yt{constructor(e,i,a){super(e,i,a),this.key=me.fromName(a.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class Iw extends Yt{constructor(e,i){super(e,"in",i),this.keys=jE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class xw extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=jE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jE(s,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class Nw extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ep(i)&&Wl(i.arrayValue,this.value)}}class Dw extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class Ow extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class Mw extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ep(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Wl(this.value.arrayValue,a)))}}class Vw{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Hv(s,e=null,i=[],a=[],l=null,c=null,d=null){return new Vw(s,e,i,a,l,c,d)}function tp(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Cm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ih(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>yo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>yo(a))).join(",")),e.Te=i}return e.Te}function np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ww(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!UE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qv(s.startAt,e.startAt)&&qv(s.endAt,e.endAt)}function Im(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Nh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kw(s,e,i,a,l,c,d,p){return new Nh(s,e,i,a,l,c,d,p)}function Dh(s){return new Nh(s)}function Gv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Lw(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Uw(s){return s.collectionGroup!==null}function Gl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Xt(ln.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,a))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new fh(ln.keyField(),a))}return e.Ie}function Pi(s){const e=Re(s);return e.Ee||(e.Ee=Pw(e,Gl(s))),e.Ee}function Pw(s,e){if(s.limitType==="F")return Hv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new fh(l.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return Hv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function xm(s,e,i){return new Nh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Oh(s,e){return np(Pi(s),Pi(e))&&s.limitType===e.limitType}function zE(s){return`${tp(Pi(s))}|lt:${s.limitType}`}function so(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>PE(l))).join(", ")}]`),Ih(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>yo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>yo(l))).join(",")),`Target(${a})`})(Pi(s))}; limitType=${s.limitType})`}function Mh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):me.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Gl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Bv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Gl(a),l)||a.endAt&&!(function(d,p,_){const y=Bv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Gl(a),l))})(s,e)}function jw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function BE(s){return(e,i)=>{let a=!1;for(const l of Gl(s)){const c=zw(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function zw(s,e,i){const a=s.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?go(_,y):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const Bw=new At(me.comparator);function bs(){return Bw}const qE=new At(me.comparator);function jl(...s){let e=qE;for(const i of s)e=e.insert(i.key,i);return e}function HE(s){let e=qE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ea(){return Fl()}function GE(){return Fl()}function Fl(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const qw=new At(me.comparator),Hw=new Xt(me.comparator);function qe(...s){let e=Hw;for(const i of s)e=e.add(i);return e}const Gw=new Xt(Be);function Fw(){return Gw}function ip(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function FE(s){return{integerValue:""+s}}function Kw(s,e){return gw(e)?FE(e):ip(s,e)}class Vh{constructor(){this._=void 0}}function Qw(s,e,i){return s instanceof eu?(function(l,c){const d={fields:{[IE]:{stringValue:CE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Wm(c)&&(c=xh(c)),c&&(d.fields[xE]=c),{mapValue:d}})(i,e):s instanceof _o?QE(s,e):s instanceof vo?YE(s,e):(function(l,c){const d=KE(l,c),p=Fv(d)+Fv(l.Ae);return Rm(d)&&Rm(l.Ae)?FE(p):ip(l.serializer,p)})(s,e)}function Yw(s,e,i){return s instanceof _o?QE(s,e):s instanceof vo?YE(s,e):i}function KE(s,e){return s instanceof dh?(function(a){return Rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class eu extends Vh{}class _o extends Vh{constructor(e){super(),this.elements=e}}function QE(s,e){const i=XE(e);for(const a of s.elements)i.some((l=>Hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class vo extends Vh{constructor(e){super(),this.elements=e}}function YE(s,e){let i=XE(e);for(const a of s.elements)i=i.filter((l=>!Hi(l,a)));return{arrayValue:{values:i}}}class dh extends Vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Fv(s){return kt(s.integerValue||s.doubleValue)}function XE(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class sp{constructor(e,i){this.field=e,this.transform=i}}function Xw(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof _o&&l instanceof _o||a instanceof vo&&l instanceof vo?po(a.elements,l.elements,Hi):a instanceof dh&&l instanceof dh?Hi(a.Ae,l.Ae):a instanceof eu&&l instanceof eu})(s.transform,e.transform)}class $w{constructor(e,i){this.version=e,this.transformResults=i}}class vn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kh{}function $E(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Lh(s.key,vn.none()):new ou(s.key,s.data,vn.none());{const i=s.data,a=xn.empty();let l=new Xt(ln.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Sr(s.key,a,new zn(l.toArray()),vn.none())}}function Jw(s,e,i){s instanceof ou?(function(l,c,d){const p=l.value.clone(),_=Qv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Sr?(function(l,c,d){if(!Wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Qv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(JE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,a){return s instanceof ou?(function(c,d,p,_){if(!Wc(c.precondition,d))return p;const y=c.value.clone(),b=Yv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Sr?(function(c,d,p,_){if(!Wc(c.precondition,d))return p;const y=Yv(c.fieldTransforms,_,d),b=d.data;return b.setAll(JE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return Wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Zw(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=KE(a.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function Kv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&po(a,l,((c,d)=>Xw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ou extends kh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends kh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Qv(s,e,i){const a=new Map;We(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,Yw(d,p,i[l]))}return a}function Yv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Qw(c,d,e))}return a}class Lh extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ww extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class e2{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Jw(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=GE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=$E(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((i,a)=>Kv(i,a)))&&po(this.baseMutations,e.baseMutations,((i,a)=>Kv(i,a)))}}class rp{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return qw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new rp(e,i,a,l)}}class t2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Fe;function i2(s){switch(s){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function ZE(s){if(s===void 0)return Ts("GRPC error has no .code"),J.UNKNOWN;switch(s){case Gt.OK:return J.OK;case Gt.CANCELLED:return J.CANCELLED;case Gt.UNKNOWN:return J.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return J.INTERNAL;case Gt.UNAVAILABLE:return J.UNAVAILABLE;case Gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Gt.NOT_FOUND:return J.NOT_FOUND;case Gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Gt.ABORTED:return J.ABORTED;case Gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Gt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:s})}}(Fe=Gt||(Gt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function s2(){return new TextEncoder}const r2=new mr([4294967295,4294967295],0);function Xv(s){const e=s2().encode(s),i=new mE;return i.update(e),new Uint8Array(i.digest())}function $v(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([i,a],0),new mr([l,c],0)]}class ap{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(mr.fromNumber(a)));return l.compare(r2)===1&&(l=new mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Xv(e),[a,l]=$v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ap(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Xv(e),[a,l]=$v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Uh(Ae.min(),l,new At(Be),bs(),qe())}}class lu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,qe(),qe(),qe())}}class eh{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class WE{constructor(e,i){this.targetId=e,this.Ce=i}}class eT{constructor(e,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Jv{constructor(){this.ve=0,this.Fe=Zv(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Zv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class a2{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=Gc(),this.Je=Gc(),this.Ze=new At(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Im(c))if(a===0){const d=new me(c.path);this.et(i,d,dn.newNoDocument(d,Ae.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=_r(a).toUint8Array()}catch(_){if(_ instanceof RE)return ra("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ap(d,l,c)}catch(_){return ra(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Im(p.target)){const _=new me(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,dn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Uh(e,i,this.Ze,this.je,a);return this.je=bs(),this.He=Gc(),this.Je=Gc(),this.Ze=new At(Be),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Jv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Xt(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Xt(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gc(){return new At(me.comparator)}function Zv(){return new At(me.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},l2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u2={and:"AND",or:"OR"};class c2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nm(s,e){return s.useProto3Json||Ih(e)?e:{value:e}}function mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function h2(s,e){return mh(s,e.toTimestamp())}function ji(s){return We(!!s,49232),Ae.fromTimestamp((function(i){const a=yr(i);return new vt(a.seconds,a.nanos)})(s))}function op(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function nT(s){const e=_t.fromString(s);return We(oT(e),10190,{key:e.toString()}),e}function Om(s,e){return op(s.databaseId,e.path)}function sm(s,e){const i=nT(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new me(sT(i))}function iT(s,e){return op(s.databaseId,e)}function f2(s){const e=nT(s);return e.length===4?_t.emptyPath():sT(e)}function Mm(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sT(s){return We(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Wv(s,e,i){return{name:Om(s,e),fields:i.value.mapValue.fields}}function d2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(We(b===void 0||typeof b=="string",58123),un.fromBase64String(b||"")):(We(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),un.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:ZE(y.code);return new ue(b,y.message||"")})(d);i=new eT(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=sm(s,a.document.name),c=ji(a.document.updateTime),d=a.document.createTime?ji(a.document.createTime):Ae.min(),p=new xn({mapValue:{fields:a.document.fields}}),_=dn.newFoundDocument(l,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new eh(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=sm(s,a.document),c=a.readTime?ji(a.readTime):Ae.min(),d=dn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new eh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=sm(s,a.document),c=a.removedTargetIds||[];i=new eh([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new n2(l,c),p=a.targetId;i=new WE(p,d)}}return i}function m2(s,e){let i;if(e instanceof ou)i={update:Wv(s,e.key,e.value)};else if(e instanceof Lh)i={delete:Om(s,e.key)};else if(e instanceof Sr)i={update:Wv(s,e.key,e.data),updateMask:S2(e.fieldMask)};else{if(!(e instanceof Ww))return ve(16599,{dt:e.type});i={verify:Om(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _o)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:h2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function p2(s,e){return s&&s.length>0?(We(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(Ae.min())&&(d=ji(c)),new $w(d,l.transformResults||[])})(i,e)))):[]}function g2(s,e){return{documents:[iT(s,e.path)]}}function y2(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(s,l);const c=(function(y){if(y.length!==0)return aT(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(O){return{field:ro(O.field),direction:E2(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Nm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function _2(s){let e=f2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){We(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const O=rT(w);return O instanceof Gi&&LE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(Z){return new fh(ao(Z.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let O;return O=typeof w=="object"?w.value:w,Ih(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(w){const O=!!w.before,Q=w.values||[];return new hh(Q,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const O=!w.before,Q=w.values||[];return new hh(Q,O)})(i.endAt)),kw(e,l,d,c,p,"F",_,y)}function v2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ao(i.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ao(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ao(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ao(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Yt.create(ao(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function E2(s){return o2[s]}function T2(s){return l2[s]}function b2(s){return u2[s]}function ro(s){return{fieldPath:s.canonicalString()}}function ao(s){return ln.fromServerFormat(s.fieldPath)}function aT(s){return s instanceof Yt?(function(i){if(i.op==="=="){if(zv(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NAN"}};if(jv(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(zv(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NAN"}};if(jv(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(i.field),op:T2(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const a=i.getFilters().map((l=>aT(l)));return a.length===1?a[0]:{compositeFilter:{op:b2(i.op),filters:a}}})(s):ve(54877,{filter:s})}function S2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function lT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class cr{constructor(e,i,a,l,c=Ae.min(),d=Ae.min(),p=un.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class A2{constructor(e){this.yt=e}}function w2(s){const e=_2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xm(e,e.limit,"L"):e}class R2{constructor(){this.Sn=new C2}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(gr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class C2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Xt(_t.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Xt(_t.comparator)).toArray()}}const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uT=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(uT,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Eo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}const t0="LruGarbageCollector",I2=1048576;function n0([s,e],[i,a]){const l=Be(s,i);return l===0?Be(e,a):l}class x2{constructor(e){this.Pr=e,this.buffer=new Xt(n0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();n0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class N2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(t0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?oe(t0,"Ignoring IndexedDB error during garbage collection: ",i):await wo(i)}await this.Ar(3e5)}))}}class D2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ch.ce);const a=new x2(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(e0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),io()<=ze.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function O2(s,e){return new D2(s,e)}class M2{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class k2{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Kl(a.mutation,l,zn.empty(),vt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const l=ea();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=jl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ea();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=bs();const d=Fl(),p=(function(){return Fl()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Sr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Kl(b.mutation,y,b.mutation.getFieldMask(),vt.now())):d.set(y.key,zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new V2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Fl();let l=new At(((d,p)=>d-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||zn.empty();b=p.applyToLocalView(y,b),a.set(_,b);const w=(l.get(p.batchId)||qe()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,w=GE();b.forEach((O=>{if(!c.has(O)){const Q=$E(i.get(O),a.get(O));Q!==null&&w.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return Lw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Uw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ea());let p=$l,_=c;return d.next((y=>$.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{_=_.insert(b,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,qe()))).next((b=>({batchId:p,changes:HE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((a=>{let l=jl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(w,O){return new Nh(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((b=>{b.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,dn.newInvalidDocument(b)))}));let p=jl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Kl(b.mutation,y,zn.empty(),vt.now()),Mh(i,y)&&(p=p.insert(_,y))})),p}))}}class L2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:w2(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class U2{constructor(){this.overlays=new At(me.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ea();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ea(),c=i.length+1,d=new me(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new At(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=ea(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ea(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new t2(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class P2{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class lp{constructor(){this.kr=new Xt(Wt.Kr),this.qr=new Xt(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Wt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Wt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new me(new _t([])),a=new Wt(i,e),l=new Wt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new me(new _t([])),a=new Wt(i,e),l=new Wt(i,e+1);let c=qe();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return me.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||me.comparator(e.key,i.key)}}class j2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(Wt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new e2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Wt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Zm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Xt(Be);return i.forEach((l=>{const c=new Wt(l,0),d=new Wt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;me.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new me(c),0);let p=new Xt(Be);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){We(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Wt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Wt(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class z2{constructor(e){this.ti=e,this.docs=(function(){return new At(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=bs();const d=i.path,p=new me(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||fw(hw(b),a)<=0||(l.has(b.key)||Mh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new B2(this)}getSize(e){return $.resolve(this.size)}}class B2 extends M2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class q2{constructor(e){this.persistence=e,this.ri=new ua((i=>tp(i)),np),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new lp,this.targetCount=0,this.oi=Eo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Eo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class cT{constructor(e,i){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new P2,this.referenceDelegate=e(this),this.li=new q2(this),this.indexManager=new R2,this.remoteDocumentCache=(function(l){return new z2(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new A2(i),this.Pi=new L2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new U2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new j2(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new H2(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class H2 extends mw{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new lp,this.Ai=null}static Vi(e){return new up(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=me.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new ua((a=>yw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=O2(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Jc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=qe(),l=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cp(e,i.fromCache,a,l)}}class G2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return DS()?8:pw(mn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new G2;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(io()<=ze.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(io()<=ze.DEBUG&&oe("QueryEngine","Query:",so(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(io()<=ze.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):$.resolve())}gs(e,i){if(Gv(i))return $.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=xm(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,xm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,a,l){return Gv(i)||l.isEqual(Ae.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(io()<=ze.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),so(i)),this.Ds(e,d,i,cw(l,$l)).next((p=>p)))}))}bs(e,i){let a=new Xt(BE(e));return i.forEach(((l,c)=>{Mh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return io()<=ze.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",so(i)),this.fs.getDocumentsMatchingQuery(e,i,gr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hp="LocalStore",K2=3e8;class Q2{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new At(Be),this.Fs=new ua((c=>tp(c)),np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Y2(s,e,i,a){return new Q2(s,e,i,a)}async function hT(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=qe();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function X2(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const w=y.batch,O=w.keys();let Q=$.resolve();return O.forEach((Z=>{Q=Q.next((()=>b.getEntry(_,Z))).next((re=>{const ee=y.docVersions.get(Z);We(ee!==null,48541),re.version.compareTo(ee)<0&&(w.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),b.addEntry(re)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function fT(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function $2(s,e){const i=Re(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,w)=>{const O=l.get(w);if(!O)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Q=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Q=Q.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(w,Q),(function(re,ee,pe){return re.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=K2?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(O,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let _=bs(),y=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(J2(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!a.isEqual(Ae.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function J2(s,e,i){let a=qe(),l=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=bs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Ae.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):oe(hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function Z2(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function W2(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new cr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Vm(s,e,i){const a=Re(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;oe(hp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function i0(s,e,i){const a=Re(s);let l=Ae.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=Re(_),O=w.Fs.get(b);return O!==void 0?$.resolve(w.vs.get(O)):w.li.getTargetData(y,b)})(a,d,Pi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?c:qe()))).next((p=>(eR(a,jw(e),p),{documents:p,ks:c})))))}function eR(s,e,i){let a=s.Ms.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class s0{constructor(){this.activeTargetIds=Fw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tR{constructor(){this.vo=new s0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nR{Mo(e){}shutdown(){}}const r0="ConnectivityMonitor";class a0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(r0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function km(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const rm="RestConnection",iR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class sR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=km(),p=this.Qo(e,i.toUriEncodedString());oe(rm,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=bo(y);return this.zo(e,p,_,a,b).then((w=>(oe(rm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ra(rm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=iR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class rR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",Vl=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class lo extends sR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=_E();Vl(e,yE.STAT_EVENT,(i=>{i.stat===Sm.PROXY?oe(hn,"STAT_EVENT: detected buffering proxy"):i.stat===Sm.NOPROXY&&oe(hn,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,i,a,l,c){const d=km();return new Promise(((p,_)=>{const y=new pE;y.setWithCredentials(!0),y.listenOnce(gE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case $c.NO_ERROR:const w=y.getResponseJson();oe(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case $c.TIMEOUT:oe(hn,`RPC '${e}' ${d} timed out`),_(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const O=y.getStatus();if(oe(hn,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const re=(function(pe){const be=pe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(be)>=0?be:J.UNKNOWN})(Z.status);_(new ue(re,Z.message))}else _(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ue(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(hn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(hn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=km(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");oe(hn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,O=!1;const Q=new rR({Ho:Z=>{O?oe(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(w||(oe(hn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),oe(hn,`RPC '${e}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return Vl(b,Pl.EventType.OPEN,(()=>{O||(oe(hn,`RPC '${e}' stream ${l} transport opened.`),Q.i_())})),Vl(b,Pl.EventType.CLOSE,(()=>{O||(O=!0,oe(hn,`RPC '${e}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),Vl(b,Pl.EventType.ERROR,(Z=>{O||(O=!0,ra(hn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Vl(b,Pl.EventType.MESSAGE,(Z=>{if(!O){const re=Z.data[0];We(!!re,16349);const ee=re,pe=ee?.error||ee[0]?.error;if(pe){oe(hn,`RPC '${e}' stream ${l} received error:`,pe);const be=pe.status;let Ee=(function(Ge){const x=Gt[Ge];if(x!==void 0)return ZE(x)})(be),Xe=pe.message;be==="NOT_FOUND"&&Xe.includes("database")&&Xe.includes("does not exist")&&Xe.includes(this.databaseId.database)&&ra(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Ee===void 0&&(Ee=J.INTERNAL,Xe="Unknown error status: "+be+" with message "+pe.message),O=!0,Q.o_(new ue(Ee,Xe)),b.close()}else oe(hn,`RPC '${e}' stream ${l} received:`,re),Q.__(re)}})),lo.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vE()}}function aR(s){return new lo(s)}function am(){return typeof document<"u"?document:null}function Ph(s){return new c2(s,!0)}lo.c_=!1;class dT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const o0="PersistentStream";class mT{constructor(e,i,a,l,c,d,p,_){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(o0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oR extends mT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=d2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?ji(d.readTime):Ae.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Im(_)?{documents:g2(c,_)}:{query:y2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=Nm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=mh(c,d.snapshotVersion.toTimestamp());const y=Nm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=v2(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Mm(this.serializer),i.removeTarget=e,this.K_(i)}}class lR extends mT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=p2(e.writeResults,e.commitTime),a=ji(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Mm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>m2(this.serializer,a)))};this.K_(i)}}class uR{}class cR extends uR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Dm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hR(s,e,i,a){return new cR(s,e,i,a)}class fR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class dR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(oe(aa,"Restarting streams for network reachability change."),await(async function(_){const y=Re(_);y.Ea.add(4),await uu(y),y.Va.set("Unknown"),y.Ea.delete(4),await jh(y)})(this))}))})),this.Va=new fR(a,l)}}async function jh(s){if(ca(s))for(const e of s.Ra)await e(!0)}async function uu(s){for(const e of s.Ra)await e(!1)}function pT(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pp(i)?mp(i):Co(i).O_()&&dp(i,e))}function fp(s,e){const i=Re(s),a=Co(i);i.Ia.delete(e),a.O_()&&gT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Va.set("Unknown"))}function dp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Co(s).Z_(e)}function gT(s,e){s.da.$e(e),Co(s).X_(e)}function mp(s){s.da=new a2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Co(s).start(),s.Va.ua()}function pp(s){return ca(s)&&!Co(s).x_()&&s.Ia.size>0}function ca(s){return Re(s).Ea.size===0}function yT(s){s.da=void 0}async function mR(s){s.Va.set("Online")}async function pR(s){s.Ia.forEach(((e,i)=>{dp(s,e)}))}async function gR(s,e){yT(s),pp(s)?(s.Va.ha(e),mp(s)):s.Va.set("Unknown")}async function yR(s,e,i){if(s.Va.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(a){oe(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gh(s,a)}else if(e instanceof eh?s.da.Xe(e):e instanceof WE?s.da.st(e):s.da.tt(e),!i.isEqual(Ae.min()))try{const a=await fT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(un.EMPTY_BYTE_STRING,b.snapshotVersion)),gT(c,_);const w=new cr(b.target,_,y,b.sequenceNumber);dp(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){oe(aa,"Failed to raise snapshot:",a),await gh(s,a)}}async function gh(s,e,i){if(!Ro(e))throw e;s.Ea.add(1),await uu(s),s.Va.set("Offline"),i||(i=()=>fT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(aa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jh(s)}))}function _T(s,e){return e().catch((i=>gh(s,i,e)))}async function zh(s){const e=Re(s),i=Er(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;_R(e);)try{const l=await Z2(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,vR(e,l)}catch(l){await gh(e,l)}vT(e)&&ET(e)}function _R(s){return ca(s)&&s.Ta.length<10}function vR(s,e){s.Ta.push(e);const i=Er(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function vT(s){return ca(s)&&!Er(s).x_()&&s.Ta.length>0}function ET(s){Er(s).start()}async function ER(s){Er(s).ra()}async function TR(s){const e=Er(s);for(const i of s.Ta)e.ea(i.mutations)}async function bR(s,e,i){const a=s.Ta.shift(),l=rp.from(a,e,i);await _T(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function SR(s,e){e&&Er(s).Y_&&await(async function(a,l){if((function(d){return i2(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Er(a).B_(),await _T(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(a)}})(s,e),vT(s)&&ET(s)}async function l0(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),oe(aa,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await uu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jh(i)}async function AR(s,e){const i=Re(s);e?(i.Ea.delete(2),await jh(i)):e||(i.Ea.add(2),await uu(i),i.Va.set("Unknown"))}function Co(s){return s.ma||(s.ma=(function(i,a,l){const c=Re(i);return c.sa(),new oR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:mR.bind(null,s),Yo:pR.bind(null,s),t_:gR.bind(null,s),J_:yR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Va.set("Unknown")):(await s.ma.stop(),yT(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(i,a,l){const c=Re(i);return c.sa(),new lR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ER.bind(null,s),t_:SR.bind(null,s),ta:TR.bind(null,s),na:bR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new gp(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),Ro(s))return new ue(J.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||me.comparator(i.key,a.key):(i,a)=>me.comparator(i.key,a.key),this.keyedMap=jl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new uo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class u0{constructor(){this.ga=new At(me.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class To{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new To(e,i,uo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class wR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class RR{constructor(){this.queries=c0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Re(i),c=l.queries;l.queries=c0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function c0(){return new ua((s=>zE(s)),Oh)}async function _p(s,e){const i=Re(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new wR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yp(d,`Initialization of query '${so(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ep(i)}async function vp(s,e){const i=Re(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function CR(s,e){const i=Re(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Ep(i)}function IR(s,e,i){const a=Re(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function Ep(s){s.Ca.forEach((e=>{e.next()}))}var Lm,h0;(h0=Lm||(Lm={})).Ma="default",h0.Cache="cache";class Tp{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new To(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}class TT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class xR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=BE(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new u0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,w)=>{const O=l.get(b),Q=Mh(this.query,w)?w:null,Z=!!O&&this.mutatedKeys.has(O.key),re=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;O&&Q?O.data.isEqual(Q.data)?Z!==re&&(a.track({type:3,doc:Q}),ee=!0):this.su(O,Q)||(a.track({type:2,doc:Q}),ee=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!O&&Q?(a.track({type:0,doc:Q}),ee=!0):O&&!Q&&(a.track({type:1,doc:O}),ee=!0,(_||y)&&(p=!0)),ee&&(Q?(d=d.add(Q),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(Q,Z){const re=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:ee})}};return re(Q)-re(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new bT(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new TT(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const bp="SyncEngine";class NR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class DR{constructor(e){this.key=e,this.hu=!1}}class OR{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((p=>zE(p)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new At(me.comparator),this.Au=new Map,this.Vu=new lp,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MR(s,e,i=!0){const a=IT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ST(a,e,i,!0),l}async function VR(s,e){const i=IT(s);await ST(i,e,!0,!1)}async function ST(s,e,i,a){const l=await W2(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await kR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&pT(s.remoteStore,l),p}async function kR(s,e,i,a,l){s.pu=(w,O,Q)=>(async function(re,ee,pe,be){let Ee=ee.view.ru(pe);Ee.Ss&&(Ee=await i0(re.localStore,ee.query,!1).then((({documents:x})=>ee.view.ru(x,Ee))));const Xe=be&&be.targetChanges.get(ee.targetId),ft=be&&be.targetMismatches.get(ee.targetId)!=null,Ge=ee.view.applyChanges(Ee,re.isPrimaryClient,Xe,ft);return d0(re,ee.targetId,Ge.au),Ge.snapshot})(s,w,O,Q);const c=await i0(s.localStore,e,!0),d=new xR(e,c.ks),p=d.ru(c.documents),_=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);d0(s,i,y.au);const b=new NR(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function LR(s,e,i){const a=Re(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Oh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&fp(a.remoteStore,l.targetId),Um(a,l.targetId)})).catch(wo)):(Um(a,l.targetId),await Vm(a.localStore,l.targetId,!0))}async function UR(s,e){const i=Re(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fp(i.remoteStore,a.targetId))}async function PR(s,e,i){const a=FR(s);try{const l=await(function(d,p){const _=Re(d),y=vt.now(),b=p.reduce(((Q,Z)=>Q.add(Z.key)),qe());let w,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=bs(),re=qe();return _.xs.getEntries(Q,b).next((ee=>{Z=ee,Z.forEach(((pe,be)=>{be.isValidDocument()||(re=re.add(pe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((ee=>{w=ee;const pe=[];for(const be of p){const Ee=Zw(be,w.get(be.key).overlayedDocument);Ee!=null&&pe.push(new Sr(be.key,Ee,ME(Ee.value.mapValue),vn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,pe,p)})).next((ee=>{O=ee;const pe=ee.applyToLocalDocumentSet(w,re);return _.documentOverlayCache.saveOverlays(Q,ee.batchId,pe)}))})).then((()=>({batchId:O.batchId,changes:HE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new At(Be)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await cu(a,l.changes),await zh(a.remoteStore)}catch(l){const c=yp(l,"Failed to persist write");i.reject(c)}}async function AT(s,e){const i=Re(s);try{const a=await $2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?We(d.hu,14607):l.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await wo(a)}}function f0(s,e,i){const a=Re(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Re(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,w)=>{for(const O of w.ba)O.va(p)&&(y=!0)})),y&&Ep(_)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function jR(s,e,i){const a=Re(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new At(me.comparator);d=d.insert(c,dn.newNoDocument(c,Ae.min()));const p=qe().add(c),_=new Uh(Ae.min(),new Map,new At(Be),d,p);await AT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),Sp(a)}else await Vm(a.localStore,e,!1).then((()=>Um(a,e,i))).catch(wo)}async function zR(s,e){const i=Re(s),a=e.batch.batchId;try{const l=await X2(i.localStore,e);RT(i,a,null),wT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,l)}catch(l){await wo(l)}}async function BR(s,e,i){const a=Re(s);try{const l=await(function(d,p){const _=Re(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(We(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,e);RT(a,e,i),wT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,l)}catch(l){await wo(l)}}function wT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function RT(s,e,i){const a=Re(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Um(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||CT(s,a)}))}function CT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(fp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Sp(s))}function d0(s,e,i){for(const a of i)a instanceof TT?(s.Vu.addReference(a.key,e),qR(s,a)):a instanceof bT?(oe(bp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||CT(s,a.key)):ve(19791,{wu:a})}function qR(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(oe(bp,"New document in limbo: "+i),s.Eu.add(a),Sp(s))}function Sp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new me(_t.fromString(e)),a=s.fu.next();s.Au.set(a,new DR(i)),s.Ru=s.Ru.insert(i,a),pT(s.remoteStore,new cr(Pi(Dh(i.path)),a,"TargetPurposeLimboResolution",Ch.ce))}}async function cu(s,e,i){const a=Re(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=cp.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const b=Re(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(O=>$.forEach(O.Ts,(Q=>b.persistence.referenceDelegate.addReference(w,O.targetId,Q))).next((()=>$.forEach(O.Is,(Q=>b.persistence.referenceDelegate.removeReference(w,O.targetId,Q)))))))))}catch(w){if(!Ro(w))throw w;oe(hp,"Failed to update sequence numbers: "+w)}for(const w of y){const O=w.targetId;if(!w.fromCache){const Q=b.vs.get(O),Z=Q.snapshotVersion,re=Q.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(O,re)}}})(a.localStore,c))}async function HR(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){oe(bp,"User change. New user:",e.toKey());const a=await hT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ue(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ns)}}function GR(s,e){const i=Re(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let l=qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function IT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jR.bind(null,e),e.Pu.J_=CR.bind(null,e.eventManager),e.Pu.yu=IR.bind(null,e.eventManager),e}function FR(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BR.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Y2(this.persistence,new F2,e.initialUser,this.serializer)}Cu(e){return new cT(up.Vi,this.serializer)}Du(e){return new tR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class KR extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof ph,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new N2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new cT((a=>ph.Vi(a,i)),this.serializer)}}class Pm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>f0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=HR.bind(null,this.syncEngine),await AR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RR})()}createDatastore(e){const i=Ph(e.databaseInfo.databaseId),a=aR(e.databaseInfo);return hR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new dR(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>f0(this.syncEngine,i,0)),(function(){return a0.v()?new a0:new nR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const w=new OR(l,c,d,p,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Re(i);oe(aa,"RemoteStore shutting down."),a.Ea.add(5),await uu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Tr="FirestoreClient";class QR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=yp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function om(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await hT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function m0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await YR(s);oe(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>l0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>l0(e.remoteStore,l))),s._onlineComponents=e}async function YR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Tr,"Using user provided OfflineComponentProvider");try{await om(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ra("Error using user provided cache. Falling back to memory cache: "+i),await om(s,new yh)}}else oe(Tr,"Using default OfflineComponentProvider"),await om(s,new KR(void 0));return s._offlineComponents}async function xT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Tr,"Using user provided OnlineComponentProvider"),await m0(s,s._uninitializedComponentsProvider._online)):(oe(Tr,"Using default OnlineComponentProvider"),await m0(s,new Pm))),s._onlineComponents}function XR(s){return xT(s).then((e=>e.syncEngine))}async function _h(s){const e=await xT(s),i=e.eventManager;return i.onListen=MR.bind(null,e.syncEngine),i.onUnlisten=LR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=VR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=UR.bind(null,e.syncEngine),i}function $R(s,e,i,a){const l=new Ap(a),c=new Tp(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>_p(await _h(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>vp(await _h(s),c)))}}function JR(s,e,i={}){const a=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Ap({next:O=>{b.Nu(),d.enqueueAndForget((()=>vp(c,w)));const Q=O.docs.has(p);!Q&&O.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&O.fromCache&&_&&_.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),w=new Tp(Dh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return _p(c,w)})(await _h(s),s.asyncQueue,e,i,a))),a.promise}function ZR(s,e,i={}){const a=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Ap({next:O=>{b.Nu(),d.enqueueAndForget((()=>vp(c,w))),O.fromCache&&_.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),w=new Tp(p,b,{includeMetadataChanges:!0,Ka:!0});return _p(c,w)})(await _h(s),s.asyncQueue,e,i,a))),a.promise}function WR(s,e){const i=new ys;return s.asyncQueue.enqueueAndForget((async()=>PR(await XR(s),e,i))),i.promise}function NT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const eC="ComponentProvider",p0=new Map;function tC(s,e,i,a,l){return new Ew(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,NT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const DT="firestore.googleapis.com",g0=!0;class y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=g0}else this.host=e.host,this.ssl=e.ssl??g0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I2)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new WA;switch(a.type){case"firstParty":return new iw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=p0.get(i);a&&(oe(eC,"Removing Datastore"),p0.delete(i),a.terminate())})(this),Promise.resolve()}}function nC(s,e,i,a={}){s=_n(s,Bh);const l=bo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(oE(`https://${p}`),lE("Firestore",!0)),c.host!==DT&&c.host!==p&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!vs(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=fn.MOCK_USER;else{y=bS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new fn(w)}s._authCredentials=new ew(new TE(y,b))}}class hu{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hu(this.firestore,e,this._query)}}class Lt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,Lt._jsonSchema))return new Lt(e,a||null,new me(_t.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ft("string",Lt._jsonSchemaVersion),referencePath:Ft("string")};class pr extends hu{constructor(e,i,a){super(e,i,Dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new me(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function no(s,e,...i){if(s=xt(s),bE("collection","path",e),s instanceof Bh){const a=_t.fromString(e,...i);return Dv(a),new pr(s,null,a)}{if(!(s instanceof Lt||s instanceof pr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(e,...i));return Dv(a),new pr(s.firestore,null,a)}}function Vt(s,e,...i){if(s=xt(s),arguments.length===1&&(e=$m.newId()),bE("doc","path",e),s instanceof Bh){const a=_t.fromString(e,...i);return Nv(a),new Lt(s,null,new me(a))}{if(!(s instanceof Lt||s instanceof pr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(e,...i));return Nv(a),new Lt(s.firestore,s instanceof pr?s.converter:null,new me(a))}}const _0="AsyncQueue";class v0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dT(this,"async_queue_retry"),this._c=()=>{const a=am();a&&oe(_0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=am();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=am();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;oe(_0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",E0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=gp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:E0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function E0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Fi extends Bh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new v0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v0(e),this._firestoreClient=void 0,await e}}}function iC(s,e){const i=typeof s=="object"?s:Ym(),a=typeof s=="string"?s:uh,l=Qm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=ES("firestore");c&&nC(l,...c)}return l}function fu(s){if(s._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||sC(s),s._firestoreClient}function sC(s){const e=s._freezeSettings(),i=tC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new QR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(un.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Ft("string",ei._jsonSchemaVersion),bytes:Ft("string")};class qh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Io{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(au(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ft("string",zi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new pi(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Ft("string",pi._jsonSchemaVersion),vectorValues:Ft("object")};const rC=/^__.*__$/;class aC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}class OT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function MT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class Hh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(MT(this.dataSource)&&rC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class oC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ph(e)}createContext(e,i,a,l=!1){return new Hh({dataSource:e,methodName:i,targetDoc:a,path:ln.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gh(s){const e=s._freezeSettings(),i=Ph(s._databaseId);return new oC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function wp(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);xp("Data must be an object, but it was:",d,a);const p=UT(a,d);let _,y;if(c.merge)_=new zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const O=tu(e,w,i);if(!d.contains(O))throw new ue(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);zT(b,O)||b.push(O)}_=new zn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new aC(new xn(p),_,y)}class Fh extends Io{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function VT(s,e,i){return new Hh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rp extends Io{_toFieldTransform(e){return new sp(e.path,new eu)}isEqual(e){return e instanceof Rp}}class Cp extends Io{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=VT(this,e,!0),a=this.Ac.map((c=>xo(c,i))),l=new _o(a);return new sp(e.path,l)}isEqual(e){return e instanceof Cp&&vs(this.Ac,e.Ac)}}class Ip extends Io{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=VT(this,e,!0),a=this.Ac.map((c=>xo(c,i))),l=new vo(a);return new sp(e.path,l)}isEqual(e){return e instanceof Ip&&vs(this.Ac,e.Ac)}}function kT(s,e,i,a){const l=s.createContext(1,e,i);xp("Data must be an object, but it was:",l,a);const c=[],d=xn.empty();br(a,((_,y)=>{const b=jT(e,_,i);y=xt(y);const w=l.childContextForFieldPath(b);if(y instanceof Fh)c.push(b);else{const O=xo(y,w);O!=null&&(c.push(b),d.set(b,O))}}));const p=new zn(c);return new OT(d,p,l.fieldTransforms)}function LT(s,e,i,a,l,c){const d=s.createContext(1,e,i),p=[tu(e,a,i)],_=[l];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(tu(e,c[O])),_.push(c[O+1]);const y=[],b=xn.empty();for(let O=p.length-1;O>=0;--O)if(!zT(y,p[O])){const Q=p[O];let Z=_[O];Z=xt(Z);const re=d.childContextForFieldPath(Q);if(Z instanceof Fh)y.push(Q);else{const ee=xo(Z,re);ee!=null&&(y.push(Q),b.set(Q,ee))}}const w=new zn(y);return new OT(b,w,d.fieldTransforms)}function xo(s,e){if(PT(s=xt(s)))return xp("Unsupported field value:",e,s),UT(s,e);if(s instanceof Io)return(function(a,l){if(!MT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=xo(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=xt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Kw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=vt.fromDate(a);return{timestampValue:mh(l.serializer,c)}}if(a instanceof vt){const c=new vt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mh(l.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ei)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof Lt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:op(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof pi)return(function(d,p){const _=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[DE]:{stringValue:OE},[ch]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return ip(p.serializer,b)}))}}}}}})(a,l);if(lT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Jm(a)}`)})(s,e)}function UT(s,e){const i={};return wE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((a,l)=>{const c=xo(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function PT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof vt||s instanceof zi||s instanceof ei||s instanceof Lt||s instanceof Io||s instanceof pi||lT(s))}function xp(s,e,i){if(!PT(i)||!SE(i)){const a=Jm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function tu(s,e,i){if((e=xt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return jT(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const lC=new RegExp("[~\\*/\\[\\]]");function jT(s,e,i){if(e.search(lC)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new qh(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ue(J.INVALID_ARGUMENT,p+s+_)}function zT(s,e){return s.some((i=>i.isEqual(e)))}class uC{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return br(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new pi(i)}convertGeoPoint(e){return new zi(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=xh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new vt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=_t.fromString(e);We(oT(a),9688,{name:e});const l=new Zl(a.get(1),a.get(3)),c=new me(a.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Np extends uC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}function Kc(){return new Rp("serverTimestamp")}function T0(...s){return new Cp("arrayUnion",s)}function lm(...s){return new Ip("arrayRemove",s)}const b0="@firebase/firestore",S0="4.11.0";function A0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class BT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(tu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cC extends BT{data(){return super.data()}}function qT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Dp(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends BT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(tu("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Ft("string",ta._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class th extends ta{data(e={}){return super.data(e)}}class na{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new th(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:hC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Ft("string",na._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class fC{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Gh(e)}set(e,i,a){this._verifyNotCommitted();const l=um(e,this._firestore),c=Dp(l.converter,i,a),d=wp(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,vn.none())),this}update(e,i,a,...l){this._verifyNotCommitted();const c=um(e,this._firestore);let d;return d=typeof(i=xt(i))=="string"||i instanceof qh?LT(this._dataReader,"WriteBatch.update",c._key,i,a,l):kT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=um(e,this._firestore);return this._mutations=this._mutations.concat(new Lh(i._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function um(s,e){if((s=xt(s)).firestore!==e)throw new ue(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function w0(s){s=_n(s,Lt);const e=_n(s.firestore,Fi),i=fu(e);return JR(i,s._key).then((a=>HT(e,s,a)))}function dC(s){s=_n(s,hu);const e=_n(s.firestore,Fi),i=fu(e),a=new Np(e);return qT(s._query),ZR(i,s._query).then((l=>new na(e,a,s,l)))}function mC(s,e,i){s=_n(s,Lt);const a=_n(s.firestore,Fi),l=Dp(s.converter,e,i),c=Gh(a);return du(a,[wp(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,vn.none())])}function kl(s,e,i,...a){s=_n(s,Lt);const l=_n(s.firestore,Fi),c=Gh(l);let d;return d=typeof(e=xt(e))=="string"||e instanceof qh?LT(c,"updateDoc",s._key,e,i,a):kT(c,"updateDoc",s._key,e),du(l,[d.toMutation(s._key,vn.exists(!0))])}function Qc(s){return du(_n(s.firestore,Fi),[new Lh(s._key,vn.none())])}function cm(s,e){const i=_n(s.firestore,Fi),a=Vt(s),l=Dp(s.converter,e),c=Gh(s.firestore);return du(i,[wp(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,vn.exists(!1))]).then((()=>a))}function hm(s,...e){s=xt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||A0(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(A0(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Lt)d=_n(s.firestore,Fi),p=Dh(s._key.path),c={next:y=>{e[a]&&e[a](HT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=_n(s,hu);d=_n(y.firestore,Fi),p=y._query;const b=new Np(d);c={next:w=>{e[a]&&e[a](new na(d,b,y,w))},error:e[a+1],complete:e[a+2]},qT(s._query)}const _=fu(d);return $R(_,p,l,c)}function du(s,e){const i=fu(s);return WR(i,e)}function HT(s,e,i){const a=i.docs.get(e._key),l=new Np(s);return new ta(s,l,e._key,a,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}function R0(s){return s=_n(s,Fi),fu(s),new fC(s,(e=>du(s,e)))}(function(e,i=!0){ZA(So),mo(new ia("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Fi(new tw(a.getProvider("auth-internal")),new sw(d,a.getProvider("app-check-internal")),Tw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),dr(b0,S0,e),dr(b0,S0,"esm2020")})();function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pC=GT,FT=new su("auth","Firebase",GT());const Eh=new Fm("@firebase/auth");function gC(s,...e){Eh.logLevel<=ze.WARN&&Eh.warn(`Auth (${So}): ${s}`,...e)}function nh(s,...e){Eh.logLevel<=ze.ERROR&&Eh.error(`Auth (${So}): ${s}`,...e)}function gi(s,...e){throw Op(s,...e)}function Bi(s,...e){return Op(s,...e)}function KT(s,e,i){const a={...pC(),[e]:i};return new su("auth","Firebase",a).create(e,{appName:s.name})}function _s(s){return KT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return FT.create(s,...e)}function _e(s,e,...i){if(!s)throw Op(e,...i)}function ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw nh(e),new Error(e)}function Ss(s,e){s||ps(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function yC(){return C0()==="http:"||C0()==="https:"}function C0(){return typeof self<"u"&&self.location?.protocol||null}function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yC()||IS()||"connection"in navigator)?navigator.onLine:!0}function vC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class mu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=wS()||xS()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mp(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class QT{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bC=new mu(3e4,6e4);function ws(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rs(s,e,i,a,l={}){return YT(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=ru({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return CS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&bo(s.emulatorConfig.host)&&(y.credentials="include"),QT.fetch()(await XT(s,s.config.apiHost,i,p),y)})}async function YT(s,e,i){s._canInitEmulator=!1;const a={...EC,...e};try{const l=new AC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Yc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Yc(s,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw KT(s,b,y);gi(s,b)}}catch(l){if(l instanceof As)throw l;gi(s,"network-request-failed",{message:String(l)})}}async function pu(s,e,i,a,l={}){const c=await Rs(s,e,i,a,l);return"mfaPendingCredential"in c&&gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function XT(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Mp(s.config,l):`${s.config.apiScheme}://${l}`;return TC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function SC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),bC.get())})}}function Yc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Bi(s,e,a);return l.customData._tokenResponse=i,l}function I0(s){return s!==void 0&&s.enterprise!==void 0}class wC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return SC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RC(s,e){return Rs(s,"GET","/v2/recaptchaConfig",ws(s,e))}async function CC(s,e){return Rs(s,"POST","/v1/accounts:delete",e)}async function Th(s,e){return Rs(s,"POST","/v1/accounts:lookup",e)}function Ql(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IC(s,e=!1){const i=xt(s),a=await i.getIdToken(e),l=Vp(a);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ql(fm(l.auth_time)),issuedAtTime:Ql(fm(l.iat)),expirationTime:Ql(fm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function fm(s){return Number(s)*1e3}function Vp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=iE(i);return l?JSON.parse(l):(nh("Failed to decode base64 JWT payload"),null)}catch(l){return nh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x0(s){const e=Vp(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof As&&xC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function xC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class NC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(s){const e=s.auth,i=await s.getIdToken(),a=await nu(s,Th(e,{idToken:i}));_e(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?JT(l.providerUserInfo):[],d=DC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function $T(s){const e=xt(s);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DC(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function JT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OC(s,e){const i=await YT(s,{},async()=>{const a=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await XT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&bo(s.emulatorConfig.host)&&(_.credentials="include"),QT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MC(s,e){return Rs(s,"POST","/v2/accounts:revokeToken",ws(s,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=x0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await OC(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new co;return a&&(_e(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(_e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return ps("not implemented")}}function rr(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await nu(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return IC(this,e)}reload(){return $T(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await bh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await nu(this,CC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:Q,providerData:Z,stsTokenManager:re}=i;_e(w&&re,e,"internal-error");const ee=co.fromJSON(this.name,re);_e(typeof w=="string",e,"internal-error"),rr(a,e.name),rr(l,e.name),_e(typeof O=="boolean",e,"internal-error"),_e(typeof Q=="boolean",e,"internal-error"),rr(c,e.name),rr(d,e.name),rr(p,e.name),rr(_,e.name),rr(y,e.name),rr(b,e.name);const pe=new mi({uid:w,auth:e,email:l,emailVerified:O,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(pe.providerData=Z.map(be=>({...be}))),_&&(pe._redirectEventId=_),pe}static async _fromIdTokenResponse(e,i,a=!1){const l=new co;l.updateFromServerResponse(i);const c=new mi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await bh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?JT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new co;p.updateFromIdToken(a);const _=new mi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const N0=new Map;function gs(s){Ss(s instanceof Function,"Expected a class definition");let e=N0.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,N0.set(s,e),e)}class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ZT.type="NONE";const D0=ZT;function ih(s,e,i){return`firebase:${s}:${e}:${i}`}class ho{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=ih(this.userKey,l.apiKey,c),this.fullPersistenceKey=ih("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Th(this.auth,{idToken:e}).catch(()=>{});return i?mi._fromGetAccountInfoResponse(this.auth,i,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ho(gs(D0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||gs(D0);const d=ih(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const O=await Th(e,{idToken:b}).catch(()=>{});if(!O)break;w=await mi._fromGetAccountInfoResponse(e,O,b)}else w=mi._fromJSON(e,b);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ho(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ho(c,e,a))}}function O0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s1(e))return"Blackberry";if(r1(e))return"Webos";if(e1(e))return"Safari";if((e.includes("chrome/")||t1(e))&&!e.includes("edge/"))return"Chrome";if(i1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function WT(s=mn()){return/firefox\//i.test(s)}function e1(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t1(s=mn()){return/crios\//i.test(s)}function n1(s=mn()){return/iemobile/i.test(s)}function i1(s=mn()){return/android/i.test(s)}function s1(s=mn()){return/blackberry/i.test(s)}function r1(s=mn()){return/webos/i.test(s)}function kp(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function VC(s=mn()){return kp(s)&&!!window.navigator?.standalone}function kC(){return NS()&&document.documentMode===10}function a1(s=mn()){return kp(s)||i1(s)||r1(s)||s1(s)||/windows phone/i.test(s)||n1(s)}function o1(s,e=[]){let i;switch(s){case"Browser":i=O0(mn());break;case"Worker":i=`${O0(mn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${So}/${a}`}class LC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function UC(s,e={}){return Rs(s,"GET","/v2/passwordPolicy",ws(s,e))}const PC=6;class jC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class zC{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M0(this),this.idTokenSubscription=new M0(this),this.beforeStateQueue=new LC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Th(this,{idToken:e}),a=await mi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(_s(this));const i=e?xt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UC(this),i=new jC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ha(s){return xt(s)}class M0{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BC(s){Kh=s}function l1(s){return Kh.loadJS(s)}function qC(){return Kh.recaptchaEnterpriseScript}function HC(){return Kh.gapiScript}function GC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class FC{constructor(){this.enterprise=new KC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class KC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const QC="recaptcha-enterprise",u1="NO_RECAPTCHA";class YC{constructor(e){this.type=QC,this.auth=ha(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{RC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new wC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;I0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(u1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&I0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=qC();_.length!==0&&(_+=p),l1(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function V0(s,e,i,a=!1,l=!1){const c=new YC(s);let d;if(l)d=u1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Bm(s,e,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await V0(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await V0(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function XC(s,e){const i=Qm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(vs(c,e??{}))return l;gi(l,"already-initialized")}return i.initialize({options:e})}function $C(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function JC(s,e,i){const a=ha(s);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=c1(e),{host:d,port:p}=ZC(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(vs(y,a.config.emulator)&&vs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,bo(d)?(oE(`${c}//${d}${_}`),lE("Auth",!0)):WC()}function c1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function ZC(s){const e=c1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:k0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:k0(d)}}}function k0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function WC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Lp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function eI(s,e){return Rs(s,"POST","/v1/accounts:signUp",e)}async function tI(s,e){return pu(s,"POST","/v1/accounts:signInWithPassword",ws(s,e))}async function nI(s,e){return Rs(s,"POST","/v1/accounts:sendOobCode",ws(s,e))}async function iI(s,e){return nI(s,e)}async function sI(s,e){return pu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}async function rI(s,e){return pu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}class iu extends Lp{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new iu(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new iu(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,i,"signInWithPassword",tI);case"emailLink":return sI(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,a,"signUpPassword",eI);case"emailLink":return rI(e,{idToken:i,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fo(s,e){return pu(s,"POST","/v1/accounts:signInWithIdp",ws(s,e))}const aI="http://localhost";class oa extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new oa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fo(e,i)}buildRequest(){const e={requestUri:aI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ru(i)}return e}}function oI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lI(s){const e=Ll(Ul(s)).link,i=e?Ll(Ul(e)).deep_link_id:null,a=Ll(Ul(s)).deep_link_id;return(a?Ll(Ul(a)).link:null)||a||i||e||s}class Up{constructor(e){const i=Ll(Ul(e)),a=i.apiKey??null,l=i.oobCode??null,c=oI(i.mode??null);_e(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=lI(e);try{return new Up(i)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,i){return iu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Up.parseLink(i);return _e(a,"argument-error"),iu._fromEmailAndCode(e,a.code,a.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class h1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends h1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends gu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends gu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends gu{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function uI(s,e){return pu(s,"POST","/v1/accounts:signUp",ws(s,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await mi._fromIdTokenResponse(e,a,l),d=L0(a);return new la({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=L0(a);return new la({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function L0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Sh extends As{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Sh(e,i,a,l)}}function f1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(s,c,e,a):c})}async function cI(s,e,i=!1){const a=await nu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return la._forOperation(s,"link",a)}async function hI(s,e,i=!1){const{auth:a}=s;if(Wn(a.app))return Promise.reject(_s(a));const l="reauthenticate";try{const c=await nu(s,f1(a,l,e,s),i);_e(c.idToken,a,"internal-error");const d=Vp(c.idToken);_e(d,a,"internal-error");const{sub:p}=d;return _e(s.uid===p,a,"user-mismatch"),la._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gi(a,"user-mismatch"),c}}async function d1(s,e,i=!1){if(Wn(s.app))return Promise.reject(_s(s));const a="signIn",l=await f1(s,a,e),c=await la._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function fI(s,e){return d1(ha(s),e)}async function m1(s){const e=ha(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dI(s,e,i){if(Wn(s.app))return Promise.reject(_s(s));const a=ha(s),d=await Bm(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&m1(s),_}),p=await la._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function mI(s,e,i){return Wn(s.app)?Promise.reject(_s(s)):fI(xt(s),No.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&m1(s),a})}async function U0(s,e){const i=xt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await iI(i.auth,l);c!==s.email&&await s.reload()}function pI(s,e,i,a){return xt(s).onIdTokenChanged(e,i,a)}function gI(s,e,i){return xt(s).beforeAuthStateChanged(e,i)}function yI(s,e,i,a){return xt(s).onAuthStateChanged(e,i,a)}function P0(s){return xt(s).signOut()}async function _I(s){return xt(s).delete()}const Ah="__sak";class p1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vI=1e3,EI=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);kC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,EI):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const TI=g1;class y1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}y1.type="SESSION";const _1=y1;function bI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Qh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await bI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];function Pp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class SI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Pp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const O=w;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function AI(s){qi().location.href=s}function v1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function wI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RI(){return navigator?.serviceWorker?.controller||null}function CI(){return v1()?self:null}const E1="firebaseLocalStorageDb",II=1,wh="firebaseLocalStorage",T1="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Yh(s,e){return s.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function xI(){const s=indexedDB.deleteDatabase(E1);return new yu(s).toPromise()}function qm(){const s=indexedDB.open(E1,II);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(wh,{keyPath:T1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(wh)?e(a):(a.close(),await xI(),e(await qm()))})})}async function j0(s,e,i){const a=Yh(s,!0).put({[T1]:e,value:i});return new yu(a).toPromise()}async function NI(s,e){const i=Yh(s,!1).get(e),a=await new yu(i).toPromise();return a===void 0?null:a.value}function z0(s,e){const i=Yh(s,!0).delete(e);return new yu(i).toPromise()}const DI=800,OI=3;class b1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>OI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(CI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wI(),!this.activeServiceWorker)return;this.sender=new SI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await j0(e,Ah,"1"),await z0(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>j0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>NI(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>z0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Yh(l,!1).getAll();return new yu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b1.type="LOCAL";const MI=b1;new mu(3e4,6e4);function VI(s,e){return e?gs(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function kI(s){return d1(s.auth,new jp(s),s.bypassAuthState)}function LI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),hI(i,new jp(s),s.bypassAuthState)}async function UI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),cI(i,new jp(s),s.bypassAuthState)}class S1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kI;case"linkViaPopup":case"linkViaRedirect":return UI;case"reauthViaPopup":case"reauthViaRedirect":return LI;default:gi(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PI=new mu(2e3,1e4);class oo extends S1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PI.get())};e()}}oo.currentPopupAction=null;const jI="pendingRedirect",sh=new Map;class zI extends S1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const a=await BI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BI(s,e){const i=GI(e),a=HI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function qI(s,e){sh.set(s._key(),e)}function HI(s){return gs(s._redirectPersistence)}function GI(s){return ih(jI,s.config.apiKey,s.name)}async function FI(s,e,i=!1){if(Wn(s.app))return Promise.reject(_s(s));const a=ha(s),l=VI(a,e),d=await new zI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const KI=600*1e3;class QI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!A1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KI&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function A1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function YI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(s);default:return!1}}async function XI(s,e={}){return Rs(s,"GET","/v1/projects",e)}const $I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JI=/^https?/;async function ZI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await XI(s);for(const i of e)try{if(WI(i))return}catch{}gi(s,"unauthorized-domain")}function WI(s){const e=jm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!JI.test(i))return!1;if($I.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const ex=new mu(3e4,6e4);function q0(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tx(s){return new Promise((e,i)=>{function a(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),i(Bi(s,"network-request-failed"))},timeout:ex.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const l=GC("iframefcb");return qi()[l]=()=>{gapi.load?a():i(Bi(s,"network-request-failed"))},l1(`${HC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw rh=null,e})}let rh=null;function nx(s){return rh=rh||tx(s),rh}const ix=new mu(5e3,15e3),sx="__/auth/iframe",rx="emulator/auth/iframe",ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ox=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lx(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Mp(e,rx):`https://${s.config.authDomain}/${sx}`,a={apiKey:e.apiKey,appName:s.name,v:So},l=ox.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ru(a).slice(1)}`}async function ux(s){const e=await nx(s),i=qi().gapi;return _e(i,s,"internal-error"),e.open({where:document.body,url:lx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ax,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},ix.get());function _(){qi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hx=500,fx=600,dx="_blank",mx="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function px(s,e,i,a=hx,l=fx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...cx,width:a.toString(),height:l.toString(),top:c,left:d},y=mn().toLowerCase();i&&(p=t1(y)?dx:i),WT(y)&&(e=e||mx,_.scrollbars="yes");const b=Object.entries(_).reduce((O,[Q,Z])=>`${O}${Q}=${Z},`,"");if(VC(y)&&p!=="_self")return gx(e||"",p),new H0(null);const w=window.open(e||"",p,b);_e(w,s,"popup-blocked");try{w.focus()}catch{}return new H0(w)}function gx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const yx="__/auth/handler",_x="emulator/auth/handler",vx=encodeURIComponent("fac");async function G0(s,e,i,a,l,c){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:So,eventId:l};if(e instanceof h1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",US(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof gu){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${vx}=${encodeURIComponent(_)}`:"";return`${Ex(s)}?${ru(p).slice(1)}${y}`}function Ex({config:s}){return s.emulator?Mp(s,_x):`https://${s.authDomain}/${yx}`}const dm="webStorageSupport";class Tx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=FI,this._overrideRedirectResult=qI}async _openPopup(e,i,a,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await G0(e,i,a,jm(),l);return px(e,c,Pp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await G0(e,i,a,jm(),l);return AI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await ux(e),a=new QI(e);return i.register("authEvent",l=>(_e(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(dm,{type:dm},l=>{const c=l?.[0]?.[dm];c!==void 0&&i(!!c),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ZI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return a1()||e1()||kp()}}const bx=Tx;var F0="@firebase/auth",K0="1.12.0";class Sx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ax(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wx(s){mo(new ia("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o1(s)},y=new zC(a,l,c,_);return $C(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),mo(new ia("auth-internal",e=>{const i=ha(e.getProvider("auth").getImmediate());return(a=>new Sx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(F0,K0,Ax(s)),dr(F0,K0,"esm2020")}const Rx=300,Cx=aE("authIdTokenMaxAge")||Rx;let Q0=null;const Ix=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Cx)return;const l=i?.token;Q0!==l&&(Q0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xx(s=Ym()){const e=Qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=XC(s,{popupRedirectResolver:bx,persistence:[MI,TI,_1]}),a=aE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Ix(c.toString());gI(i,d,()=>d(i.currentUser)),pI(i,p=>d(p))}}const l=sE("auth");return l&&JC(i,`http://${l}`),i}function Nx(){return document.getElementsByTagName("head")?.[0]??document}BC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Nx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wx("Browser");const w1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const Dx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Ox=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Y0=s=>{const e=Ox(s);return e.charAt(0).toUpperCase()+e.slice(1)};var Mx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const kx=Le.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Le.createElement("svg",{ref:_,...Mx,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:w1("lucide",l),...!c&&!Vx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Le.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ht=(s,e)=>{const i=Le.forwardRef(({className:a,...l},c)=>Le.createElement(kx,{ref:c,iconNode:e,className:w1(`lucide-${Dx(Y0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Y0(s),i};const Lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ux=ht("circle-check",Lx);const Px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],jx=ht("clock",Px);const zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],Bx=ht("compass",zx);const qx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hx=ht("copy",qx);const Gx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Fx=ht("crown",Gx);const Kx=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],mm=ht("gamepad-2",Kx);const Qx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Yx=ht("lock-open",Qx);const Xx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xc=ht("lock",Xx);const $x=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],X0=ht("log-out",$x);const Jx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zx=ht("mail",Jx);const Wx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$0=ht("message-square",Wx);const eN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],tN=ht("palette",eN);const nN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],iN=ht("plus",nN);const sN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pm=ht("refresh-cw",sN);const rN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aN=ht("search",rN);const oN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J0=ht("shield-check",oN);const lN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],uN=ht("shield",lN);const cN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],hN=ht("skull",cN);const fN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dN=ht("target",fN);const mN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Z0=ht("timer",mN);const pN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gN=ht("trash-2",pN);const yN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_N=ht("triangle-alert",yN);const vN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],EN=ht("user-plus",vN);const TN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bN=ht("users",TN);const SN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],W0=ht("video",SN);const AN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gm=ht("x",AN);const wN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],RN=ht("zap",wN),CN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},IN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(s){console.error("Failed to parse environment firebase config",s)}return CN},ah=IN(),Hm=!!(ah&&ah.apiKey&&ah.apiKey.startsWith("AIza")),xN=typeof __app_id<"u"?__app_id:"community_calendar_production",mt=xN.replace(/[^a-zA-Z0-9]/g,"_");let ym,Cn,Oe;if(Hm)try{ym=jA().length>0?Ym():hE(ah),Cn=xx(ym),Oe=iC(ym)}catch(s){console.error("Firebase Initialization Error:",s)}const eE={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"}},NN=()=>{const[s,e]=Le.useState(null),[i,a]=Le.useState(!0),[l,c]=Le.useState("login"),[d,p]=Le.useState({email:"",password:"",displayName:""}),[_,y]=Le.useState(null),[b,w]=Le.useState(!1),[O,Q]=Le.useState([]),[Z,re]=Le.useState([]),[ee,pe]=Le.useState("all"),[be,Ee]=Le.useState("calendar"),[Xe,ft]=Le.useState(!1),[Ge,x]=Le.useState(!1),[A,I]=Le.useState(null),[V,N]=Le.useState(null),[L,R]=Le.useState(!1),[dt,bt]=Le.useState(!1),[G,ne]=Le.useState(!1),[fe,Ue]=Le.useState(""),[Ke,M]=Le.useState(!1),[Y,te]=Le.useState(!1),[ae,ye]=Le.useState(!1),[Se,Me]=Le.useState(""),[wt,lt]=Le.useState(null),[ti,Cs]=Le.useState(""),[Ki,Qi]=Le.useState(!1),[Rt,Yi]=Le.useState({name:"",desc:"",isPrivate:!1}),[he,en]=Le.useState({displayName:"Operator",joinedGuilds:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""]}),se=eE[he.theme]||eE.light,[De,ut]=Le.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});Le.useEffect(()=>{if(!Hm||!Cn){a(!1);return}const z=yI(Cn,ie=>{e(ie),a(!1)});return()=>z()},[]),Le.useEffect(()=>{if(!s||!Oe||!s.emailVerified)return;const z=Vt(Oe,"artifacts",mt,"users",s.uid,"profile","info");(async()=>(await w0(z)).exists()||await mC(z,{displayName:d.displayName||`Operator_${s.uid.slice(0,4)}`,joinedGuilds:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""],createdAt:Kc()}))();const Te=hm(no(Oe,"artifacts",mt,"public","data","sessions"),Ze=>{Q(Ze.docs.map(pt=>({id:pt.id,...pt.data()})))}),Ce=hm(no(Oe,"artifacts",mt,"public","data","guilds"),Ze=>{re(Ze.docs.map(pt=>({id:pt.id,...pt.data()})))}),it=hm(z,Ze=>{Ze.exists()&&en(pt=>({...pt,...Ze.data()}))});return()=>{Te(),Ce(),it()}},[s,s?.emailVerified]);const yi=async z=>{z.preventDefault(),y(null),a(!0);try{if(l==="register"){const ie=await dI(Cn,d.email,d.password);await U0(ie.user)}else await mI(Cn,d.email,d.password)}catch(ie){y(ie.message)}finally{a(!1)}},Do=async()=>{if(Cn.currentUser){w(!0);try{await $T(Cn.currentUser),e(Cn.currentUser)}catch{y("SYNC FAILED: Try again in a moment.")}finally{w(!1)}}},fa=async()=>{if(Cn.currentUser)try{await U0(Cn.currentUser),y("NEW VERIFICATION LINK TRANSMITTED")}catch(z){y(z.message)}},Nt=async z=>{if(!(!s||!Oe)){Qi(!0);try{const ie=R0(Oe),Te=Vt(Oe,"artifacts",mt,"users",s.uid,"profile","info");ie.set(Te,z,{merge:!0});const Ce=Vt(Oe,"artifacts",mt,"public","data","user_directory",s.uid);ie.set(Ce,{displayName:z.displayName,handles:z.handles||{},showcaseGames:z.showcaseGames||[],theme:z.theme||"light",uid:s.uid},{merge:!0}),Z.forEach(it=>{const Ze=it.members?.findIndex(pt=>(pt.uid||pt)===s.uid);if(Ze!==-1){const pt=[...it.members];pt[Ze]={uid:s.uid,name:z.displayName},ie.update(Vt(Oe,"artifacts",mt,"public","data","guilds",it.id),{members:pt})}}),O.forEach(it=>{let Ze=!1;const pt={};it.userId===s.uid&&(pt.userName=z.displayName,Ze=!0);const St=it.participants?.findIndex(pn=>pn.uid===s.uid);if(St!==-1){const pn=[...it.participants];pn[St]={uid:s.uid,name:z.displayName},pt.participants=pn,Ze=!0}Ze&&ie.update(Vt(Oe,"artifacts",mt,"public","data","sessions",it.id),pt)}),await ie.commit()}finally{setTimeout(()=>Qi(!1),800)}}},Xi=async()=>{if(!(!s||!Oe||!Cn.currentUser)){ye(!0);try{const z=R0(Oe);Z.forEach(ie=>{const Te=ie.members?.find(Ce=>(Ce.uid||Ce)===s.uid);Te&&((ie.members?.length||0)-1<=0?z.delete(Vt(Oe,"artifacts",mt,"public","data","guilds",ie.id)):z.update(Vt(Oe,"artifacts",mt,"public","data","guilds",ie.id),{members:lm(Te)}))}),O.forEach(ie=>{const Te=ie.participants?.find(Ce=>Ce.uid===s.uid);Te&&z.update(Vt(Oe,"artifacts",mt,"public","data","sessions",ie.id),{participants:lm(Te)}),ie.userId===s.uid&&z.delete(Vt(Oe,"artifacts",mt,"public","data","sessions",ie.id))}),z.delete(Vt(Oe,"artifacts",mt,"users",s.uid,"profile","info")),z.delete(Vt(Oe,"artifacts",mt,"public","data","user_directory",s.uid)),await z.commit(),await _I(Cn.currentUser)}catch{y("RE-AUTHENTICATION REQUIRED: Please re-login before terminating account.")}finally{ye(!1),te(!1)}}},Ar=async z=>{if(!s||!Oe)return;const ie=he.joinedGuilds||[];if(ie.includes(z.id)){const Ce=ie.filter(Ze=>Ze!==z.id);await Nt({...he,joinedGuilds:Ce});const it=z.members?.find(Ze=>(Ze.uid||Ze)===s.uid);z.members?.length===1?await Qc(Vt(Oe,"artifacts",mt,"public","data","guilds",z.id)):await kl(Vt(Oe,"artifacts",mt,"public","data","guilds",z.id),{members:lm(it)})}else{if(z.isPrivate)return;await Nt({...he,joinedGuilds:[...ie,z.id]}),await kl(Vt(Oe,"artifacts",mt,"public","data","guilds",z.id),{members:T0({uid:s.uid,name:he.displayName})})}},wr=async z=>{if(!Oe||!s)return;const ie=z.participants||[];if(ie.some(Ce=>Ce.uid===s.uid)){const Ce=ie.filter(it=>it.uid!==s.uid);await kl(Vt(Oe,"artifacts",mt,"public","data","sessions",z.id),{participants:Ce})}else{if(ie.length>=(Number(z.maxOpenings)||0)+1)return;const Ce=[...ie,{uid:s.uid,name:he.displayName}];await kl(Vt(Oe,"artifacts",mt,"public","data","sessions",z.id),{participants:Ce})}},ni=async z=>{if(Oe){R(!0);try{const ie=await w0(Vt(Oe,"artifacts",mt,"public","data","user_directory",z));ie.exists()&&N(ie.data())}finally{R(!1)}}},Oo=async z=>{if(z.preventDefault(),!(!Oe||!s)){M(!0);try{await cm(no(Oe,"artifacts",mt,"public","data","feedback"),{message:fe,senderName:he.displayName,senderUid:s.uid,timestamp:Kc()}),ne(!0),Ue(""),setTimeout(()=>{bt(!1),ne(!1)},2e3)}finally{M(!1)}}},da=async z=>{if(!window.confirm("PERMANENT DISBAND?"))return;await Qc(Vt(Oe,"artifacts",mt,"public","data","guilds",z)),(await dC(no(Oe,"artifacts",mt,"public","data","sessions"))).docs.filter(Te=>Te.data().guildId===z).forEach(Te=>Qc(Te.ref))},ma=async()=>{if(!Rt.name||!s||!Oe)return;const z=Math.random().toString(36).substring(2,8).toUpperCase(),ie=await cm(no(Oe,"artifacts",mt,"public","data","guilds"),{name:Rt.name,desc:Rt.desc||"Active Sector",ownerId:s.uid,members:[{uid:s.uid,name:he.displayName}],isPrivate:Rt.isPrivate,inviteCode:z,createdAt:Kc()});await Nt({...he,joinedGuilds:[...he.joinedGuilds||[],ie.id]}),Yi({name:"",desc:"",isPrivate:!1}),x(!1)},pa=async z=>{if(z.preventDefault(),!Se||!Oe||!s)return;lt(null);const ie=Se.toUpperCase().trim(),Te=Z.find(Ce=>Ce.inviteCode===ie);if(!Te){lt("INVALID CODE");return}await Nt({...he,joinedGuilds:[...he.joinedGuilds||[],Te.id]}),await kl(Vt(Oe,"artifacts",mt,"public","data","guilds",Te.id),{members:T0({uid:s.uid,name:he.displayName})}),Me(""),pe(Te.id)},Nn=async z=>{if(z.preventDefault(),!Oe||!s)return;const ie=De.guildId||ee;ie!=="all"&&(await cm(no(Oe,"artifacts",mt,"public","data","sessions"),{...De,maxOpenings:Number(De.maxOpenings),guildId:ie,userId:s.uid,userName:he.displayName,participants:[{uid:s.uid,name:he.displayName}],createdAt:Kc()}),ft(!1))},Kt=Le.useMemo(()=>{const z=he.joinedGuilds||[],ie=O.filter(Ce=>(ee==="all"?z.includes(Ce.guildId):Ce.guildId===ee)&&String(Ce.gameTitle).toLowerCase().includes(ti.toLowerCase())).sort((Ce,it)=>String(Ce.date).localeCompare(String(it.date))),Te={};return ie.forEach(Ce=>{const it=String(Ce.date);Te[it]||(Te[it]=[]),Te[it].push(Ce)}),Te},[O,ee,he.joinedGuilds,ti]);return Hm?i?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:S.jsx(mm,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):s?s&&!s.emailVerified?S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white text-center",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[5rem] border border-zinc-800 shadow-2xl relative",children:[S.jsxs("div",{className:"mb-10",children:[S.jsx(Zx,{className:"w-16 h-16 text-indigo-400 mx-auto mb-6 animate-pulse"}),S.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Verify Intel"})]}),S.jsxs("button",{onClick:Do,disabled:b,className:"w-full p-6 rounded-3xl bg-indigo-600 font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-3 active:scale-95 transition",children:[b?S.jsx(pm,{className:"w-4 h-4 animate-spin"}):S.jsx(J0,{className:"w-4 h-4"})," Access Sector"]}),S.jsx("button",{onClick:fa,className:"w-full mt-4 p-6 rounded-3xl bg-white/5 border border-white/10 font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Resend Transmission"}),S.jsxs("button",{onClick:()=>P0(Cn),className:"mt-12 flex items-center gap-2 mx-auto text-[9px] font-black uppercase opacity-30 hover:opacity-100 transition",children:[S.jsx(X0,{className:"w-3 h-3"})," Abort Registry"]}),_&&S.jsx("div",{className:"mt-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-[9px] text-emerald-500 font-bold uppercase",children:_})]})}):S.jsxs("div",{className:`min-h-screen ${se.bg} ${se.text} transition-colors duration-500`,children:[S.jsxs("header",{className:`${se.header} border-b ${se.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[S.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>Ee("calendar"),children:[S.jsx(mm,{className:`w-8 h-8 ${se.accent}`}),S.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),S.jsxs("nav",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>Ee("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${be==="calendar"?se.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),S.jsx("button",{onClick:()=>Ee("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${be==="profile"?se.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),S.jsx("button",{onClick:()=>bt(!0),className:"p-2 opacity-40 hover:text-indigo-500 transition",children:S.jsx($0,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>P0(Cn),className:"p-2 opacity-40 hover:text-rose-500 transition",children:S.jsx(X0,{className:"w-4 h-4"})})]})]}),S.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[S.jsxs("aside",{className:"w-full md:w-72",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Tactical Sectors"}),S.jsx("button",{onClick:()=>pe("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${ee==="all"?se.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),S.jsx("div",{className:"mt-6 space-y-2",children:Z.filter(z=>he.joinedGuilds?.includes(z.id)).map(z=>S.jsxs("div",{className:"flex items-center gap-1 group",children:[S.jsx("button",{onClick:()=>pe(z.id),className:`flex-1 text-left p-3 rounded-xl font-bold text-xs transition truncate ${ee===z.id?se.button:"hover:bg-slate-500/10"}`,children:String(z.name)}),S.jsx("button",{onClick:()=>I(z),className:"p-3 rounded-xl bg-slate-500/5 hover:bg-indigo-500 hover:text-white transition opacity-0 group-hover:opacity-100",children:S.jsx(bN,{className:"w-4 h-4"})})]},z.id))}),S.jsxs("button",{onClick:()=>x(!0),className:"w-full p-4 mt-6 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[S.jsx(Bx,{className:"w-4 h-4"})," Find Sectors"]})]}),S.jsx("div",{className:"flex-1",children:be==="calendar"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[S.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:ee==="all"?"The Hub":Z.find(z=>z.id===ee)?.name}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx(aN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"text",placeholder:"Filter...",value:ti,onChange:z=>Cs(z.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${se.card} border ${se.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),S.jsx("button",{onClick:()=>ft(!0),className:`${se.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg`,children:"+ New Mission"})]})]}),S.jsx("div",{className:"space-y-12",children:Object.entries(Kt).map(([z,ie])=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[S.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:z}),S.jsx("div",{className:`flex-1 h-px ${se.border}`})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:ie.map(Te=>S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[S.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors mb-4",children:String(Te.gameTitle)}),S.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 opacity-40",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(jx,{className:"w-3 h-3"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:String(Te.startTime)})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Z0,{className:"w-3 h-3"}),S.jsxs("span",{className:"text-[10px] font-black uppercase",children:[Te.duration," HR"]})]})]}),S.jsxs("div",{className:"mb-8 flex-1",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-4",children:[Te.participants?.length||0," / ",(Number(Te.maxOpenings)||0)+1," Enlisted"]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:Te.participants?.map((Ce,it)=>S.jsxs("button",{onClick:()=>ni(Ce.uid),className:`flex items-center gap-2 text-[9px] font-black px-4 py-2 rounded-full ${se.bg} border ${se.border} uppercase shadow-sm hover:border-indigo-500 transition`,children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),String(Ce.name)]},it))})]}),S.jsxs("div",{className:"flex gap-3 mt-auto",children:[S.jsx("button",{onClick:()=>wr(Te),className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition ${Te.participants?.some(Ce=>Ce.uid===s.uid)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":se.button}`,children:Te.participants?.some(Ce=>Ce.uid===s.uid)?"Retire":"Enlist"}),Te.userId===s.uid&&S.jsx("button",{onClick:()=>Qc(Vt(Oe,"artifacts",mt,"public","data","sessions",Te.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:S.jsx(gN,{className:"w-5 h-5"})})]})]},Te.id))})]},z))})]}):S.jsx("div",{className:"max-w-4xl mx-auto pb-20",children:S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[5rem] p-12 shadow-2xl relative overflow-hidden`,children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[S.jsxs("div",{className:"w-full md:w-1/3 text-center",children:[S.jsx("div",{className:"w-32 h-32 mx-auto mb-8 rounded-[3rem] bg-indigo-600 flex items-center justify-center text-white text-5xl font-black shadow-2xl",children:he.displayName.charAt(0)}),S.jsx("input",{type:"text",value:he.displayName,onChange:z=>en({...he,displayName:z.target.value}),className:"w-full bg-transparent text-center text-3xl font-black italic uppercase outline-none focus:text-indigo-600 transition"}),S.jsxs("div",{className:"mt-8 flex gap-3",children:[S.jsx("button",{onClick:()=>en({...he,theme:"light"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${he.theme==="light"?"border-indigo-600":"border-transparent opacity-40"}`,children:S.jsx(tN,{className:"w-4 h-4 mx-auto"})}),S.jsx("button",{onClick:()=>en({...he,theme:"dark"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${he.theme==="dark"?"border-indigo-400":"border-transparent opacity-40"}`,children:S.jsx(RN,{className:"w-4 h-4 mx-auto"})})]}),S.jsxs("button",{onClick:()=>Nt(he),disabled:Ki,className:`w-full mt-10 py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2`,children:[Ki?S.jsx(pm,{className:"w-4 h-4 animate-spin"}):S.jsx(J0,{className:"w-4 h-4"})," SYNC PROFILE"]}),S.jsx("div",{className:"mt-12",children:S.jsx("button",{onClick:()=>te(!0),className:"text-[10px] font-black uppercase text-rose-500 opacity-40 hover:opacity-100 transition tracking-widest underline decoration-dotted underline-offset-4",children:"Terminate Identity"})})]}),S.jsxs("div",{className:"flex-1 space-y-10",children:[S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(Xc,{className:"w-3 h-3 inline mr-2"})," Identity Handles"]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[S.jsx("input",{placeholder:"STEAM",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.handles?.steam,onChange:z=>en({...he,handles:{...he.handles,steam:z.target.value}})}),S.jsx("input",{placeholder:"PSN",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.handles?.psn,onChange:z=>en({...he,handles:{...he.handles,psn:z.target.value}})}),S.jsx("input",{placeholder:"XBOX",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.handles?.xbox,onChange:z=>en({...he,handles:{...he.handles,xbox:z.target.value}})})]})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(W0,{className:"w-3 h-3 inline mr-2"})," Broadcast Hub"]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[S.jsx("input",{placeholder:"TWITCH",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.handles?.twitch,onChange:z=>en({...he,handles:{...he.handles,twitch:z.target.value}})}),S.jsx("input",{placeholder:"YOUTUBE",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.handles?.youtube,onChange:z=>en({...he,handles:{...he.handles,youtube:z.target.value}})}),S.jsx("input",{placeholder:"KICK",className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.handles?.kick,onChange:z=>en({...he,handles:{...he.handles,kick:z.target.value}})})]})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(dN,{className:"w-3 h-3 inline mr-2"})," Interest Showcase"]}),S.jsx("div",{className:"space-y-3",children:[0,1,2,3,4].map(z=>S.jsx("input",{placeholder:`GAME 0${z+1}`,className:`w-full p-4 rounded-2xl ${se.bg} border ${se.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:he.showcaseGames?.[z]||"",onChange:ie=>{const Te=[...he.showcaseGames||["","","","",""]];Te[z]=ie.target.value,en({...he,showcaseGames:Te})}},z))})]})]})]})]})})})]}),Y&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/98 backdrop-blur-xl",children:S.jsxs("div",{className:"bg-zinc-900 border border-rose-500/30 rounded-[5rem] p-12 max-w-lg w-full text-center shadow-2xl relative overflow-hidden",children:[S.jsx(_N,{className:"w-16 h-16 text-rose-500 mx-auto mb-6 animate-pulse"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-rose-500 mb-2",children:"Final Warning"}),S.jsx("p",{className:"text-[11px] font-black uppercase text-white/40 tracking-widest leading-relaxed mb-10",children:"This will permanently terminate your operator identity and purge your registry handle."}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("button",{onClick:Xi,disabled:ae,className:"w-full py-6 rounded-3xl bg-rose-600 text-white font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Confirm Termination"}),S.jsx("button",{onClick:()=>te(!1),className:"w-full py-6 rounded-3xl bg-white/5 border border-white/10 text-white font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Cancel"})]}),_&&S.jsx("div",{className:"mt-8 p-6 bg-rose-500/10 border border-rose-500/20 rounded-2xl text-[9px] font-black uppercase text-rose-500",children:_})]})}),dt&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsx("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl relative`,children:G?S.jsxs("div",{className:"text-center py-20 animate-in fade-in zoom-in duration-500",children:[S.jsx(Ux,{className:"w-20 h-20 text-emerald-500 mx-auto mb-6 animate-bounce"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-emerald-500",children:"Received"})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>bt(!1),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(gm,{})}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx($0,{className:"w-12 h-12 text-indigo-500 mx-auto mb-6"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Submit Intelligence"})]}),S.jsxs("form",{onSubmit:Oo,className:"space-y-6",children:[S.jsx("textarea",{required:!0,placeholder:"DESCRIBE ISSUE...",className:`w-full h-40 p-6 rounded-[2rem] ${se.bg} border ${se.border} outline-none font-black uppercase text-xs focus:border-indigo-500 transition shadow-inner resize-none`,value:fe,onChange:z=>Ue(z.target.value)}),S.jsxs("button",{type:"submit",disabled:Ke,className:`w-full py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition flex items-center justify-center gap-2`,children:[Ke?S.jsx(pm,{className:"w-4 h-4 animate-spin"}):S.jsx(iN,{className:"w-4 h-4"})," TRANSMIT REPORT"]})]})]})})}),V&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl transition-all",children:S.jsxs("div",{className:`${V.theme==="dark"?"bg-zinc-900 border-zinc-800 text-white":"bg-white border-slate-100 text-slate-900"} border rounded-[5rem] p-12 max-w-xl w-full shadow-2xl relative`,children:[S.jsx("button",{onClick:()=>N(null),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(gm,{})}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-indigo-600 flex items-center justify-center text-white text-4xl font-black shadow-xl",children:V.displayName.charAt(0)}),S.jsx("h3",{className:"text-3xl font-black italic uppercase tracking-tight",children:V.displayName})]}),S.jsx("div",{className:"grid grid-cols-3 gap-4 mb-10",children:Object.entries(V.handles||{}).map(([z,ie])=>ie&&S.jsxs("div",{className:"p-3 bg-slate-500/5 border border-slate-500/10 rounded-xl text-center",children:[S.jsx("p",{className:"text-[7px] font-black uppercase opacity-40 mb-1",children:z}),S.jsx("p",{className:"text-[9px] font-black uppercase truncate",children:ie})]},z))}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 text-center tracking-widest",children:"Tactical Interests"}),V.showcaseGames?.map((z,ie)=>z&&S.jsxs("div",{className:"p-3 bg-black/20 rounded-xl border border-white/5 flex items-center gap-4",children:[S.jsxs("span",{className:"text-[9px] font-black opacity-20",children:["0",ie+1]}),S.jsx("span",{className:"text-xs font-black uppercase tracking-tight italic",children:z})]},ie))]}),S.jsx("button",{onClick:()=>N(null),className:"w-full mt-10 py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest shadow-xl",children:"Close Intel"})]})}),A&&S.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:A.name}),A.isPrivate&&S.jsxs("div",{className:"mt-4 flex items-center gap-4 p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-2xl",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-[8px] font-black uppercase opacity-40 tracking-widest",children:"Sector Invite Code"}),S.jsx("p",{className:"text-2xl font-black italic text-indigo-400 tracking-tighter select-all",children:A.inviteCode})]}),S.jsx("button",{onClick:()=>navigator.clipboard.writeText(A.inviteCode),className:"p-3 rounded-xl bg-indigo-600 text-white shadow-lg",children:S.jsx(Hx,{className:"w-4 h-4"})})]})]}),S.jsx("button",{onClick:()=>I(null),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:S.jsx(gm,{})})]}),S.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:A.members?.map((z,ie)=>S.jsxs("button",{onClick:()=>ni(z.uid||z),className:`w-full text-left ${se.bg} p-4 rounded-3xl border ${se.border} flex items-center gap-4 hover:border-indigo-500 transition group`,children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-600 flex items-center justify-center text-[11px] font-black text-white shadow-lg group-hover:scale-110 transition",children:String(z.name||"O").charAt(0)}),S.jsx("div",{className:"flex-1 overflow-hidden",children:S.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate",children:String(z.name||"Unknown Op")})}),(z.uid||z)===A.ownerId&&S.jsx(Fx,{className:"w-4 h-4 text-amber-500"})]},ie))}),S.jsx("button",{onClick:()=>I(null),className:"w-full py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest shadow-xl",children:"Close Roster"})]})}),Ge&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-10",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Directory"}),S.jsx("button",{onClick:()=>x(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("div",{className:"mb-10 p-6 rounded-[2.5rem] bg-indigo-600/10 border border-indigo-500/20",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-40 mb-4 tracking-widest flex items-center gap-2",children:[S.jsx(Xc,{className:"w-3 h-3"})," Secure Enlistment"]}),S.jsxs("form",{onSubmit:pa,className:"flex gap-4",children:[S.jsx("input",{placeholder:"ENTER INVITE CODE",className:"flex-1 p-5 rounded-2xl bg-black/40 border border-indigo-500/30 outline-none text-xs font-black uppercase focus:border-indigo-500 transition text-white",value:Se,onChange:z=>Me(z.target.value.toUpperCase()),maxLength:6}),S.jsx("button",{type:"submit",className:"px-8 py-5 rounded-2xl bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest shadow-xl transition",children:"Enlist"})]}),wt&&S.jsx("p",{className:"text-[9px] font-black text-rose-500 uppercase mt-3 ml-2",children:wt})]}),S.jsx("div",{className:"space-y-4 max-h-[30vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:Z.map(z=>S.jsxs("div",{className:`${se.bg} p-6 rounded-[2.5rem] border ${se.border} flex justify-between items-center group`,children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(z.name)}),z.isPrivate&&S.jsx(Xc,{className:"w-3 h-3 opacity-30"})]}),S.jsxs("p",{className:"text-[9px] font-black opacity-30 mt-1 uppercase",children:[z.members?.length||0," Members"]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[z.isPrivate?S.jsx("div",{className:"px-6 py-3 rounded-2xl bg-slate-500/5 text-slate-400 text-[9px] font-black uppercase italic border border-white/5",children:"Private"}):S.jsx("button",{onClick:()=>Ar(z),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${he.joinedGuilds?.includes(z.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":se.button}`,children:he.joinedGuilds?.includes(z.id)?"Retire":"Enlist"}),z.ownerId===s?.uid&&S.jsx("button",{onClick:()=>da(z.id),className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:S.jsx(hN,{className:"w-4 h-4"})})]})]},z.id))}),S.jsxs("div",{className:`pt-10 border-t ${se.border} space-y-4`,children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"Commission Sector"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[S.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:Rt.name,onChange:z=>Yi({...Rt,name:z.target.value})}),S.jsxs("button",{type:"button",onClick:()=>Yi({...Rt,isPrivate:!Rt.isPrivate}),className:`p-5 rounded-2xl border-2 transition flex items-center justify-center gap-3 ${Rt.isPrivate?"border-indigo-600 bg-indigo-500/10 text-indigo-400":"border-slate-500/20 opacity-40"}`,children:[Rt.isPrivate?S.jsx(Xc,{className:"w-4 h-4"}):S.jsx(Yx,{className:"w-4 h-4"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:Rt.isPrivate?"Private":"Public"})]})]}),S.jsx("button",{onClick:ma,className:`w-full py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Commission Registry"})]})]})}),Xe&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${se.card} border ${se.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-8",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),S.jsx("button",{onClick:()=>ft(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("form",{onSubmit:Nn,className:"space-y-6",children:[S.jsx("input",{placeholder:"GAME / OPERATION NAME",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:De.gameTitle,onChange:z=>ut({...De,gameTitle:z.target.value}),required:!0}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:De.date,onChange:z=>ut({...De,date:z.target.value})}),S.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:De.startTime,onChange:z=>ut({...De,startTime:z.target.value})}),S.jsxs("div",{className:"relative",children:[S.jsx(Z0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"HR",className:`w-full pl-12 p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:De.duration,onChange:z=>ut({...De,duration:z.target.value})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[S.jsxs("select",{className:`w-full p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black uppercase`,value:De.guildId,onChange:z=>ut({...De,guildId:z.target.value}),required:!0,children:[S.jsx("option",{value:"",children:"Select Guild"}),Z.filter(z=>he.joinedGuilds?.includes(z.id)).map(z=>S.jsx("option",{value:z.id,children:String(z.name)},z.id))]}),S.jsxs("div",{className:"relative",children:[S.jsx(EN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"SLOTS",className:`w-full pl-12 p-5 rounded-2xl ${se.bg} border ${se.border} outline-none text-xs font-black`,value:De.maxOpenings,onChange:z=>ut({...De,maxOpenings:z.target.value})})]})]}),S.jsxs("div",{className:`${se.bg} p-6 rounded-3xl border ${se.border} flex items-center justify-between`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx(W0,{className:"w-5 h-5 opacity-40"}),S.jsx("div",{children:S.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:"Broadcast Mission"})})]}),S.jsx("button",{type:"button",onClick:()=>ut({...De,isStreaming:!De.isStreaming}),className:`w-14 h-8 rounded-full transition-colors relative ${De.isStreaming?"bg-indigo-600":"bg-slate-300 dark:bg-zinc-800"}`,children:S.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${De.isStreaming?"left-7 shadow-lg":"left-1"}`})})]}),S.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${se.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition mt-4`,children:"Deploy Mission"})]})]})})]}):S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(mm,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),S.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"})]}),S.jsxs("form",{onSubmit:yi,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.email,onChange:z=>p({...d,email:z.target.value})}),S.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.password,onChange:z=>p({...d,password:z.target.value})}),_&&S.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),S.jsx("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Establish Link"})]}),S.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[S.jsx(uN,{className:"w-16 h-16 text-rose-500 mb-6"}),S.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"})]})};hS.createRoot(document.getElementById("root")).render(S.jsx(Le.StrictMode,{children:S.jsx(NN,{})}));
