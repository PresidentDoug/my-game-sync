(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Bd={exports:{}},Al={};var Z_;function qS(){if(Z_)return Al;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var W_;function HS(){return W_||(W_=1,Bd.exports=qS()),Bd.exports}var U=HS(),qd={exports:{}},bt={};var tv;function GS(){if(tv)return bt;tv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,nt={};function mt(O,Y,et){this.props=O,this.context=Y,this.refs=nt,this.updater=et||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Rt(){}Rt.prototype=mt.prototype;function vt(O,Y,et){this.props=O,this.context=Y,this.refs=nt,this.updater=et||Z}var Ht=vt.prototype=new Rt;Ht.constructor=vt,it(Ht,mt.prototype),Ht.isPureReactComponent=!0;var ie=Array.isArray;function Ot(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Y,et){var rt=et.ref;return{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:et}}function M(O,Y){return C(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function st(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function At(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ot,Ot):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,et,rt,gt){var G=typeof O;(G==="undefined"||G==="boolean")&&(O=null);var ht=!1;if(O===null)ht=!0;else switch(G){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(O.$$typeof){case s:case t:ht=!0;break;case S:return ht=O._init,H(ht(O._payload),Y,et,rt,gt)}}if(ht)return gt=gt(O),ht=rt===""?"."+st(O,0):rt,ie(gt)?(et="",ht!=null&&(et=ht.replace(w,"$&/")+"/"),H(gt,Y,et,"",function(Ft){return Ft})):gt!=null&&(N(gt)&&(gt=M(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+ht)),Y.push(gt)),1;ht=0;var Et=rt===""?".":rt+":";if(ie(O))for(var Tt=0;Tt<O.length;Tt++)rt=O[Tt],G=Et+st(rt,Tt),ht+=H(rt,Y,et,G,gt);else if(Tt=Q(O),typeof Tt=="function")for(O=Tt.call(O),Tt=0;!(rt=O.next()).done;)rt=rt.value,G=Et+st(rt,Tt++),ht+=H(rt,Y,et,G,gt);else if(G==="object"){if(typeof O.then=="function")return H(At(O),Y,et,rt,gt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ht}function tt(O,Y,et){if(O==null)return O;var rt=[],gt=0;return H(O,rt,"","",function(G){return Y.call(et,G,gt++)}),rt}function ct(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:tt,forEach:function(O,Y,et){tt(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return tt(O,function(){Y++}),Y},toArray:function(O){return tt(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return bt.Activity=b,bt.Children=Gt,bt.Component=mt,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=vt,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=it({},O.props),gt=O.key;if(Y!=null)for(G in Y.key!==void 0&&(gt=""+Y.key),Y)!A.call(Y,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&Y.ref===void 0||(rt[G]=Y[G]);var G=arguments.length-2;if(G===1)rt.children=et;else if(1<G){for(var ht=Array(G),Et=0;Et<G;Et++)ht[Et]=arguments[Et+2];rt.children=ht}return C(O.type,gt,rt)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,Y,et){var rt,gt={},G=null;if(Y!=null)for(rt in Y.key!==void 0&&(G=""+Y.key),Y)A.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Y[rt]);var ht=arguments.length-2;if(ht===1)gt.children=et;else if(1<ht){for(var Et=Array(ht),Tt=0;Tt<ht;Tt++)Et[Tt]=arguments[Tt+2];gt.children=Et}if(O&&O.defaultProps)for(rt in ht=O.defaultProps,ht)gt[rt]===void 0&&(gt[rt]=ht[rt]);return C(O,G,gt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:p,render:O}},bt.isValidElement=N,bt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ct}},bt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},bt.startTransition=function(O){var Y=I.T,et={};I.T=et;try{var rt=O(),gt=I.S;gt!==null&&gt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,Vt)}catch(G){Vt(G)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(O){return I.H.use(O)},bt.useActionState=function(O,Y,et){return I.H.useActionState(O,Y,et)},bt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},bt.useContext=function(O){return I.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},bt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},bt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(O,Y,et){return I.H.useImperativeHandle(O,Y,et)},bt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},bt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},bt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},bt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},bt.useReducer=function(O,Y,et){return I.H.useReducer(O,Y,et)},bt.useRef=function(O){return I.H.useRef(O)},bt.useState=function(O){return I.H.useState(O)},bt.useSyncExternalStore=function(O,Y,et){return I.H.useSyncExternalStore(O,Y,et)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.4",bt}var ev;function km(){return ev||(ev=1,qd.exports=GS()),qd.exports}var ae=km(),Hd={exports:{}},bl={},Gd={exports:{}},Fd={};var nv;function FS(){return nv||(nv=1,(function(s){function t(H,tt){var ct=H.length;H.push(tt);t:for(;0<ct;){var Vt=ct-1>>>1,Gt=H[Vt];if(0<l(Gt,tt))H[Vt]=tt,H[ct]=Gt,ct=Vt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ct=H.pop();if(ct!==tt){H[0]=ct;t:for(var Vt=0,Gt=H.length,O=Gt>>>1;Vt<O;){var Y=2*(Vt+1)-1,et=H[Y],rt=Y+1,gt=H[rt];if(0>l(et,ct))rt<Gt&&0>l(gt,et)?(H[Vt]=gt,H[rt]=ct,Vt=rt):(H[Vt]=et,H[Y]=ct,Vt=Y);else if(rt<Gt&&0>l(gt,ct))H[Vt]=gt,H[rt]=ct,Vt=rt;else break t}}return tt}function l(H,tt){var ct=H.sortIndex-tt.sortIndex;return ct!==0?ct:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],S=1,b=null,x=3,Q=!1,Z=!1,it=!1,nt=!1,mt=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function Ht(H){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=H)a(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(y)}}function ie(H){if(it=!1,Ht(H),!Z)if(i(_)!==null)Z=!0,Ot||(Ot=!0,V());else{var tt=i(y);tt!==null&&At(ie,tt.startTime-H)}}var Ot=!1,I=-1,A=5,C=-1;function M(){return nt?!0:!(s.unstable_now()-C<A)}function N(){if(nt=!1,Ot){var H=s.unstable_now();C=H;var tt=!0;try{t:{Z=!1,it&&(it=!1,Rt(I),I=-1),Q=!0;var ct=x;try{e:{for(Ht(H),b=i(_);b!==null&&!(b.expirationTime>H&&M());){var Vt=b.callback;if(typeof Vt=="function"){b.callback=null,x=b.priorityLevel;var Gt=Vt(b.expirationTime<=H);if(H=s.unstable_now(),typeof Gt=="function"){b.callback=Gt,Ht(H),tt=!0;break e}b===i(_)&&a(_),Ht(H)}else a(_);b=i(_)}if(b!==null)tt=!0;else{var O=i(y);O!==null&&At(ie,O.startTime-H),tt=!1}}break t}finally{b=null,x=ct,Q=!1}tt=void 0}}finally{tt?V():Ot=!1}}}var V;if(typeof vt=="function")V=function(){vt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,st=w.port2;w.port1.onmessage=N,V=function(){st.postMessage(null)}}else V=function(){mt(N,0)};function At(H,tt){I=mt(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ct=x;x=tt;try{return H()}finally{x=ct}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=x;x=H;try{return tt()}finally{x=ct}},s.unstable_scheduleCallback=function(H,tt,ct){var Vt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Vt+ct:Vt):ct=Vt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,H={id:S++,callback:tt,priorityLevel:H,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>Vt?(H.sortIndex=ct,t(y,H),i(_)===null&&H===i(y)&&(it?(Rt(I),I=-1):it=!0,At(ie,ct-Vt))):(H.sortIndex=Gt,t(_,H),Z||Q||(Z=!0,Ot||(Ot=!0,V()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var tt=x;return function(){var ct=x;x=tt;try{return H.apply(this,arguments)}finally{x=ct}}}})(Fd)),Fd}var iv;function KS(){return iv||(iv=1,Gd.exports=FS()),Gd.exports}var Kd={exports:{}},We={};var sv;function QS(){if(sv)return We;sv=1;var s=km();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},We.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},We.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},We.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},We.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:Q}):S==="script"&&a.d.X(_,{crossOrigin:b,integrity:x,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},We.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},We.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},We.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},We.requestFormReset=function(_){a.d.r(_)},We.unstable_batchedUpdates=function(_,y){return _(y)},We.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.4",We}var rv;function YS(){if(rv)return Kd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Kd.exports=QS(),Kd.exports}var av;function XS(){if(av)return bl;av=1;var s=KS(),t=km(),i=YS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case nt:return"StrictMode";case ie:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case vt:return e.displayName||"Context";case Rt:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:st(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return st(e(n))}catch{}}return null}var At=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Vt=[],Gt=-1;function O(e){return{current:e}}function Y(e){0>Gt||(e.current=Vt[Gt],Vt[Gt]=null,Gt--)}function et(e,n){Gt++,Vt[Gt]=e.current,e.current=n}var rt=O(null),gt=O(null),G=O(null),ht=O(null);function Et(e,n){switch(et(G,n),et(gt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T_(n),e=S_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),et(rt,e)}function Tt(){Y(rt),Y(gt),Y(G)}function Ft(e){e.memoizedState!==null&&et(ht,e);var n=rt.current,r=S_(n,e.type);n!==r&&(et(gt,e),et(rt,r))}function fe(e){gt.current===e&&(Y(rt),Y(gt)),ht.current===e&&(Y(ht),vl._currentValue=ct)}var Ue,ds;function ai(e){if(Ue===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ue=n&&n[1]||"",ds=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+ds}var vo=!1;function mr(e,n){if(!e||vo)return"";vo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ai(r):""}function Eo(e,n){switch(e.tag){case 26:case 27:case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return e.child!==n&&n!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return mr(e.type,!1);case 11:return mr(e.type.render,!1);case 1:return mr(e.type,!0);case 31:return ai("Activity");default:return""}}function To(e){try{var n="",r=null;do n+=Eo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Se=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,ms=s.unstable_cancelCallback,qh=s.unstable_shouldYield,ou=s.unstable_requestPaint,rn=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,So=s.unstable_ImmediatePriority,Ao=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,Hh=s.unstable_LowPriority,lu=s.unstable_IdlePriority,uu=s.log,cu=s.unstable_setDisableYieldValue,Fn=null,qe=null;function Nn(e){if(typeof uu=="function"&&cu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Fn,e)}catch{}}var pe=Math.clz32?Math.clz32:fu,hu=Math.log,ia=Math.LN2;function fu(e){return e>>>=0,e===0?32:31-(hu(e)/ia|0)|0}var oi=256,gr=262144,Ae=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(g&=E,g!==0?h=li(g):r||(r=E&~e,r!==0&&(h=li(r))))):(E=o&~f,E!==0?h=li(E):g!==0?h=li(g):r||(r=o&~e,r!==0&&(h=li(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function ci(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-pe(r),X=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~X}o!==0&&_r(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function _r(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function bo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-pe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function wo(e,n){var r=n&-n;return r=(r&42)!==0?1:vr(r),(r&(e.suspendedLanes|n))!==0?0:r}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function Qn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Yn=Math.random().toString(36).slice(2),be="__reactFiber$"+Yn,Pe="__reactProps$"+Yn,hi="__reactContainer$"+Yn,sa="__reactEvents$"+Yn,Kh="__reactListeners$"+Yn,pu="__reactHandles$"+Yn,gu="__reactResources$"+Yn,fi="__reactMarker$"+Yn;function ra(e){delete e[be],delete e[Pe],delete e[sa],delete e[Kh],delete e[pu]}function di(e){var n=e[be];if(n)return n;for(var r=e.parentNode;r;){if(n=r[hi]||r[be]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=N_(e);e!==null;){if(r=e[be])return r;e=N_(e)}return n}e=r,r=e.parentNode}return null}function Dn(e){if(e=e[be]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mi(e){var n=e[gu];return n||(n=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[fi]=!0}var Ro=new Set,Co={};function pi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(Co[e]=n,e=0;e<n.length;e++)Ro.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function yu(e){return Se.call(Do,e)?!0:Se.call(No,e)?!1:Io.test(e)?Do[e]=!0:(No[e]=!0,!1)}function aa(e,n,r){if(yu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function En(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Re(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=gs(e)?"checked":"value";e._valueTracker=xo(e,n,""+e[n])}}function Er(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=gs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tr=/[\n"\\]/g;function ln(e){return e.replace(Tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,g,ze(n)):r!=null?Oo(e,g,ze(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function _u(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}r=r!=null?""+ze(r):"",n=n!=null?""+ze(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xt(e)}function Oo(e,n,r){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ys(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ze(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function vu(e,n,r){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ze(r):""}function _s(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(At(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ze(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Xt(e)}function un(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Eu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Mo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return vs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var ko=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,_i=null;function Sr(e){var n=Dn(e);if(n&&(e=n.stateNode)){var r=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Er(o)}break t;case"textarea":vu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ys(e,!!r.multiple,n,!1)}}}var ca=!1;function Ts(e,n,r){if(ca)return e(n,r);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(Es!==null||_i!==null)&&(mc(),Es&&(n=Es,e=_i,_i=Es=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function $n(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Pe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(On)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ar=!1}var vi=null,Lo=null,br=null;function Uo(){if(br)return br;var e,n=Lo,r=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return br=h.slice(e,1<o?1-o:void 0)}function wr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Jn(){return!1}function He(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Jn,this.isPropagationStopped=Jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=He(zi),Ss=b({},zi,{view:0,detail:0}),Po=He(Ss),As,ha,Ti,fa=b({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(As=e.screenX-Ti.screenX,ha=e.screenY-Ti.screenY):ha=As=0,Ti=e),As)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),zo=He(fa),Rr=b({},fa,{dataTransfer:0}),Su=He(Rr),Au=b({},Ss,{relatedTarget:0}),Cr=He(Au),jo=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=He(jo),da=b({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wu=He(da),Ru=b({},zi,{data:0}),Si=He(Ru),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nu[e])?!!n[e]:!1}function bs(){return Du}var an=b({},Ss,{key:function(e){if(e.key){var n=Cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=He(an),Ou=b({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=He(Ou),u=b({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=He(u),v=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=He(v),L=b({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=He(L),W=b({},zi,{newState:0,oldState:0}),Ct=He(W),ge=[9,13,27,32],Kt=On&&"CompositionEvent"in window,ue=null;On&&"documentMode"in document&&(ue=document.documentMode);var Vn=On&&"TextEvent"in window&&!ue,Ai=On&&(!Kt||ue&&8<ue&&11>=ue),Zn=" ",Wn=!1;function Ir(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function f1(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(Wn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Wn?null:e;default:return null}}function d1(e,n){if(pa)return e==="compositionend"||!Kt&&Ir(e,n)?(e=Uo(),br=Lo=vi=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!m1[e.type]:n==="textarea"}function Vp(e,n,r,o){Es?_i?_i.push(o):_i=[o]:Es=o,n=Tc(n,"onChange"),0<n.length&&(r=new Ei("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Bo=null,qo=null;function p1(e){p_(e,0)}function Vu(e){var n=vn(e);if(Er(n))return e}function Mp(e,n){if(e==="change")return n}var kp=!1;if(On){var Qh;if(On){var Yh="oninput"in document;if(!Yh){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Yh=typeof Lp.oninput=="function"}Qh=Yh}else Qh=!1;kp=Qh&&(!document.documentMode||9<document.documentMode)}function Up(){Bo&&(Bo.detachEvent("onpropertychange",Pp),qo=Bo=null)}function Pp(e){if(e.propertyName==="value"&&Vu(qo)){var n=[];Vp(n,qo,e,xn(e)),Ts(p1,n)}}function g1(e,n,r){e==="focusin"?(Up(),Bo=n,qo=r,Bo.attachEvent("onpropertychange",Pp)):e==="focusout"&&Up()}function y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(qo)}function _1(e,n){if(e==="click")return Vu(n)}function v1(e,n){if(e==="input"||e==="change")return Vu(n)}function E1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:E1;function Ho(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Se.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function zp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,n){var r=zp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=zp(r)}}function Bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=yi(e.document)}return n}function Xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var T1=On&&"documentMode"in document&&11>=document.documentMode,ga=null,$h=null,Go=null,Jh=!1;function Hp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jh||ga==null||ga!==yi(o)||(o=ga,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Ho(Go,o)||(Go=o,o=Tc($h,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ga)))}function Nr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ya={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Zh={},Gp={};On&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Dr(e){if(Zh[e])return Zh[e];if(!ya[e])return e;var n=ya[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gp)return Zh[e]=n[r];return e}var Fp=Dr("animationend"),Kp=Dr("animationiteration"),Qp=Dr("animationstart"),S1=Dr("transitionrun"),A1=Dr("transitionstart"),b1=Dr("transitioncancel"),Yp=Dr("transitionend"),Xp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function ti(e,n){Xp.set(e,n),pi(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],_a=0,tf=0;function ku(){for(var e=_a,n=tf=_a=0;n<e;){var r=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&$p(r,h,f)}}function Lu(e,n,r,o){Mn[_a++]=e,Mn[_a++]=n,Mn[_a++]=r,Mn[_a++]=o,tf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ef(e,n,r,o){return Lu(e,n,r,o),Uu(e)}function xr(e,n){return Lu(e,null,null,n),Uu(e)}function $p(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-pe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Uu(e){if(50<fl)throw fl=0,hd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function w1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,o){return new w1(e,n,r,o)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Jp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Pu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")nf(e)&&(g=1);else if(typeof e=="string")g=DS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,r,n,h),e.elementType=C,e.lanes=f,e;case it:return Or(r.children,h,f,n);case nt:g=8,h|=24;break;case mt:return e=Sn(12,r,n,h|2),e.elementType=mt,e.lanes=f,e;case ie:return e=Sn(13,r,n,h),e.elementType=ie,e.lanes=f,e;case Ot:return e=Sn(19,r,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:g=10;break t;case Rt:g=9;break t;case Ht:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,r,o){return e=Sn(7,e,o,n),e.lanes=r,e}function sf(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function Zp(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function rf(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wp=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var r=Wp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:To(n)},Wp.set(e,n),n)}return{value:e,source:n,stack:To(n)}}var Ea=[],Ta=0,zu=null,Fo=0,Ln=[],Un=0,ws=null,bi=1,wi="";function qi(e,n){Ea[Ta++]=Fo,Ea[Ta++]=zu,zu=e,Fo=n}function tg(e,n,r){Ln[Un++]=bi,Ln[Un++]=wi,Ln[Un++]=ws,ws=e;var o=bi;e=wi;var h=32-pe(o)-1;o&=~(1<<h),r+=1;var f=32-pe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-pe(n)+h|r<<h|o,wi=f+e}else bi=1<<f|r<<h|o,wi=e}function af(e){e.return!==null&&(qi(e,1),tg(e,1,0))}function of(e){for(;e===zu;)zu=Ea[--Ta],Ea[Ta]=null,Fo=Ea[--Ta],Ea[Ta]=null;for(;e===ws;)ws=Ln[--Un],Ln[Un]=null,wi=Ln[--Un],Ln[Un]=null,bi=Ln[--Un],Ln[Un]=null}function eg(e,n){Ln[Un++]=bi,Ln[Un++]=wi,Ln[Un++]=ws,bi=n.id,wi=n.overflow,ws=e}var Ge=null,se=null,zt=!1,Rs=null,Pn=!1,lf=Error(a(519));function Cs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(kn(n,e)),lf}function ng(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[be]=e,n[Pe]=o,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<ml.length;r++)xt(ml[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),_u(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),_s(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||v_(n.textContent,r)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Cs(e,!0)}function ig(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ge=Ge.return}}function Sa(e){if(e!==Ge)return!1;if(!zt)return ig(e),zt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Rd(e.type,e.memoizedProps)),r=!r),r&&se&&Cs(e),ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=I_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=I_(e)}else n===27?(n=se,Bs(e.type)?(e=xd,xd=null,se=e):se=n):se=Ge?jn(e.stateNode.nextSibling):null;return!0}function Vr(){se=Ge=null,zt=!1}function uf(){var e=Rs;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Rs=null),e}function Ko(e){Rs===null?Rs=[e]:Rs.push(e)}var cf=O(null),Mr=null,Hi=null;function Is(e,n,r){et(cf,n._currentValue),n._currentValue=r}function Gi(e){e._currentValue=cf.current,Y(cf)}function hf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function ff(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),hf(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),hf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===ht.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&ff(n,e,r,o),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Mr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return sg(Mr,e)}function Bu(e,n){return Mr===null&&kr(e),sg(e,n)}function sg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Hi===null){if(e===null)throw Error(a(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return r}var R1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},C1=s.unstable_scheduleCallback,I1=s.unstable_NormalPriority,Ce={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new R1,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&C1(I1,function(){e.controller.abort()})}var Yo=null,mf=0,ba=0,wa=null;function N1(e,n){if(Yo===null){var r=Yo=[];mf=0,ba=yd(),wa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return mf++,n.then(rg,rg),n}function rg(){if(--mf===0&&Yo!==null){wa!==null&&(wa.status="fulfilled");var e=Yo;Yo=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function D1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var ag=H.S;H.S=function(e,n){Hy=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&N1(e,n),ag!==null&&ag(e,n)};var Lr=O(null);function pf(){var e=Lr.current;return e!==null?e:ne.pooledCache}function qu(e,n){n===null?et(Lr,Lr.current):et(Lr,n.pool)}function og(){var e=pf();return e===null?null:{parent:Ce._currentValue,pool:e}}var Ra=Error(a(460)),gf=Error(a(474)),Hu=Error(a(542)),Gu={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ug(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e}throw Pr=n,Ra}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Pr=r,Ra):r}}var Pr=null;function cg(){if(Pr===null)throw Error(a(459));var e=Pr;return Pr=null,e}function hg(e){if(e===Ra||e===Hu)throw Error(a(483))}var Ca=null,Xo=0;function Fu(e){var n=Xo;return Xo+=1,Ca===null&&(Ca=[]),ug(Ca,e,n)}function $o(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ku(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Bi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=sf(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,K){var ft=P.type;return ft===it?F(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ur(ft)===D.type)?(D=h(D,P.props),$o(D,P),D.return=k,D):(D=Pu(P.type,P.key,P.props,null,k.mode,K),$o(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=rf(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,K,ft){return D===null||D.tag!==7?(D=Or(P,k.mode,K,ft),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=sf(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Pu(D.type,D.key,D.props,null,k.mode,P),$o(P,D),P.return=k,P;case Z:return D=rf(D,k.mode,P),D.return=k,D;case A:return D=Ur(D),X(k,D,P)}if(At(D)||V(D))return D=Or(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,Fu(D),P);if(D.$$typeof===vt)return X(k,Bu(k,D),P);Ku(k,D)}return null}function j(k,D,P,K){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ft?R(k,D,P,K):null;case Z:return P.key===ft?z(k,D,P,K):null;case A:return P=Ur(P),j(k,D,P,K)}if(At(P)||V(P))return ft!==null?null:F(k,D,P,K,null);if(typeof P.then=="function")return j(k,D,Fu(P),K);if(P.$$typeof===vt)return j(k,D,Bu(k,P),K);Ku(k,P)}return null}function q(k,D,P,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?P:K.key)||null,R(D,k,K,ft);case Z:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,ft);case A:return K=Ur(K),q(k,D,P,K,ft)}if(At(K)||V(K))return k=k.get(P)||null,F(D,k,K,ft,null);if(typeof K.then=="function")return q(k,D,P,Fu(K),ft);if(K.$$typeof===vt)return q(k,D,P,Bu(D,K),ft);Ku(D,K)}return null}function ot(k,D,P,K){for(var ft=null,Bt=null,ut=D,Nt=D=0,kt=null;ut!==null&&Nt<P.length;Nt++){ut.index>Nt?(kt=ut,ut=null):kt=ut.sibling;var qt=j(k,ut,P[Nt],K);if(qt===null){ut===null&&(ut=kt);break}e&&ut&&qt.alternate===null&&n(k,ut),D=f(qt,D,Nt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt,ut=kt}if(Nt===P.length)return r(k,ut),zt&&qi(k,Nt),ft;if(ut===null){for(;Nt<P.length;Nt++)ut=X(k,P[Nt],K),ut!==null&&(D=f(ut,D,Nt),Bt===null?ft=ut:Bt.sibling=ut,Bt=ut);return zt&&qi(k,Nt),ft}for(ut=o(ut);Nt<P.length;Nt++)kt=q(ut,k,Nt,P[Nt],K),kt!==null&&(e&&kt.alternate!==null&&ut.delete(kt.key===null?Nt:kt.key),D=f(kt,D,Nt),Bt===null?ft=kt:Bt.sibling=kt,Bt=kt);return e&&ut.forEach(function(Ks){return n(k,Ks)}),zt&&qi(k,Nt),ft}function pt(k,D,P,K){if(P==null)throw Error(a(151));for(var ft=null,Bt=null,ut=D,Nt=D=0,kt=null,qt=P.next();ut!==null&&!qt.done;Nt++,qt=P.next()){ut.index>Nt?(kt=ut,ut=null):kt=ut.sibling;var Ks=j(k,ut,qt.value,K);if(Ks===null){ut===null&&(ut=kt);break}e&&ut&&Ks.alternate===null&&n(k,ut),D=f(Ks,D,Nt),Bt===null?ft=Ks:Bt.sibling=Ks,Bt=Ks,ut=kt}if(qt.done)return r(k,ut),zt&&qi(k,Nt),ft;if(ut===null){for(;!qt.done;Nt++,qt=P.next())qt=X(k,qt.value,K),qt!==null&&(D=f(qt,D,Nt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return zt&&qi(k,Nt),ft}for(ut=o(ut);!qt.done;Nt++,qt=P.next())qt=q(ut,k,Nt,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?Nt:qt.key),D=f(qt,D,Nt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(BS){return n(k,BS)}),zt&&qi(k,Nt),ft}function ee(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===it){if(D.tag===7){r(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ur(ft)===D.type){r(k,D.sibling),K=h(D,P.props),$o(K,P),K.return=k,k=K;break t}r(k,D);break}else n(k,D);D=D.sibling}P.type===it?(K=Or(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Pu(P.type,P.key,P.props,null,k.mode,K),$o(K,P),K.return=k,k=K)}return g(k);case Z:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{r(k,D);break}else n(k,D);D=D.sibling}K=rf(P,k.mode,K),K.return=k,k=K}return g(k);case A:return P=Ur(P),ee(k,D,P,K)}if(At(P))return ot(k,D,P,K);if(V(P)){if(ft=V(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(k,D,P,K)}if(typeof P.then=="function")return ee(k,D,Fu(P),K);if(P.$$typeof===vt)return ee(k,D,Bu(k,P),K);Ku(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,P),K.return=k,k=K):(r(k,D),K=sf(P,k.mode,K),K.return=k,k=K),g(k)):r(k,D)}return function(k,D,P,K){try{Xo=0;var ft=ee(k,D,P,K);return Ca=null,ft}catch(ut){if(ut===Ra||ut===Hu)throw ut;var Bt=Sn(29,ut,null,k.mode);return Bt.lanes=K,Bt.return=k,Bt}}}var zr=fg(!0),dg=fg(!1),Ns=!1;function yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Uu(e),$p(e,null,r),n}return Lu(e,o,n,r),Uu(e)}function Jo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,bo(e,r)}}function vf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Ef=!1;function Zo(){if(Ef){var e=wa;if(e!==null)throw e}}function Wo(e,n,r,o){Ef=!1;var h=e.updateQueue;Ns=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Mt&j)===j:(o&j)===j){j!==0&&j===ba&&(Ef=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var ee=r;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(ee,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(ee,X,j):ot,j==null)break t;X=b({},X,j);break t;case 2:Ns=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=X):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ls|=g,e.lanes=g,e.memoizedState=X}}function mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function pg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)mg(r[e],n)}var Ia=O(null),Qu=O(0);function gg(e,n){e=Wi,et(Qu,e),et(Ia,n),Wi=e|n.baseLanes}function Tf(){et(Qu,Wi),et(Ia,Ia.current)}function Sf(){Wi=Qu.current,Y(Ia),Y(Qu)}var An=O(null),zn=null;function Os(e){var n=e.alternate;et(ye,ye.current&1),et(An,e),zn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(zn=e)}function Af(e){et(ye,ye.current),et(An,e),zn===null&&(zn=e)}function yg(e){e.tag===22?(et(ye,ye.current),et(An,e),zn===null&&(zn=e)):Vs()}function Vs(){et(ye,ye.current),et(An,An.current)}function bn(e){Y(An),zn===e&&(zn=null),Y(ye)}var ye=O(0);function Yu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Nd(r)||Dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,It=null,Wt=null,Ie=null,Xu=!1,Na=!1,jr=!1,$u=0,tl=0,Da=null,x1=0;function de(){throw Error(a(321))}function bf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Tn(e[r],n[r]))return!1;return!0}function wf(e,n,r,o,h,f){return Fi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?ty:jf,jr=!1,f=r(o,h),jr=!1,Na&&(f=vg(n,r,o,h)),_g(e),f}function _g(e){H.H=il;var n=Wt!==null&&Wt.next!==null;if(Fi=0,Ie=Wt=It=null,Xu=!1,tl=0,Da=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&ju(e)&&(Ne=!0))}function vg(e,n,r,o){It=e;var h=0;do{if(Na&&(Da=null),tl=0,Na=!1,25<=h)throw Error(a(301));if(h+=1,Ie=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ey,f=n(r,o)}while(Na);return f}function O1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?el(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(It.flags|=1024),n}function Rf(){var e=$u!==0;return $u=0,e}function Cf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function If(e){if(Xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xu=!1}Fi=0,Ie=Wt=It=null,Na=!1,tl=$u=0,Da=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?It.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function _e(){if(Wt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ie===null?It.memoizedState:Ie.next;if(n!==null)Ie=n,Wt=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?It.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var n=tl;return tl+=1,Da===null&&(Da=[]),e=ug(Da,e,n),n=It,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ty:jf),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===vt)return Fe(e)}throw Error(a(438,String(e)))}function Nf(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ju(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Ki(e,n){return typeof n=="function"?n(e):n}function Wu(e){var n=_e();return Df(n,Wt,e)}function Df(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Mt&X)===X:(Fi&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ba&&(F=!0);else if((Fi&j)===j){z=z.next,j===ba&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,It.lanes|=j,Ls|=j;X=z.action,jr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,It.lanes|=X,Ls|=X;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!Tn(f,e.memoizedState)&&(Ne=!0,F&&(r=wa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function xf(e){var n=_e(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Eg(e,n,r){var o=It,h=_e(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Tn((Wt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ne=!0),h=h.queue,Mf(Ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},Sg.bind(null,o,h,r,n),null),ne===null)throw Error(a(349));f||(Fi&127)!==0||Tg(o,n,r)}return r}function Tg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=Ju(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Sg(e,n,r,o){n.value=r,n.getSnapshot=o,bg(n)&&wg(e)}function Ag(e,n,r){return r(function(){bg(n)&&wg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Tn(e,r)}catch{return!0}}function wg(e){var n=xr(e,2);n!==null&&mn(n,e,2)}function Of(e){var n=on();if(typeof e=="function"){var r=e;if(e=r(),jr){Nn(!0);try{r()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function Rg(e,n,r,o){return e.baseState=r,Df(e,Wt,typeof o=="function"?o:Ki)}function V1(e,n,r,o,h){if(nc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Cg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Cg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),R=H.S;R!==null&&R(g,E),Ig(e,n,E)}catch(z){Vf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),Ig(e,n,f)}catch(z){Vf(e,n,z)}}function Ig(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ng(e,n,o)},function(o){return Vf(e,n,o)}):Ng(e,n,r)}function Ng(e,n,r){n.status="fulfilled",n.value=r,Dg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Cg(e,r)))}function Vf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Dg(n),n=n.next;while(n!==o)}e.action=null}function Dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function Og(e,n){if(zt){var r=ne.formState;if(r!==null){t:{var o=It;if(zt){if(se){e:{for(var h=se,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=jn(h.nextSibling),o=h.data==="F!";break t}}Cs(o)}o=!1}o&&(n=r[0])}}return r=on(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},r.queue=o,r=Jg.bind(null,It,o),o.dispatch=r,o=Of(!1),f=zf.bind(null,It,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=V1.bind(null,It,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Vg(e){var n=_e();return Mg(n,Wt,e)}function Mg(e,n,r){if(n=Df(e,n,xg)[0],e=Wu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(g){throw g===Ra?Hu:g}else o=n;n=_e();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,xa(9,{destroy:void 0},M1.bind(null,h,r),null)),[o,f,e]}function M1(e,n){e.action=n}function kg(e){var n=_e(),r=Wt;if(r!==null)return Mg(n,r,e);_e(),n=n.memoizedState,r=_e();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function xa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Ju(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Lg(){return _e().memoizedState}function tc(e,n,r,o){var h=on();It.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},r,o===void 0?null:o)}function ec(e,n,r,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&bf(o,Wt.memoizedState.deps)?h.memoizedState=xa(n,f,r,o):(It.flags|=e,h.memoizedState=xa(1|n,f,r,o))}function Ug(e,n){tc(8390656,8,e,n)}function Mf(e,n){ec(2048,8,e,n)}function k1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Ju(),It.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Pg(e){var n=_e().memoizedState;return k1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zg(e,n){return ec(4,2,e,n)}function jg(e,n){return ec(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qg(e,n,r){r=r!=null?r.concat([e]):null,ec(4,4,Bg.bind(null,n,e),r)}function kf(){}function Hg(e,n){var r=_e();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Gg(e,n){var r=_e();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=e(),jr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o}function Lf(e,n,r){return r===void 0||(Fi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Fy(),It.lanes|=e,Ls|=e,r)}function Fg(e,n,r,o){return Tn(r,n)?r:Ia.current!==null?(e=Lf(e,r,o),Tn(e,n)||(Ne=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Mt&261930)===0?(Ne=!0,e.memoizedState=r):(e=Fy(),It.lanes|=e,Ls|=e,n)}function Kg(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,zf(e,!1,n,r);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=D1(R,o);nl(e,n,F,Cn(e))}else nl(e,n,o,Cn(e))}catch(X){nl(e,n,{then:function(){},status:"rejected",reason:X},Cn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function L1(){}function Uf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Qg(e).queue;Kg(e,h,n,ct,r===null?L1:function(){return Yg(e),r(o)})}function Qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yg(e){var n=Qg(e);n.next===null&&(n=e.alternate.memoizedState),nl(e,n.next.queue,{},Cn())}function Pf(){return Fe(vl)}function Xg(){return _e().memoizedState}function $g(){return _e().memoizedState}function U1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=Ds(r);var o=xs(n,e,r);o!==null&&(mn(o,n,r),Jo(o,n,r)),n={cache:df()},e.payload=n;return}n=n.return}}function P1(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nc(e)?Zg(n,r):(r=ef(e,n,r,o),r!==null&&(mn(r,e,o),Wg(r,n,o)))}function Jg(e,n,r){var o=Cn();nl(e,n,r,o)}function nl(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(nc(e))Zg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,g))return Lu(e,n,h,0),ne===null&&ku(),!1}catch{}if(r=ef(e,n,h,o),r!==null)return mn(r,e,o),Wg(r,n,o),!0}return!1}function zf(e,n,r,o){if(o={lane:2,revertLane:yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(n)throw Error(a(479))}else n=ef(e,r,o,2),n!==null&&mn(n,e,2)}function nc(e){var n=e.alternate;return e===It||n!==null&&n===It}function Zg(e,n){Na=Xu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Wg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,bo(e,r)}}var il={readContext:Fe,use:Zu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};il.useEffectEvent=de;var ty={readContext:Fe,use:Zu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Ug,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,tc(4194308,4,Bg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return tc(4194308,4,e,n)},useInsertionEffect:function(e,n){tc(4,2,e,n)},useMemo:function(e,n){var r=on();n=n===void 0?null:n;var o=e();if(jr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=on();if(r!==void 0){var h=r(n);if(jr){Nn(!0);try{r(n)}finally{Nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=P1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=Of(e);var n=e.queue,r=Jg.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:kf,useDeferredValue:function(e,n){var r=on();return Lf(r,e,n)},useTransition:function(){var e=Of(!1);return e=Kg.bind(null,It,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=It,h=on();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ne===null)throw Error(a(349));(Mt&127)!==0||Tg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ug(Ag.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},Sg.bind(null,o,f,r,n),null),r},useId:function(){var e=on(),n=ne.identifierPrefix;if(zt){var r=wi,o=bi;r=(o&~(1<<32-pe(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=$u++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=x1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Og,useActionState:Og,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zf.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:Nf,useCacheRefresh:function(){return on().memoizedState=U1.bind(null,It)},useEffectEvent:function(e){var n=on(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},jf={readContext:Fe,use:Zu,useCallback:Hg,useContext:Fe,useEffect:Mf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Gg,useReducer:Wu,useRef:Lg,useState:function(){return Wu(Ki)},useDebugValue:kf,useDeferredValue:function(e,n){var r=_e();return Fg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=Wu(Ki)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Pf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,n){var r=_e();return Rg(r,Wt,e,n)},useMemoCache:Nf,useCacheRefresh:$g};jf.useEffectEvent=Pg;var ey={readContext:Fe,use:Zu,useCallback:Hg,useContext:Fe,useEffect:Mf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Gg,useReducer:xf,useRef:Lg,useState:function(){return xf(Ki)},useDebugValue:kf,useDeferredValue:function(e,n){var r=_e();return Wt===null?Lf(r,e,n):Fg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=xf(Ki)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Pf,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var r=_e();return Wt!==null?Rg(r,Wt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:$g};ey.useEffectEvent=Pg;function Bf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Ds(o);h.payload=n,r!=null&&(h.callback=r),n=xs(e,h,o),n!==null&&(mn(n,e,o),Jo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Ds(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=xs(e,h,o),n!==null&&(mn(n,e,o),Jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=Ds(r);o.tag=2,n!=null&&(o.callback=n),n=xs(e,o,r),n!==null&&(mn(n,e,r),Jo(n,e,r))}};function ny(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ho(r,o)||!Ho(h,f):!0}function iy(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&qf.enqueueReplaceState(n,n.state,null)}function Br(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function sy(e){Mu(e)}function ry(e){console.error(e)}function ay(e){Mu(e)}function ic(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function oy(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,n,r){return r=Ds(r),r.tag=3,r.payload={element:null},r.callback=function(){ic(e,n)},r}function ly(e){return e=Ds(e),e.tag=3,e}function uy(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){oy(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){oy(n,r,o),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function z1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Aa(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 31:case 13:return zn===null?pc():r.alternate===null&&me===0&&(me=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Gu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),md(e,o,h)),!1;case 22:return r.flags|=65536,o===Gu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),md(e,o,h)),!1}throw Error(a(435,r.tag))}return md(e,o,h),pc(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==lf&&(e=Error(a(422),{cause:o}),Ko(kn(e,r)))):(o!==lf&&(n=Error(a(423),{cause:o}),Ko(kn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,r),h=Hf(e.stateNode,o,h),vf(e,h),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,r),hl===null?hl=[f]:hl.push(f),me!==4&&(me=2),n===null)return!0;o=kn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Hf(r.stateNode,o,e),vf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Us===null||!Us.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ly(h),uy(h,e,r,o),vf(r,h),!1}r=r.return}while(r!==null);return!1}var Gf=Error(a(461)),Ne=!1;function Ke(e,n,r,o){n.child=e===null?dg(n,null,r,o):zr(n,e.child,r,o)}function cy(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return kr(n),o=wf(e,n,r,g,f,h),E=Rf(),e!==null&&!Ne?(Cf(e,n,h),Qi(e,n,h)):(zt&&E&&af(n),n.flags|=1,Ke(e,n,o,h),n.child)}function hy(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,fy(e,n,f,o,h)):(e=Pu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Zf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ho,r(g,o)&&e.ref===n.ref)return Qi(e,n,h)}return n.flags|=1,e=Bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function fy(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Zf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Qi(e,n,h)}return Ff(e,n,r,o,h)}function dy(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return my(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(n,f!==null?f.cachePool:null),f!==null?gg(n,f):Tf(),yg(n);else return o=n.lanes=536870912,my(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(qu(n,f.cachePool),gg(n,f),Vs(),n.memoizedState=null):(e!==null&&qu(n,null),Tf(),Vs());return Ke(e,n,h,r),n.child}function sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(e,n,r,o,h){var f=pf();return f=f===null?null:{parent:Ce._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&qu(n,null),Tf(),yg(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function sc(e,n){return n=ac({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function py(e,n,r){return zr(n,e.child,null,r),e=sc(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function j1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=sc(n,o),n.lanes=536870912,sl(null,e);if(Af(n),(e=se)?(e=C_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=Zp(e),r.return=n,n.child=r,Ge=n,se=null)):e=null,e===null)throw Cs(n);return n.lanes=536870912,null}return sc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=py(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Aa(e,n,r,!1),h=(r&e.childLanes)!==0,Ne||h){if(o=ne,o!==null&&(g=wo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,xr(e,g),mn(o,e,g),Gf;pc(),n=py(e,n,r)}else e=f.treeContext,se=jn(g.nextSibling),Ge=n,zt=!0,Rs=null,Pn=!1,e!==null&&eg(n,e),n=sc(n,o),n.flags|=4096;return n}return e=Bi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function rc(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Ff(e,n,r,o,h){return kr(n),r=wf(e,n,r,o,void 0,h),o=Rf(),e!==null&&!Ne?(Cf(e,n,h),Qi(e,n,h)):(zt&&o&&af(n),n.flags|=1,Ke(e,n,r,h),n.child)}function gy(e,n,r,o,h,f){return kr(n),n.updateQueue=null,r=vg(n,o,r,h),_g(e),o=Rf(),e!==null&&!Ne?(Cf(e,n,f),Qi(e,n,f)):(zt&&o&&af(n),n.flags|=1,Ke(e,n,r,f),n.child)}function yy(e,n,r,o,h){if(kr(n),n.stateNode===null){var f=va,g=r.contextType;typeof g=="object"&&g!==null&&(f=Fe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},yf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Fe(g):va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Bf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qf.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Br(r,E);f.props=R;var z=f.context,F=r.contextType;g=va,typeof F=="object"&&F!==null&&(g=Fe(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&iy(n,f,o,g),Ns=!1;var j=n.memoizedState;f.state=j,Wo(n,o,f,h),Zo(),z=n.memoizedState,E||j!==z||Ns?(typeof X=="function"&&(Bf(n,r,X,o),z=n.memoizedState),(R=Ns||ny(n,r,R,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,_f(e,n),g=n.memoizedProps,F=Br(r,g),f.props=F,X=n.pendingProps,j=f.context,z=r.contextType,R=va,typeof z=="object"&&z!==null&&(R=Fe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==R)&&iy(n,f,o,R),Ns=!1,j=n.memoizedState,f.state=j,Wo(n,o,f,h),Zo();var q=n.memoizedState;g!==X||j!==q||Ns||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof E=="function"&&(Bf(n,r,E,o),q=n.memoizedState),(F=Ns||ny(n,r,F,o,j,q,R)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=zr(n,e.child,null,h),n.child=zr(n,null,r,h)):Ke(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Qi(e,n,h),e}function _y(e,n,r,o){return Vr(),n.flags|=256,Ke(e,n,r,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(e){return{baseLanes:e,cachePool:og()}}function Yf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Rn),e}function vy(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Os(n):Vs(),(e=se)?(e=C_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=Zp(e),r.return=n,n.child=r,Ge=n,se=null)):e=null,e===null)throw Cs(n);return Dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Vs(),h=n.mode,E=ac({mode:"hidden",children:E},h),o=Or(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Qf(r),o.childLanes=Yf(e,g,r),n.memoizedState=Kf,sl(null,o)):(Os(n),Xf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Os(n),n.flags&=-257,n=$f(e,n,r)):n.memoizedState!==null?(Vs(),n.child=e.child,n.flags|=128,n=null):(Vs(),E=o.fallback,h=n.mode,o=ac({mode:"visible",children:o.children},h),E=Or(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,zr(n,e.child,null,r),o=n.child,o.memoizedState=Qf(r),o.childLanes=Yf(e,g,r),n.memoizedState=Kf,n=sl(null,o));else if(Os(n),Dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Ko({value:o,source:null,stack:null}),n=$f(e,n,r)}else if(Ne||Aa(e,n,r,!1),g=(r&e.childLanes)!==0,Ne||g){if(g=ne,g!==null&&(o=wo(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,xr(e,o),mn(g,e,o),Gf;Nd(E)||pc(),n=$f(e,n,r)}else Nd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,se=jn(E.nextSibling),Ge=n,zt=!0,Rs=null,Pn=!1,e!==null&&eg(n,e),n=Xf(n,o.children),n.flags|=4096);return n}return h?(Vs(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Bi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Bi(z,E):(E=Or(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,sl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Qf(r):(h=E.cachePool,h!==null?(R=Ce._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=og(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Yf(e,g,r),n.memoizedState=Kf,sl(e.child,o)):(Os(n),r=e.child,e=r.sibling,r=Bi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Xf(e,n){return n=ac({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ac(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function $f(e,n,r){return zr(n,e.child,null,r),e=Xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ey(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),hf(e.return,n,r)}function Jf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Ty(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ye.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(ye,g),Ke(e,n,o,r),o=zt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,r,n);else if(e.tag===19)Ey(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Yu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Jf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Jf(n,!0,r,null,f,o);break;case"together":Jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Aa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Bi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Bi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function B1(e,n,r){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),Is(n,Ce,e.memoizedState.cache),Vr();break;case 27:case 5:Ft(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Os(n),n.flags|=128,null):(r&n.child.childLanes)!==0?vy(e,n,r):(Os(n),e=Qi(e,n,r),e!==null?e.sibling:null);Os(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Aa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Ty(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ye,ye.current),o)break;return null;case 22:return n.lanes=0,dy(e,n,r,n.pendingProps);case 24:Is(n,Ce,e.memoizedState.cache)}return Qi(e,n,r)}function Sy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Zf(e,r)&&(n.flags&128)===0)return Ne=!1,B1(e,n,r);Ne=(e.flags&131072)!==0}else Ne=!1,zt&&(n.flags&1048576)!==0&&tg(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")nf(e)?(o=Br(e,o),n.tag=1,n=yy(null,n,e,o,r)):(n.tag=0,n=Ff(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=cy(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=hy(null,n,e,o,r);break t}}throw n=st(e)||e,Error(a(306,n,""))}}return n;case 0:return Ff(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Br(o,n.pendingProps),yy(e,n,o,h,r);case 3:t:{if(Et(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,_f(e,n),Wo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Is(n,Ce,o),o!==f.cache&&ff(n,[Ce],r,!0),Zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(e,n,o,r);break t}else if(o!==h){h=kn(Error(a(424)),n),Ko(h),n=_y(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=jn(e.firstChild),Ge=n,zt=!0,Rs=null,Pn=!0,r=dg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),o===h){n=Qi(e,n,r);break t}Ke(e,n,o,r)}n=n.child}return n;case 26:return rc(e,n),e===null?(r=V_(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,e=n.pendingProps,o=Sc(G.current).createElement(r),o[be]=n,o[Pe]=e,Qe(o,r,e),we(o),n.stateNode=o):n.memoizedState=V_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ft(n),e===null&&zt&&(o=n.stateNode=D_(n.type,n.pendingProps,G.current),Ge=n,Pn=!0,h=se,Bs(n.type)?(xd=h,se=jn(o.firstChild)):se=h),Ke(e,n,n.pendingProps.children,r),rc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=se)&&(o=yS(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,Ge=n,se=jn(o.firstChild),Pn=!1,h=!0):h=!1),h||Cs(n)),Ft(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Rd(h,f)?o=null:g!==null&&Rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=wf(e,n,O1,null,null,r),vl._currentValue=h),rc(e,n),Ke(e,n,o,r),n.child;case 6:return e===null&&zt&&((e=r=se)&&(r=_S(r,n.pendingProps,Pn),r!==null?(n.stateNode=r,Ge=n,se=null,e=!0):e=!1),e||Cs(n)),null;case 13:return vy(e,n,r);case 4:return Et(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=zr(n,null,o,r):Ke(e,n,o,r),n.child;case 11:return cy(e,n,n.type,n.pendingProps,r);case 7:return Ke(e,n,n.pendingProps,r),n.child;case 8:return Ke(e,n,n.pendingProps.children,r),n.child;case 12:return Ke(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Is(n,n.type,o.value),Ke(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Fe(h),o=o(h),n.flags|=1,Ke(e,n,o,r),n.child;case 14:return hy(e,n,n.type,n.pendingProps,r);case 15:return fy(e,n,n.type,n.pendingProps,r);case 19:return Ty(e,n,r);case 31:return j1(e,n,r);case 22:return dy(e,n,r,n.pendingProps);case 24:return kr(n),o=Fe(Ce),e===null?(h=pf(),h===null&&(h=ne,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},yf(n),Is(n,Ce,h)):((e.lanes&r)!==0&&(_f(e,n),Wo(n,null,null,r),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Is(n,Ce,o)):(o=f.cache,Is(n,Ce,o),o!==h.cache&&ff(n,[Ce],r,!0))),Ke(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Yi(e){e.flags|=4}function Wf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Xy())e.flags|=8192;else throw Pr=Gu,gf}else e.flags&=-16777217}function Ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P_(n))if(Xy())e.flags|=8192;else throw Pr=Gu,gf}function oc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?du():536870912,e.lanes|=n,ka|=n)}function rl(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function q1(e,n,r){var o=n.pendingProps;switch(of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gi(Ce),Tt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?Yi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Yi(n),f!==null?(re(n),Ay(n,f)):(re(n),Wf(n,h,null,o,r))):f?f!==e.memoizedState?(Yi(n),re(n),Ay(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(n),re(n),Wf(n,h,e,o,r)),null;case 27:if(fe(n),r=G.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=rt.current,Sa(n)?ng(n):(e=D_(h,o,r),n.stateNode=e,Yi(n))}return re(n),null;case 5:if(fe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=rt.current,Sa(n))ng(n);else{var g=Sc(G.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[be]=n,f[Pe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(n)}}return re(n),Wf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=G.current,Sa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||v_(e.nodeValue,r)),e||Cs(n,!0)}else e=Sc(e).createTextNode(o),e[be]=n,n.stateNode=e}return re(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[be]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else r=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[be]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),oc(n,n.updateQueue),re(n),null);case 4:return Tt(),e===null&&Td(n.stateNode.containerInfo),re(n),null;case 10:return Gi(n.type),re(n),null;case 19:if(Y(ye),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Yu(e),f!==null){for(n.flags|=128,rl(o,!1),e=f.updateQueue,n.updateQueue=e,oc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Jp(r,e),r=r.sibling;return et(ye,ye.current&1|2),zt&&qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&rn()>fc&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Yu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,oc(n,e),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return re(n),null}else 2*rn()-o.renderingStartTime>fc&&r!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,r=ye.current,et(ye,h?r&1|2:r&1),zt&&qi(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return bn(n),Sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&oc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Lr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Gi(Ce),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function H1(e,n){switch(of(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(Ce),Tt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fe(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(ye),null;case 4:return Tt(),null;case 10:return Gi(n.type),null;case 22:case 23:return bn(n),Sf(),e!==null&&Y(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(Ce),null;case 25:return null;default:return null}}function by(e,n){switch(of(n),n.tag){case 3:Gi(Ce),Tt();break;case 26:case 27:case 5:fe(n);break;case 4:Tt();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:Y(ye);break;case 10:Gi(n.type);break;case 22:case 23:bn(n),Sf(),e!==null&&Y(Lr);break;case 24:Gi(Ce)}}function al(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Jt(n,n.return,E)}}function Ms(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(F){Jt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Jt(n,n.return,F)}}function wy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{pg(n,r)}catch(o){Jt(e,e.return,o)}}}function Ry(e,n,r){r.props=Br(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Jt(e,n,o)}}function ol(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Jt(e,n,h)}}function Ri(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Jt(e,n,h)}else r.current=null}function Cy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Jt(e,e.return,h)}}function td(e,n,r){try{var o=e.stateNode;hS(o,e.type,r,n),o[Pe]=n}catch(h){Jt(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bs(e.type)||e.tag===4}function ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nd(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&Bs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(nd(e,n,r),e=e.sibling;e!==null;)nd(e,n,r),e=e.sibling}function lc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Bs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(lc(e,n,r),e=e.sibling;e!==null;)lc(e,n,r),e=e.sibling}function Ny(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,r),n[be]=e,n[Pe]=r}catch(f){Jt(e,e.return,f)}}var Xi=!1,De=!1,id=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,je=null;function G1(e,n){if(e=e.containerInfo,bd=Nc,e=qp(e),Xh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++F===o&&(R=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(wd={focusedElem:e,selectionRange:r},Nc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Br(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Jt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Id(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function xy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(e,r),o&4&&al(5,r);break;case 1:if(Ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(r,r.return,g)}else{var h=Br(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(r,r.return,g)}}o&64&&wy(r),o&512&&ol(r,r.return);break;case 3:if(Ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pg(e,n)}catch(g){Jt(r,r.return,g)}}break;case 27:n===null&&o&4&&Ny(r);case 26:case 5:Ji(e,r),n===null&&o&4&&Cy(r),o&512&&ol(r,r.return);break;case 12:Ji(e,r);break;case 31:Ji(e,r),o&4&&My(e,r);break;case 13:Ji(e,r),o&4&&ky(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=W1.bind(null,r),vS(e,r))));break;case 22:if(o=r.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||De,h=Xi;var f=De;Xi=o,(De=n)&&!f?Zi(e,r,(r.subtreeFlags&8772)!==0):Ji(e,r),Xi=h,De=f}break;case 30:break;default:Ji(e,r)}}function Oy(e){var n=e.alternate;n!==null&&(e.alternate=null,Oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,cn=!1;function $i(e,n,r){for(r=r.child;r!==null;)Vy(e,n,r),r=r.sibling}function Vy(e,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Fn,r)}catch{}switch(r.tag){case 26:De||Ri(r,n),$i(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:De||Ri(r,n);var o=ce,h=cn;Bs(r.type)&&(ce=r.stateNode,cn=!1),$i(e,n,r),gl(r.stateNode),ce=o,cn=h;break;case 5:De||Ri(r,n);case 6:if(o=ce,h=cn,ce=null,$i(e,n,r),ce=o,cn=h,ce!==null)if(cn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(r.stateNode)}catch(f){Jt(r,n,f)}else try{ce.removeChild(r.stateNode)}catch(f){Jt(r,n,f)}break;case 18:ce!==null&&(cn?(e=ce,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ha(e)):w_(ce,r.stateNode));break;case 4:o=ce,h=cn,ce=r.stateNode.containerInfo,cn=!0,$i(e,n,r),ce=o,cn=h;break;case 0:case 11:case 14:case 15:Ms(2,r,n),De||Ms(4,r,n),$i(e,n,r);break;case 1:De||(Ri(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ry(r,n,o)),$i(e,n,r);break;case 21:$i(e,n,r);break;case 22:De=(o=De)||r.memoizedState!==null,$i(e,n,r),De=o;break;default:$i(e,n,r)}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(r){Jt(n,n.return,r)}}}function ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(r){Jt(n,n.return,r)}}function F1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dy),n;default:throw Error(a(435,e.tag))}}function uc(e,n){var r=F1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=tS.bind(null,e,o);o.then(h,h)}})}function hn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Bs(E.type)){ce=E.stateNode,cn=!1;break t}break;case 5:ce=E.stateNode,cn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ce===null)throw Error(a(160));Vy(f,g,h),ce=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ly(n,e),n=n.sibling}var ei=null;function Ly(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),o&4&&(Ms(3,e,e.return),al(3,e),Ms(5,e,e.return));break;case 1:hn(n,e),fn(e),o&512&&(De||r===null||Ri(r,r.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ei;if(hn(n,e),fn(e),o&512&&(De||r===null||Ri(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,o,r),f[be]=e,we(f),o=f;break t;case"link":var g=L_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=L_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[be]=e,we(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=k_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?U_(h,e.type,e.stateNode):k_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&td(e,e.memoizedProps,r.memoizedProps)}break;case 27:hn(n,e),fn(e),o&512&&(De||r===null||Ri(r,r.return)),r!==null&&o&4&&td(e,e.memoizedProps,r.memoizedProps);break;case 5:if(hn(n,e),fn(e),o&512&&(De||r===null||Ri(r,r.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(ot){Jt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,td(e,h,r!==null?r.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(hn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Jt(e,e.return,ot)}}break;case 3:if(wc=null,h=ei,ei=Ac(n.containerInfo),hn(n,e),ei=h,fn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(ot){Jt(e,e.return,ot)}id&&(id=!1,Uy(e));break;case 4:o=ei,ei=Ac(e.stateNode.containerInfo),hn(n,e),fn(e),ei=o;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(hc=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Xi,F=De;if(Xi=z||h,De=F||R,hn(n,e),De=F,Xi=z,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Xi||De||qr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Jt(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Jt(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?R_(q,!0):R_(R.stateNode,!1)}catch(ot){Jt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,uc(e,r))));break;case 19:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Iy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=ed(e);lc(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(un(g,""),r.flags&=-33);var E=ed(e);lc(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,z=ed(e);nd(e,z,R);break;default:throw Error(a(161))}}catch(F){Jt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(e,n.alternate,n),n=n.sibling}function qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ms(4,n,n.return),qr(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ry(n,n.return,r),qr(n);break;case 27:gl(n.stateNode);case 26:case 5:Ri(n,n.return),qr(n);break;case 22:n.memoizedState===null&&qr(n);break;case 30:qr(n);break;default:qr(n)}e=e.sibling}}function Zi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,r),al(4,f);break;case 1:if(Zi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Jt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)mg(R[h],E)}catch(z){Jt(o,o.return,z)}}r&&g&64&&wy(f),ol(f,f.return);break;case 27:Ny(f);case 26:case 5:Zi(h,f,r),r&&o===null&&g&4&&Cy(f),ol(f,f.return);break;case 12:Zi(h,f,r);break;case 31:Zi(h,f,r),r&&g&4&&My(h,f);break;case 13:Zi(h,f,r),r&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,r),ol(f,f.return);break;case 30:break;default:Zi(h,f,r)}n=n.sibling}}function sd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Qo(r))}function rd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function ni(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(e,n,r,o),n=n.sibling}function Py(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,r,o),h&2048&&al(9,n);break;case 1:ni(e,n,r,o);break;case 3:ni(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){ni(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(n,n.return,R)}}else ni(e,n,r,o);break;case 31:ni(e,n,r,o);break;case 13:ni(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,r,o):ll(e,n):f._visibility&2?ni(e,n,r,o):(f._visibility|=2,Oa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(g,n);break;case 24:ni(e,n,r,o),h&2048&&rd(n.alternate,n);break;default:ni(e,n,r,o)}}function Oa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,R,h),al(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Oa(f,g,E,R,h):ll(f,g):(F._visibility|=2,Oa(f,g,E,R,h)),h&&z&2048&&sd(g.alternate,g);break;case 24:Oa(f,g,E,R,h),h&&z&2048&&rd(g.alternate,g);break;default:Oa(f,g,E,R,h)}n=n.sibling}}function ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:ll(r,o),h&2048&&sd(o.alternate,o);break;case 24:ll(r,o),h&2048&&rd(o.alternate,o);break;default:ll(r,o)}n=n.sibling}}var ul=8192;function Va(e,n,r){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)zy(e,n,r),e=e.sibling}function zy(e,n,r){switch(e.tag){case 26:Va(e,n,r),e.flags&ul&&e.memoizedState!==null&&xS(r,ei,e.memoizedState,e.memoizedProps);break;case 5:Va(e,n,r);break;case 3:case 4:var o=ei;ei=Ac(e.stateNode.containerInfo),Va(e,n,r),ei=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Va(e,n,r),ul=o):Va(e,n,r));break;default:Va(e,n,r)}}function jy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];je=o,qy(o,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cc(e)):cl(e);break;default:cl(e)}}function cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];je=o,qy(o,e)}jy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ms(8,n,n.return),cc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,cc(n));break;default:cc(n)}e=e.sibling}}function qy(e,n){for(;je!==null;){var r=je;switch(r.tag){case 0:case 11:case 15:Ms(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,je=o;else t:for(r=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(Oy(o),o===r){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var K1={getCacheForType:function(e){var n=Fe(Ce),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Fe(Ce).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Dt=null,Mt=0,$t=0,wn=null,ks=!1,Ma=!1,ad=!1,Wi=0,me=0,Ls=0,Hr=0,od=0,Rn=0,ka=0,hl=null,dn=null,ld=!1,hc=0,Hy=0,fc=1/0,dc=null,Us=null,Me=0,Ps=null,La=null,ts=0,ud=0,cd=null,Gy=null,fl=0,hd=null;function Cn(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:H.T!==null?yd():mu()}function Fy(){if(Rn===0)if((Mt&536870912)===0||zt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function mn(e,n,r){(e===ne&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),zs(e,Mt,Rn,!1)),yr(e,r),((Qt&2)===0||e!==ne)&&(e===ne&&((Qt&2)===0&&(Hr|=r),me===4&&zs(e,Mt,Rn,!1)),Ci(e))}function Ky(e,n,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?$1(e,n):dd(e,n,!0),f=o;do{if(h===0){Ma&&!o&&zs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Y1(r)){h=dd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=hl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ua(E,g).flags|=256),g=dd(E,g,!1),g!==2){if(ad&&!R){E.errorRecoveryDisabledLanes|=f,Hr|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),zs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zs(o,n,Rn,!ks);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=hc+300-rn(),10<h)){if(zs(o,n,Rn,!ks),ui(o,0,!0)!==0)break t;ts=n,o.timeoutHandle=A_(Qy.bind(null,o,r,dn,dc,ld,n,Rn,Hr,ka,ks,f,"Throttled",-0,0),h);break t}Qy(o,r,dn,dc,ld,n,Rn,Hr,ka,ks,f,null,-0,0)}}break}while(!0);Ci(e)}function Qy(e,n,r,o,h,f,g,E,R,z,F,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},zy(n,f,X);var ot=(f&62914560)===f?hc-rn():(f&4194048)===f?Hy-rn():0;if(ot=OS(X,ot),ot!==null){ts=f,e.cancelPendingCommit=ot(e_.bind(null,e,n,f,r,o,h,g,E,R,F,X,null,j,q)),zs(e,f,g,!z);return}}e_(e,n,f,r,o,h,g,E,R)}function Y1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(e,n,r,o){n&=~od,n&=~Hr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&_r(e,r,n)}function mc(){return(Qt&6)===0?(dl(0),!1):!0}function fd(){if(Dt!==null){if($t===0)var e=Dt.return;else e=Dt,Hi=Mr=null,If(e),Ca=null,Xo=0,e=Dt;for(;e!==null;)by(e.alternate,e),e=e.return;Dt=null}}function Ua(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,mS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ts=0,fd(),ne=e,Dt=r=Bi(e.current,null),Mt=n,$t=0,wn=null,ks=!1,Ma=Kn(e,n),ad=!1,ka=Rn=od=Hr=Ls=me=0,dn=hl=null,ld=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-pe(o),f=1<<h;n|=e[h],o&=~f}return Wi=n,ku(),r}function Yy(e,n){It=null,H.H=il,n===Ra||n===Hu?(n=cg(),$t=3):n===gf?(n=cg(),$t=4):$t=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Dt===null&&(me=1,ic(e,kn(n,e.current)))}function Xy(){var e=An.current;return e===null?!0:(Mt&4194048)===Mt?zn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===zn:!1}function $y(){var e=H.H;return H.H=il,e===null?il:e}function Jy(){var e=H.A;return H.A=K1,e}function pc(){me=4,ks||(Mt&4194048)!==Mt&&An.current!==null||(Ma=!0),(Ls&134217727)===0&&(Hr&134217727)===0||ne===null||zs(ne,Mt,Rn,!1)}function dd(e,n,r){var o=Qt;Qt|=2;var h=$y(),f=Jy();(ne!==e||Mt!==n)&&(dc=null,Ua(e,n)),n=!1;var g=me;t:do try{if($t!==0&&Dt!==null){var E=Dt,R=wn;switch($t){case 8:fd(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=$t;if($t=0,wn=null,Pa(e,E,R,z),r&&Ma){g=0;break t}break;default:z=$t,$t=0,wn=null,Pa(e,E,R,z)}}X1(),g=me;break}catch(F){Yy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Hi=Mr=null,Qt=o,H.H=h,H.A=f,Dt===null&&(ne=null,Mt=0,ku()),g}function X1(){for(;Dt!==null;)Zy(Dt)}function $1(e,n){var r=Qt;Qt|=2;var o=$y(),h=Jy();ne!==e||Mt!==n?(dc=null,fc=rn()+500,Ua(e,n)):Ma=Kn(e,n);t:do try{if($t!==0&&Dt!==null){n=Dt;var f=wn;e:switch($t){case 1:$t=0,wn=null,Pa(e,n,f,1);break;case 2:case 9:if(lg(f)){$t=0,wn=null,Wy(n);break}n=function(){$t!==2&&$t!==9||ne!==e||($t=7),Ci(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:lg(f)?($t=0,wn=null,Wy(n)):($t=0,wn=null,Pa(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?P_(g):E.stateNode.complete){$t=0,wn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,gc(z)):Dt=null}break e}}$t=0,wn=null,Pa(e,n,f,5);break;case 6:$t=0,wn=null,Pa(e,n,f,6);break;case 8:fd(),me=6;break t;default:throw Error(a(462))}}J1();break}catch(F){Yy(e,F)}while(!0);return Hi=Mr=null,H.H=o,H.A=h,Qt=r,Dt!==null?0:(ne=null,Mt=0,ku(),me)}function J1(){for(;Dt!==null&&!qh();)Zy(Dt)}function Zy(e){var n=Sy(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?gc(e):Dt=n}function Wy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=gy(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=gy(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:If(n);default:by(r,n),n=Dt=Jp(n,Wi),n=Sy(r,n,Wi)}e.memoizedProps=e.pendingProps,n===null?gc(e):Dt=n}function Pa(e,n,r,o){Hi=Mr=null,If(n),Ca=null,Xo=0;var h=n.return;try{if(z1(e,h,n,r,Mt)){me=1,ic(e,kn(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;me=1,ic(e,kn(r,e.current)),Dt=null;return}n.flags&32768?(zt||o===1?e=!0:Ma||(Mt&536870912)!==0?e=!1:(ks=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,e)):gc(n)}function gc(e){var n=e;do{if((n.flags&32768)!==0){t_(n,ks);return}e=n.return;var r=q1(n.alternate,n,Wi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);me===0&&(me=5)}function t_(e,n){do{var r=H1(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);me=6,Dt=null}function e_(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do yc();while(Me!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Fh(e,r,f,g,E,R),e===ne&&(Dt=ne=null,Mt=0),La=n,Ps=e,ts=r,ud=f,cd=h,Gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eS(ps,function(){return a_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,g=Qt,Qt|=4;try{G1(e,n,r)}finally{Qt=g,tt.p=h,H.T=o}}Me=1,n_(),i_(),s_()}}function n_(){if(Me===1){Me=0;var e=Ps,n=La,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{Ly(n,e);var f=wd,g=qp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Bp(E.ownerDocument.documentElement,E)){if(R!==null&&Xh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(R.start,ot),ee=R.end===void 0?pt:Math.min(R.end,ot);!q.extend&&pt>ee&&(g=ee,ee=pt,pt=g);var k=jp(E,pt),D=jp(E,ee);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),pt>ee?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!bd,wd=bd=null}finally{Qt=h,tt.p=o,H.T=r}}e.current=n,Me=2}}function i_(){if(Me===2){Me=0;var e=Ps,n=La,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{xy(e,n.alternate,n)}finally{Qt=h,tt.p=o,H.T=r}}Me=3}}function s_(){if(Me===4||Me===3){Me=0,ou();var e=Ps,n=La,r=ts,o=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,La=Ps=null,r_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Us=null),Ui(r),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(ts&3)!==0&&yc(),Ci(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===hd?fl++:(fl=0,hd=e):fl=0,dl(0)}}function r_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function yc(){return n_(),i_(),s_(),a_()}function a_(){if(Me!==5)return!1;var e=Ps,n=ud;ud=0;var r=Ui(ts),o=H.T,h=tt.p;try{tt.p=32>r?32:r,H.T=null,r=cd,cd=null;var f=Ps,g=ts;if(Me=0,La=Ps=null,ts=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,By(f.current),Py(f,f.current,g,r),Qt=E,dl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{tt.p=h,H.T=o,r_(e,n)}}function o_(e,n,r){n=kn(r,n),n=Hf(e.stateNode,n,2),e=xs(e,n,2),e!==null&&(yr(e,2),Ci(e))}function Jt(e,n,r){if(e.tag===3)o_(e,e,r);else for(;n!==null;){if(n.tag===3){o_(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Us===null||!Us.has(o))){e=kn(r,e),r=ly(2),o=xs(n,r,2),o!==null&&(uy(r,o,n,e),yr(o,2),Ci(o));break}}n=n.return}}function md(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(ad=!0,h.add(r),e=Z1.bind(null,e,n,r),n.then(e,e))}function Z1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ne===e&&(Mt&r)===r&&(me===4||me===3&&(Mt&62914560)===Mt&&300>rn()-hc?(Qt&2)===0&&Ua(e,0):od|=r,ka===Mt&&(ka=0)),Ci(e)}function l_(e,n){n===0&&(n=du()),e=xr(e,n),e!==null&&(yr(e,n),Ci(e))}function W1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),l_(e,r)}function tS(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),l_(e,r)}function eS(e,n){return Ve(e,n)}var _c=null,za=null,pd=!1,vc=!1,gd=!1,js=0;function Ci(e){e!==za&&e.next===null&&(za===null?_c=za=e:za=za.next=e),vc=!0,pd||(pd=!0,iS())}function dl(e,n){if(!gd&&vc){gd=!0;do for(var r=!1,o=_c;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,f_(o,f))}else f=Mt,f=ui(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(r=!0,f_(o,f));o=o.next}while(r);gd=!1}}function nS(){u_()}function u_(){vc=pd=!1;var e=0;js!==0&&dS()&&(e=js);for(var n=rn(),r=null,o=_c;o!==null;){var h=o.next,f=c_(o,n);f===0?(o.next=null,r===null?_c=h:r.next=h,h===null&&(za=r)):(r=o,(e!==0||(f&3)!==0)&&(vc=!0)),o=h}Me!==0&&Me!==5||dl(e),js!==0&&(js=0)}function c_(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-pe(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Gh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,r=Mt,r=ui(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ms(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ms(o),Ui(r)){case 2:case 8:r=Ao;break;case 32:r=ps;break;case 268435456:r=lu;break;default:r=ps}return o=h_.bind(null,e),r=Ve(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ms(o),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(yc()&&e.callbackNode!==r)return null;var o=Mt;return o=ui(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ky(e,o,n),c_(e,rn()),e.callbackNode!=null&&e.callbackNode===r?h_.bind(null,e):null)}function f_(e,n){if(yc())return null;Ky(e,n,!0)}function iS(){pS(function(){(Qt&6)!==0?Ve(So,nS):u_()})}function yd(){if(js===0){var e=ba;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),js=e}return js}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function m_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function sS(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=d_((h[Pe]||null).action),g=o.submitter;g&&(n=(n=g[Pe]||null)?d_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var R=g?m_(h,g):new FormData(h);Uf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?m_(h,g):new FormData(h),Uf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],rS=vd.toLowerCase(),aS=vd[0].toUpperCase()+vd.slice(1);ti(rS,"on"+aS)}ti(Fp,"onAnimationEnd"),ti(Kp,"onAnimationIteration"),ti(Qp,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(S1,"onTransitionRun"),ti(A1,"onTransitionStart"),ti(b1,"onTransitionCancel"),ti(Yp,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function p_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=R}}}}function xt(e,n){var r=n[sa];r===void 0&&(r=n[sa]=new Set);var o=e+"__bubble";r.has(o)||(g_(n,e,2,!1),r.add(o))}function Ed(e,n,r){var o=0;n&&(o|=4),g_(r,e,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[Ec]){e[Ec]=!0,Ro.forEach(function(r){r!=="selectionchange"&&(oS.has(r)||Ed(r,!1,e),Ed(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,Ed("selectionchange",!1,n))}}function g_(e,n,r,o){switch(F_(n)){case 2:var h=kS;break;case 8:h=LS;break;default:h=Ld}r=h.bind(null,n,r,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Sd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ts(function(){var z=f,F=xn(r),X=[];t:{var j=Xp.get(e);if(j!==void 0){var q=Ei,ot=e;switch(e){case"keypress":if(wr(r)===0)break t;case"keydown":case"keyup":q=xu;break;case"focusin":ot="focus",q=Cr;break;case"focusout":ot="blur",q=Cr;break;case"beforeblur":case"afterblur":q=Cr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Fp:case Kp:case Qp:q=bu;break;case Yp:q=T;break;case"scroll":case"scrollend":q=Po;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ji;break;case"toggle":case"beforetoggle":q=Ct}var pt=(n&4)!==0,ee=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=$n(D,k),K!=null&&pt.push(pl(D,K,P))),ee)break;D=D.return}0<pt.length&&(j=new q(j,ot,null,r,F),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==ko&&(ot=r.relatedTarget||r.fromElement)&&(di(ot)||ot[hi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=r.relatedTarget||r.toElement,q=z,ot=ot?di(ot):null,ot!==null&&(ee=c(ot),pt=ot.tag,ot!==ee||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=zo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=ji,K="onPointerLeave",k="onPointerEnter",D="pointer"),ee=q==null?j:vn(q),P=ot==null?j:vn(ot),j=new pt(K,D+"leave",q,r,F),j.target=ee,j.relatedTarget=P,K=null,di(F)===z&&(pt=new pt(k,D+"enter",ot,r,F),pt.target=P,pt.relatedTarget=ee,K=pt),ee=K,q&&ot)e:{for(pt=lS,k=q,D=ot,P=0,K=k;K;K=pt(K))P++;K=0;for(var ft=D;ft;ft=pt(ft))K++;for(;0<P-K;)k=pt(k),P--;for(;0<K-P;)D=pt(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;q!==null&&y_(X,j,q,pt,!1),ot!==null&&ee!==null&&y_(X,ee,ot,pt,!0)}}t:{if(j=z?vn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=Mp;else if(Op(j))if(kp)Bt=v1;else{Bt=y1;var ut=g1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&la(z.elementType)&&(Bt=Mp):Bt=_1;if(Bt&&(Bt=Bt(e,z))){Vp(X,Bt,r,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Oo(j,"number",j.value)}switch(ut=z?vn(z):window,e){case"focusin":(Op(ut)||ut.contentEditable==="true")&&(ga=ut,$h=z,Go=null);break;case"focusout":Go=$h=ga=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Hp(X,r,F);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":Hp(X,r,F)}var Nt;if(Kt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else pa?Ir(e,r)&&(kt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(kt="onCompositionStart");kt&&(Ai&&r.locale!=="ko"&&(pa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&pa&&(Nt=Uo()):(vi=F,Lo="value"in vi?vi.value:vi.textContent,pa=!0)),ut=Tc(z,kt),0<ut.length&&(kt=new Si(kt,e,null,r,F),X.push({event:kt,listeners:ut}),Nt?kt.data=Nt:(Nt=ma(r),Nt!==null&&(kt.data=Nt)))),(Nt=Vn?f1(e,r):d1(e,r))&&(kt=Tc(z,"onBeforeInput"),0<kt.length&&(ut=new Si("onBeforeInput","beforeinput",null,r,F),X.push({event:ut,listeners:kt}),ut.data=Nt)),sS(X,e,z,r,F)}p_(X,n)})}function pl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Tc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,r),h!=null&&o.unshift(pl(e,h,f)),h=$n(e,n),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function lS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=$n(r,f),z!=null&&g.unshift(pl(r,z,R))):h||(z=$n(r,f),z!=null&&g.push(pl(r,z,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function __(e){return(typeof e=="string"?e:""+e).replace(uS,`
`).replace(cS,"")}function v_(e,n){return n=__(n),__(e)===n}function te(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||un(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&un(e,""+o);break;case"className":En(e,"class",o);break;case"tabIndex":En(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,r,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){En(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tu.get(r)||r,aa(e,r,o))}}function Ad(e,n,r,o,h,f){switch(r){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?un(e,o):(typeof o=="number"||typeof o=="bigint")&&un(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):aa(e,r,o)}}}function Qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,g,r,null)}}h&&te(e,n,"srcSet",r.srcSet,r,null),o&&te(e,n,"src",r.src,r,null);return;case"input":xt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:te(e,n,o,F,r,null)}}_u(e,f,E,R,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:te(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?ys(e,!!o,n,!1):r!=null&&ys(e,!!o,r,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(e,n,g,E,r,null)}_s(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":te(e,n,R,o,r,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)xt(ml[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,z,o,r,null)}return;default:if(la(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&Ad(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&te(e,n,E,o,r,null))}function hS(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,F=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||te(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=r[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&te(e,n,j,q,o,X)}}oa(e,g,E,R,z,F,f,h);return;case"select":q=g=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||te(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&te(e,n,h,f,o,R)}n=E,r=g,o=q,j!=null?ys(e,!!r,j,!1):!!o!=!!r&&(n!=null?ys(e,!!r,n,!0):ys(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,g,h,o,f)}vu(e,j,q);return;case"option":for(var ot in r)j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:te(e,n,ot,null,o,j));for(R in o)j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":te(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&te(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:te(e,n,z,j,o,q)}return;default:if(la(n)){for(var ee in r)j=r[ee],r.hasOwnProperty(ee)&&j!==void 0&&!o.hasOwnProperty(ee)&&Ad(e,n,ee,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||Ad(e,n,F,j,o,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&te(e,n,k,null,o,j);for(X in o)j=o[X],q=r[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||te(e,n,X,j,o,q)}function E_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&E_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var F=R.transferSize,X=R.initiatorType;F&&E_(X)&&(R=R.responseEnd,g+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bd=null,wd=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function dS(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(gS)}:A_;function gS(e){setTimeout(function(){throw e})}function Bs(e){return e==="head"}function w_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")gl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,gl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&gl(e.ownerDocument.body);r=h}while(r);Ha(n)}function R_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Id(r),ra(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function yS(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function _S(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=jn(e.nextSibling),e===null))return null;return e}function C_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vS(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var xd=null;function I_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return jn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function D_(e,n,r){switch(n=Sc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Bn=new Map,x_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=tt.d;tt.d={f:ES,r:TS,D:SS,C:AS,L:bS,m:wS,X:CS,S:RS,M:IS};function ES(){var e=es.f(),n=mc();return e||n}function TS(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Yg(n):es.r(e)}var ja=typeof document>"u"?null:document;function O_(e,n,r){var o=ja;if(o&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),x_.has(h)||(x_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),we(n),o.head.appendChild(n)))}}function SS(e){es.D(e),O_("dns-prefetch",e,null)}function AS(e,n){es.C(e,n),O_("preconnect",e,n)}function bS(e,n,r){es.L(e,n,r);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ln(r.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Bn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),Qe(n,"link",e),we(n),o.head.appendChild(n)))}}function wS(e,n){es.m(e,n);var r=ja;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Bn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Bn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(_l(f)))return}o=r.createElement("link"),Qe(o,"link",e),we(o),r.head.appendChild(o)}}}function RS(e,n,r){es.S(e,n,r);var o=ja;if(o&&e){var h=mi(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(yl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Bn.get(f))&&Od(e,r);var R=g=o.createElement("link");we(R),Qe(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function CS(e,n){es.X(e,n);var r=ja;if(r&&e){var o=mi(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(_l(h)),f||(e=b({src:e,async:!0},n),(n=Bn.get(h))&&Vd(e,n),f=r.createElement("script"),we(f),Qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function IS(e,n){es.M(e,n);var r=ja;if(r&&e){var o=mi(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(_l(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&Vd(e,n),f=r.createElement("script"),we(f),Qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V_(e,n,r,o){var h=(h=G.current)?Ac(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ba(r.href),r=mi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ba(r.href);var f=mi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(yl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bn.set(e,r),f||NS(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(r),r=mi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+ln(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function NS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",r),we(n),e.head.appendChild(n))}function qa(e){return'[src="'+ln(e)+'"]'}function _l(e){return"script[async]"+e}function k_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ln(r.href)+'"]');if(o)return n.instance=o,we(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),we(o),Qe(o,"style",h),bc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ba(r.href);var f=e.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;o=M_(r),(h=Bn.get(h))&&Od(o,h),f=(e.ownerDocument||e).createElement("link"),we(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Qe(f,"link",o),n.state.loading|=4,bc(f,r.precedence,e),n.instance=f;case"script":return f=qa(r.src),(h=e.querySelector(_l(f)))?(n.instance=h,we(h),h):(o=r,(h=Bn.get(f))&&(o=b({},r),Vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,r.precedence,e));return n.instance}function bc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var wc=null;function L_(e,n,r){if(wc===null){var o=new Map,h=wc=new Map;h.set(r,o)}else h=wc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[fi]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function U_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function DS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,we(f);return}f=n.ownerDocument||n,o=M_(o),(h=Bn.get(h))&&Od(o,h),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Rc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Md=0;function OS(e,n){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Md===0&&(Md=62500*fS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function Ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,n.forEach(VS,e),Cc=null,Rc.call(e))}function VS(e,n){if(!(n.state.loading&4)){var r=Cc.get(e);if(r)var o=r.get(null);else{r=new Map,Cc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vl={$$typeof:vt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function MS(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function z_(e,n,r,o,h,f,g,E,R,z,F,X){return e=new MS(e,n,r,g,R,z,F,X,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=df(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},yf(f),e}function j_(e){return e?(e=va,e):va}function B_(e,n,r,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=xs(e,o,n),r!==null&&(mn(r,e,n),Jo(r,e,n))}function q_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function kd(e,n){q_(e,n),(e=e.alternate)&&q_(e,n)}function H_(e){if(e.tag===13||e.tag===31){var n=xr(e,67108864);n!==null&&mn(n,e,67108864),kd(e,67108864)}}function G_(e){if(e.tag===13||e.tag===31){var n=Cn();n=vr(n);var r=xr(e,n);r!==null&&mn(r,e,n),kd(e,n)}}var Nc=!0;function kS(e,n,r,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Ld(e,n,r,o)}finally{tt.p=f,H.T=h}}function LS(e,n,r,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Ld(e,n,r,o)}finally{tt.p=f,H.T=h}}function Ld(e,n,r,o){if(Nc){var h=Ud(o);if(h===null)Sd(e,n,o,Dc,r),K_(e,o);else if(PS(h,e,n,r,o))o.stopPropagation();else if(K_(e,o),n&4&&-1<US.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-pe(g);E.entanglements[1]|=R,g&=~R}Ci(f),(Qt&6)===0&&(fc=rn()+500,dl(0))}}break;case 31:case 13:E=xr(f,2),E!==null&&mn(E,f,2),mc(),kd(f,2)}if(f=Ud(o),f===null&&Sd(e,n,o,Dc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(e,n,o,null,r)}}function Ud(e){return e=xn(e),Pd(e)}var Dc=null;function Pd(e){if(Dc=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Dc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case So:return 2;case Ao:return 8;case ps:case Hh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var zd=!1,qs=null,Hs=null,Gs=null,El=new Map,Tl=new Map,Fs=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(e,n){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function Sl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&H_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function PS(e,n,r,o,h){switch(n){case"focusin":return qs=Sl(qs,e,n,r,o,h),!0;case"dragenter":return Hs=Sl(Hs,e,n,r,o,h),!0;case"mouseover":return Gs=Sl(Gs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Sl(El.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Sl(Tl.get(f)||null,e,n,r,o,h)),!0}return!1}function Q_(e){var n=di(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){G_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){G_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ud(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);ko=o,r.target.dispatchEvent(o),ko=null}else return n=Dn(r),n!==null&&H_(n),e.blockedOn=r,!1;n.shift()}return!0}function Y_(e,n,r){xc(e)&&r.delete(n)}function zS(){zd=!1,qs!==null&&xc(qs)&&(qs=null),Hs!==null&&xc(Hs)&&(Hs=null),Gs!==null&&xc(Gs)&&(Gs=null),El.forEach(Y_),Tl.forEach(Y_)}function Oc(e,n){e.blockedOn===n&&(e.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zS)))}var Vc=null;function X_(e){Vc!==e&&(Vc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Pd(o||r)===null)continue;break}var f=Dn(r);f!==null&&(e.splice(n,3),n-=3,Uf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ha(e){function n(R){return Oc(R,e)}qs!==null&&Oc(qs,e),Hs!==null&&Oc(Hs,e),Gs!==null&&Oc(Gs,e),El.forEach(n),Tl.forEach(n);for(var r=0;r<Fs.length;r++){var o=Fs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Fs.length&&(r=Fs[0],r.blockedOn===null);)Q_(r),r.blockedOn===null&&Fs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Pe]||null;if(typeof f=="function")g||X_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(Pd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),X_(r)}}}function $_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(e){this._internalRoot=e}Mc.prototype.render=jd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Cn();B_(r,o,e,n,null,null)},Mc.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;B_(e.current,2,null,e,null,null),mc(),n[hi]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=mu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Fs.length&&n!==0&&n<Fs[r].priority;r++);Fs.splice(r,0,e),r===0&&Q_(e)}};var J_=t.version;if(J_!=="19.2.4")throw Error(a(527,J_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var jS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Fn=kc.inject(jS),qe=kc}catch{}}return bl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=sy,f=ry,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=z_(e,1,!1,null,null,r,o,null,h,f,g,$_),e[hi]=n.current,Td(e),new jd(n)},bl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=sy,g=ry,E=ay,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=z_(e,1,!0,n,r??null,o,h,R,f,g,E,$_),n.context=j_(null),r=n.current,o=Cn(),o=vr(o),h=Ds(o),h.callback=null,xs(r,h,o),r=o,n.current.lanes=r,yr(n,r),Ci(n),e[hi]=n.current,Td(e),new Mc(n)},bl.version="19.2.4",bl}var ov;function $S(){if(ov)return Hd.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hd.exports=XS(),Hd.exports}var JS=$S();const ZS=()=>{};var lv={};const q0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},WS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(x=64)),a.push(i[S],i[b],i[x],i[Q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(q0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):WS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new tA;const x=c<<2|p>>4;if(a.push(x),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),b!==64){const Z=y<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eA=function(s){const t=q0(s);return H0.encodeByteArray(t,!0)},eh=function(s){return eA(s).replace(/\./g,"")},G0=function(s){try{return H0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iA=()=>nA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof lv>"u")return;const s=lv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&G0(s[1]);return t&&JSON.parse(t)},Eh=()=>{try{return ZS()||iA()||sA()||rA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},F0=s=>Eh()?.emulatorHosts?.[s],aA=s=>{const t=F0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},K0=()=>Eh()?.config,Q0=s=>Eh()?.[`_${s}`];class oA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y0(s){return(await fetch(s,{credentials:"include"})).ok}function lA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const Vl={};function uA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?s.emulator.push(t):s.prod.push(t);return s}function cA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let uv=!1;function X0(s,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Vl[s]===t||Vl[s]||uv)return;Vl[s]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=uA().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{uv=!0,d()},x}function S(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=cA(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),nt=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),Rt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const vt=x.element;p(vt),S(nt,it);const Ht=y();_(Rt,mt),vt.append(Rt,Z,nt,Ht),document.body.appendChild(vt)}c?(Z.innerText="Preview backend disconnected.",Rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function fA(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _A(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const EA="FirebaseError";class fs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=EA,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?TA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new fs(l,p,a)}}function TA(s,t){return s.replace(SA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const SA=/\{\$([^}]+)}/g;function AA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function as(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(cv(c)&&cv(d)){if(!as(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function cv(s){return s!==null&&typeof s=="object"}function $l(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Cl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Il(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function bA(s,t){const i=new wA(s,t);return i.subscribe.bind(i)}class wA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");RA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}function $e(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gr="[DEFAULT]";class CA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new oA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NA(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:IA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IA(s){return s===Gr?void 0:s}function NA(s){return s.instantiationMode==="EAGER"}class DA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new CA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const xA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},OA=Lt.INFO,VA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},MA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=VA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=OA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const kA=(s,t)=>t.some(i=>s instanceof i);let hv,fv;function LA(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,um=new WeakMap,J0=new WeakMap,Yd=new WeakMap,Um=new WeakMap;function PA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ws(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&$0.set(i,s)}).catch(()=>{}),Um.set(t,s),t}function zA(s){if(um.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});um.set(s,t)}let cm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return um.get(s);if(t==="objectStoreNames")return s.objectStoreNames||J0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ws(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function jA(s){cm=s(cm)}function BA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Xd(this),t,...i);return J0.set(a,t.sort?t.sort():[t]),Ws(a)}:UA().includes(s)?function(...t){return s.apply(Xd(this),t),Ws($0.get(this))}:function(...t){return Ws(s.apply(Xd(this),t))}}function qA(s){return typeof s=="function"?BA(s):(s instanceof IDBTransaction&&zA(s),kA(s,LA())?new Proxy(s,cm):s)}function Ws(s){if(s instanceof IDBRequest)return PA(s);if(Yd.has(s))return Yd.get(s);const t=qA(s);return t!==s&&(Yd.set(s,t),Um.set(t,s)),t}const Xd=s=>Um.get(s);function HA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Ws(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ws(d.result),_.oldVersion,_.newVersion,Ws(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const GA=["get","getKey","getAll","getAllKeys","count"],FA=["put","add","delete","clear"],$d=new Map;function dv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=FA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||GA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return $d.set(t,c),c}jA(s=>({...s,get:(t,i,a)=>dv(t,i)||s.get(t,i,a),has:(t,i)=>!!dv(t,i)||s.has(t,i)}));class KA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function QA(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",mv="0.14.8";const os=new Lm("@firebase/app"),YA="@firebase/app-compat",XA="@firebase/analytics-compat",$A="@firebase/analytics",JA="@firebase/app-check-compat",ZA="@firebase/app-check",WA="@firebase/auth",tb="@firebase/auth-compat",eb="@firebase/database",nb="@firebase/data-connect",ib="@firebase/database-compat",sb="@firebase/functions",rb="@firebase/functions-compat",ab="@firebase/installations",ob="@firebase/installations-compat",lb="@firebase/messaging",ub="@firebase/messaging-compat",cb="@firebase/performance",hb="@firebase/performance-compat",fb="@firebase/remote-config",db="@firebase/remote-config-compat",mb="@firebase/storage",pb="@firebase/storage-compat",gb="@firebase/firestore",yb="@firebase/ai",_b="@firebase/firestore-compat",vb="firebase",Eb="12.9.0";const fm="[DEFAULT]",Tb={[hm]:"fire-core",[YA]:"fire-core-compat",[$A]:"fire-analytics",[XA]:"fire-analytics-compat",[ZA]:"fire-app-check",[JA]:"fire-app-check-compat",[WA]:"fire-auth",[tb]:"fire-auth-compat",[eb]:"fire-rtdb",[nb]:"fire-data-connect",[ib]:"fire-rtdb-compat",[sb]:"fire-fn",[rb]:"fire-fn-compat",[ab]:"fire-iid",[ob]:"fire-iid-compat",[lb]:"fire-fcm",[ub]:"fire-fcm-compat",[cb]:"fire-perf",[hb]:"fire-perf-compat",[fb]:"fire-rc",[db]:"fire-rc-compat",[mb]:"fire-gcs",[pb]:"fire-gcs-compat",[gb]:"fire-fst",[_b]:"fire-fst-compat",[yb]:"fire-vertex","fire-js":"fire-js",[vb]:"fire-js-all"};const zl=new Map,Sb=new Map,dm=new Map;function pv(s,t){try{s.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function eo(s){const t=s.name;if(dm.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,s);for(const i of zl.values())pv(i,s);for(const i of Sb.values())pv(i,s);return!0}function Pm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function qn(s){return s==null?!1:s.settings!==void 0}const Ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Xl("app","Firebase",Ab);class bb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const co=Eb;function Z0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:fm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw tr.create("bad-app-name",{appName:String(l)});if(i||(i=K0()),!i)throw tr.create("no-options");const c=zl.get(l);if(c){if(as(i,c.options)&&as(a,c.config))return c;throw tr.create("duplicate-app",{appName:l})}const d=new DA(l);for(const _ of dm.values())d.addComponent(_);const p=new bb(i,a,d);return zl.set(l,p),p}function zm(s=fm){const t=zl.get(s);if(!t&&s===fm&&K0())return Z0();if(!t)throw tr.create("no-app",{appName:s});return t}function wb(){return Array.from(zl.values())}function er(s,t,i){let a=Tb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}eo(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Rb="firebase-heartbeat-database",Cb=1,jl="firebase-heartbeat-store";let Jd=null;function W0(){return Jd||(Jd=HA(Rb,Cb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw tr.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function Ib(s){try{const i=(await W0()).transaction(jl),a=await i.objectStore(jl).get(tE(s));return await i.done,a}catch(t){if(t instanceof fs)os.warn(t.message);else{const i=tr.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function gv(s,t){try{const a=(await W0()).transaction(jl,"readwrite");await a.objectStore(jl).put(t,tE(s)),await a.done}catch(i){if(i instanceof fs)os.warn(i.message);else{const a=tr.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function tE(s){return`${s.name}!${s.options.appId}`}const Nb=1024,Db=30;class xb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Vb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Db){const l=Mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yv(),{heartbeatsToSend:i,unsentEntries:a}=Ob(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function yv(){return new Date().toISOString().substring(0,10)}function Ob(s,t=Nb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_v(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_v(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Vb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _A()?vA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ib(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function _v(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function Mb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function kb(s){eo(new Yr("platform-logger",t=>new KA(t),"PRIVATE")),eo(new Yr("heartbeat",t=>new xb(t),"PRIVATE")),er(hm,mv,s),er(hm,mv,"esm2020"),er("fire-js","")}kb("");var Lb="firebase",Ub="12.9.0";er(Lb,Ub,"app");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,eE;(function(){var s;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,N,V){for(var w=Array(arguments.length-2),st=2;st<arguments.length;st++)w[st-2]=arguments[st];return A.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let V=I.g[3],w;w=A+(V^C&(N^V))+M[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=V+(N^A&(C^N))+M[1]+3905402710&4294967295,V=A+(w<<12&4294967295|w>>>20),w=N+(C^V&(A^C))+M[2]+606105819&4294967295,N=V+(w<<17&4294967295|w>>>15),w=C+(A^N&(V^A))+M[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(V^C&(N^V))+M[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=V+(N^A&(C^N))+M[5]+1200080426&4294967295,V=A+(w<<12&4294967295|w>>>20),w=N+(C^V&(A^C))+M[6]+2821735955&4294967295,N=V+(w<<17&4294967295|w>>>15),w=C+(A^N&(V^A))+M[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(V^C&(N^V))+M[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=V+(N^A&(C^N))+M[9]+2336552879&4294967295,V=A+(w<<12&4294967295|w>>>20),w=N+(C^V&(A^C))+M[10]+4294925233&4294967295,N=V+(w<<17&4294967295|w>>>15),w=C+(A^N&(V^A))+M[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(V^C&(N^V))+M[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=V+(N^A&(C^N))+M[13]+4254626195&4294967295,V=A+(w<<12&4294967295|w>>>20),w=N+(C^V&(A^C))+M[14]+2792965006&4294967295,N=V+(w<<17&4294967295|w>>>15),w=C+(A^N&(V^A))+M[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(N^V&(C^N))+M[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=V+(C^N&(A^C))+M[6]+3225465664&4294967295,V=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(V^A))+M[11]+643717713&4294967295,N=V+(w<<14&4294967295|w>>>18),w=C+(V^A&(N^V))+M[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^V&(C^N))+M[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=V+(C^N&(A^C))+M[10]+38016083&4294967295,V=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(V^A))+M[15]+3634488961&4294967295,N=V+(w<<14&4294967295|w>>>18),w=C+(V^A&(N^V))+M[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^V&(C^N))+M[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=V+(C^N&(A^C))+M[14]+3275163606&4294967295,V=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(V^A))+M[3]+4107603335&4294967295,N=V+(w<<14&4294967295|w>>>18),w=C+(V^A&(N^V))+M[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^V&(C^N))+M[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=V+(C^N&(A^C))+M[2]+4243563512&4294967295,V=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(V^A))+M[7]+1735328473&4294967295,N=V+(w<<14&4294967295|w>>>18),w=C+(V^A&(N^V))+M[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(C^N^V)+M[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=V+(A^C^N)+M[8]+2272392833&4294967295,V=A+(w<<11&4294967295|w>>>21),w=N+(V^A^C)+M[11]+1839030562&4294967295,N=V+(w<<16&4294967295|w>>>16),w=C+(N^V^A)+M[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^V)+M[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=V+(A^C^N)+M[4]+1272893353&4294967295,V=A+(w<<11&4294967295|w>>>21),w=N+(V^A^C)+M[7]+4139469664&4294967295,N=V+(w<<16&4294967295|w>>>16),w=C+(N^V^A)+M[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^V)+M[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=V+(A^C^N)+M[0]+3936430074&4294967295,V=A+(w<<11&4294967295|w>>>21),w=N+(V^A^C)+M[3]+3572445317&4294967295,N=V+(w<<16&4294967295|w>>>16),w=C+(N^V^A)+M[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^V)+M[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=V+(A^C^N)+M[12]+3873151461&4294967295,V=A+(w<<11&4294967295|w>>>21),w=N+(V^A^C)+M[15]+530742520&4294967295,N=V+(w<<16&4294967295|w>>>16),w=C+(N^V^A)+M[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(N^(C|~V))+M[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=V+(C^(A|~N))+M[7]+1126891415&4294967295,V=A+(w<<10&4294967295|w>>>22),w=N+(A^(V|~C))+M[14]+2878612391&4294967295,N=V+(w<<15&4294967295|w>>>17),w=C+(V^(N|~A))+M[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~V))+M[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=V+(C^(A|~N))+M[3]+2399980690&4294967295,V=A+(w<<10&4294967295|w>>>22),w=N+(A^(V|~C))+M[10]+4293915773&4294967295,N=V+(w<<15&4294967295|w>>>17),w=C+(V^(N|~A))+M[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~V))+M[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=V+(C^(A|~N))+M[15]+4264355552&4294967295,V=A+(w<<10&4294967295|w>>>22),w=N+(A^(V|~C))+M[6]+2734768916&4294967295,N=V+(w<<15&4294967295|w>>>17),w=C+(V^(N|~A))+M[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~V))+M[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=V+(C^(A|~N))+M[11]+3174756917&4294967295,V=A+(w<<10&4294967295|w>>>22),w=N+(A^(V|~C))+M[2]+718787259&4294967295,N=V+(w<<15&4294967295|w>>>17),w=C+(V^(N|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,M=this.C;let N=this.h,V=0;for(;V<A;){if(N==0)for(;V<=C;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<A;)if(M[N++]=I.charCodeAt(V++),N==this.blockSize){l(this,M),N=0;break}}else for(;V<A;)if(M[N++]=I[V++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[A++]=this.g[C]>>>M&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let M=!0;for(let N=I.length-1;N>=0;N--){const V=I[N]|0;M&&V==A||(C[N]=V,M=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return nt(y(-I));const A=[];let C=1;for(let M=0;I>=C;M++)A[M]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return nt(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let M=b;for(let V=0;V<I.length;V+=8){var N=Math.min(8,I.length-V);const w=parseInt(I.substring(V,V+N),A);N<8?(N=y(Math.pow(A,N)),M=M.j(N).add(y(w))):(M=M.j(C),M=M.add(y(w)))}return M}var b=_(0),x=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-nt(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(it(this))return"-"+nt(this).toString(I);const A=y(Math.pow(I,6));var C=this;let M="";for(;;){const N=Ht(C,A).g;C=mt(C,N.j(A));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,Z(C))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}s.l=function(I){return I=mt(this,I),it(I)?-1:Z(I)?0:1};function nt(I){const A=I.g.length,C=[];for(let M=0;M<A;M++)C[M]=~I.g[M];return new d(C,~I.h).add(x)}s.abs=function(){return it(this)?nt(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let N=0;N<=A;N++){let V=M+(this.i(N)&65535)+(I.i(N)&65535),w=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=w>>>16,V&=65535,w&=65535,C[N]=w<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(I,A){return I.add(nt(A))}s.j=function(I){if(Z(this)||Z(I))return b;if(it(this))return it(I)?nt(this).j(nt(I)):nt(nt(this).j(I));if(it(I))return nt(this.j(nt(I)));if(this.l(Q)<0&&I.l(Q)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const V=this.i(M)>>>16,w=this.i(M)&65535,st=I.i(N)>>>16,At=I.i(N)&65535;C[2*M+2*N]+=w*At,Rt(C,2*M+2*N),C[2*M+2*N+1]+=V*At,Rt(C,2*M+2*N+1),C[2*M+2*N+1]+=w*st,Rt(C,2*M+2*N+1),C[2*M+2*N+2]+=V*st,Rt(C,2*M+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function Rt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function vt(I,A){this.g=I,this.h=A}function Ht(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new vt(b,b);if(it(I))return A=Ht(nt(I),A),new vt(nt(A.g),nt(A.h));if(it(A))return A=Ht(I,nt(A)),new vt(nt(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,M=A;M.l(I)<=0;)C=ie(C),M=ie(M);var N=Ot(C,1),V=Ot(M,1);for(M=Ot(M,2),C=Ot(C,2);!Z(M);){var w=V.add(M);w.l(I)<=0&&(N=N.add(C),V=w),M=Ot(M,1),C=Ot(C,1)}return A=mt(I,N.j(A)),new vt(N,A)}for(N=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(C),w=V.j(A);it(w)||w.l(I)>0;)C-=M,V=y(C),w=V.j(A);Z(V)&&(V=x),N=N.add(V),I=mt(I,w)}return new vt(N,I)}s.B=function(I){return Ht(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function ie(I){const A=I.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Ot(I,A){const C=A>>5;A%=32;const M=I.g.length-C,N=[];for(let V=0;V<M;V++)N[V]=A>0?I.i(V+C)>>>A|I.i(V+C+1)<<32-A:I.i(V+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,eE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,nr=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nE,Nl,iE,Gc,mm,sE,rE,aE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)W[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,W)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,v){const T=vt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var vt=new it(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Ot=!1,I=new Rt,A=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){nt(v)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(st,N),st.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var At="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=G(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function G(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var ht="closure_lm_"+(Math.random()*1e6|0),Et={};function Tt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Tt(u,m[B],v,T,L);return null}return v=To(v),u&&u[At]?u.J(m,v,p(T)?!!T.capture:!1,L):Ft(u,m,v,!1,T,L)}function Ft(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let Ct=mr(u);if(Ct||(u[ht]=Ct=new rt(u)),v=Ct.add(m,v,T,W,B),v.proxy)return v;if(T=fe(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ai(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fe(){function u(v){return m.call(u.src,u.listener,v)}const m=vo;return u}function Ue(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ue(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=To(v),u&&u[At]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=G(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=mr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=G(m,v,T,L)),(v=u>-1?m[u]:null)&&ds(v))}function ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[At])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ai(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=mr(m))?(gt(v,u),v.h==0&&(v.src=null,m[ht]=null)):ct(u)}}}function ai(u){return u in Et?Et[u]:Et[u]="on"+u}function vo(u,m){if(u.da)u=!0;else{m=new st(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ds(u),u=v.call(T,m)}return u}function mr(u){return u=u[ht],u instanceof rt?u:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(u){return typeof u=="function"?u:(u[Eo]||(u[Eo]=function(m){return u.handleEvent(m)}),u[Eo])}function Se(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(Se,M),Se.prototype[At]=!0,Se.prototype.removeEventListener=function(u,m,v,T){Ue(this,u,m,v,T)};function Ve(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=ms(B,T,!0,m)&&L;if(B=m.g=u,L=ms(B,T,!0,m)&&L,L=ms(B,T,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=ms(B,T,!1,m)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Se.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ms(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Ct=W.listener,ge=W.ha||W.src;W.fa&&gt(u.i,W),L=Ct.call(ge,T)!==!1&&L}}return L&&!T.defaultPrevented}function qh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ou(u){u.g=qh(()=>{u.g=null,u.i&&(u.i=!1,ou(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){M.call(this),this.h=u,this.g={}}b(pr,M);var So=[];function Ao(u){Vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ds(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Ao(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=d.JSON.stringify,Hh=d.JSON.parse,lu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function uu(){}function cu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){N.call(this,"d")}b(qe,N);function Nn(){N.call(this,"c")}b(Nn,N);var pe={},hu=null;function ia(){return hu=hu||new Se}pe.Ia="serverreachability";function fu(u){N.call(this,pe.Ia,u)}b(fu,N);function oi(u){const m=ia();Ve(m,new fu(m))}pe.STAT_EVENT="statevent";function gr(u,m){N.call(this,pe.STAT_EVENT,u),this.stat=m}b(gr,N);function Ae(u){const m=ia();Ve(m,new gr(m,u))}pe.Ja="timingevent";function li(u,m){N.call(this,pe.Ja,u),this.size=m}b(li,N);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Gh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var W="",Ct=B.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var ge=Ct[Kt].split("=");if(ge.length>1){const ue=ge[0];ge=ge[1];const Vn=ue.split("_");W=Vn.length>=2&&Vn[1]=="type"?W+(ue+"="+ge+"&"):W+(ue+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function du(u,m,v,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function ci(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(u,v)+(T?" "+T:"")})}function yr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Fh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ps(B)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function vr(){}b(vr,uu),vr.prototype.g=function(){return new XMLHttpRequest},wo=new vr;function Ui(u){return encodeURIComponent(String(u))}function mu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Qn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var be={},Pe={};function hi(u,m,v){u.M=1,u.A=Er(Re(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),fi(u),u.B=Re(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Yn,u.g=Nu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new rn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(So[0]=L.toString()),L=So);for(let B=0;B<L.length;B++){const W=Tt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=Jn(this.g),ge=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Ct!=4||ge==7||(ge==8||Kt<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=Kh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,Ae(12),vn(this),Dn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=gu(this,v),ue==Pe){Ct==4&&(this.m=4,Ae(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==be){this.m=4,Ae(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ue,null),mi(this,ue);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(W),W.P=!0,Ae(11))}}else ci(this.i,this.l,v,null),mi(this,v);Ct==4&&vn(this),this.o&&!this.K&&(Ct==4?wu(this.j,this):(this.o=!1,fi(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),vn(this),Dn(this)}}}catch{}};function Kh(u){if(!pu(u))return u.g.la();const m=He(u.g);if(m==="")return"";let v="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function pu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Pe:(v=Number(m.substring(v,T)),isNaN(v)?be:(T+=1,T+v>m.length?Pe:(m=m.slice(T,T+v),u.C=T+v,m)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function fi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yr(this.i,this.B),this.M!=2&&(oi(),Ae(17)),vn(this),this.m=2,Dn(this)):ra(this,this.T-u)};function Dn(u){u.j.I==0||u.K||wu(u.j,u)}function vn(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),As(v);else break t;Cr(v),Ae(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&da(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const ue=Kt[0];if(!(ue<=v.K))if(v.K=ue,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Vn=Kt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ai=Kt[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Zn=Kt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Wn=u.g;if(Wn){const Ir=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var B=T.h;B.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(T.G){const ma=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(T.wa=ma,Xt(T.J,T.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Iu(T,T.L?T.ba:null,T.W),W.L){No(T.h,W);var Ct=W,ge=T.O;ge&&(Ct.H=ge),Ct.D&&(di(Ct),fi(Ct)),T.g=W}else Au(T);v.i.length>0&&Ti(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Si(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Si(v,7):Po(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}oi(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function No(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,gs(this,u.u),this.h=u.h,xo(this,Tu(u.i)),this.m=u.m):u&&(m=String(u).match(yu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),gs(this,m[4]),this.h=yi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Tr(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Tr(m,oa,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tr(v,v.charAt(0)=="/"?Oo:_u,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tr(v,vu)),u.join("")},En.prototype.resolve=function(u){const m=Re(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)gs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Ct=L[W++];Ct=="."?T&&W==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?xo(m,Tu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Re(u){return new En(u)}function ze(u,m,v){u.j=v?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof _s?(u.i=m,ua(u.i,u.l)):(v||(m=Tr(m,ys)),u.i=new _s(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function Er(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,_u=/[#\?:]/g,Oo=/[#\?]/g,ys=/[#\?@]/g,vu=/#/g;function _s(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=_s.prototype,s.add=function(u,m){un(this),this.i=null,u=vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Eu(u,m){un(u),m=vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return un(u),m=vs(u,m),u.g.has(m)}s.forEach=function(u,m){un(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Mo(u,m){un(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return un(this),this.i=null,u=vs(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){Eu(u,m),v.length>0&&(u.i=null,u.g.set(vs(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ui(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Ui(v[B])),u.push(W)}}return this.i=u.join("&")};function Tu(u){const m=new _s;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(Eu(this,T),la(this,L,v))},u)),u.j=m}function Xn(u,m){const v=new Kn;if(d.Image){const T=new Image;T.onload=S(xn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(xn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(xn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(xn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ko(u,m){const v=new Kn,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Es(){this.g=new lu}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}b(_i,uu),_i.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Sr,Se),s=Sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ts(this):$n(this),this.readyState==3&&ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ts(this))},s.Na=function(u){this.g&&(this.response=u,Ts(this))},s.ga=function(){this.g&&Ts(this)};function Ts(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Vt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=On(v),typeof u=="string"?v!=null&&Ui(v):Xt(u,m,v))}function Zt(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,Se);var vi=/^https?$/i,Lo=["POST","PUT"];s=Zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){br(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){br(this,B)}};function br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Pi(u)}function Uo(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},s.Xa=function(){wr(this)};function wr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(yu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!vi.test(W?W.toLowerCase():"")}v=T}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Uo(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hh(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=mu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ss(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ae(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),Ti(this)};function Po(u){if(ha(u),u.I==3){var m=u.V++,v=Re(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),Rr(u,v),m=new Qn(u,u.j,m),m.M=2,m.A=Er(Re(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Cu(u)}function As(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function ha(u){As(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||A(),Ot||(ie(),Ot=!0),I.add(m,u),u.D=0}}function fa(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Su(this,L,m),v=Re(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),Rr(this,v),B&&(this.R?m="headers="+Ui(On(B))+"&"+m:this.u&&Ar(v,this.u,B)),Io(this.h,L),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),L.U=!0,hi(L,v,null)):hi(L,v,m),this.I=2}}else this.I==3&&(u?zo(this,u):this.i.length==0||Co(this.h)||zo(this))};function zo(u,m){var v;m?v=m.l:v=u.V++;const T=Re(u.J);Xt(T,"SID",u.M),Xt(T,"RID",v),Xt(T,"AID",u.K),Rr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),hi(v,T,m)}function Rr(u,m){u.H&&Vt(u.H,function(v,T){Xt(m,T,v)}),u.l&&Vt({},function(v,T){Xt(m,T,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const ge=["count="+v];Ct==-1?v>0?(Ct=L[0].g,ge.push("ofs="+Ct)):Ct=0:ge.push("ofs="+Ct);let Kt=!0;for(let ue=0;ue<v;ue++){var B=L[ue].g;const Vn=L[ue].map;if(B-=Ct,B<0)Ct=Math.max(0,L[ue].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var W=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ai,Zn]of W){let Wn=Zn;p(Zn)&&(Wn=ps(Zn)),ge.push(B+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw ge.push(B+"type="+encodeURIComponent("_badmap")),Ai}}catch{T&&T(Vn)}}if(Kt){W=ge.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||A(),Ot||(ie(),Ot=!0),I.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),Ru(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),As(this),bu(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),Rr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Er(Re(m)),v.u=null,v.R=!0,sa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,As(this),Cr(this),Ae(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wu(u,m){var v=null;if(u.g==m){da(u),jo(u),u.g=null;var T=2}else if(gi(u.h,m))v=m.G,No(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ia(),Ve(T,new li(T,v)),Ti(u)}else Au(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&fa(u,m)||T==2&&Cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new En(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),Er(T),L?Xn(T.toString(),v):ko(T.toString(),v)}else Ae(2);u.I=0,u.l&&u.l.pa(m),Cu(u),ha(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Cu(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var T=v instanceof En?Re(v):new En(v);if(T.g!="")m&&(T.g=m+"."+T.g),gs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new En(null);T&&ze(B,T),m&&(B.g=m),L&&gs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Xt(T,v,m),Xt(T,"VER",u.ka),Rr(u,T),T}function Nu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new _i({ab:v})):new Zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new an(u,m)};function an(u,m){Se.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}b(an,Se),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Po(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ps(u),u=v);m.i.push(new we(m.Ya++,u)),m.I==3&&Ti(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,an.Z.N.call(this)};function xu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(xu,qe);function Ou(){Nn.call(this),this.status=1}b(Ou,Nn);function ji(u){this.g=u}b(ji,Du),ji.prototype.ra=function(){Ve(this.g,"a")},ji.prototype.qa=function(u){Ve(this.g,new xu(u))},ji.prototype.pa=function(u){Ve(this.g,new Ou)},ji.prototype.oa=function(){Ve(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,aE=function(){return new bs},rE=function(){return ia()},sE=pe,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Gc=_r,bo.COMPLETE="complete",iE=bo,cu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Nl=cu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,nE=Zt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let ho="12.9.0";function Pb(s){ho=s}const Xr=new Lm("@firebase/firestore");function Ga(){return Xr.logLevel}function at(s,...t){if(Xr.logLevel<=Lt.DEBUG){const i=t.map(jm);Xr.debug(`Firestore (${ho}): ${s}`,...i)}}function ls(s,...t){if(Xr.logLevel<=Lt.ERROR){const i=t.map(jm);Xr.error(`Firestore (${ho}): ${s}`,...i)}}function $r(s,...t){if(Xr.logLevel<=Lt.WARN){const i=t.map(jm);Xr.warn(`Firestore (${ho}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,oE(s,a,i)}function oE(s,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ls(a),new Error(a)}function Yt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||oE(t,l,a)}function wt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends fs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ss{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class lE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class jb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Bb{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ss,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ss)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new lE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class qb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Hb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new qb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Fb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(s,t){return s<t?-1:s>t?1:0}function pm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Zd(l)===Zd(c)?Ut(l,c):Zd(l)?1:-1}return Ut(s.length,t.length)}const Kb=55296,Qb=57343;function Zd(s){const t=s.charCodeAt(0);return t>=Kb&&t<=Qb}function no(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Tv="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),l=Ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):pm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class oe extends Ni{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const Yb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ni{construct(t,i,a){return new Xe(t,i,a)}static isValidIdentifier(t){return Yb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new Xe([Tv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(oe.fromString(t))}static fromName(t){return new dt(oe.fromString(t).popFirst(5))}static empty(){return new dt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new oe(t.slice()))}}function uE(s,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Xb(s,t,i,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Sv(s){if(!dt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Av(s){if(dt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function _n(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(s);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Oe(s,t){const i={typeString:s};return t&&(i.value=t),i}function Jl(s,t){if(!cE(s))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const bv=-62135596800,wv=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*wv);return new le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<bv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Oe("string",le._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new le(0,0))}static max(){return new St(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function $b(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new sr(l,dt.empty(),t)}function Jb(s){return new sr(s.readTime,s.key,Bl)}class sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new sr(St.min(),dt.empty(),Bl)}static max(){return new sr(St.max(),dt.empty(),Bl)}}function Zb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const Wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Wb)throw s;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function ew(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;const Hm=-1;function Sh(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function nw(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const hE="";function iw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Rv(t)),t=sw(s.get(i),t);return Rv(t)}function sw(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case hE:i+="";break;default:i+=c}}return i}function Rv(s){return s+hE+""}function Cv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function cr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function fE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class he{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ye.RED,this.left=l??Ye.EMPTY,this.right=c??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ye(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new In([])}unionWith(t){let i=new Le(Xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dE("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=rw.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?Je.fromBase64String(s):Je.fromUint8Array(s)}const mE="server_timestamp",pE="__type__",gE="__previous_value__",yE="__local_write_time__";function Gm(s){return(s?.mapValue?.fields||{})[pE]?.stringValue===mE}function Ah(s){const t=s.mapValue.fields[gE];return Gm(t)?Ah(t):t}function ql(s){const t=rr(s.mapValue.fields[yE].timestampValue);return new le(t.seconds,t.nanos)}class aw{constructor(t,i,a,l,c,d,p,_,y,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=b}}const ih="(default)";class Hl{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}function ow(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(s.options.projectId,t)}const _E="__type__",lw="__max__",Pc={mapValue:{}},vE="__vector__",sh="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gm(s)?4:cw(s)?9007199254740991:uw(s)?10:11:_t(28295,{value:s})}function ki(s,t){if(s===t)return!0;const i=or(s);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ql(s).isEqual(ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ee(l.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ee(l.integerValue)===Ee(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ee(l.doubleValue),p=Ee(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return no(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Cv(d)!==Cv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ki(d[_],p[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Gl(s,t){return(s.values||[]).find((i=>ki(i,t)))!==void 0}function io(s,t){if(s===t)return 0;const i=or(s),a=or(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ee(c.integerValue||c.doubleValue),_=Ee(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return Nv(s.timestampValue,t.timestampValue);case 4:return Nv(ql(s),ql(t));case 5:return pm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ar(c),_=ar(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const S=Ut(p[y],_[y]);if(S!==0)return S}return Ut(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Ee(c.latitude),Ee(d.latitude));return p!==0?p:Ut(Ee(c.longitude),Ee(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Dv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[sh]?.arrayValue,S=_[sh]?.arrayValue,b=Ut(y?.values?.length||0,S?.values?.length||0);return b!==0?b:Dv(y,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let b=0;b<_.length&&b<S.length;++b){const x=pm(_[b],S[b]);if(x!==0)return x;const Q=io(p[_[b]],y[S[b]]);if(Q!==0)return Q}return Ut(_.length,S.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Nv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=rr(s),a=rr(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function Dv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=io(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function so(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=rr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=gm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Fc(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(s);return t?16+Fc(t):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return cr(a.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function ym(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function xv(s){return!!s&&"nullValue"in s}function Ov(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function uw(s){return(s?.mapValue?.fields||{})[_E]?.stringValue===vE}function Ml(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return cr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ml(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ml(s.arrayValue.values[i]);return t}return{...s}}function cw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lw}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(i)}setAll(t){let i=Xe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ml(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){cr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new yn(Ml(this.value))}}function EE(s){const t=[];return cr(s.fields,((i,a)=>{const l=new Xe([i]);if(Kc(a)){const c=EE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new In(t)}class nn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,St.min(),St.min(),St.min(),yn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,St.min(),St.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,St.min(),St.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function Vv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=io(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ki(s.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function hw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class TE{}class ke extends TE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new dw(t,i,a):i==="array-contains"?new gw(t,a):i==="in"?new yw(t,a):i==="not-in"?new _w(t,a):i==="array-contains-any"?new vw(t,a):new ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new mw(t,a):new pw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends TE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Li(t,i)}matches(t){return SE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(s){return s.op==="and"}function AE(s){return fw(s)&&SE(s)}function fw(s){for(const t of s.filters)if(t instanceof Li)return!1;return!0}function _m(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+so(s.value);if(AE(s))return s.filters.map((t=>_m(t))).join(",");{const t=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${t})`}}function bE(s,t){return s instanceof ke?(function(a,l){return l instanceof ke&&a.op===l.op&&a.field.isEqual(l.field)&&ki(a.value,l.value)})(s,t):s instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&bE(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function wE(s){return s instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(s):s instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(wE).join(" ,")+"}"})(s):"Filter"}class dw extends ke{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class mw extends ke{constructor(t,i){super(t,"in",i),this.keys=RE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class pw extends ke{constructor(t,i){super(t,"not-in",i),this.keys=RE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function RE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class gw extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Gl(i.arrayValue,this.value)}}class yw extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class _w extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class vw extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Gl(this.value.arrayValue,a)))}}class Ew{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function kv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new Ew(s,t,i,a,l,c,d)}function Km(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>so(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>so(a))).join(",")),t.Te=i}return t.Te}function Qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!hw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!bE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Mv(s.startAt,t.startAt)&&Mv(s.endAt,t.endAt)}function vm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Tw(s,t,i,a,l,c,d,p){return new bh(s,t,i,a,l,c,d,p)}function wh(s){return new bh(s)}function Lv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Sw(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Aw(s){return s.collectionGroup!==null}function kl(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Xe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new ah(Xe.keyField(),a))}return t.Ie}function Di(s){const t=wt(s);return t.Ee||(t.Ee=bw(t,kl(s))),t.Ee}function bw(s,t){if(s.limitType==="F")return kv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return kv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Em(s,t,i){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Rh(s,t){return Qm(Di(s),Di(t))&&s.limitType===t.limitType}function CE(s){return`${Km(Di(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>wE(l))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${a})`})(Di(s))}; limitType=${s.limitType})`}function Ch(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of kl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Vv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,kl(a),l)||a.endAt&&!(function(d,p,_){const y=Vv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,kl(a),l))})(s,t)}function ww(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function IE(s){return(t,i)=>{let a=!1;for(const l of kl(s)){const c=Rw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Rw(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?io(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const Cw=new he(dt.comparator);function us(){return Cw}const NE=new he(dt.comparator);function Dl(...s){let t=NE;for(const i of s)t=t.insert(i.key,i);return t}function DE(s){let t=NE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Fr(){return Ll()}function xE(){return Ll()}function Ll(){return new ta((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Iw=new he(dt.comparator),Nw=new Le(dt.comparator);function Pt(...s){let t=Nw;for(const i of s)t=t.add(i);return t}const Dw=new Le(Ut);function xw(){return Dw}function Ym(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function OE(s){return{integerValue:""+s}}function Ow(s,t){return nw(t)?OE(t):Ym(s,t)}class Ih{constructor(){this._=void 0}}function Vw(s,t,i){return s instanceof Fl?(function(l,c){const d={fields:{[pE]:{stringValue:mE},[yE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=Ah(c)),c&&(d.fields[gE]=c),{mapValue:d}})(i,t):s instanceof ro?ME(s,t):s instanceof ao?kE(s,t):(function(l,c){const d=VE(l,c),p=Uv(d)+Uv(l.Ae);return ym(d)&&ym(l.Ae)?OE(p):Ym(l.serializer,p)})(s,t)}function Mw(s,t,i){return s instanceof ro?ME(s,t):s instanceof ao?kE(s,t):i}function VE(s,t){return s instanceof oh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Fl extends Ih{}class ro extends Ih{constructor(t){super(),this.elements=t}}function ME(s,t){const i=LE(t);for(const a of s.elements)i.some((l=>ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ao extends Ih{constructor(t){super(),this.elements=t}}function kE(s,t){let i=LE(t);for(const a of s.elements)i=i.filter((l=>!ki(l,a)));return{arrayValue:{values:i}}}class oh extends Ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Uv(s){return Ee(s.integerValue||s.doubleValue)}function LE(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Xm{constructor(t,i){this.field=t,this.transform=i}}function kw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof ro&&l instanceof ro||a instanceof ao&&l instanceof ao?no(a.elements,l.elements,ki):a instanceof oh&&l instanceof oh?ki(a.Ae,l.Ae):a instanceof Fl&&l instanceof Fl})(s.transform,t.transform)}class Lw{constructor(t,i){this.version=t,this.transformResults=i}}class Gn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Nh{}function UE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new $m(s.key,Gn.none()):new Zl(s.key,s.data,Gn.none());{const i=s.data,a=yn.empty();let l=new Le(Xe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new hr(s.key,a,new In(l.toArray()),Gn.none())}}function Uw(s,t,i){s instanceof Zl?(function(l,c,d){const p=l.value.clone(),_=zv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof hr?(function(l,c,d){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=zv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(PE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ul(s,t,i,a){return s instanceof Zl?(function(c,d,p,_){if(!Qc(c.precondition,d))return p;const y=c.value.clone(),S=jv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof hr?(function(c,d,p,_){if(!Qc(c.precondition,d))return p;const y=jv(c.fieldTransforms,_,d),S=d.data;return S.setAll(PE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Pw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=VE(a.transform,l||null);c!=null&&(i===null&&(i=yn.empty()),i.set(a.field,c))}return i||null}function Pv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&no(a,l,((c,d)=>kw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends Nh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends Nh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function zv(s,t,i){const a=new Map;Yt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Mw(d,p,i[l]))}return a}function jv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Vw(c,d,t))}return a}class $m extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zw extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Uw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=xE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=UE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,a)=>Pv(i,a)))&&no(this.baseMutations,t.baseMutations,((i,a)=>Pv(i,a)))}}class Jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Iw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Jm(t,i,a,l)}}class Bw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qw{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,jt;function Hw(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function zE(s){if(s===void 0)return ls("GRPC error has no .code"),J.UNKNOWN;switch(s){case xe.OK:return J.OK;case xe.CANCELLED:return J.CANCELLED;case xe.UNKNOWN:return J.UNKNOWN;case xe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xe.INTERNAL:return J.INTERNAL;case xe.UNAVAILABLE:return J.UNAVAILABLE;case xe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xe.NOT_FOUND:return J.NOT_FOUND;case xe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xe.ABORTED:return J.ABORTED;case xe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xe.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function Gw(){return new TextEncoder}const Fw=new nr([4294967295,4294967295],0);function Bv(s){const t=Gw().encode(s),i=new eE;return i.update(t),new Uint8Array(i.digest())}function qv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new nr([i,a],0),new nr([l,c],0)]}class Zm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=nr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(nr.fromNumber(a)));return l.compare(Fw)===1&&(l=new nr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Bv(t),[a,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Zm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Bv(t),[a,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Dh(St.min(),l,new he(Ut),us(),Pt())}}class Wl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Wl(a,i,Pt(),Pt(),Pt())}}class Yc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class jE{constructor(t,i){this.targetId=t,this.Ce=i}}class BE{constructor(t,i,a=Je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Hv{constructor(){this.ve=0,this.Fe=Gv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Gv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Kw{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.He=zc(),this.Je=zc(),this.Ze=new he(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(vm(c))if(a===0){const d=new dt(c.path);this.et(i,d,nn.newNoDocument(d,St.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ar(a).toUint8Array()}catch(_){if(_ instanceof dE)return $r("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Zm(d,l,c)}catch(_){return $r(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&vm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,nn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Pt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Dh(t,i,this.Ze,this.je,a);return this.je=us(),this.He=zc(),this.Je=zc(),this.Ze=new he(Ut),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Hv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Le(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Le(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Hv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function zc(){return new he(dt.comparator)}function Gv(){return new he(dt.comparator)}const Qw={asc:"ASCENDING",desc:"DESCENDING"},Yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class $w{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Tm(s,t){return s.useProto3Json||Sh(t)?t:{value:t}}function lh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Jw(s,t){return lh(s,t.toTimestamp())}function xi(s){return Yt(!!s,49232),St.fromTimestamp((function(i){const a=rr(i);return new le(a.seconds,a.nanos)})(s))}function Wm(s,t){return Sm(s,t).canonicalString()}function Sm(s,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function HE(s){const t=oe.fromString(s);return Yt(YE(t),10190,{key:t.toString()}),t}function Am(s,t){return Wm(s.databaseId,t.path)}function Wd(s,t){const i=HE(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(FE(i))}function GE(s,t){return Wm(s.databaseId,t)}function Zw(s){const t=HE(s);return t.length===4?oe.emptyPath():FE(t)}function bm(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function FE(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Fv(s,t,i){return{name:Am(s,t),fields:i.value.mapValue.fields}}function Ww(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Yt(S===void 0||typeof S=="string",58123),Je.fromBase64String(S||"")):(Yt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Je.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:zE(y.code);return new lt(S,y.message||"")})(d);i=new BE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Wd(s,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):St.min(),p=new yn({mapValue:{fields:a.document.fields}}),_=nn.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Yc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Wd(s,a.document),c=a.readTime?xi(a.readTime):St.min(),d=nn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Wd(s,a.document),c=a.removedTargetIds||[];i=new Yc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new qw(l,c),p=a.targetId;i=new jE(p,d)}}return i}function tR(s,t){let i;if(t instanceof Zl)i={update:Fv(s,t.key,t.value)};else if(t instanceof $m)i={delete:Am(s,t.key)};else if(t instanceof hr)i={update:Fv(s,t.key,t.data),updateMask:uR(t.fieldMask)};else{if(!(t instanceof zw))return _t(16599,{dt:t.type});i={verify:Am(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Jw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function eR(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?xi(l.updateTime):xi(c);return d.isEqual(St.min())&&(d=xi(c)),new Lw(d,l.transformResults||[])})(i,t)))):[]}function nR(s,t){return{documents:[GE(s,t.path)]}}function iR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=GE(s,l);const c=(function(y){if(y.length!==0)return QE(Li.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(x){return{field:Ka(x.field),direction:aR(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Tm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function sR(s){let t=Zw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const x=KE(b);return x instanceof Li&&AE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new ah(Qa(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,Sh(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(b){const x=!!b.before,Q=b.values||[];return new rh(Q,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const x=!b.before,Q=b.values||[];return new rh(Q,x)})(i.endAt)),Tw(t,l,d,c,p,"F",_,y)}function rR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ke.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>KE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function aR(s){return Qw[s]}function oR(s){return Yw[s]}function lR(s){return Xw[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Xe.fromServerFormat(s.fieldPath)}function QE(s){return s instanceof ke?(function(i){if(i.op==="=="){if(Ov(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ov(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:oR(i.op),value:i.value}}})(s):s instanceof Li?(function(i){const a=i.getFilters().map((l=>QE(l)));return a.length===1?a[0]:{compositeFilter:{op:lR(i.op),filters:a}}})(s):_t(54877,{filter:s})}function uR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function YE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function XE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Zs{constructor(t,i,a,l,c=St.min(),d=St.min(),p=Je.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cR{constructor(t){this.yt=t}}function hR(s){const t=sR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(t,t.limit,"L"):t}class fR{constructor(){this.Sn=new dR}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(sr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class dR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Le(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Le(oe.comparator)).toArray()}}const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn($E,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class oo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const Qv="LruGarbageCollector",mR=1048576;function Yv([s,t],[i,a]){const l=Ut(s,i);return l===0?Ut(t,a):l}class pR{constructor(t){this.Pr=t,this.buffer=new Le(Yv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Yv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?at(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class yR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Th.ce);const a=new pR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Kv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),Ga()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function _R(s,t){return new yR(s,t)}class vR{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ER{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class TR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ul(a.mutation,l,In.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Fr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Dl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Fr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=us();const d=Ll(),p=(function(){return Ll()})();return i.forEach(((_,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof hr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Ul(S.mutation,y,S.mutation.getFieldMask(),le.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new ER(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ll();let l=new he(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||In.empty();S=p.applyToLocalView(y,S),a.set(_,S);const b=(l.get(p.batchId)||Pt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,S=_.value,b=xE();S.forEach((x=>{if(!c.has(x)){const Q=UE(i.get(x),a.get(x));Q!==null&&b.set(x,Q),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return Sw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Aw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Fr());let p=Bl,_=c;return d.next((y=>$.forEach(y,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{_=_.insert(S,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Pt()))).next((S=>({batchId:p,changes:DE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(b,x){return new bh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,nn.newInvalidDocument(S)))}));let p=Dl();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Ul(S.mutation,y,In.empty(),le.now()),Ch(i,y)&&(p=p.insert(_,y))})),p}))}}class SR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:hR(l.bundledQuery),readTime:xi(l.readTime)}})(i)),$.resolve()}}class AR{constructor(){this.overlays=new he(dt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Fr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Fr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new he(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Fr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=Fr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Bw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Pt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class bR{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class tp{constructor(){this.kr=new Le(Be.Kr),this.qr=new Le(Be.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Be(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new oe([])),a=new Be(i,t),l=new Be(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new oe([])),a=new Be(i,t),l=new Be(i,t+1);let c=Pt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class wR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Le(Be.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Be(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Hm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(Ut);return i.forEach((l=>{const c=new Be(l,0),d=new Be(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new dt(c),0);let p=new Le(Ut);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Be(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Be(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RR{constructor(t){this.ti=t,this.docs=(function(){return new he(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=us();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=us();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Zb(Jb(S),a)<=0||(l.has(S.key)||Ch(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new CR(this)}getSize(t){return $.resolve(this.size)}}class CR extends vR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class IR{constructor(t){this.persistence=t,this.ri=new ta((i=>Km(i)),Qm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new tp,this.targetCount=0,this.oi=oo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class JE{constructor(t,i){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new bR,this.referenceDelegate=t(this),this.li=new IR(this),this.indexManager=new fR,this.remoteDocumentCache=(function(l){return new RR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new cR(i),this.Pi=new SR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new AR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new wR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new NR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class NR extends tw{constructor(t){super(),this.currentSequenceNumber=t}}class ep{constructor(t){this.persistence=t,this.Ri=new tp,this.Ai=null}static Vi(t){return new ep(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class uh{constructor(t,i){this.persistence=t,this.fi=new ta((a=>iw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=_R(this,i)}static Vi(t,i){return new uh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Fc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class np{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new np(t,i.fromCache,a,l)}}class DR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class xR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yA()?8:ew(sn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new DR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ga()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ga()<=Lt.DEBUG&&at("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ga()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):$.resolve())}gs(t,i){if(Lv(i))return $.resolve(null);let a=Di(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),a=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,Em(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return Lv(i)||l.isEqual(St.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(Ga()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.Ds(t,d,i,$b(l,Bl)).next((p=>p)))}))}bs(t,i){let a=new Le(IE(t));return i.forEach(((l,c)=>{Ch(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ga()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.fs.getDocumentsMatchingQuery(t,i,sr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ip="LocalStore",OR=3e8;class VR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new he(Ut),this.Fs=new ta((c=>Km(c)),Qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function MR(s,t,i,a){return new VR(s,t,i,a)}async function ZE(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Pt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function kR(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,S){const b=y.batch,x=b.keys();let Q=$.resolve();return x.forEach((Z=>{Q=Q.next((()=>S.getEntry(_,Z))).next((it=>{const nt=y.docVersions.get(Z);Yt(nt!==null,48541),it.version.compareTo(nt)<0&&(b.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),S.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Pt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function WE(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function LR(s,t){const i=wt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,b)=>{const x=l.get(b);if(!x)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let Q=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Q=Q.withResumeToken(Je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,a)),l=l.insert(b,Q),(function(it,nt,mt){return it.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=OR?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,Q,S)&&p.push(i.li.updateTargetData(c,Q))}));let _=us(),y=Pt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(UR(c,d,t.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!a.isEqual(St.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function UR(s,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=us();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(ip,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function PR(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function zR(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Zs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function wm(s,t,i){const a=wt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;at(ip,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Xv(s,t,i){const a=wt(s);let l=St.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const b=wt(_),x=b.Fs.get(S);return x!==void 0?$.resolve(b.vs.get(x)):b.li.getTargetData(y,S)})(a,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Pt()))).next((p=>(jR(a,ww(t),p),{documents:p,ks:c})))))}function jR(s,t,i){let a=s.Ms.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class $v{constructor(){this.activeTargetIds=xw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BR{constructor(){this.vo=new $v,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new $v,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qR{Mo(t){}shutdown(){}}const Jv="ConnectivityMonitor";class Zv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Jv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Rm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const tm="RestConnection",HR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=Rm(),p=this.Qo(t,i.toUriEncodedString());at(tm,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),S=uo(y);return this.zo(t,p,_,a,S).then((b=>(at(tm,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw $r(tm,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=HR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class FR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const tn="WebChannelConnection",wl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class $a extends GR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!$a.c_){const t=rE();wl(t,sE.STAT_EVENT,(i=>{i.stat===mm.PROXY?at(tn,"STAT_EVENT: detected buffering proxy"):i.stat===mm.NOPROXY&&at(tn,"STAT_EVENT: detected no buffering proxy")})),$a.c_=!0}}zo(t,i,a,l,c){const d=Rm();return new Promise(((p,_)=>{const y=new nE;y.setWithCredentials(!0),y.listenOnce(iE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const b=y.getResponseJson();at(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Gc.TIMEOUT:at(tn,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const x=y.getStatus();if(at(tn,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const it=(function(mt){const Rt=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Rt)>=0?Rt:J.UNKNOWN})(Z.status);_(new lt(it,Z.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(tn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);at(tn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=Rm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");at(tn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const S=d.createWebChannel(y,p);this.I_(S);let b=!1,x=!1;const Q=new FR({Ho:Z=>{x?at(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(at(tn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),at(tn,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Jo:()=>S.close()});return wl(S,Nl.EventType.OPEN,(()=>{x||(at(tn,`RPC '${t}' stream ${l} transport opened.`),Q.i_())})),wl(S,Nl.EventType.CLOSE,(()=>{x||(x=!0,at(tn,`RPC '${t}' stream ${l} transport closed`),Q.o_(),this.E_(S))})),wl(S,Nl.EventType.ERROR,(Z=>{x||(x=!0,$r(tn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),wl(S,Nl.EventType.MESSAGE,(Z=>{if(!x){const it=Z.data[0];Yt(!!it,16349);const nt=it,mt=nt?.error||nt[0]?.error;if(mt){at(tn,`RPC '${t}' stream ${l} received error:`,mt);const Rt=mt.status;let vt=(function(Ot){const I=xe[Ot];if(I!==void 0)return zE(I)})(Rt),Ht=mt.message;Rt==="NOT_FOUND"&&Ht.includes("database")&&Ht.includes("does not exist")&&Ht.includes(this.databaseId.database)&&$r(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),vt===void 0&&(vt=J.INTERNAL,Ht="Unknown error status: "+Rt+" with message "+mt.message),x=!0,Q.o_(new lt(vt,Ht)),S.close()}else at(tn,`RPC '${t}' stream ${l} received:`,it),Q.__(it)}})),$a.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aE()}}function KR(s){return new $a(s)}function em(){return typeof document<"u"?document:null}function xh(s){return new $w(s,!0)}$a.c_=!1;class tT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Wv="PersistentStream";class eT{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ls(i.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QR extends eT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ww(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?xi(d.readTime):St.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=vm(_)?{documents:nR(c,_)}:{query:iR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qE(c,d.resumeToken);const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=rR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=bm(this.serializer),i.removeTarget=t,this.K_(i)}}class YR extends eT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=eR(t.writeResults,t.commitTime),a=xi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=bm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>tR(this.serializer,a)))};this.K_(i)}}class XR{}class $R extends XR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Sm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JR(s,t,i,a){return new $R(s,t,i,a)}class ZR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class WR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ea(this)&&(at(Jr,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await tu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Va=new ZR(a,l)}}async function Oh(s){if(ea(s))for(const t of s.Ra)await t(!0)}async function tu(s){for(const t of s.Ra)await t(!1)}function nT(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),op(i)?ap(i):po(i).O_()&&rp(i,t))}function sp(s,t){const i=wt(s),a=po(i);i.Ia.delete(t),a.O_()&&iT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ea(i)&&i.Va.set("Unknown"))}function rp(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(s).Z_(t)}function iT(s,t){s.da.$e(t),po(s).X_(t)}function ap(s){s.da=new Kw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),po(s).start(),s.Va.ua()}function op(s){return ea(s)&&!po(s).x_()&&s.Ia.size>0}function ea(s){return wt(s).Ea.size===0}function sT(s){s.da=void 0}async function t2(s){s.Va.set("Online")}async function e2(s){s.Ia.forEach(((t,i)=>{rp(s,t)}))}async function n2(s,t){sT(s),op(s)?(s.Va.ha(t),ap(s)):s.Va.set("Unknown")}async function i2(s,t,i){if(s.Va.set("Online"),t instanceof BE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){at(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ch(s,a)}else if(t instanceof Yc?s.da.Xe(t):t instanceof jE?s.da.st(t):s.da.tt(t),!i.isEqual(St.min()))try{const a=await WE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Je.EMPTY_BYTE_STRING,S.snapshotVersion)),iT(c,_);const b=new Zs(S.target,_,y,S.sequenceNumber);rp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){at(Jr,"Failed to raise snapshot:",a),await ch(s,a)}}async function ch(s,t,i){if(!mo(t))throw t;s.Ea.add(1),await tu(s),s.Va.set("Offline"),i||(i=()=>WE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function rT(s,t){return t().catch((i=>ch(s,i,t)))}async function Vh(s){const t=wt(s),i=lr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hm;for(;s2(t);)try{const l=await PR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,r2(t,l)}catch(l){await ch(t,l)}aT(t)&&oT(t)}function s2(s){return ea(s)&&s.Ta.length<10}function r2(s,t){s.Ta.push(t);const i=lr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function aT(s){return ea(s)&&!lr(s).x_()&&s.Ta.length>0}function oT(s){lr(s).start()}async function a2(s){lr(s).ra()}async function o2(s){const t=lr(s);for(const i of s.Ta)t.ea(i.mutations)}async function l2(s,t,i){const a=s.Ta.shift(),l=Jm.from(a,t,i);await rT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Vh(s)}async function u2(s,t){t&&lr(s).Y_&&await(async function(a,l){if((function(d){return Hw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();lr(a).B_(),await rT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(a)}})(s,t),aT(s)&&oT(s)}async function t0(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),at(Jr,"RemoteStore received new credentials");const a=ea(i);i.Ea.add(3),await tu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function c2(s,t){const i=wt(s);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await tu(i),i.Va.set("Unknown"))}function po(s){return s.ma||(s.ma=(function(i,a,l){const c=wt(i);return c.sa(),new QR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:t2.bind(null,s),Yo:e2.bind(null,s),t_:n2.bind(null,s),J_:i2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),op(s)?ap(s):s.Va.set("Unknown")):(await s.ma.stop(),sT(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,a,l){const c=wt(i);return c.sa(),new YR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:a2.bind(null,s),t_:u2.bind(null,s),ta:o2.bind(null,s),na:l2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class lp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new lp(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(s,t){if(ls("AsyncQueue",`${t}: ${s}`),mo(s))return new lt(J.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Dl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class e0{constructor(){this.ga=new he(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class h2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class f2{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=n0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function n0(){return new ta((s=>CE(s)),Rh)}async function cp(s,t){const i=wt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new h2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=up(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&fp(i)}async function hp(s,t){const i=wt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function d2(s,t){const i=wt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&fp(i)}function m2(s,t,i){const a=wt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function fp(s){s.Ca.forEach((t=>{t.next()}))}var Cm,i0;(i0=Cm||(Cm={})).Ma="default",i0.Cache="cache";class dp{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}class lT{constructor(t){this.key=t}}class uT{constructor(t){this.key=t}}class p2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=IE(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new e0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const x=l.get(S),Q=Ch(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let nt=!1;x&&Q?x.data.isEqual(Q.data)?Z!==it&&(a.track({type:3,doc:Q}),nt=!0):this.su(x,Q)||(a.track({type:2,doc:Q}),nt=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!x&&Q?(a.track({type:0,doc:Q}),nt=!0):x&&!Q&&(a.track({type:1,doc:x}),nt=!0,(_||y)&&(p=!0)),nt&&(Q?(d=d.add(Q),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(Q,Z){const it=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:nt})}};return it(Q)-it(Z)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new uT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new lT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mp="SyncEngine";class g2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class y2{constructor(t){this.key=t,this.hu=!1}}class _2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>CE(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(dt.comparator),this.Au=new Map,this.Vu=new tp,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(s,t,i=!0){const a=pT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cT(a,t,i,!0),l}async function E2(s,t){const i=pT(s);await cT(i,t,!0,!1)}async function cT(s,t,i,a){const l=await zR(s.localStore,Di(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await T2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&nT(s.remoteStore,l),p}async function T2(s,t,i,a,l){s.pu=(b,x,Q)=>(async function(it,nt,mt,Rt){let vt=nt.view.ru(mt);vt.Ss&&(vt=await Xv(it.localStore,nt.query,!1).then((({documents:I})=>nt.view.ru(I,vt))));const Ht=Rt&&Rt.targetChanges.get(nt.targetId),ie=Rt&&Rt.targetMismatches.get(nt.targetId)!=null,Ot=nt.view.applyChanges(vt,it.isPrimaryClient,Ht,ie);return r0(it,nt.targetId,Ot.au),Ot.snapshot})(s,b,x,Q);const c=await Xv(s.localStore,t,!0),d=new p2(t,c.ks),p=d.ru(c.documents),_=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);r0(s,i,y.au);const S=new g2(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function S2(s,t,i){const a=wt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await wm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&sp(a.remoteStore,l.targetId),Im(a,l.targetId)})).catch(fo)):(Im(a,l.targetId),await wm(a.localStore,l.targetId,!0))}async function A2(s,t){const i=wt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sp(i.remoteStore,a.targetId))}async function b2(s,t,i){const a=x2(s);try{const l=await(function(d,p){const _=wt(d),y=le.now(),S=p.reduce(((Q,Z)=>Q.add(Z.key)),Pt());let b,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=us(),it=Pt();return _.xs.getEntries(Q,S).next((nt=>{Z=nt,Z.forEach(((mt,Rt)=>{Rt.isValidDocument()||(it=it.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((nt=>{b=nt;const mt=[];for(const Rt of p){const vt=Pw(Rt,b.get(Rt.key).overlayedDocument);vt!=null&&mt.push(new hr(Rt.key,vt,EE(vt.value.mapValue),Gn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,mt,p)})).next((nt=>{x=nt;const mt=nt.applyToLocalDocumentSet(b,it);return _.documentOverlayCache.saveOverlays(Q,nt.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:DE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new he(Ut)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await eu(a,l.changes),await Vh(a.remoteStore)}catch(l){const c=up(l,"Failed to persist write");i.reject(c)}}async function hT(s,t){const i=wt(s);try{const a=await LR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await eu(i,a,t)}catch(a){await fo(a)}}function s0(s,t,i){const a=wt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=wt(d);_.onlineState=p;let y=!1;_.queries.forEach(((S,b)=>{for(const x of b.ba)x.va(p)&&(y=!0)})),y&&fp(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function w2(s,t,i){const a=wt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new he(dt.comparator);d=d.insert(c,nn.newNoDocument(c,St.min()));const p=Pt().add(c),_=new Dh(St.min(),new Map,new he(Ut),d,p);await hT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),pp(a)}else await wm(a.localStore,t,!1).then((()=>Im(a,t,i))).catch(fo)}async function R2(s,t){const i=wt(s),a=t.batch.batchId;try{const l=await kR(i.localStore,t);dT(i,a,null),fT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,l)}catch(l){await fo(l)}}async function C2(s,t,i){const a=wt(s);try{const l=await(function(d,p){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Yt(b!==null,37113),S=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);dT(a,t,i),fT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eu(a,l)}catch(l){await fo(l)}}function fT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function dT(s,t,i){const a=wt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Im(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||mT(s,a)}))}function mT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(sp(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),pp(s))}function r0(s,t,i){for(const a of i)a instanceof lT?(s.Vu.addReference(a.key,t),I2(s,a)):a instanceof uT?(at(mp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||mT(s,a.key)):_t(19791,{wu:a})}function I2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(mp,"New document in limbo: "+i),s.Eu.add(a),pp(s))}function pp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(oe.fromString(t)),a=s.fu.next();s.Au.set(a,new y2(i)),s.Ru=s.Ru.insert(i,a),nT(s.remoteStore,new Zs(Di(wh(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function eu(s,t,i){const a=wt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){l.push(y);const S=np.Es(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const S=wt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(y,(x=>$.forEach(x.Ts,(Q=>S.persistence.referenceDelegate.addReference(b,x.targetId,Q))).next((()=>$.forEach(x.Is,(Q=>S.persistence.referenceDelegate.removeReference(b,x.targetId,Q)))))))))}catch(b){if(!mo(b))throw b;at(ip,"Failed to update sequence numbers: "+b)}for(const b of y){const x=b.targetId;if(!b.fromCache){const Q=S.vs.get(x),Z=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(Z);S.vs=S.vs.insert(x,it)}}})(a.localStore,c))}async function N2(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){at(mp,"User change. New user:",t.toKey());const a=await ZE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ns)}}function D2(s,t){const i=wt(s),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function pT(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=D2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=w2.bind(null,t),t.Pu.J_=d2.bind(null,t.eventManager),t.Pu.yu=m2.bind(null,t.eventManager),t}function x2(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return MR(this.persistence,new xR,t.initialUser,this.serializer)}Cu(t){return new JE(ep.Vi,this.serializer)}Du(t){return new BR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class O2 extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new JE((a=>uh.Vi(a,i)),this.serializer)}}class Nm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>s0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=N2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new f2})()}createDatastore(t){const i=xh(t.databaseInfo.databaseId),a=KR(t.databaseInfo);return JR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new WR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>s0(this.syncEngine,i,0)),(function(){return Zv.v()?new Zv:new qR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,S){const b=new _2(l,c,d,p,_,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);at(Jr,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class gp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class V2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=up(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function nm(s,t){s.asyncQueue.verifyOperationInProgress(),at(ur,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ZE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function a0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await M2(s);at(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>t0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>t0(t.remoteStore,l))),s._onlineComponents=t}async function M2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(ur,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$r("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new hh)}}else at(ur,"Using default OfflineComponentProvider"),await nm(s,new O2(void 0));return s._offlineComponents}async function gT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(ur,"Using user provided OnlineComponentProvider"),await a0(s,s._uninitializedComponentsProvider._online)):(at(ur,"Using default OnlineComponentProvider"),await a0(s,new Nm))),s._onlineComponents}function k2(s){return gT(s).then((t=>t.syncEngine))}async function fh(s){const t=await gT(s),i=t.eventManager;return i.onListen=v2.bind(null,t.syncEngine),i.onUnlisten=S2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=E2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=A2.bind(null,t.syncEngine),i}function L2(s,t,i,a){const l=new gp(a),c=new dp(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>cp(await fh(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>hp(await fh(s),c)))}}function U2(s,t,i={}){const a=new ss;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const S=new gp({next:x=>{S.Nu(),d.enqueueAndForget((()=>hp(c,b)));const Q=x.docs.has(p);!Q&&x.fromCache?y.reject(new lt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&x.fromCache&&_&&_.source==="server"?y.reject(new lt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new dp(wh(p.path),S,{includeMetadataChanges:!0,Ka:!0});return cp(c,b)})(await fh(s),s.asyncQueue,t,i,a))),a.promise}function P2(s,t,i={}){const a=new ss;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const S=new gp({next:x=>{S.Nu(),d.enqueueAndForget((()=>hp(c,b))),x.fromCache&&_.source==="server"?y.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new dp(p,S,{includeMetadataChanges:!0,Ka:!0});return cp(c,b)})(await fh(s),s.asyncQueue,t,i,a))),a.promise}function z2(s,t){const i=new ss;return s.asyncQueue.enqueueAndForget((async()=>b2(await k2(s),t,i))),i.promise}function yT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const j2="ComponentProvider",o0=new Map;function B2(s,t,i,a,l){return new aw(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,yT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const _T="firestore.googleapis.com",l0=!0;class u0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=l0}else this.host=t.host,this.ssl=t.ssl??l0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mR)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Xb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new zb;switch(a.type){case"firstParty":return new Hb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=o0.get(i);a&&(at(j2,"Removing Datastore"),o0.delete(i),a.terminate())})(this),Promise.resolve()}}function q2(s,t,i,a={}){s=_n(s,Mh);const l=uo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Y0(`https://${p}`),X0("Firestore",!0)),c.host!==_T&&c.host!==p&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!as(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=en.MOCK_USER;else{y=lA(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new en(b)}s._authCredentials=new jb(new lE(y,S))}}class nu{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new nu(this.firestore,t,this._query)}}class Te{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Jl(i,Te._jsonSchema))return new Te(t,a||null,new dt(oe.fromString(i.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Oe("string",Te._jsonSchemaVersion),referencePath:Oe("string")};class ir extends nu{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new dt(t))}withConverter(t){return new ir(this.firestore,t,this._path)}}function Rl(s,t,...i){if(s=$e(s),uE("collection","path",t),s instanceof Mh){const a=oe.fromString(t,...i);return Av(a),new ir(s,null,a)}{if(!(s instanceof Te||s instanceof ir))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return Av(a),new ir(s.firestore,null,a)}}function Ii(s,t,...i){if(s=$e(s),arguments.length===1&&(t=Bm.newId()),uE("doc","path",t),s instanceof Mh){const a=oe.fromString(t,...i);return Sv(a),new Te(s,null,new dt(a))}{if(!(s instanceof Te||s instanceof ir))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return Sv(a),new Te(s.firestore,s instanceof ir?s.converter:null,new dt(a))}}const c0="AsyncQueue";class h0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tT(this,"async_queue_retry"),this._c=()=>{const a=em();a&&at(c0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;at(c0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",f0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=lp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:f0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function f0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class cs extends Mh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new h0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new h0(t),this._firestoreClient=void 0,await t}}}function H2(s,t){const i=typeof s=="object"?s:zm(),a=typeof s=="string"?s:ih,l=Pm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=aA("firestore");c&&q2(l,...c)}return l}function kh(s){if(s._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||G2(s),s._firestoreClient}function G2(s){const t=s._freezeSettings(),i=B2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new V2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(Je.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Oe("string",Hn._jsonSchemaVersion),bytes:Oe("string")};class yp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class go{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class si{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new si(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Oe("string",si._jsonSchemaVersion),vectorValues:Oe("object")};const F2=/^__.*__$/;class K2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class vT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ET(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class Lh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Lh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(ET(this.dataSource)&&F2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Q2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||xh(t)}createContext(t,i,a,l=!1){return new Lh({dataSource:t,methodName:i,targetDoc:a,path:Xe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(s){const t=s._freezeSettings(),i=xh(s._databaseId);return new Q2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function TT(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);Sp("Data must be an object, but it was:",d,a);const p=AT(a,d);let _,y;if(c.merge)_=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const x=Kl(t,b,i);if(!d.contains(x))throw new lt(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);RT(S,x)||S.push(x)}_=new In(S),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new K2(new yn(p),_,y)}class Uh extends go{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}function ST(s,t,i){return new Lh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class vp extends go{_toFieldTransform(t){return new Xm(t.path,new Fl)}isEqual(t){return t instanceof vp}}class Ep extends go{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=ST(this,t,!0),a=this.Ac.map((c=>yo(c,i))),l=new ro(a);return new Xm(t.path,l)}isEqual(t){return t instanceof Ep&&as(this.Ac,t.Ac)}}class Tp extends go{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=ST(this,t,!0),a=this.Ac.map((c=>yo(c,i))),l=new ao(a);return new Xm(t.path,l)}isEqual(t){return t instanceof Tp&&as(this.Ac,t.Ac)}}function Y2(s,t,i,a){const l=s.createContext(1,t,i);Sp("Data must be an object, but it was:",l,a);const c=[],d=yn.empty();cr(a,((_,y)=>{const S=wT(t,_,i);y=$e(y);const b=l.childContextForFieldPath(S);if(y instanceof Uh)c.push(S);else{const x=yo(y,b);x!=null&&(c.push(S),d.set(S,x))}}));const p=new In(c);return new vT(d,p,l.fieldTransforms)}function X2(s,t,i,a,l,c){const d=s.createContext(1,t,i),p=[Kl(t,a,i)],_=[l];if(c.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Kl(t,c[x])),_.push(c[x+1]);const y=[],S=yn.empty();for(let x=p.length-1;x>=0;--x)if(!RT(y,p[x])){const Q=p[x];let Z=_[x];Z=$e(Z);const it=d.childContextForFieldPath(Q);if(Z instanceof Uh)y.push(Q);else{const nt=yo(Z,it);nt!=null&&(y.push(Q),S.set(Q,nt))}}const b=new In(y);return new vT(S,b,d.fieldTransforms)}function yo(s,t){if(bT(s=$e(s)))return Sp("Unsupported field value:",t,s),AT(s,t);if(s instanceof go)return(function(a,l){if(!ET(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=yo(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=$e(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Ow(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=le.fromDate(a);return{timestampValue:lh(l.serializer,c)}}if(a instanceof le){const c=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hn)return{bytesValue:qE(l.serializer,a._byteString)};if(a instanceof Te){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof si)return(function(d,p){const _=d instanceof si?d.toArray():d;return{mapValue:{fields:{[_E]:{stringValue:vE},[sh]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Ym(p.serializer,S)}))}}}}}})(a,l);if(XE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${qm(a)}`)})(s,t)}function AT(s,t){const i={};return fE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(s,((a,l)=>{const c=yo(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function bT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof Oi||s instanceof Hn||s instanceof Te||s instanceof go||s instanceof si||XE(s))}function Sp(s,t,i){if(!bT(i)||!cE(i)){const a=qm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Kl(s,t,i){if((t=$e(t))instanceof yp)return t._internalPath;if(typeof t=="string")return wT(s,t);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const $2=new RegExp("[~\\*/\\[\\]]");function wT(s,t,i){if(t.search($2)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yp(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,p+s+_)}function RT(s,t){return s.some((i=>i.isEqual(t)))}class J2{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>Ee(a.doubleValue)));return new si(i)}convertGeoPoint(t){return new Oi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=rr(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Yt(YE(a),9688,{name:t});const l=new Hl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ls(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Ap extends J2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,i)}}function im(){return new vp("serverTimestamp")}function Z2(...s){return new Ep("arrayUnion",s)}function W2(...s){return new Tp("arrayRemove",s)}const d0="@firebase/firestore",m0="4.11.0";function p0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class CT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Kl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tC extends CT{data(){return super.data()}}function IT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function NT(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Ol{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends CT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Kl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Oe("string",Kr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Xc extends Kr{data(t={}){return super.data(t)}}class Qr{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Ol(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:eC(p.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}Qr._jsonSchemaVersion="firestore/querySnapshot/1.0",Qr._jsonSchema={type:Oe("string",Qr._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};function nC(s){s=_n(s,Te);const t=_n(s.firestore,cs),i=kh(t);return U2(i,s._key).then((a=>DT(t,s,a)))}function iC(s){s=_n(s,nu);const t=_n(s.firestore,cs),i=kh(t),a=new Ap(t);return IT(s._query),P2(i,s._query).then((l=>new Qr(t,a,s,l)))}function g0(s,t,i){s=_n(s,Te);const a=_n(s.firestore,cs),l=NT(s.converter,t,i),c=_p(a);return Ph(a,[TT(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Gn.none())])}function Bc(s,t,i,...a){s=_n(s,Te);const l=_n(s.firestore,cs),c=_p(l);let d;return d=typeof(t=$e(t))=="string"||t instanceof yp?X2(c,"updateDoc",s._key,t,i,a):Y2(c,"updateDoc",s._key,t),Ph(l,[d.toMutation(s._key,Gn.exists(!0))])}function qc(s){return Ph(_n(s.firestore,cs),[new $m(s._key,Gn.none())])}function y0(s,t){const i=_n(s.firestore,cs),a=Ii(s),l=NT(s.converter,t),c=_p(s.firestore);return Ph(i,[TT(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Gn.exists(!1))]).then((()=>a))}function sm(s,...t){s=$e(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||p0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(p0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Te)d=_n(s.firestore,cs),p=wh(s._key.path),c={next:y=>{t[a]&&t[a](DT(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=_n(s,nu);d=_n(y.firestore,cs),p=y._query;const S=new Ap(d);c={next:b=>{t[a]&&t[a](new Qr(d,S,y,b))},error:t[a+1],complete:t[a+2]},IT(s._query)}const _=kh(d);return L2(_,p,l,c)}function Ph(s,t){const i=kh(s);return z2(i,t)}function DT(s,t,i){const a=i.docs.get(t._key),l=new Ap(s);return new Kr(s,l,t._key,a,new Ol(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){Pb(co),eo(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new cs(new Bb(a.getProvider("auth-internal")),new Gb(d,a.getProvider("app-check-internal")),ow(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),er(d0,m0,t),er(d0,m0,"esm2020")})();function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sC=xT,OT=new Xl("auth","Firebase",xT());const mh=new Lm("@firebase/auth");function rC(s,...t){mh.logLevel<=Lt.WARN&&mh.warn(`Auth (${co}): ${s}`,...t)}function $c(s,...t){mh.logLevel<=Lt.ERROR&&mh.error(`Auth (${co}): ${s}`,...t)}function ri(s,...t){throw bp(s,...t)}function Vi(s,...t){return bp(s,...t)}function VT(s,t,i){const a={...sC(),[t]:i};return new Xl("auth","Firebase",a).create(t,{appName:s.name})}function rs(s){return VT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return OT.create(s,...t)}function yt(s,t,...i){if(!s)throw bp(t,...i)}function ns(s){const t="INTERNAL ASSERTION FAILED: "+s;throw $c(t),new Error(t)}function hs(s,t){s||ns(t)}function Dm(){return typeof self<"u"&&self.location?.href||""}function aC(){return _0()==="http:"||_0()==="https:"}function _0(){return typeof self<"u"&&self.location?.protocol||null}function oC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aC()||mA()||"connection"in navigator)?navigator.onLine:!0}function lC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(t,i){this.shortDelay=t,this.longDelay=i,hs(i>t,"Short delay should be less than long delay!"),this.isMobile=hA()||pA()}get(){return oC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wp(s,t){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class MT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hC=new iu(3e4,6e4);function fr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function dr(s,t,i,a,l={}){return kT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=$l({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return dA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(y.credentials="include"),MT.fetch()(await LT(s,s.config.apiHost,i,p),y)})}async function kT(s,t,i){s._canInitEmulator=!1;const a={...uC,...t};try{const l=new dC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Hc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Hc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Hc(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw VT(s,S,y);ri(s,S)}}catch(l){if(l instanceof fs)throw l;ri(s,"network-request-failed",{message:String(l)})}}async function su(s,t,i,a,l={}){const c=await dr(s,t,i,a,l);return"mfaPendingCredential"in c&&ri(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function LT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?wp(s.config,l):`${s.config.apiScheme}://${l}`;return cC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function fC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Vi(this.auth,"network-request-failed")),hC.get())})}}function Hc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Vi(s,t,a);return l.customData._tokenResponse=i,l}function v0(s){return s!==void 0&&s.enterprise!==void 0}class mC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return fC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pC(s,t){return dr(s,"GET","/v2/recaptchaConfig",fr(s,t))}async function gC(s,t){return dr(s,"POST","/v1/accounts:delete",t)}async function ph(s,t){return dr(s,"POST","/v1/accounts:lookup",t)}function Pl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yC(s,t=!1){const i=$e(s),a=await i.getIdToken(t),l=Rp(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Pl(rm(l.auth_time)),issuedAtTime:Pl(rm(l.iat)),expirationTime:Pl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Rp(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=G0(i);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function E0(s){const t=Rp(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ql(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof fs&&_C(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function _C({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class vC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(s){const t=s.auth,i=await s.getIdToken(),a=await Ql(s,ph(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?UT(l.providerUserInfo):[],d=TC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function EC(s){const t=$e(s);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TC(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function UT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function SC(s,t){const i=await kT(s,{},async()=>{const a=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await LT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),MT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AC(s,t){return dr(s,"POST","/v2/accounts:revokeToken",fr(s,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=E0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await SC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Za;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Qs(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new vC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yC(this,t)}reload(){return EC(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(rs(this.auth));const t=await this.getIdToken();return await Ql(this,gC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:Q,providerData:Z,stsTokenManager:it}=i;yt(b&&it,t,"internal-error");const nt=Za.fromJSON(this.name,it);yt(typeof b=="string",t,"internal-error"),Qs(a,t.name),Qs(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof Q=="boolean",t,"internal-error"),Qs(c,t.name),Qs(d,t.name),Qs(p,t.name),Qs(_,t.name),Qs(y,t.name),Qs(S,t.name);const mt=new ii({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:nt,createdAt:y,lastLoginAt:S});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(Rt=>({...Rt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Za;l.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await gh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?UT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Za;p.updateFromIdToken(a);const _=new ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const T0=new Map;function is(s){hs(s instanceof Function,"Expected a class definition");let t=T0.get(s);return t?(hs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,T0.set(s,t),t)}class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}PT.type="NONE";const S0=PT;function Jc(s,t,i){return`firebase:${s}:${t}:${i}`}class Wa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ph(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Wa(is(S0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||is(S0);const d=Jc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const x=await ph(t,{idToken:S}).catch(()=>{});if(!x)break;b=await ii._fromGetAccountInfoResponse(t,x,S)}else b=ii._fromJSON(t,S);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Wa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Wa(c,t,a))}}function A0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GT(t))return"Blackberry";if(FT(t))return"Webos";if(jT(t))return"Safari";if((t.includes("chrome/")||BT(t))&&!t.includes("edge/"))return"Chrome";if(HT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function zT(s=sn()){return/firefox\//i.test(s)}function jT(s=sn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function BT(s=sn()){return/crios\//i.test(s)}function qT(s=sn()){return/iemobile/i.test(s)}function HT(s=sn()){return/android/i.test(s)}function GT(s=sn()){return/blackberry/i.test(s)}function FT(s=sn()){return/webos/i.test(s)}function Cp(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bC(s=sn()){return Cp(s)&&!!window.navigator?.standalone}function wC(){return gA()&&document.documentMode===10}function KT(s=sn()){return Cp(s)||HT(s)||FT(s)||GT(s)||/windows phone/i.test(s)||qT(s)}function QT(s,t=[]){let i;switch(s){case"Browser":i=A0(sn());break;case"Worker":i=`${A0(sn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class RC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function CC(s,t={}){return dr(s,"GET","/v2/passwordPolicy",fr(s,t))}const IC=6;class NC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??IC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class DC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ph(this,{idToken:t}),a=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(rs(this));const i=t?$e(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CC(this),i=new NC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await AC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&is(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function na(s){return $e(s)}class b0{constructor(t){this.auth=t,this.observer=null,this.addObserver=bA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xC(s){zh=s}function YT(s){return zh.loadJS(s)}function OC(){return zh.recaptchaEnterpriseScript}function VC(){return zh.gapiScript}function MC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class kC{constructor(){this.enterprise=new LC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class LC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const UC="recaptcha-enterprise",XT="NO_RECAPTCHA";class PC{constructor(t){this.type=UC,this.auth=na(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{pC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new mC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;v0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(XT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&v0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=OC();_.length!==0&&(_+=p),YT(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function w0(s,t,i,a=!1,l=!1){const c=new PC(s);let d;if(l)d=XT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Om(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await w0(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await w0(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function zC(s,t){const i=Pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(as(c,t??{}))return l;ri(l,"already-initialized")}return i.initialize({options:t})}function jC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(is);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function BC(s,t,i){const a=na(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=$T(t),{host:d,port:p}=qC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(as(y,a.config.emulator)&&as(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(Y0(`${c}//${d}${_}`),X0("Auth",!0)):HC()}function $T(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function qC(s){const t=$T(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:R0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:R0(d)}}}function R0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function HC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Ip{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,i){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function GC(s,t){return dr(s,"POST","/v1/accounts:signUp",t)}async function FC(s,t){return su(s,"POST","/v1/accounts:signInWithPassword",fr(s,t))}async function KC(s,t){return su(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,t))}async function QC(s,t){return su(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,t))}class Yl extends Ip{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Yl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Yl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(t,i,"signInWithPassword",FC);case"emailLink":return KC(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(t,a,"signUpPassword",GC);case"emailLink":return QC(t,{idToken:i,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function to(s,t){return su(s,"POST","/v1/accounts:signInWithIdp",fr(s,t))}const YC="http://localhost";class Zr extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return to(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,to(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,to(t,i)}buildRequest(){const t={requestUri:YC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=$l(i)}return t}}function XC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $C(s){const t=Cl(Il(s)).link,i=t?Cl(Il(t)).deep_link_id:null,a=Cl(Il(s)).deep_link_id;return(a?Cl(Il(a)).link:null)||a||i||t||s}class Np{constructor(t){const i=Cl(Il(t)),a=i.apiKey??null,l=i.oobCode??null,c=XC(i.mode??null);yt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=$C(t);try{return new Np(i)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,i){return Yl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Np.parseLink(i);return yt(a,"argument-error"),Yl._fromEmailAndCode(t,a.code,a.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class JT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ru extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ys extends ru{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class Xs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";class $s extends ru{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";class Js extends ru{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function JC(s,t){return su(s,"POST","/v1/accounts:signUp",fr(s,t))}class Wr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ii._fromIdTokenResponse(t,a,l),d=C0(a);return new Wr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=C0(a);return new Wr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function C0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class yh extends fs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new yh(t,i,a,l)}}function ZT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(s,c,t,a):c})}async function ZC(s,t,i=!1){const a=await Ql(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Wr._forOperation(s,"link",a)}async function WC(s,t,i=!1){const{auth:a}=s;if(qn(a.app))return Promise.reject(rs(a));const l="reauthenticate";try{const c=await Ql(s,ZT(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=Rp(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(s.uid===p,a,"user-mismatch"),Wr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ri(a,"user-mismatch"),c}}async function WT(s,t,i=!1){if(qn(s.app))return Promise.reject(rs(s));const a="signIn",l=await ZT(s,a,t),c=await Wr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function tI(s,t){return WT(na(s),t)}async function t1(s){const t=na(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eI(s,t,i){if(qn(s.app))return Promise.reject(rs(s));const a=na(s),d=await Om(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JC).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&t1(s),_}),p=await Wr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function nI(s,t,i){return qn(s.app)?Promise.reject(rs(s)):tI($e(s),_o.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&t1(s),a})}function iI(s,t,i,a){return $e(s).onIdTokenChanged(t,i,a)}function sI(s,t,i){return $e(s).beforeAuthStateChanged(t,i)}function rI(s,t,i,a){return $e(s).onAuthStateChanged(t,i,a)}const _h="__sak";class e1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const aI=1e3,oI=10;class n1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);wC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,oI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}n1.type="LOCAL";const lI=n1;class i1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}i1.type="SESSION";const s1=i1;function uI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class jh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new jh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await uI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];function Dp(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class cI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Dp("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function hI(s){Mi().location.href=s}function r1(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function fI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dI(){return navigator?.serviceWorker?.controller||null}function mI(){return r1()?self:null}const a1="firebaseLocalStorageDb",pI=1,vh="firebaseLocalStorage",o1="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Bh(s,t){return s.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function gI(){const s=indexedDB.deleteDatabase(a1);return new au(s).toPromise()}function Vm(){const s=indexedDB.open(a1,pI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(vh,{keyPath:o1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(vh)?t(a):(a.close(),await gI(),t(await Vm()))})})}async function I0(s,t,i){const a=Bh(s,!0).put({[o1]:t,value:i});return new au(a).toPromise()}async function yI(s,t){const i=Bh(s,!1).get(t),a=await new au(i).toPromise();return a===void 0?null:a.value}function N0(s,t){const i=Bh(s,!0).delete(t);return new au(i).toPromise()}const _I=800,vI=3;class l1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>vI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(mI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fI(),!this.activeServiceWorker)return;this.sender=new cI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vm();return await I0(t,_h,"1"),await N0(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>I0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>yI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>N0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Bh(l,!1).getAll();return new au(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l1.type="LOCAL";const EI=l1;new iu(3e4,6e4);function TI(s,t){return t?is(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class xp extends Ip{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,i){return to(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function SI(s){return WT(s.auth,new xp(s),s.bypassAuthState)}function AI(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),WC(i,new xp(s),s.bypassAuthState)}async function bI(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),ZC(i,new xp(s),s.bypassAuthState)}class u1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SI;case"linkViaPopup":case"linkViaRedirect":return bI;case"reauthViaPopup":case"reauthViaRedirect":return AI;default:ri(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new iu(2e3,1e4);class Xa extends u1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wI.get())};t()}}Xa.currentPopupAction=null;const RI="pendingRedirect",Zc=new Map;class CI extends u1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const a=await II(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(s,t){const i=xI(t),a=DI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function NI(s,t){Zc.set(s._key(),t)}function DI(s){return is(s._redirectPersistence)}function xI(s){return Jc(RI,s.config.apiKey,s.name)}async function OI(s,t,i=!1){if(qn(s.app))return Promise.reject(rs(s));const a=na(s),l=TI(a,t),d=await new CI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const VI=600*1e3;class MI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!c1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=VI&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(t))}saveEventToCache(t){this.cachedEventUids.add(D0(t)),this.lastProcessedEventTime=Date.now()}}function D0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function c1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function kI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c1(s);default:return!1}}async function LI(s,t={}){return dr(s,"GET","/v1/projects",t)}const UI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PI=/^https?/;async function zI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await LI(s);for(const i of t)try{if(jI(i))return}catch{}ri(s,"unauthorized-domain")}function jI(s){const t=Dm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!PI.test(i))return!1;if(UI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const BI=new iu(3e4,6e4);function x0(){const s=Mi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function qI(s){return new Promise((t,i)=>{function a(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),i(Vi(s,"network-request-failed"))},timeout:BI.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)a();else{const l=MC("iframefcb");return Mi()[l]=()=>{gapi.load?a():i(Vi(s,"network-request-failed"))},YT(`${VC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function HI(s){return Wc=Wc||qI(s),Wc}const GI=new iu(5e3,15e3),FI="__/auth/iframe",KI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?wp(t,KI):`https://${s.config.authDomain}/${FI}`,a={apiKey:t.apiKey,appName:s.name,v:co},l=YI.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$l(a).slice(1)}`}async function $I(s){const t=await HI(s),i=Mi().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:XI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Vi(s,"network-request-failed"),p=Mi().setTimeout(()=>{c(d)},GI.get());function _(){Mi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,WI=600,tN="_blank",eN="http://localhost";class O0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nN(s,t,i,a=ZI,l=WI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...JI,width:a.toString(),height:l.toString(),top:c,left:d},y=sn().toLowerCase();i&&(p=BT(y)?tN:i),zT(y)&&(t=t||eN,_.scrollbars="yes");const S=Object.entries(_).reduce((x,[Q,Z])=>`${x}${Q}=${Z},`,"");if(bC(y)&&p!=="_self")return iN(t||"",p),new O0(null);const b=window.open(t||"",p,S);yt(b,s,"popup-blocked");try{b.focus()}catch{}return new O0(b)}function iN(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const sN="__/auth/handler",rN="emulator/auth/handler",aN=encodeURIComponent("fac");async function V0(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof JT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",AA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof ru){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await s._getAppCheckToken(),y=_?`#${aN}=${encodeURIComponent(_)}`:"";return`${oN(s)}?${$l(p).slice(1)}${y}`}function oN({config:s}){return s.emulator?wp(s,rN):`https://${s.authDomain}/${sN}`}const am="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s1,this._completeRedirectFn=OI,this._overrideRedirectResult=NI}async _openPopup(t,i,a,l){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await V0(t,i,a,Dm(),l);return nN(t,c,Dp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await V0(t,i,a,Dm(),l);return hI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await $I(t),a=new MI(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(am,{type:am},l=>{const c=l?.[0]?.[am];c!==void 0&&i(!!c),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return KT()||jT()||Cp()}}const uN=lN;var M0="@firebase/auth",k0="1.12.0";class cN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(s){eo(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(s)},y=new DC(a,l,c,_);return jC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),eo(new Yr("auth-internal",t=>{const i=na(t.getProvider("auth").getImmediate());return(a=>new cN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(M0,k0,hN(s)),er(M0,k0,"esm2020")}const dN=300,mN=Q0("authIdTokenMaxAge")||dN;let L0=null;const pN=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>mN)return;const l=i?.token;L0!==l&&(L0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gN(s=zm()){const t=Pm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=zC(s,{popupRedirectResolver:uN,persistence:[EI,lI,s1]}),a=Q0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=pN(c.toString());sI(i,d,()=>d(i.currentUser)),iI(i,p=>d(p))}}const l=F0("auth");return l&&BC(i,`http://${l}`),i}function yN(){return document.getElementsByTagName("head")?.[0]??document}xC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",yN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");const h1=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const _N=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const vN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const U0=s=>{const t=vN(s);return t.charAt(0).toUpperCase()+t.slice(1)};var EN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const SN=ae.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>ae.createElement("svg",{ref:_,...EN,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:h1("lucide",l),...!c&&!TN(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>ae.createElement(y,S)),...Array.isArray(c)?c:[c]]));const Ze=(s,t)=>{const i=ae.forwardRef(({className:a,...l},c)=>ae.createElement(SN,{ref:c,iconNode:t,className:h1(`lucide-${_N(U0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=U0(s),i};const AN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bN=Ze("calendar",AN);const wN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RN=Ze("chevron-right",wN);const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],IN=Ze("clock",CN);const NN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],DN=Ze("compass",NN);const xN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ON=Ze("crown",xN);const VN=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],om=Ze("gamepad-2",VN);const MN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kN=Ze("log-out",MN);const LN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],UN=Ze("palette",LN);const PN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zN=Ze("search",PN);const jN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],BN=Ze("shield",jN);const qN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],HN=Ze("skull",qN);const GN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],P0=Ze("timer",GN);const FN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],KN=Ze("trash-2",FN);const QN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],YN=Ze("user-plus",QN);const XN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z0=Ze("users",XN);const $N=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],j0=Ze("video",$N);const JN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZN=Ze("zap",JN),WN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},tD=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(s){console.error("Failed to parse environment firebase config",s)}return WN},th=tD(),Mm=!!(th&&th.apiKey&&th.apiKey.startsWith("AIza")),eD=typeof __app_id<"u"?__app_id:"community-calendar-production",pn=eD.replace(/[^a-zA-Z0-9]/g,"_");let lm,Ya,ve;if(Mm)try{lm=wb().length>0?zm():Z0(th),Ya=gN(lm),ve=H2(lm)}catch(s){console.error("Firebase Initialization Error:",s)}const B0={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-500 hover:bg-indigo-600 text-white"}},nD=()=>{const[s,t]=ae.useState(null),[i,a]=ae.useState(!0),[l,c]=ae.useState("login"),[d,p]=ae.useState({email:"",password:"",displayName:""}),[_,y]=ae.useState(null),[S,b]=ae.useState([]),[x,Q]=ae.useState([]),[Z,it]=ae.useState("all"),[nt,mt]=ae.useState("calendar"),[Rt,vt]=ae.useState(!1),[Ht,ie]=ae.useState(!1),[Ot,I]=ae.useState(""),[A,C]=ae.useState(!1),[M,N]=ae.useState({name:"",desc:""}),[V,w]=ae.useState({displayName:"Operator",joinedGuilds:[],theme:"light"}),st=B0[V.theme]||B0.light,[At,H]=ae.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});ae.useEffect(()=>{if(!Mm||!Ya){a(!1);return}const G=rI(Ya,ht=>{t(ht),a(!1)});return()=>G()},[]),ae.useEffect(()=>{if(!s||!ve)return;const G=Ii(ve,"artifacts",pn,"users",s.uid,"profile","info");(async()=>(await nC(G)).exists()||await g0(G,{displayName:d.displayName||`Operator_${s.uid.slice(0,4)}`,joinedGuilds:[],theme:"light",createdAt:im()}))();const Et=sm(Rl(ve,"artifacts",pn,"public","data","sessions"),fe=>{b(fe.docs.map(Ue=>({id:Ue.id,...Ue.data()})))}),Tt=sm(Rl(ve,"artifacts",pn,"public","data","guilds"),fe=>{Q(fe.docs.map(Ue=>({id:Ue.id,...Ue.data()})))}),Ft=sm(G,fe=>{fe.exists()&&w(Ue=>({...Ue,...fe.data()}))});return()=>{Et(),Tt(),Ft()}},[s]);const tt=async G=>{G.preventDefault(),y(null),a(!0);try{l==="register"?await eI(Ya,d.email,d.password):await nI(Ya,d.email,d.password)}catch(ht){y(ht.message)}finally{a(!1)}},ct=async G=>{!s||!ve||(C(!0),await g0(Ii(ve,"artifacts",pn,"users",s.uid,"profile","info"),G,{merge:!0}),setTimeout(()=>C(!1),500))},Vt=async G=>{const Tt=(await iC(Rl(ve,"artifacts",pn,"public","data","sessions"))).docs.filter(Ft=>Ft.data().guildId===G).map(Ft=>qc(Ft.ref));await Promise.all(Tt)},Gt=async G=>{window.confirm("ARE YOU SURE? This will permanently delete the guild and all missions. Continue?")&&(await qc(Ii(ve,"artifacts",pn,"public","data","guilds",G)),await Vt(G))},O=async()=>{if(!M.name||!s||!ve)return;const G=await y0(Rl(ve,"artifacts",pn,"public","data","guilds"),{name:M.name,desc:M.desc||"Active Sector",ownerId:s.uid,members:[s.uid],createdAt:im()}),ht=[...V.joinedGuilds||[],G.id];await ct({...V,joinedGuilds:ht}),N({name:"",desc:""}),ie(!1)},Y=async G=>{if(!s||!ve)return;const ht=V.joinedGuilds||[],Et=ht.includes(G.id),Tt=G.members||[];if(Et){const Ft=ht.filter(fe=>fe!==G.id);await ct({...V,joinedGuilds:Ft}),Tt.length<=1?(await qc(Ii(ve,"artifacts",pn,"public","data","guilds",G.id)),await Vt(G.id)):await Bc(Ii(ve,"artifacts",pn,"public","data","guilds",G.id),{members:W2(s.uid)})}else await ct({...V,joinedGuilds:[...ht,G.id]}),await Bc(Ii(ve,"artifacts",pn,"public","data","guilds",G.id),{members:Z2(s.uid)})},et=async G=>{if(!ve||!s)return;const ht=G.participants||[],Et=ht.some(Ft=>Ft.uid===s.uid),Tt=Number(G.maxOpenings||0)+1;if(Et){const Ft=ht.filter(fe=>fe.uid!==s.uid);await Bc(Ii(ve,"artifacts",pn,"public","data","sessions",G.id),{participants:Ft})}else{if(ht.length>=Tt)return;const Ft=[...ht,{uid:s.uid,name:V.displayName}];await Bc(Ii(ve,"artifacts",pn,"public","data","sessions",G.id),{participants:Ft})}},rt=async G=>{if(G.preventDefault(),!ve||!s)return;const ht=At.guildId||Z;ht!=="all"&&(await y0(Rl(ve,"artifacts",pn,"public","data","sessions"),{...At,maxOpenings:Number(At.maxOpenings),guildId:ht,userId:s.uid,userName:V.displayName,participants:[{uid:s.uid,name:V.displayName}],createdAt:im()}),vt(!1))},gt=ae.useMemo(()=>{const G=V.joinedGuilds||[],ht=S.filter(Tt=>(Z==="all"?G.includes(Tt.guildId):Tt.guildId===Z)&&String(Tt.gameTitle).toLowerCase().includes(Ot.toLowerCase())).sort((Tt,Ft)=>String(Tt.date).localeCompare(String(Ft.date))),Et={};return ht.forEach(Tt=>{const Ft=String(Tt.date);Et[Ft]||(Et[Ft]=[]),Et[Ft].push(Tt)}),Et},[S,Z,V.joinedGuilds,Ot]);return Mm?i?U.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:U.jsx(om,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):s?U.jsxs("div",{className:`min-h-screen ${st.bg} ${st.text} transition-colors duration-500`,children:[U.jsxs("header",{className:`${st.header} border-b ${st.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[U.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>mt("calendar"),children:[U.jsx(om,{className:`w-8 h-8 ${st.accent}`}),U.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),U.jsxs("nav",{className:"flex items-center gap-4",children:[U.jsx("button",{onClick:()=>mt("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${nt==="calendar"?st.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),U.jsx("button",{onClick:()=>mt("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${nt==="profile"?st.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),U.jsx("button",{onClick:()=>Ya.signOut(),className:"p-2 opacity-40 hover:text-rose-500 transition",children:U.jsx(kN,{className:"w-4 h-4"})})]})]}),U.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[U.jsxs("aside",{className:"w-full md:w-64",children:[U.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Active Channels"}),U.jsx("button",{onClick:()=>it("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${Z==="all"?st.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),x.filter(G=>V.joinedGuilds?.includes(G.id)).map(G=>U.jsx("button",{onClick:()=>it(G.id),className:`w-full text-left p-3 rounded-xl mb-2 font-bold text-xs transition ${Z===G.id?st.button:"hover:bg-slate-500/10"}`,children:String(G.name)},G.id)),U.jsxs("button",{onClick:()=>ie(!0),className:"w-full p-4 mt-4 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[U.jsx(DN,{className:"w-4 h-4"})," Find Guilds"]})]}),U.jsx("div",{className:"flex-1",children:nt==="calendar"?U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[U.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:Z==="all"?"The Hub":x.find(G=>G.id===Z)?.name}),U.jsxs("div",{className:"flex gap-4",children:[U.jsxs("div",{className:"relative group",children:[U.jsx(zN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),U.jsx("input",{type:"text",placeholder:"Filter...",value:Ot,onChange:G=>I(G.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${st.card} border ${st.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),U.jsx("button",{onClick:()=>vt(!0),className:`${st.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg active:scale-95 transition`,children:"+ New Mission"})]})]}),U.jsx("div",{className:"space-y-12",children:Object.entries(gt).length===0?U.jsxs("div",{className:"py-20 text-center opacity-20 border-2 border-dashed rounded-[3rem] border-slate-500/30",children:[U.jsx(bN,{className:"mx-auto mb-4 w-12 h-12"}),U.jsx("p",{className:"font-black uppercase tracking-widest text-xs italic",children:"Sector Empty"})]}):Object.entries(gt).map(([G,ht])=>U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[U.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:G}),U.jsx("div",{className:`flex-1 h-px ${st.border}`})]}),U.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:ht.map(Et=>{const Tt=Et.participants?.some(Ue=>Ue.uid===s?.uid),Ft=(Number(Et.maxOpenings)||0)+1,fe=(Et.participants?.length||0)>=Ft;return U.jsxs("div",{className:`${st.card} border ${st.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[Et.isStreaming&&U.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 bg-rose-600 text-white px-3 py-1 rounded-full animate-pulse shadow-lg",children:[U.jsx(j0,{className:"w-3 h-3"}),U.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest",children:[Et.streamPlatform," Live"]})]}),U.jsx("div",{className:"flex justify-between items-start mb-6 pr-24",children:U.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors leading-tight",children:String(Et.gameTitle)})}),U.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[U.jsxs("div",{className:"flex items-center gap-2 opacity-40",children:[U.jsx(IN,{className:"w-3 h-3"}),U.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:String(Et.startTime)})]}),U.jsxs("div",{className:"flex items-center gap-2 opacity-40",children:[U.jsx(P0,{className:"w-3 h-3"}),U.jsxs("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:[Et.duration," HR SESSION"]})]})]}),U.jsxs("div",{className:"mb-8 flex-1",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-60",children:[U.jsx(z0,{className:"w-3 h-3"}),U.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[Et.participants?.length||0," / ",Ft," Operators Enlisted"]})]}),U.jsx("div",{className:"flex flex-wrap gap-2",children:Et.participants?.map((Ue,ds)=>U.jsxs("div",{className:`flex items-center gap-2 text-[9px] font-black px-4 py-2 rounded-full ${st.bg} border ${st.border} uppercase`,children:[U.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),String(Ue.name)]},ds))})]}),U.jsxs("div",{className:"flex gap-3 mt-auto",children:[U.jsx("button",{onClick:()=>et(Et),disabled:fe&&!Tt,className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition active:scale-95 ${Tt?"bg-rose-500/10 text-rose-500 border border-rose-500/20":fe?"bg-slate-500/10 text-slate-400 opacity-50 cursor-not-allowed":st.button}`,children:Tt?"Retire from Session":fe?"Mission Full":"Enlist Now"}),Et.userId===s?.uid&&U.jsx("button",{onClick:()=>qc(Ii(ve,"artifacts",pn,"public","data","sessions",Et.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:U.jsx(KN,{className:"w-5 h-5"})})]})]},Et.id)})})]},G))})]}):U.jsxs("div",{className:`${st.card} border ${st.border} rounded-[5rem] p-16 text-center shadow-2xl max-w-2xl mx-auto`,children:[U.jsx("div",{className:"w-32 h-32 mx-auto mb-10 rounded-[3rem] bg-indigo-600 flex items-center justify-center text-white text-6xl font-black shadow-2xl",children:String(V.displayName).charAt(0)}),U.jsx("input",{type:"text",value:V.displayName,onChange:G=>w({...V,displayName:G.target.value}),onBlur:()=>ct(V),className:"w-full bg-transparent text-center text-5xl font-black italic uppercase outline-none focus:text-indigo-600 transition mb-12"}),U.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-10 border-t border-slate-500/10",children:[U.jsx("button",{onClick:()=>ct({...V,theme:"light"}),className:`p-8 rounded-[2.5rem] border-2 transition ${V.theme==="light"?"border-indigo-600 bg-white shadow-xl":"border-transparent opacity-40 hover:opacity-100"}`,children:U.jsx(UN,{className:"w-8 h-8 text-indigo-600"})}),U.jsx("button",{onClick:()=>ct({...V,theme:"dark"}),className:`p-8 rounded-[2.5rem] border-2 transition ${V.theme==="dark"?"border-indigo-400 bg-zinc-900 shadow-xl":"border-transparent opacity-40"}`,children:U.jsx(ZN,{className:"w-8 h-8 text-indigo-400"})})]})]})})]}),Ht&&U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:U.jsxs("div",{className:`${st.card} border ${st.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[U.jsxs("div",{className:"flex justify-between items-start mb-10",children:[U.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Guild Directory"}),U.jsx("button",{onClick:()=>ie(!1),className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-500/10 hover:rotate-90 transition",children:""})]}),U.jsx("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:x.map(G=>U.jsxs("div",{className:`${st.bg} p-6 rounded-[2.5rem] border ${st.border} flex justify-between items-center group`,children:[U.jsxs("div",{className:"flex-1",children:[U.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(G.name)}),U.jsxs("div",{className:"flex items-center gap-3 mt-1 opacity-40 text-[9px] font-black uppercase",children:[U.jsxs("span",{className:"flex items-center gap-1",children:[U.jsx(z0,{className:"w-3 h-3"})," ",G.members?.length||0," Operators"]}),G.ownerId===s?.uid&&U.jsxs("span",{className:"text-amber-500 flex items-center gap-1 font-black underline",children:[U.jsx(ON,{className:"w-3 h-3"})," COMMANDER"]})]})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("button",{onClick:()=>Y(G),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${V.joinedGuilds?.includes(G.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":st.button}`,children:V.joinedGuilds?.includes(G.id)?"Retire":"Enlist"}),G.ownerId===s?.uid&&U.jsx("button",{onClick:()=>Gt(G.id),title:"Disband Guild",className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:U.jsx(HN,{className:"w-4 h-4"})})]})]},G.id))}),U.jsxs("div",{className:`pt-10 border-t ${st.border} space-y-4`,children:[U.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"Establish Tactical Sector"}),U.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${st.bg} border ${st.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:M.name,onChange:G=>N({...M,name:G.target.value})}),U.jsx("button",{onClick:O,className:`w-full py-5 rounded-3xl ${st.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Commission Registry"})]})]})}),Rt&&U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:U.jsxs("div",{className:`${st.card} border ${st.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[U.jsxs("div",{className:"flex justify-between items-start mb-8",children:[U.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),U.jsx("button",{onClick:()=>vt(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),U.jsxs("form",{onSubmit:rt,className:"space-y-6",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"text-[10px] font-black uppercase opacity-40 ml-2",children:"Game / Operation Name"}),U.jsx("input",{placeholder:"E.G. WARZONE RANKED / RAIDS",className:`w-full p-5 rounded-2xl ${st.bg} border ${st.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:At.gameTitle,onChange:G=>H({...At,gameTitle:G.target.value}),required:!0})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"text-[10px] font-black uppercase opacity-40 ml-2",children:"Operation Date"}),U.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${st.bg} border ${st.border} outline-none text-xs font-black`,value:At.date,onChange:G=>H({...At,date:G.target.value})})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"text-[10px] font-black uppercase opacity-40 ml-2",children:"Deploy Time"}),U.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${st.bg} border ${st.border} outline-none text-xs font-black`,value:At.startTime,onChange:G=>H({...At,startTime:G.target.value})})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"text-[10px] font-black uppercase opacity-40 ml-2",children:"Duration (Hours)"}),U.jsxs("div",{className:"relative",children:[U.jsx(P0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),U.jsx("input",{type:"number",min:"1",max:"24",className:`w-full pl-12 p-5 rounded-2xl ${st.bg} border ${st.border} outline-none text-xs font-black`,value:At.duration,onChange:G=>H({...At,duration:G.target.value})})]})]})]}),U.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"text-[10px] font-black uppercase opacity-40 ml-2",children:"Command Guild"}),U.jsxs("select",{className:`w-full p-5 rounded-2xl ${st.bg} border ${st.border} outline-none text-xs font-black uppercase`,value:At.guildId,onChange:G=>H({...At,guildId:G.target.value}),required:!0,children:[U.jsx("option",{value:"",children:"Select Guild"}),x.filter(G=>V.joinedGuilds?.includes(G.id)).map(G=>U.jsx("option",{value:G.id,children:String(G.name)},G.id))]})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"text-[10px] font-black uppercase opacity-40 ml-2",children:"Additional Openings"}),U.jsxs("div",{className:"relative",children:[U.jsx(YN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),U.jsx("input",{type:"number",min:"1",max:"99",className:`w-full pl-12 p-5 rounded-2xl ${st.bg} border ${st.border} outline-none text-xs font-black`,value:At.maxOpenings,onChange:G=>H({...At,maxOpenings:G.target.value})})]})]})]}),U.jsxs("div",{className:`${st.bg} p-6 rounded-3xl border ${st.border} flex items-center justify-between`,children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("div",{className:`p-3 rounded-xl ${At.isStreaming?"bg-rose-500 text-white shadow-lg":"bg-slate-500/10 opacity-40"}`,children:U.jsx(j0,{className:"w-5 h-5"})}),U.jsxs("div",{children:[U.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:"Broadcast Mission"}),U.jsx("p",{className:"text-[9px] opacity-40 uppercase font-bold",children:"Show stream status on hub"})]})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[At.isStreaming&&U.jsxs("select",{className:"bg-black text-white p-2 px-4 rounded-xl text-[10px] font-black uppercase outline-none border border-white/10",value:At.streamPlatform,onChange:G=>H({...At,streamPlatform:G.target.value}),children:[U.jsx("option",{children:"Twitch"}),U.jsx("option",{children:"YouTube"}),U.jsx("option",{children:"Kick"})]}),U.jsx("button",{type:"button",onClick:()=>H({...At,isStreaming:!At.isStreaming}),className:`w-14 h-8 rounded-full transition-colors relative ${At.isStreaming?"bg-indigo-600":"bg-slate-300 dark:bg-zinc-800"}`,children:U.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${At.isStreaming?"left-7 shadow-lg":"left-1"}`})})]})]}),U.jsxs("p",{className:"text-[9px] font-black uppercase opacity-30 text-center italic",children:["Deployment Capacity: ",Number(At.maxOpenings)+1," Operators"]}),U.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${st.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Deploy Mission"})]})]})})]}):U.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:U.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[U.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),U.jsxs("div",{className:"text-center mb-10",children:[U.jsx(om,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),U.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"}),U.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.3em] opacity-30 mt-2",children:"Operator Identity Registry"})]}),U.jsxs("form",{onSubmit:tt,className:"space-y-4",children:[U.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase",value:d.email,onChange:G=>p({...d,email:G.target.value})}),U.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase",value:d.password,onChange:G=>p({...d,password:G.target.value})}),_&&U.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),U.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition flex items-center justify-center gap-2",children:[l==="login"?"Establish Link":"Initialize Identity"," ",U.jsx(RN,{className:"w-4 h-4"})]})]}),U.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):U.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[U.jsx(BN,{className:"w-16 h-16 text-rose-500 mb-6"}),U.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"}),U.jsx("p",{className:"opacity-50 text-sm",children:"Update src/App.jsx with Firebase keys."})]})};JS.createRoot(document.getElementById("root")).render(U.jsx(ae.StrictMode,{children:U.jsx(nD,{})}));
