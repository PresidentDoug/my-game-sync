(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Qd={exports:{}},Ol={};var lv;function sS(){if(lv)return Ol;lv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var uv;function rS(){return uv||(uv=1,Qd.exports=sS()),Qd.exports}var S=rS(),Yd={exports:{}},Re={};var cv;function aS(){if(cv)return Re;cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function pe(M,Y,te){this.props=M,this.context=Y,this.refs=ee,this.updater=te||Z}pe.prototype.isReactComponent={},pe.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},pe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Se(){}Se.prototype=pe.prototype;function Te(M,Y,te){this.props=M,this.context=Y,this.refs=ee,this.updater=te||Z}var Je=Te.prototype=new Se;Je.constructor=Te,se(Je,pe.prototype),Je.isPureReactComponent=!0;var dt=Array.isArray;function Fe(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,Y,te){var re=te.ref;return{$$typeof:s,type:M,key:Y,ref:re!==void 0?re:null,props:te}}function V(M,Y){return I(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var R=/\/+/g;function mt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Y.toString(36)}function St(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Fe,Fe):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,te,re,_e){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var Ve=!1;if(M===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(M.$$typeof){case s:case e:Ve=!0;break;case b:return Ve=M._init,G(Ve(M._payload),Y,te,re,_e)}}if(Ve)return _e=_e(M),Ve=re===""?"."+mt(M,0):re,dt(_e)?(te="",Ve!=null&&(te=Ve.replace(R,"$&/")+"/"),G(_e,Y,te,"",function(ni){return ni})):_e!=null&&(N(_e)&&(_e=V(_e,te+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+Ve)),Y.push(_e)),1;Ve=0;var wt=re===""?".":re+":";if(dt(M))for(var ut=0;ut<M.length;ut++)re=M[ut],Ae=wt+mt(re,ut),Ve+=G(re,Y,te,Ae,_e);else if(ut=Q(M),typeof ut=="function")for(M=ut.call(M),ut=0;!(re=M.next()).done;)re=re.value,Ae=wt+mt(re,ut++),Ve+=G(re,Y,te,Ae,_e);else if(Ae==="object"){if(typeof M.then=="function")return G(St(M),Y,te,re,_e);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ne(M,Y,te){if(M==null)return M;var re=[],_e=0;return G(M,re,"","",function(Ae){return Y.call(te,Ae,_e++)}),re}function fe(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ye={map:ne,forEach:function(M,Y,te){ne(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return ne(M,function(){Y++}),Y},toArray:function(M){return ne(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=w,Re.Children=Ye,Re.Component=pe,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=Te,Re.StrictMode=r,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=se({},M.props),_e=M.key;if(Y!=null)for(Ae in Y.key!==void 0&&(_e=""+Y.key),Y)!A.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(re[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=te;else if(1<Ae){for(var Ve=Array(Ae),wt=0;wt<Ae;wt++)Ve[wt]=arguments[wt+2];re.children=Ve}return I(M.type,_e,re)},Re.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Re.createElement=function(M,Y,te){var re,_e={},Ae=null;if(Y!=null)for(re in Y.key!==void 0&&(Ae=""+Y.key),Y)A.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(_e[re]=Y[re]);var Ve=arguments.length-2;if(Ve===1)_e.children=te;else if(1<Ve){for(var wt=Array(Ve),ut=0;ut<Ve;ut++)wt[ut]=arguments[ut+2];_e.children=wt}if(M&&M.defaultProps)for(re in Ve=M.defaultProps,Ve)_e[re]===void 0&&(_e[re]=Ve[re]);return I(M,Ae,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:p,render:M}},Re.isValidElement=N,Re.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:fe}},Re.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Re.startTransition=function(M){var Y=x.T,te={};x.T=te;try{var re=M(),_e=x.S;_e!==null&&_e(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Fe,Pe)}catch(Ae){Pe(Ae)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),x.T=Y}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(M){return x.H.use(M)},Re.useActionState=function(M,Y,te){return x.H.useActionState(M,Y,te)},Re.useCallback=function(M,Y){return x.H.useCallback(M,Y)},Re.useContext=function(M){return x.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,Y){return x.H.useDeferredValue(M,Y)},Re.useEffect=function(M,Y){return x.H.useEffect(M,Y)},Re.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(M,Y,te){return x.H.useImperativeHandle(M,Y,te)},Re.useInsertionEffect=function(M,Y){return x.H.useInsertionEffect(M,Y)},Re.useLayoutEffect=function(M,Y){return x.H.useLayoutEffect(M,Y)},Re.useMemo=function(M,Y){return x.H.useMemo(M,Y)},Re.useOptimistic=function(M,Y){return x.H.useOptimistic(M,Y)},Re.useReducer=function(M,Y,te){return x.H.useReducer(M,Y,te)},Re.useRef=function(M){return x.H.useRef(M)},Re.useState=function(M){return x.H.useState(M)},Re.useSyncExternalStore=function(M,Y,te){return x.H.useSyncExternalStore(M,Y,te)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.4",Re}var hv;function Km(){return hv||(hv=1,Yd.exports=aS()),Yd.exports}var Ue=Km(),Xd={exports:{}},Ml={},$d={exports:{}},Jd={};var fv;function oS(){return fv||(fv=1,(function(s){function e(G,ne){var fe=G.length;G.push(ne);e:for(;0<fe;){var Pe=fe-1>>>1,Ye=G[Pe];if(0<l(Ye,ne))G[Pe]=ne,G[fe]=Ye,fe=Pe;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],fe=G.pop();if(fe!==ne){G[0]=fe;e:for(var Pe=0,Ye=G.length,M=Ye>>>1;Pe<M;){var Y=2*(Pe+1)-1,te=G[Y],re=Y+1,_e=G[re];if(0>l(te,fe))re<Ye&&0>l(_e,te)?(G[Pe]=_e,G[re]=fe,Pe=re):(G[Pe]=te,G[Y]=fe,Pe=Y);else if(re<Ye&&0>l(_e,fe))G[Pe]=_e,G[re]=fe,Pe=re;else break e}}return ne}function l(G,ne){var fe=G.sortIndex-ne.sortIndex;return fe!==0?fe:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,w=null,O=3,Q=!1,Z=!1,se=!1,ee=!1,pe=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function Je(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)r(y);else if(ne.startTime<=G)r(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function dt(G){if(se=!1,Je(G),!Z)if(i(_)!==null)Z=!0,Fe||(Fe=!0,U());else{var ne=i(y);ne!==null&&St(dt,ne.startTime-G)}}var Fe=!1,x=-1,A=5,I=-1;function V(){return ee?!0:!(s.unstable_now()-I<A)}function N(){if(ee=!1,Fe){var G=s.unstable_now();I=G;var ne=!0;try{e:{Z=!1,se&&(se=!1,Se(x),x=-1),Q=!0;var fe=O;try{t:{for(Je(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var Pe=w.callback;if(typeof Pe=="function"){w.callback=null,O=w.priorityLevel;var Ye=Pe(w.expirationTime<=G);if(G=s.unstable_now(),typeof Ye=="function"){w.callback=Ye,Je(G),ne=!0;break t}w===i(_)&&r(_),Je(G)}else r(_);w=i(_)}if(w!==null)ne=!0;else{var M=i(y);M!==null&&St(dt,M.startTime-G),ne=!1}}break e}finally{w=null,O=fe,Q=!1}ne=void 0}}finally{ne?U():Fe=!1}}}var U;if(typeof Te=="function")U=function(){Te(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,mt=R.port2;R.port1.onmessage=N,U=function(){mt.postMessage(null)}}else U=function(){pe(N,0)};function St(G,ne){x=pe(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(G){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var fe=O;O=ne;try{return G()}finally{O=fe}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=O;O=G;try{return ne()}finally{O=fe}},s.unstable_scheduleCallback=function(G,ne,fe){var Pe=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Pe+fe:Pe):fe=Pe,G){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=fe+Ye,G={id:b++,callback:ne,priorityLevel:G,startTime:fe,expirationTime:Ye,sortIndex:-1},fe>Pe?(G.sortIndex=fe,e(y,G),i(_)===null&&G===i(y)&&(se?(Se(x),x=-1):se=!0,St(dt,fe-Pe))):(G.sortIndex=Ye,e(_,G),Z||Q||(Z=!0,Fe||(Fe=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ne=O;return function(){var fe=O;O=ne;try{return G.apply(this,arguments)}finally{O=fe}}}})(Jd)),Jd}var dv;function lS(){return dv||(dv=1,$d.exports=oS()),$d.exports}var Zd={exports:{}},ln={};var mv;function uS(){if(mv)return ln;mv=1;var s=Km();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},ln.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},ln.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},ln.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ln.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:Q}):b==="script"&&r.d.X(_,{crossOrigin:w,integrity:O,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},ln.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},ln.requestFormReset=function(_){r.d.r(_)},ln.unstable_batchedUpdates=function(_,y){return _(y)},ln.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var pv;function cS(){if(pv)return Zd.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zd.exports=uS(),Zd.exports}var gv;function hS(){if(gv)return Ml;gv=1;var s=lS(),e=Km(),i=cS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case pe:return"Profiler";case ee:return"StrictMode";case dt:return"Suspense";case Fe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Te:return t.displayName||"Context";case Se:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:mt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return mt(t(n))}catch{}}return null}var St=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Pe=[],Ye=-1;function M(t){return{current:t}}function Y(t){0>Ye||(t.current=Pe[Ye],Pe[Ye]=null,Ye--)}function te(t,n){Ye++,Pe[Ye]=t.current,t.current=n}var re=M(null),_e=M(null),Ae=M(null),Ve=M(null);function wt(t,n){switch(te(Ae,n),te(_e,t),te(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=D_(n),t=O_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),te(re,t)}function ut(){Y(re),Y(_e),Y(Ae)}function ni(t){t.memoizedState!==null&&te(Ve,t);var n=re.current,a=O_(n,t.type);n!==a&&(te(_e,t),te(re,a))}function Cs(t){_e.current===t&&(Y(re),Y(_e)),Ve.current===t&&(Y(Ve),Il._currentValue=fe)}var Ki,Qi;function Rt(t){if(Ki===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ki=n&&n[1]||"",Qi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ki+t+Qi}var Yi=!1;function ae(t,n){if(!t||Yi)return"";Yi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Yi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rt(a):""}function xn(t,n){switch(t.tag){case 26:case 27:case 5:return Rt(t.type);case 16:return Rt("Lazy");case 13:return t.child!==n&&n!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return ae(t.type,!1);case 11:return ae(t.type.render,!1);case 1:return ae(t.type,!0);case 31:return Rt("Activity");default:return""}}function ie(t){try{var n="",a=null;do n+=xn(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var De=Object.prototype.hasOwnProperty,ct=s.unstable_scheduleCallback,yi=s.unstable_cancelCallback,Oo=s.unstable_shouldYield,da=s.unstable_requestPaint,Et=s.unstable_now,Xi=s.unstable_getCurrentPriorityLevel,Ar=s.unstable_ImmediatePriority,wr=s.unstable_UserBlockingPriority,_i=s.unstable_NormalPriority,Rr=s.unstable_LowPriority,ma=s.unstable_IdlePriority,pa=s.log,ga=s.unstable_setDisableYieldValue,Nn=null,Ft=null;function _n(t){if(typeof pa=="function"&&ga(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Nn,t)}catch{}}var k=Math.clz32?Math.clz32:be,ce=Math.log,ye=Math.LN2;function be(t){return t>>>=0,t===0?32:31-(ce(t)/ye|0)|0}var Ke=256,ht=262144,Me=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Dn(o):(g&=E,g!==0?h=Dn(g):a||(a=E&~t,a!==0&&(h=Dn(a))))):(E=o&~f,E!==0?h=Dn(E):g!==0?h=Dn(g):a||(a=o&~t,a!==0&&(h=Dn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ii(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $h(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),t}function vi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jh(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-k(a),X=1<<F;E[F]=0,C[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&Ir(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ir(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-k(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Mo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-k(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Vo(t,n){var a=n&-n;return a=(a&42)!==0?1:xr(a),(a&(t.suspendedLanes|n))!==0?0:a}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function si(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var ri=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ri,Xt="__reactProps$"+ri,Ei="__reactContainer$"+ri,ya="__reactEvents$"+ri,Zh="__reactListeners$"+ri,Tu="__reactHandles$"+ri,bu="__reactResources$"+ri,Ti="__reactMarker$"+ri;function _a(t){delete t[Lt],delete t[Xt],delete t[ya],delete t[Zh],delete t[Tu]}function bi(t){var n=t[Lt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ei]||a[Lt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=j_(t);t!==null;){if(a=t[Lt])return a;t=j_(t)}return n}t=a,a=t.parentNode}return null}function qn(t){if(t=t[Lt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Si(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ut(t){t[Ti]=!0}var ko=new Set,Lo={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Lo[t]=n,t=0;t<n.length;t++)ko.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},jo={};function Su(t){return De.call(jo,t)?!0:De.call(Po,t)?!1:Uo.test(t)?jo[t]=!0:(Po[t]=!0,!1)}function va(t,n,a){if(Su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=zo(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function vn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Bo(t,g,$t(n)):a!=null?Bo(t,g,$t(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function Au(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+$t(a):"",n=n!=null?""+$t(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nt(t)}function Bo(t,n,a){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$t(a):""}function Ns(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(St(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$t(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function En(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Ru.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ho(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&qo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&qo(t,f,n[f])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var Go=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ci=null;function Or(t){var n=qn(t);if(n&&(t=n.stateNode)){var a=t[Xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Xt]||null;if(!h)throw Error(r(90));Ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Nr(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&xs(t,!!a.multiple,n,!1)}}}var Sa=!1;function Ms(t,n,a){if(Sa)return t(n,a);Sa=!0;try{var o=t(n);return o}finally{if(Sa=!1,(Os!==null||Ci!==null)&&(Ec(),Os&&(n=Os,t=Ci,Ci=Os=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function oi(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Xt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Gn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Mr=!1}var Ii=null,Fo=null,Vr=null;function Ko(){if(Vr)return Vr;var t,n=Fo,a=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Vr=h.slice(t,1<o?1-o:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function li(){return!1}function Wt(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:li,this.isPropagationStopped=li,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Wt(Zi),Vs=w({},Zi,{view:0,detail:0}),Qo=Wt(Vs),ks,Aa,Ni,wa=w({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(ks=t.screenX-Ni.screenX,Aa=t.screenY-Ni.screenY):Aa=ks=0,Ni=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Yo=Wt(wa),Lr=w({},wa,{dataTransfer:0}),Iu=Wt(Lr),xu=w({},Vs,{relatedTarget:0}),Ur=Wt(xu),Xo=w({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Wt(Xo),Ra=w({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Wt(Ra),Ou=w({},Zi,{data:0}),Di=Wt(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function Ls(){return Lu}var mn=w({},Vs,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=Wt(mn),Pu=w({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Wt(Pu),u=w({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),m=Wt(u),v=w({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Wt(v),P=w({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Wt(P),W=w({},Zi,{newState:0,oldState:0}),Ie=Wt(W),Nt=[9,13,27,32],Ze=Gn&&"CompositionEvent"in window,Tt=null;Gn&&"documentMode"in document&&(Tt=document.documentMode);var Fn=Gn&&"TextEvent"in window&&!Tt,Oi=Gn&&(!Ze||Tt&&8<Tt&&11>=Tt),ui=" ",ci=!1;function Pr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function I1(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(ci=!0,ui);case"textInput":return t=n.data,t===ui&&ci?null:t;default:return null}}function x1(t,n){if(Ia)return t==="compositionend"||!Ze&&Pr(t,n)?(t=Ko(),Vr=Fo=Ii=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var N1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!N1[t.type]:n==="textarea"}function Hp(t,n,a,o){Os?Ci?Ci.push(o):Ci=[o]:Os=o,n=Cc(n,"onChange"),0<n.length&&(a=new xi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var $o=null,Jo=null;function D1(t){w_(t,0)}function ju(t){var n=On(t);if(Nr(n))return t}function Gp(t,n){if(t==="change")return n}var Fp=!1;if(Gn){var Wh;if(Gn){var ef="oninput"in document;if(!ef){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),ef=typeof Kp.oninput=="function"}Wh=ef}else Wh=!1;Fp=Wh&&(!document.documentMode||9<document.documentMode)}function Qp(){$o&&($o.detachEvent("onpropertychange",Yp),Jo=$o=null)}function Yp(t){if(t.propertyName==="value"&&ju(Jo)){var n=[];Hp(n,Jo,t,Hn(t)),Ms(D1,n)}}function O1(t,n,a){t==="focusin"?(Qp(),$o=n,Jo=a,$o.attachEvent("onpropertychange",Yp)):t==="focusout"&&Qp()}function M1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Jo)}function V1(t,n){if(t==="click")return ju(n)}function k1(t,n){if(t==="input"||t==="change")return ju(n)}function L1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vn=typeof Object.is=="function"?Object.is:L1;function Zo(t,n){if(Vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!De.call(n,h)||!Vn(t[h],n[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,n){var a=Xp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Jp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ri(t.document)}return n}function tf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var U1=Gn&&"documentMode"in document&&11>=document.documentMode,xa=null,nf=null,Wo=null,sf=!1;function Wp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||xa==null||xa!==Ri(o)||(o=xa,"selectionStart"in o&&tf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Zo(Wo,o)||(Wo=o,o=Cc(nf,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=xa)))}function jr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Na={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},rf={},eg={};Gn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function zr(t){if(rf[t])return rf[t];if(!Na[t])return t;var n=Na[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in eg)return rf[t]=n[a];return t}var tg=zr("animationend"),ng=zr("animationiteration"),ig=zr("animationstart"),P1=zr("transitionrun"),j1=zr("transitionstart"),z1=zr("transitioncancel"),sg=zr("transitionend"),rg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function hi(t,n){rg.set(t,n),Ai(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Da=0,of=0;function Bu(){for(var t=Da,n=of=Da=0;n<t;){var a=Kn[n];Kn[n++]=null;var o=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var f=Kn[n];if(Kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ag(a,h,f)}}function qu(t,n,a,o){Kn[Da++]=t,Kn[Da++]=n,Kn[Da++]=a,Kn[Da++]=o,of|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function lf(t,n,a,o){return qu(t,n,a,o),Hu(t)}function Br(t,n){return qu(t,null,null,n),Hu(t)}function ag(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-k(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<Tl)throw Tl=0,yd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Oa={};function B1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,a,o){return new B1(t,n,a,o)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var a=t.alternate;return a===null?(a=kn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")uf(t)&&(g=1);else if(typeof t=="string")g=Kb(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=kn(31,a,n,h),t.elementType=I,t.lanes=f,t;case se:return qr(a.children,h,f,n);case ee:g=8,h|=24;break;case pe:return t=kn(12,a,n,h|2),t.elementType=pe,t.lanes=f,t;case dt:return t=kn(13,a,n,h),t.elementType=dt,t.lanes=f,t;case Fe:return t=kn(19,a,n,h),t.elementType=Fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:g=10;break e;case Se:g=9;break e;case Je:g=11;break e;case x:g=14;break e;case A:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=kn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function qr(t,n,a,o){return t=kn(7,t,o,n),t.lanes=a,t}function cf(t,n,a){return t=kn(6,t,null,n),t.lanes=a,t}function lg(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function hf(t,n,a){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ug=new WeakMap;function Qn(t,n){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ie(n)},ug.set(t,n),n)}return{value:t,source:n,stack:ie(n)}}var Ma=[],Va=0,Fu=null,el=0,Yn=[],Xn=0,Us=null,Mi=1,Vi="";function ts(t,n){Ma[Va++]=el,Ma[Va++]=Fu,Fu=t,el=n}function cg(t,n,a){Yn[Xn++]=Mi,Yn[Xn++]=Vi,Yn[Xn++]=Us,Us=t;var o=Mi;t=Vi;var h=32-k(o)-1;o&=~(1<<h),a+=1;var f=32-k(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Mi=1<<32-k(n)+h|a<<h|o,Vi=f+t}else Mi=1<<f|a<<h|o,Vi=t}function ff(t){t.return!==null&&(ts(t,1),cg(t,1,0))}function df(t){for(;t===Fu;)Fu=Ma[--Va],Ma[Va]=null,el=Ma[--Va],Ma[Va]=null;for(;t===Us;)Us=Yn[--Xn],Yn[Xn]=null,Vi=Yn[--Xn],Yn[Xn]=null,Mi=Yn[--Xn],Yn[Xn]=null}function hg(t,n){Yn[Xn++]=Mi,Yn[Xn++]=Vi,Yn[Xn++]=Us,Mi=n.id,Vi=n.overflow,Us=t}var en=null,gt=null,Ge=!1,Ps=null,$n=!1,mf=Error(r(519));function js(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Qn(n,t)),mf}function fg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Lt]=t,n[Xt]=o,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Le(Sl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Ns(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||x_(n.textContent,a)?(o.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),o.onScroll!=null&&Le("scroll",n),o.onScrollEnd!=null&&Le("scrollend",n),o.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||js(t,!0)}function dg(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:en=en.return}}function ka(t){if(t!==en)return!1;if(!Ge)return dg(t),Ge=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&gt&&js(t),dg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=P_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=P_(t)}else n===27?(n=gt,Ws(t.type)?(t=Ud,Ud=null,gt=t):gt=n):gt=en?Zn(t.stateNode.nextSibling):null;return!0}function Hr(){gt=en=null,Ge=!1}function pf(){var t=Ps;return t!==null&&(An===null?An=t:An.push.apply(An,t),Ps=null),t}function tl(t){Ps===null?Ps=[t]:Ps.push(t)}var gf=M(null),Gr=null,ns=null;function zs(t,n,a){te(gf,n._currentValue),n._currentValue=a}function is(t){t._currentValue=gf.current,Y(gf)}function yf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function _f(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),yf(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),yf(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function La(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Vn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ve.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&_f(n,t,a,o),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Gr=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return mg(Gr,t)}function Qu(t,n){return Gr===null&&Fr(t),mg(t,n)}function mg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ns===null){if(t===null)throw Error(r(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return a}var q1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},H1=s.unstable_scheduleCallback,G1=s.unstable_NormalPriority,jt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new q1,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&H1(G1,function(){t.controller.abort()})}var il=null,Ef=0,Ua=0,Pa=null;function F1(t,n){if(il===null){var a=il=[];Ef=0,Ua=Sd(),Pa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ef++,n.then(pg,pg),n}function pg(){if(--Ef===0&&il!==null){Pa!==null&&(Pa.status="fulfilled");var t=il;il=null,Ua=0,Pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function K1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var gg=G.S;G.S=function(t,n){Wy=Et(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&F1(t,n),gg!==null&&gg(t,n)};var Kr=M(null);function Tf(){var t=Kr.current;return t!==null?t:ft.pooledCache}function Yu(t,n){n===null?te(Kr,Kr.current):te(Kr,n.pool)}function yg(){var t=Tf();return t===null?null:{parent:jt._currentValue,pool:t}}var ja=Error(r(460)),bf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ai,ai),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tg(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tg(t),t}throw Yr=n,ja}}function Qr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,ja):a}}var Yr=null;function Eg(){if(Yr===null)throw Error(r(459));var t=Yr;return Yr=null,t}function Tg(t){if(t===ja||t===Xu)throw Error(r(483))}var za=null,sl=0;function Ju(t){var n=sl;return sl+=1,za===null&&(za=[]),vg(za,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zu(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function bg(t){function n(L,D){if(t){var j=L.deletions;j===null?(L.deletions=[D],L.flags|=16):j.push(D)}}function a(L,D){if(!t)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function o(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=es(L,D),L.index=0,L.sibling=null,L}function f(L,D,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<D?(L.flags|=67108866,D):j):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,D,j,K){return D===null||D.tag!==6?(D=cf(j,L.mode,K),D.return=L,D):(D=h(D,j),D.return=L,D)}function C(L,D,j,K){var de=j.type;return de===se?F(L,D,j.props.children,K,j.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Qr(de)===D.type)?(D=h(D,j.props),rl(D,j),D.return=L,D):(D=Gu(j.type,j.key,j.props,null,L.mode,K),rl(D,j),D.return=L,D)}function z(L,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=hf(j,L.mode,K),D.return=L,D):(D=h(D,j.children||[]),D.return=L,D)}function F(L,D,j,K,de){return D===null||D.tag!==7?(D=qr(j,L.mode,K,de),D.return=L,D):(D=h(D,j),D.return=L,D)}function X(L,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=cf(""+D,L.mode,j),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return j=Gu(D.type,D.key,D.props,null,L.mode,j),rl(j,D),j.return=L,j;case Z:return D=hf(D,L.mode,j),D.return=L,D;case A:return D=Qr(D),X(L,D,j)}if(St(D)||U(D))return D=qr(D,L.mode,j,null),D.return=L,D;if(typeof D.then=="function")return X(L,Ju(D),j);if(D.$$typeof===Te)return X(L,Qu(L,D),j);Zu(L,D)}return null}function B(L,D,j,K){var de=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:E(L,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===de?C(L,D,j,K):null;case Z:return j.key===de?z(L,D,j,K):null;case A:return j=Qr(j),B(L,D,j,K)}if(St(j)||U(j))return de!==null?null:F(L,D,j,K,null);if(typeof j.then=="function")return B(L,D,Ju(j),K);if(j.$$typeof===Te)return B(L,D,Qu(L,j),K);Zu(L,j)}return null}function H(L,D,j,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(j)||null,E(D,L,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return L=L.get(K.key===null?j:K.key)||null,C(D,L,K,de);case Z:return L=L.get(K.key===null?j:K.key)||null,z(D,L,K,de);case A:return K=Qr(K),H(L,D,j,K,de)}if(St(K)||U(K))return L=L.get(j)||null,F(D,L,K,de,null);if(typeof K.then=="function")return H(L,D,j,Ju(K),de);if(K.$$typeof===Te)return H(L,D,j,Qu(D,K),de);Zu(D,K)}return null}function le(L,D,j,K){for(var de=null,Xe=null,he=D,Ne=D=0,ze=null;he!==null&&Ne<j.length;Ne++){he.index>Ne?(ze=he,he=null):ze=he.sibling;var $e=B(L,he,j[Ne],K);if($e===null){he===null&&(he=ze);break}t&&he&&$e.alternate===null&&n(L,he),D=f($e,D,Ne),Xe===null?de=$e:Xe.sibling=$e,Xe=$e,he=ze}if(Ne===j.length)return a(L,he),Ge&&ts(L,Ne),de;if(he===null){for(;Ne<j.length;Ne++)he=X(L,j[Ne],K),he!==null&&(D=f(he,D,Ne),Xe===null?de=he:Xe.sibling=he,Xe=he);return Ge&&ts(L,Ne),de}for(he=o(he);Ne<j.length;Ne++)ze=H(he,L,Ne,j[Ne],K),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?Ne:ze.key),D=f(ze,D,Ne),Xe===null?de=ze:Xe.sibling=ze,Xe=ze);return t&&he.forEach(function(sr){return n(L,sr)}),Ge&&ts(L,Ne),de}function ge(L,D,j,K){if(j==null)throw Error(r(151));for(var de=null,Xe=null,he=D,Ne=D=0,ze=null,$e=j.next();he!==null&&!$e.done;Ne++,$e=j.next()){he.index>Ne?(ze=he,he=null):ze=he.sibling;var sr=B(L,he,$e.value,K);if(sr===null){he===null&&(he=ze);break}t&&he&&sr.alternate===null&&n(L,he),D=f(sr,D,Ne),Xe===null?de=sr:Xe.sibling=sr,Xe=sr,he=ze}if($e.done)return a(L,he),Ge&&ts(L,Ne),de;if(he===null){for(;!$e.done;Ne++,$e=j.next())$e=X(L,$e.value,K),$e!==null&&(D=f($e,D,Ne),Xe===null?de=$e:Xe.sibling=$e,Xe=$e);return Ge&&ts(L,Ne),de}for(he=o(he);!$e.done;Ne++,$e=j.next())$e=H(he,L,Ne,$e.value,K),$e!==null&&(t&&$e.alternate!==null&&he.delete($e.key===null?Ne:$e.key),D=f($e,D,Ne),Xe===null?de=$e:Xe.sibling=$e,Xe=$e);return t&&he.forEach(function(iS){return n(L,iS)}),Ge&&ts(L,Ne),de}function lt(L,D,j,K){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:e:{for(var de=j.key;D!==null;){if(D.key===de){if(de=j.type,de===se){if(D.tag===7){a(L,D.sibling),K=h(D,j.props.children),K.return=L,L=K;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Qr(de)===D.type){a(L,D.sibling),K=h(D,j.props),rl(K,j),K.return=L,L=K;break e}a(L,D);break}else n(L,D);D=D.sibling}j.type===se?(K=qr(j.props.children,L.mode,K,j.key),K.return=L,L=K):(K=Gu(j.type,j.key,j.props,null,L.mode,K),rl(K,j),K.return=L,L=K)}return g(L);case Z:e:{for(de=j.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(L,D.sibling),K=h(D,j.children||[]),K.return=L,L=K;break e}else{a(L,D);break}else n(L,D);D=D.sibling}K=hf(j,L.mode,K),K.return=L,L=K}return g(L);case A:return j=Qr(j),lt(L,D,j,K)}if(St(j))return le(L,D,j,K);if(U(j)){if(de=U(j),typeof de!="function")throw Error(r(150));return j=de.call(j),ge(L,D,j,K)}if(typeof j.then=="function")return lt(L,D,Ju(j),K);if(j.$$typeof===Te)return lt(L,D,Qu(L,j),K);Zu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(a(L,D.sibling),K=h(D,j),K.return=L,L=K):(a(L,D),K=cf(j,L.mode,K),K.return=L,L=K),g(L)):a(L,D)}return function(L,D,j,K){try{sl=0;var de=lt(L,D,j,K);return za=null,de}catch(he){if(he===ja||he===Xu)throw he;var Xe=kn(29,he,null,L.mode);return Xe.lanes=K,Xe.return=L,Xe}}}var Xr=bg(!0),Sg=bg(!1),Bs=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hu(t),ag(t,null,a),n}return qu(t,o,n,a),Hu(t)}function al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Mo(t,a)}}function wf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Rf=!1;function ol(){if(Rf){var t=Pa;if(t!==null)throw t}}function ll(t,n,a,o){Rf=!1;var h=t.updateQueue;Bs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,F=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(je&B)===B:(o&B)===B){B!==0&&B===Ua&&(Rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ge=E;B=n;var lt=a;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){X=le.call(lt,X,B);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,B=typeof le=="function"?le.call(lt,X,B):le,B==null)break e;X=w({},X,B);break e;case 2:Bs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=X):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=g,t.lanes=g,t.memoizedState=X}}function Ag(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function wg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ag(a[t],n)}var Ba=M(null),Wu=M(0);function Rg(t,n){t=fs,te(Wu,t),te(Ba,n),fs=t|n.baseLanes}function Cf(){te(Wu,fs),te(Ba,Ba.current)}function If(){fs=Wu.current,Y(Ba),Y(Wu)}var Ln=M(null),Jn=null;function Gs(t){var n=t.alternate;te(Dt,Dt.current&1),te(Ln,t),Jn===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(Jn=t)}function xf(t){te(Dt,Dt.current),te(Ln,t),Jn===null&&(Jn=t)}function Cg(t){t.tag===22?(te(Dt,Dt.current),te(Ln,t),Jn===null&&(Jn=t)):Fs()}function Fs(){te(Dt,Dt.current),te(Ln,Ln.current)}function Un(t){Y(Ln),Jn===t&&(Jn=null),Y(Dt)}var Dt=M(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ld(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,xe=null,at=null,zt=null,tc=!1,qa=!1,$r=!1,nc=0,ul=0,Ha=null,Q1=0;function Ct(){throw Error(r(321))}function Nf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Vn(t[a],n[a]))return!1;return!0}function Df(t,n,a,o,h,f){return ss=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?cy:Kf,$r=!1,f=a(o,h),$r=!1,qa&&(f=xg(n,a,o,h)),Ig(t),f}function Ig(t){G.H=fl;var n=at!==null&&at.next!==null;if(ss=0,zt=at=xe=null,tc=!1,ul=0,Ha=null,n)throw Error(r(300));t===null||Bt||(t=t.dependencies,t!==null&&Ku(t)&&(Bt=!0))}function xg(t,n,a,o){xe=t;var h=0;do{if(qa&&(Ha=null),ul=0,qa=!1,25<=h)throw Error(r(301));if(h+=1,zt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=hy,f=n(a,o)}while(qa);return f}function Y1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(xe.flags|=1024),n}function Of(){var t=nc!==0;return nc=0,t}function Mf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Vf(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}ss=0,zt=at=xe=null,qa=!1,ul=nc=0,Ha=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?xe.memoizedState=zt=t:zt=zt.next=t,zt}function Ot(){if(at===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=zt===null?xe.memoizedState:zt.next;if(n!==null)zt=n,at=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},zt===null?xe.memoizedState=zt=t:zt=zt.next=t}return zt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ul;return ul+=1,Ha===null&&(Ha=[]),t=vg(Ha,t,n),n=xe,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?cy:Kf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===Te)return tn(t)}throw Error(r(438,String(t)))}function kf(t){var n=null,a=xe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),xe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function rs(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=Ot();return Lf(n,at,t)}function Lf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(je&X)===X:(ss&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ua&&(F=!0);else if((ss&B)===B){z=z.next,B===Ua&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,xe.lanes|=B,Ys|=B;X=z.action,$r&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,xe.lanes|=X,Ys|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!Vn(f,t.memoizedState)&&(Bt=!0,F&&(a=Pa,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Uf(t){var n=Ot(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Vn(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Ng(t,n,a){var o=xe,h=Ot(),f=Ge;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Vn((at||h).memoizedState,a);if(g&&(h.memoizedState=a,Bt=!0),h=h.queue,zf(Mg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||zt!==null&&zt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},Og.bind(null,o,h,a,n),null),ft===null)throw Error(r(349));f||(ss&127)!==0||Dg(o,n,a)}return a}function Dg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xe.updateQueue,n===null?(n=ic(),xe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Og(t,n,a,o){n.value=a,n.getSnapshot=o,Vg(n)&&kg(t)}function Mg(t,n,a){return a(function(){Vg(n)&&kg(t)})}function Vg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Vn(t,a)}catch{return!0}}function kg(t){var n=Br(t,2);n!==null&&wn(n,t,2)}function Pf(t){var n=pn();if(typeof t=="function"){var a=t;if(t=a(),$r){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function Lg(t,n,a,o){return t.baseState=a,Lf(t,at,typeof o=="function"?o:rs)}function X1(t,n,a,o,h){if(lc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ug(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ug(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),C=G.S;C!==null&&C(g,E),Pg(t,n,E)}catch(z){jf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),Pg(t,n,f)}catch(z){jf(t,n,z)}}function Pg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){jg(t,n,o)},function(o){return jf(t,n,o)}):jg(t,n,a)}function jg(t,n,a){n.status="fulfilled",n.value=a,zg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ug(t,a)))}function jf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,zg(n),n=n.next;while(n!==o)}t.action=null}function zg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Bg(t,n){return n}function qg(t,n){if(Ge){var a=ft.formState;if(a!==null){e:{var o=xe;if(Ge){if(gt){t:{for(var h=gt,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=Zn(h.nextSibling),o=h.data==="F!";break e}}js(o)}o=!1}o&&(n=a[0])}}return a=pn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:n},a.queue=o,a=oy.bind(null,xe,o),o.dispatch=a,o=Pf(!1),f=Ff.bind(null,xe,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=X1.bind(null,xe,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Hg(t){var n=Ot();return Gg(n,at,t)}function Gg(t,n,a){if(n=Lf(t,n,Bg)[0],t=rc(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=cl(n)}catch(g){throw g===ja?Xu:g}else o=n;n=Ot();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xe.flags|=2048,Ga(9,{destroy:void 0},$1.bind(null,h,a),null)),[o,f,t]}function $1(t,n){t.action=n}function Fg(t){var n=Ot(),a=at;if(a!==null)return Gg(n,a,t);Ot(),n=n.memoizedState,a=Ot();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ga(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=ic(),xe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Kg(){return Ot().memoizedState}function ac(t,n,a,o){var h=pn();xe.flags|=t,h.memoizedState=Ga(1|n,{destroy:void 0},a,o===void 0?null:o)}function oc(t,n,a,o){var h=Ot();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&Nf(o,at.memoizedState.deps)?h.memoizedState=Ga(n,f,a,o):(xe.flags|=t,h.memoizedState=Ga(1|n,f,a,o))}function Qg(t,n){ac(8390656,8,t,n)}function zf(t,n){oc(2048,8,t,n)}function J1(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=ic(),xe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Yg(t){var n=Ot().memoizedState;return J1({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Xg(t,n){return oc(4,2,t,n)}function $g(t,n){return oc(4,4,t,n)}function Jg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zg(t,n,a){a=a!=null?a.concat([t]):null,oc(4,4,Jg.bind(null,n,t),a)}function Bf(){}function Wg(t,n){var a=Ot();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Nf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function ey(t,n){var a=Ot();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Nf(n,o[1]))return o[0];if(o=t(),$r){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[o,n],o}function qf(t,n,a){return a===void 0||(ss&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=t_(),xe.lanes|=t,Ys|=t,a)}function ty(t,n,a,o){return Vn(a,n)?a:Ba.current!==null?(t=qf(t,a,o),Vn(t,n)||(Bt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(je&261930)===0?(Bt=!0,t.memoizedState=a):(t=t_(),xe.lanes|=t,Ys|=t,n)}function ny(t,n,a,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Ff(t,!1,n,a);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=K1(C,o);hl(t,n,F,zn(t))}else hl(t,n,o,zn(t))}catch(X){hl(t,n,{then:function(){},status:"rejected",reason:X},zn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function Z1(){}function Hf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=iy(t).queue;ny(t,h,n,fe,a===null?Z1:function(){return sy(t),a(o)})}function iy(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:fe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sy(t){var n=iy(t);n.next===null&&(n=t.alternate.memoizedState),hl(t,n.next.queue,{},zn())}function Gf(){return tn(Il)}function ry(){return Ot().memoizedState}function ay(){return Ot().memoizedState}function W1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=zn();t=qs(a);var o=Hs(n,t,a);o!==null&&(wn(o,n,a),al(o,n,a)),n={cache:vf()},t.payload=n;return}n=n.return}}function eb(t,n,a){var o=zn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?ly(n,a):(a=lf(t,n,a,o),a!==null&&(wn(a,t,o),uy(a,n,o)))}function oy(t,n,a){var o=zn();hl(t,n,a,o)}function hl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))ly(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Vn(E,g))return qu(t,n,h,0),ft===null&&Bu(),!1}catch{}if(a=lf(t,n,h,o),a!==null)return wn(a,t,o),uy(a,n,o),!0}return!1}function Ff(t,n,a,o){if(o={lane:2,revertLane:Sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(n)throw Error(r(479))}else n=lf(t,a,o,2),n!==null&&wn(n,t,2)}function lc(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function ly(t,n){qa=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function uy(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Mo(t,a)}}var fl={readContext:tn,use:sc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};fl.useEffectEvent=Ct;var cy={readContext:tn,use:sc,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:tn,useEffect:Qg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Jg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=pn();n=n===void 0?null:n;var o=t();if($r){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=pn();if(a!==void 0){var h=a(n);if($r){_n(!0);try{a(n)}finally{_n(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=eb.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Pf(t);var n=t.queue,a=oy.bind(null,xe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,n){var a=pn();return qf(a,t,n)},useTransition:function(){var t=Pf(!1);return t=ny.bind(null,xe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=xe,h=pn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ft===null)throw Error(r(349));(je&127)!==0||Dg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Qg(Mg.bind(null,o,f,t),[t]),o.flags|=2048,Ga(9,{destroy:void 0},Og.bind(null,o,f,a,n),null),a},useId:function(){var t=pn(),n=ft.identifierPrefix;if(Ge){var a=Vi,o=Mi;a=(o&~(1<<32-k(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Q1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Gf,useFormState:qg,useActionState:qg,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ff.bind(null,xe,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return pn().memoizedState=W1.bind(null,xe)},useEffectEvent:function(t){var n=pn(),a={impl:t};return n.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:tn,use:sc,useCallback:Wg,useContext:tn,useEffect:zf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:rc,useRef:Kg,useState:function(){return rc(rs)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Ot();return ty(a,at.memoizedState,t,n)},useTransition:function(){var t=rc(rs)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Ng,useId:ry,useHostTransitionStatus:Gf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,n){var a=Ot();return Lg(a,at,t,n)},useMemoCache:kf,useCacheRefresh:ay};Kf.useEffectEvent=Yg;var hy={readContext:tn,use:sc,useCallback:Wg,useContext:tn,useEffect:zf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:Uf,useRef:Kg,useState:function(){return Uf(rs)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Ot();return at===null?qf(a,t,n):ty(a,at.memoizedState,t,n)},useTransition:function(){var t=Uf(rs)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Ng,useId:ry,useHostTransitionStatus:Gf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,n){var a=Ot();return at!==null?Lg(a,at,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ay};hy.useEffectEvent=Yg;function Qf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=zn(),h=qs(o);h.payload=n,a!=null&&(h.callback=a),n=Hs(t,h,o),n!==null&&(wn(n,t,o),al(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=zn(),h=qs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Hs(t,h,o),n!==null&&(wn(n,t,o),al(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=zn(),o=qs(a);o.tag=2,n!=null&&(o.callback=n),n=Hs(t,o,a),n!==null&&(wn(n,t,a),al(n,t,a))}};function fy(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function dy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Yf.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function my(t){zu(t)}function py(t){console.error(t)}function gy(t){zu(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function yy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,n,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function _y(t){return t=qs(t),t.tag=3,t}function vy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){yy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){yy(n,a,o),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&La(n,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?Tc():a.alternate===null&&It===0&&(It=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ed(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ed(t,o,h)),!1}throw Error(r(435,a.tag))}return Ed(t,o,h),Tc(),!1}if(Ge)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==mf&&(t=Error(r(422),{cause:o}),tl(Qn(t,a)))):(o!==mf&&(n=Error(r(423),{cause:o}),tl(Qn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qn(o,a),h=Xf(t.stateNode,o,h),wf(t,h),It!==4&&(It=2)),!1;var f=Error(r(520),{cause:o});if(f=Qn(f,a),El===null?El=[f]:El.push(f),It!==4&&(It=2),n===null)return!0;o=Qn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,o,t),wf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_y(h),vy(h,t,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Bt=!1;function nn(t,n,a,o){n.child=t===null?Sg(n,null,a,o):Xr(n,t.child,a,o)}function Ey(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Fr(n),o=Df(t,n,a,g,f,h),E=Of(),t!==null&&!Bt?(Mf(t,n,h),as(t,n,h)):(Ge&&E&&ff(n),n.flags|=1,nn(t,n,o,h),n.child)}function Ty(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,by(t,n,f,o,h)):(t=Gu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sd(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(g,o)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=es(f,o),t.ref=n.ref,t.return=n,n.child=t}function by(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=o=f,sd(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,as(t,n,h)}return Jf(t,n,a,o,h)}function Sy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ay(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?Rg(n,f):Cf(),Cg(n);else return o=n.lanes=536870912,Ay(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Yu(n,f.cachePool),Rg(n,f),Fs(),n.memoizedState=null):(t!==null&&Yu(n,null),Cf(),Fs());return nn(t,n,h,a),n.child}function dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ay(t,n,a,o,h){var f=Tf();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),Cf(),Cg(n),t!==null&&La(t,n,o,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function wy(t,n,a){return Xr(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,Un(n),n.memoizedState=null,t}function nb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,dl(null,t);if(xf(n),(t=gt)?(t=U_(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=n,n.child=a,en=n,gt=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return cc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(xf(n),h)if(n.flags&256)n.flags&=-257,n=wy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Bt||La(t,n,a,!1),h=(a&t.childLanes)!==0,Bt||h){if(o=ft,o!==null&&(g=Vo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Br(t,g),wn(o,t,g),$f;Tc(),n=wy(t,n,a)}else t=f.treeContext,gt=Zn(g.nextSibling),en=n,Ge=!0,Ps=null,$n=!1,t!==null&&hg(n,t),n=cc(n,o),n.flags|=4096;return n}return t=es(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Jf(t,n,a,o,h){return Fr(n),a=Df(t,n,a,o,void 0,h),o=Of(),t!==null&&!Bt?(Mf(t,n,h),as(t,n,h)):(Ge&&o&&ff(n),n.flags|=1,nn(t,n,a,h),n.child)}function Ry(t,n,a,o,h,f){return Fr(n),n.updateQueue=null,a=xg(n,o,a,h),Ig(t),o=Of(),t!==null&&!Bt?(Mf(t,n,f),as(t,n,f)):(Ge&&o&&ff(n),n.flags|=1,nn(t,n,a,f),n.child)}function Cy(t,n,a,o,h){if(Fr(n),n.stateNode===null){var f=Oa,g=a.contextType;typeof g=="object"&&g!==null&&(f=tn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Sf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?tn(g):Oa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Qf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Yf.enqueueReplaceState(f,f.state,null),ll(n,o,f,h),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Jr(a,E);f.props=C;var z=f.context,F=a.contextType;g=Oa,typeof F=="object"&&F!==null&&(g=tn(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&dy(n,f,o,g),Bs=!1;var B=n.memoizedState;f.state=B,ll(n,o,f,h),ol(),z=n.memoizedState,E||B!==z||Bs?(typeof X=="function"&&(Qf(n,a,X,o),z=n.memoizedState),(C=Bs||fy(n,a,C,o,B,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Af(t,n),g=n.memoizedProps,F=Jr(a,g),f.props=F,X=n.pendingProps,B=f.context,z=a.contextType,C=Oa,typeof z=="object"&&z!==null&&(C=tn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&dy(n,f,o,C),Bs=!1,B=n.memoizedState,f.state=B,ll(n,o,f,h),ol();var H=n.memoizedState;g!==X||B!==H||Bs||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(Qf(n,a,E,o),H=n.memoizedState),(F=Bs||fy(n,a,F,o,B,H,C)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,a,h)):nn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=as(t,n,h),t}function Iy(t,n,a,o){return Hr(),n.flags|=256,nn(t,n,a,o),n.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:yg()}}function ed(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=jn),t}function xy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Gs(n):Fs(),(t=gt)?(t=U_(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=n,n.child=a,en=n,gt=null)):t=null,t===null)throw js(n);return Ld(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Fs(),h=n.mode,E=fc({mode:"hidden",children:E},h),o=qr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Wf(a),o.childLanes=ed(t,g,a),n.memoizedState=Zf,dl(null,o)):(Gs(n),td(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=nd(t,n,a)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),E=o.fallback,h=n.mode,o=fc({mode:"visible",children:o.children},h),E=qr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Xr(n,t.child,null,a),o=n.child,o.memoizedState=Wf(a),o.childLanes=ed(t,g,a),n.memoizedState=Zf,n=dl(null,o));else if(Gs(n),Ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,tl({value:o,source:null,stack:null}),n=nd(t,n,a)}else if(Bt||La(t,n,a,!1),g=(a&t.childLanes)!==0,Bt||g){if(g=ft,g!==null&&(o=Vo(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Br(t,o),wn(g,t,o),$f;kd(E)||Tc(),n=nd(t,n,a)}else kd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,gt=Zn(E.nextSibling),en=n,Ge=!0,Ps=null,$n=!1,t!==null&&hg(n,t),n=td(n,o.children),n.flags|=4096);return n}return h?(Fs(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=es(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=es(z,E):(E=qr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,dl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Wf(a):(h=E.cachePool,h!==null?(C=jt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=yg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=ed(t,g,a),n.memoizedState=Zf,dl(t.child,o)):(Gs(n),a=t.child,t=a.sibling,a=es(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function td(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function nd(t,n,a){return Xr(n,t.child,null,a),t=td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ny(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),yf(t.return,n,a)}function id(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Dy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Dt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,te(Dt,g),nn(t,n,o,a),o=Ge?el:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,n);else if(t.tag===19)Ny(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(n,!0,a,null,f,o);break;case"together":id(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function as(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(La(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=es(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=es(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function ib(t,n,a){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),zs(n,jt,t.memoizedState.cache),Hr();break;case 27:case 5:ni(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Gs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?xy(t,n,a):(Gs(n),t=as(t,n,a),t!==null?t.sibling:null);Gs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(La(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Dy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Dt,Dt.current),o)break;return null;case 22:return n.lanes=0,Sy(t,n,a,n.pendingProps);case 24:zs(n,jt,t.memoizedState.cache)}return as(t,n,a)}function Oy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!sd(t,a)&&(n.flags&128)===0)return Bt=!1,ib(t,n,a);Bt=(t.flags&131072)!==0}else Bt=!1,Ge&&(n.flags&1048576)!==0&&cg(n,el,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Qr(n.elementType),n.type=t,typeof t=="function")uf(t)?(o=Jr(t,o),n.tag=1,n=Cy(null,n,t,o,a)):(n.tag=0,n=Jf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=Ey(null,n,t,o,a);break e}else if(h===x){n.tag=14,n=Ty(null,n,t,o,a);break e}}throw n=mt(t)||t,Error(r(306,n,""))}}return n;case 0:return Jf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Jr(o,n.pendingProps),Cy(t,n,o,h,a);case 3:e:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Af(t,n),ll(n,o,null,a);var g=n.memoizedState;if(o=g.cache,zs(n,jt,o),o!==f.cache&&_f(n,[jt],a,!0),ol(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Iy(t,n,o,a);break e}else if(o!==h){h=Qn(Error(r(424)),n),tl(h),n=Iy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,gt=Zn(t.firstChild),en=n,Ge=!0,Ps=null,$n=!0,a=Sg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hr(),o===h){n=as(t,n,a);break e}nn(t,n,o,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=H_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ge||(a=n.type,t=n.pendingProps,o=Ic(Ae.current).createElement(a),o[Lt]=n,o[Xt]=t,sn(o,a,t),Ut(o),n.stateNode=o):n.memoizedState=H_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ni(n),t===null&&Ge&&(o=n.stateNode=z_(n.type,n.pendingProps,Ae.current),en=n,$n=!0,h=gt,Ws(n.type)?(Ud=h,gt=Zn(o.firstChild)):gt=h),nn(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=gt)&&(o=Mb(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,en=n,gt=Zn(o.firstChild),$n=!1,h=!0):h=!1),h||js(n)),ni(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Od(h,f)?o=null:g!==null&&Od(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Df(t,n,Y1,null,null,a),Il._currentValue=h),hc(t,n),nn(t,n,o,a),n.child;case 6:return t===null&&Ge&&((t=a=gt)&&(a=Vb(a,n.pendingProps,$n),a!==null?(n.stateNode=a,en=n,gt=null,t=!0):t=!1),t||js(n)),null;case 13:return xy(t,n,a);case 4:return wt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Xr(n,null,o,a):nn(t,n,o,a),n.child;case 11:return Ey(t,n,n.type,n.pendingProps,a);case 7:return nn(t,n,n.pendingProps,a),n.child;case 8:return nn(t,n,n.pendingProps.children,a),n.child;case 12:return nn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),nn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=tn(h),o=o(h),n.flags|=1,nn(t,n,o,a),n.child;case 14:return Ty(t,n,n.type,n.pendingProps,a);case 15:return by(t,n,n.type,n.pendingProps,a);case 19:return Dy(t,n,a);case 31:return nb(t,n,a);case 22:return Sy(t,n,a,n.pendingProps);case 24:return Fr(n),o=tn(jt),t===null?(h=Tf(),h===null&&(h=ft,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Sf(n),zs(n,jt,h)):((t.lanes&a)!==0&&(Af(t,n),ll(n,null,null,a),ol()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,jt,o)):(o=f.cache,zs(n,jt,o),o!==h.cache&&_f(n,[jt],a,!0))),nn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function os(t){t.flags|=4}function rd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(r_())t.flags|=8192;else throw Yr=$u,bf}else t.flags&=-16777217}function My(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(n))if(r_())t.flags|=8192;else throw Yr=$u,bf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vu():536870912,t.lanes|=n,Ya|=n)}function ml(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function sb(t,n,a){var o=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),is(jt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(yt(n),My(n,f)):(yt(n),rd(n,h,null,o,a))):f?f!==t.memoizedState?(os(n),yt(n),My(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&os(n),yt(n),rd(n,h,t,o,a)),null;case 27:if(Cs(n),a=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return yt(n),null}t=re.current,ka(n)?fg(n):(t=z_(h,o,a),n.stateNode=t,os(n))}return yt(n),null;case 5:if(Cs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(f=re.current,ka(n))fg(n);else{var g=Ic(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Lt]=n,f[Xt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&os(n)}}return yt(n),rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&os(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ae.current,ka(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||js(n,!0)}else t=Ic(t).createTextNode(o),t[Lt]=n,n.stateNode=t}return yt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ka(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Lt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else a=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Un(n),n):(Un(n),null);if((n.flags&128)!==0)throw Error(r(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ka(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Lt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Un(n),n):(Un(n),null)}return Un(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),yt(n),null);case 4:return ut(),t===null&&Cd(n.stateNode.containerInfo),yt(n),null;case 10:return is(n.type),yt(n),null;case 19:if(Y(Dt),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,ml(o,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)og(a,t),a=a.sibling;return te(Dt,Dt.current&1|2),Ge&&ts(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Et()>_c&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return yt(n),null}else 2*Et()-o.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Et(),t.sibling=null,a=Dt.current,te(Dt,h?a&1|2:a&1),Ge&&ts(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return Un(n),If(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Y(Kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),is(jt),yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function rb(t,n){switch(df(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(jt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(Un(n),n.alternate===null)throw Error(r(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Un(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Dt),null;case 4:return ut(),null;case 10:return is(n.type),null;case 22:case 23:return Un(n),If(),t!==null&&Y(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(jt),null;case 25:return null;default:return null}}function Vy(t,n){switch(df(n),n.tag){case 3:is(jt),ut();break;case 26:case 27:case 5:Cs(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&Un(n);break;case 13:Un(n);break;case 19:Y(Dt);break;case 10:is(n.type);break;case 22:case 23:Un(n),If(),t!==null&&Y(Kr);break;case 24:is(jt)}}function pl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){st(n,n.return,E)}}function Ks(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(F){st(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){st(n,n.return,F)}}function ky(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{wg(n,a)}catch(o){st(t,t.return,o)}}}function Ly(t,n,a){a.props=Jr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function gl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function ki(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function Uy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function ad(t,n,a){try{var o=t.stateNode;Cb(o,t.type,a,n),o[Xt]=n}catch(h){st(t,t.return,h)}}function Py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ai));else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ld(t,n,a),t=t.sibling;t!==null;)ld(t,n,a),t=t.sibling}function mc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function jy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,o,a),n[Lt]=t,n[Xt]=a}catch(f){st(t,t.return,f)}}var ls=!1,qt=!1,ud=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function ab(t,n){if(t=t.containerInfo,Nd=kc,t=Zp(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,z=0,F=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++z===h&&(E=g),B===f&&++F===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},kc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var le=Jr(a.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){st(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function By(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:cs(t,a),o&4&&pl(5,a);break;case 1:if(cs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){st(a,a.return,g)}else{var h=Jr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){st(a,a.return,g)}}o&64&&ky(a),o&512&&gl(a,a.return);break;case 3:if(cs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{wg(t,n)}catch(g){st(a,a.return,g)}}break;case 27:n===null&&o&4&&jy(a);case 26:case 5:cs(t,a),n===null&&o&4&&Uy(a),o&512&&gl(a,a.return);break;case 12:cs(t,a);break;case 31:cs(t,a),o&4&&Gy(t,a);break;case 13:cs(t,a),o&4&&Fy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pb.bind(null,a),kb(t,a))));break;case 22:if(o=a.memoizedState!==null||ls,!o){n=n!==null&&n.memoizedState!==null||qt,h=ls;var f=qt;ls=o,(qt=n)&&!f?hs(t,a,(a.subtreeFlags&8772)!==0):cs(t,a),ls=h,qt=f}break;case 30:break;default:cs(t,a)}}function qy(t){var n=t.alternate;n!==null&&(t.alternate=null,qy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_a(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,Tn=!1;function us(t,n,a){for(a=a.child;a!==null;)Hy(t,n,a),a=a.sibling}function Hy(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:qt||ki(a,n),us(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qt||ki(a,n);var o=bt,h=Tn;Ws(a.type)&&(bt=a.stateNode,Tn=!1),us(t,n,a),wl(a.stateNode),bt=o,Tn=h;break;case 5:qt||ki(a,n);case 6:if(o=bt,h=Tn,bt=null,us(t,n,a),bt=o,Tn=h,bt!==null)if(Tn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{bt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:bt!==null&&(Tn?(t=bt,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):k_(bt,a.stateNode));break;case 4:o=bt,h=Tn,bt=a.stateNode.containerInfo,Tn=!0,us(t,n,a),bt=o,Tn=h;break;case 0:case 11:case 14:case 15:Ks(2,a,n),qt||Ks(4,a,n),us(t,n,a);break;case 1:qt||(ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ly(a,n,o)),us(t,n,a);break;case 21:us(t,n,a);break;case 22:qt=(o=qt)||a.memoizedState!==null,us(t,n,a),qt=o;break;default:us(t,n,a)}}function Gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){st(n,n.return,a)}}}function Fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){st(n,n.return,a)}}function ob(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new zy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new zy),n;default:throw Error(r(435,t.tag))}}function pc(t,n){var a=ob(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=gb.bind(null,t,o);o.then(h,h)}})}function bn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){bt=E.stateNode,Tn=!1;break e}break;case 5:bt=E.stateNode,Tn=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(bt===null)throw Error(r(160));Hy(f,g,h),bt=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ky(n,t),n=n.sibling}var fi=null;function Ky(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Sn(t),o&4&&(Ks(3,t,t.return),pl(3,t),Ks(5,t,t.return));break;case 1:bn(n,t),Sn(t),o&512&&(qt||a===null||ki(a,a.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=fi;if(bn(n,t),Sn(t),o&512&&(qt||a===null||ki(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,a),f[Lt]=t,Ut(f),o=f;break e;case"link":var g=K_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;case"meta":if(g=K_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Lt]=t,Ut(f),o=f}t.stateNode=o}else Q_(h,t.type,t.stateNode);else t.stateNode=F_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Q_(h,t.type,t.stateNode):F_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(n,t),Sn(t),o&512&&(qt||a===null||ki(a,a.return)),a!==null&&o&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(n,t),Sn(t),o&512&&(qt||a===null||ki(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(le){st(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ud=!0);break;case 6:if(bn(n,t),Sn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){st(t,t.return,le)}}break;case 3:if(Dc=null,h=fi,fi=xc(n.containerInfo),bn(n,t),fi=h,Sn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(le){st(t,t.return,le)}ud&&(ud=!1,Qy(t));break;case 4:o=fi,fi=xc(t.stateNode.containerInfo),bn(n,t),Sn(t),fi=o;break;case 12:bn(n,t),Sn(t);break;case 31:bn(n,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:bn(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=Et()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ls,F=qt;if(ls=z||h,qt=F||C,bn(n,t),qt=F,ls=z,Sn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ls||qt||Zr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){st(C,C.return,le)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){st(C,C.return,le)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?L_(H,!0):L_(C.stateNode,!1)}catch(le){st(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:bn(n,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:bn(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Py(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=od(t);mc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(En(g,""),a.flags&=-33);var E=od(t);mc(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=od(t);ld(t,z,C);break;default:throw Error(r(161))}}catch(F){st(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)By(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),Zr(n);break;case 1:ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ly(n,n.return,a),Zr(n);break;case 27:wl(n.stateNode);case 26:case 5:ki(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function hs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,a),pl(4,f);break;case 1:if(hs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ag(C[h],E)}catch(z){st(o,o.return,z)}}a&&g&64&&ky(f),gl(f,f.return);break;case 27:jy(f);case 26:case 5:hs(h,f,a),a&&o===null&&g&4&&Uy(f),gl(f,f.return);break;case 12:hs(h,f,a);break;case 31:hs(h,f,a),a&&g&4&&Gy(h,f);break;case 13:hs(h,f,a),a&&g&4&&Fy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,a),gl(f,f.return);break;case 30:break;default:hs(h,f,a)}n=n.sibling}}function cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function hd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function di(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yy(t,n,a,o),n=n.sibling}function Yy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:di(t,n,a,o),h&2048&&pl(9,n);break;case 1:di(t,n,a,o);break;case 3:di(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){di(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(n,n.return,C)}}else di(t,n,a,o);break;case 31:di(t,n,a,o);break;case 13:di(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?di(t,n,a,o):yl(t,n):f._visibility&2?di(t,n,a,o):(f._visibility|=2,Fa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(g,n);break;case 24:di(t,n,a,o),h&2048&&hd(n.alternate,n);break;default:di(t,n,a,o)}}function Fa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(f,g,E,C,h),pl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Fa(f,g,E,C,h):yl(f,g):(F._visibility|=2,Fa(f,g,E,C,h)),h&&z&2048&&cd(g.alternate,g);break;case 24:Fa(f,g,E,C,h),h&&z&2048&&hd(g.alternate,g);break;default:Fa(f,g,E,C,h)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:yl(a,o),h&2048&&cd(o.alternate,o);break;case 24:yl(a,o),h&2048&&hd(o.alternate,o);break;default:yl(a,o)}n=n.sibling}}var _l=8192;function Ka(t,n,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Xy(t,n,a),t=t.sibling}function Xy(t,n,a){switch(t.tag){case 26:Ka(t,n,a),t.flags&_l&&t.memoizedState!==null&&Qb(a,fi,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,n,a);break;case 3:case 4:var o=fi;fi=xc(t.stateNode.containerInfo),Ka(t,n,a),fi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Ka(t,n,a),_l=o):Ka(t,n,a));break;default:Ka(t,n,a)}}function $y(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,Zy(o,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):vl(t);break;default:vl(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,Zy(o,t)}$y(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),gc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function Zy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:Ks(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Jt=o;else e:for(a=t;Jt!==null;){o=Jt;var h=o.sibling,f=o.return;if(qy(o),o===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var lb={getCacheForType:function(t){var n=tn(jt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return tn(jt).controller.signal}},ub=typeof WeakMap=="function"?WeakMap:Map,We=0,ft=null,ke=null,je=0,it=0,Pn=null,Qs=!1,Qa=!1,fd=!1,fs=0,It=0,Ys=0,Wr=0,dd=0,jn=0,Ya=0,El=null,An=null,md=!1,yc=0,Wy=0,_c=1/0,vc=null,Xs=null,Kt=0,$s=null,Xa=null,ds=0,pd=0,gd=null,e_=null,Tl=0,yd=null;function zn(){return(We&2)!==0&&je!==0?je&-je:G.T!==null?Sd():Eu()}function t_(){if(jn===0)if((je&536870912)===0||Ge){var t=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),jn=t}else jn=536870912;return t=Ln.current,t!==null&&(t.flags|=32),jn}function wn(t,n,a){(t===ft&&(it===2||it===9)||t.cancelPendingCommit!==null)&&($a(t,0),Js(t,je,jn,!1)),Cr(t,a),((We&2)===0||t!==ft)&&(t===ft&&((We&2)===0&&(Wr|=a),It===4&&Js(t,je,jn,!1)),Li(t))}function n_(t,n,a){if((We&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ii(t,n),h=o?fb(t,n):vd(t,n,!0),f=o;do{if(h===0){Qa&&!o&&Js(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!cb(a)){h=vd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=El;var C=E.current.memoizedState.isDehydrated;if(C&&($a(E,g).flags|=256),g=vd(E,g,!1),g!==2){if(fd&&!C){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){$a(t,0),Js(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Js(o,n,jn,!Qs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-Et(),10<h)){if(Js(o,n,jn,!Qs),dn(o,0,!0)!==0)break e;ds=n,o.timeoutHandle=M_(i_.bind(null,o,a,An,vc,md,n,jn,Wr,Ya,Qs,f,"Throttled",-0,0),h);break e}i_(o,a,An,vc,md,n,jn,Wr,Ya,Qs,f,null,-0,0)}}break}while(!0);Li(t)}function i_(t,n,a,o,h,f,g,E,C,z,F,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Xy(n,f,X);var le=(f&62914560)===f?yc-Et():(f&4194048)===f?Wy-Et():0;if(le=Yb(X,le),le!==null){ds=f,t.cancelPendingCommit=le(h_.bind(null,t,n,f,a,o,h,g,E,C,F,X,null,B,H)),Js(t,f,g,!z);return}}h_(t,n,f,a,o,h,g,E,C)}function cb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Vn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(t,n,a,o){n&=~dd,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-k(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Ir(t,a,n)}function Ec(){return(We&6)===0?(bl(0),!1):!0}function _d(){if(ke!==null){if(it===0)var t=ke.return;else t=ke,ns=Gr=null,Vf(t),za=null,sl=0,t=ke;for(;t!==null;)Vy(t.alternate,t),t=t.return;ke=null}}function $a(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Nb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ds=0,_d(),ft=t,ke=a=es(t.current,null),je=n,it=0,Pn=null,Qs=!1,Qa=ii(t,n),fd=!1,Ya=jn=dd=Wr=Ys=It=0,An=El=null,md=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-k(o),f=1<<h;n|=t[h],o&=~f}return fs=n,Bu(),a}function s_(t,n){xe=null,G.H=fl,n===ja||n===Xu?(n=Eg(),it=3):n===bf?(n=Eg(),it=4):it=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,ke===null&&(It=1,uc(t,Qn(n,t.current)))}function r_(){var t=Ln.current;return t===null?!0:(je&4194048)===je?Jn===null:(je&62914560)===je||(je&536870912)!==0?t===Jn:!1}function a_(){var t=G.H;return G.H=fl,t===null?fl:t}function o_(){var t=G.A;return G.A=lb,t}function Tc(){It=4,Qs||(je&4194048)!==je&&Ln.current!==null||(Qa=!0),(Ys&134217727)===0&&(Wr&134217727)===0||ft===null||Js(ft,je,jn,!1)}function vd(t,n,a){var o=We;We|=2;var h=a_(),f=o_();(ft!==t||je!==n)&&(vc=null,$a(t,n)),n=!1;var g=It;e:do try{if(it!==0&&ke!==null){var E=ke,C=Pn;switch(it){case 8:_d(),g=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var z=it;if(it=0,Pn=null,Ja(t,E,C,z),a&&Qa){g=0;break e}break;default:z=it,it=0,Pn=null,Ja(t,E,C,z)}}hb(),g=It;break}catch(F){s_(t,F)}while(!0);return n&&t.shellSuspendCounter++,ns=Gr=null,We=o,G.H=h,G.A=f,ke===null&&(ft=null,je=0,Bu()),g}function hb(){for(;ke!==null;)l_(ke)}function fb(t,n){var a=We;We|=2;var o=a_(),h=o_();ft!==t||je!==n?(vc=null,_c=Et()+500,$a(t,n)):Qa=ii(t,n);e:do try{if(it!==0&&ke!==null){n=ke;var f=Pn;t:switch(it){case 1:it=0,Pn=null,Ja(t,n,f,1);break;case 2:case 9:if(_g(f)){it=0,Pn=null,u_(n);break}n=function(){it!==2&&it!==9||ft!==t||(it=7),Li(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:_g(f)?(it=0,Pn=null,u_(n)):(it=0,Pn=null,Ja(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?Y_(g):E.stateNode.complete){it=0,Pn=null;var C=E.sibling;if(C!==null)ke=C;else{var z=E.return;z!==null?(ke=z,bc(z)):ke=null}break t}}it=0,Pn=null,Ja(t,n,f,5);break;case 6:it=0,Pn=null,Ja(t,n,f,6);break;case 8:_d(),It=6;break e;default:throw Error(r(462))}}db();break}catch(F){s_(t,F)}while(!0);return ns=Gr=null,G.H=o,G.A=h,We=a,ke!==null?0:(ft=null,je=0,Bu(),It)}function db(){for(;ke!==null&&!Oo();)l_(ke)}function l_(t){var n=Oy(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?bc(t):ke=n}function u_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ry(a,n,n.pendingProps,n.type,void 0,je);break;case 11:n=Ry(a,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:Vf(n);default:Vy(a,n),n=ke=og(n,fs),n=Oy(a,n,fs)}t.memoizedProps=t.pendingProps,n===null?bc(t):ke=n}function Ja(t,n,a,o){ns=Gr=null,Vf(n),za=null,sl=0;var h=n.return;try{if(tb(t,h,n,a,je)){It=1,uc(t,Qn(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;It=1,uc(t,Qn(a,t.current)),ke=null;return}n.flags&32768?(Ge||o===1?t=!0:Qa||(je&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ln.current,o!==null&&o.tag===13&&(o.flags|=16384))),c_(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){c_(n,Qs);return}t=n.return;var a=sb(n.alternate,n,fs);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);It===0&&(It=5)}function c_(t,n){do{var a=rb(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);It=6,ke=null}function h_(t,n,a,o,h,f,g,E,C){t.cancelPendingCommit=null;do Sc();while(Kt!==0);if((We&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=of,Jh(t,a,f,g,E,C),t===ft&&(ke=ft=null,je=0),Xa=n,$s=t,ds=a,pd=f,gd=h,e_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yb(_i,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,g=We,We|=4;try{ab(t,n,a)}finally{We=g,ne.p=h,G.T=o}}Kt=1,f_(),d_(),m_()}}function f_(){if(Kt===1){Kt=0;var t=$s,n=Xa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=We;We|=4;try{Ky(n,t);var f=Dd,g=Zp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Jp(E.ownerDocument.documentElement,E)){if(C!==null&&tf(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=E.textContent.length,ge=Math.min(C.start,le),lt=C.end===void 0?ge:Math.min(C.end,le);!H.extend&&ge>lt&&(g=lt,lt=ge,ge=g);var L=$p(E,ge),D=$p(E,lt);if(L&&D&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),ge>lt?(H.addRange(j),H.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}kc=!!Nd,Dd=Nd=null}finally{We=h,ne.p=o,G.T=a}}t.current=n,Kt=2}}function d_(){if(Kt===2){Kt=0;var t=$s,n=Xa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=We;We|=4;try{By(t,n.alternate,n)}finally{We=h,ne.p=o,G.T=a}}Kt=3}}function m_(){if(Kt===4||Kt===3){Kt=0,da();var t=$s,n=Xa,a=ds,o=e_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Xa=$s=null,p_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xs=null),$i(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Nn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(ds&3)!==0&&Sc(),Li(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?Tl++:(Tl=0,yd=t):Tl=0,bl(0)}}function p_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function Sc(){return f_(),d_(),m_(),g_()}function g_(){if(Kt!==5)return!1;var t=$s,n=pd;pd=0;var a=$i(ds),o=G.T,h=ne.p;try{ne.p=32>a?32:a,G.T=null,a=gd,gd=null;var f=$s,g=ds;if(Kt=0,Xa=$s=null,ds=0,(We&6)!==0)throw Error(r(331));var E=We;if(We|=4,Jy(f.current),Yy(f,f.current,g,a),We=E,bl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Nn,f)}catch{}return!0}finally{ne.p=h,G.T=o,p_(t,n)}}function y_(t,n,a){n=Qn(a,n),n=Xf(t.stateNode,n,2),t=Hs(t,n,2),t!==null&&(Cr(t,2),Li(t))}function st(t,n,a){if(t.tag===3)y_(t,t,a);else for(;n!==null;){if(n.tag===3){y_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=Qn(a,t),a=_y(2),o=Hs(n,a,2),o!==null&&(vy(a,o,n,t),Cr(o,2),Li(o));break}}n=n.return}}function Ed(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ub;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(fd=!0,h.add(a),t=mb.bind(null,t,n,a),n.then(t,t))}function mb(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(je&a)===a&&(It===4||It===3&&(je&62914560)===je&&300>Et()-yc?(We&2)===0&&$a(t,0):dd|=a,Ya===je&&(Ya=0)),Li(t)}function __(t,n){n===0&&(n=vu()),t=Br(t,n),t!==null&&(Cr(t,n),Li(t))}function pb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),__(t,a)}function gb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),__(t,a)}function yb(t,n){return ct(t,n)}var Ac=null,Za=null,Td=!1,wc=!1,bd=!1,Zs=0;function Li(t){t!==Za&&t.next===null&&(Za===null?Ac=Za=t:Za=Za.next=t),wc=!0,Td||(Td=!0,vb())}function bl(t,n){if(!bd&&wc){bd=!0;do for(var a=!1,o=Ac;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-k(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,b_(o,f))}else f=je,f=dn(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ii(o,f)||(a=!0,b_(o,f));o=o.next}while(a);bd=!1}}function _b(){v_()}function v_(){wc=Td=!1;var t=0;Zs!==0&&xb()&&(t=Zs);for(var n=Et(),a=null,o=Ac;o!==null;){var h=o.next,f=E_(o,n);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(Za=a)):(a=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}Kt!==0&&Kt!==5||bl(t),Zs!==0&&(Zs=0)}function E_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-k(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=$h(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ft,a=je,a=dn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ii(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&yi(o),$i(a)){case 2:case 8:a=wr;break;case 32:a=_i;break;case 268435456:a=ma;break;default:a=_i}return o=T_.bind(null,t),a=ct(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&yi(o),t.callbackPriority=2,t.callbackNode=null,2}function T_(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sc()&&t.callbackNode!==a)return null;var o=je;return o=dn(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(n_(t,o,n),E_(t,Et()),t.callbackNode!=null&&t.callbackNode===a?T_.bind(null,t):null)}function b_(t,n){if(Sc())return null;n_(t,n,!0)}function vb(){Db(function(){(We&6)!==0?ct(Ar,_b):v_()})}function Sd(){if(Zs===0){var t=Ua;t===0&&(t=Ke,Ke<<=1,(Ke&261888)===0&&(Ke=256)),Zs=t}return Zs}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function A_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Eb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=S_((h[Xt]||null).action),g=o.submitter;g&&(n=(n=g[Xt]||null)?S_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var C=g?A_(h,g):new FormData(h);Hf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?A_(h,g):new FormData(h),Hf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ad=0;Ad<af.length;Ad++){var wd=af[Ad],Tb=wd.toLowerCase(),bb=wd[0].toUpperCase()+wd.slice(1);hi(Tb,"on"+bb)}hi(tg,"onAnimationEnd"),hi(ng,"onAnimationIteration"),hi(ig,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(P1,"onTransitionRun"),hi(j1,"onTransitionStart"),hi(z1,"onTransitionCancel"),hi(sg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function w_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){zu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){zu(F)}h.currentTarget=null,f=C}}}}function Le(t,n){var a=n[ya];a===void 0&&(a=n[ya]=new Set);var o=t+"__bubble";a.has(o)||(R_(n,t,2,!1),a.add(o))}function Rd(t,n,a){var o=0;n&&(o|=4),R_(a,t,o,n)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[Rc]){t[Rc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(Sb.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rc]||(n[Rc]=!0,Rd("selectionchange",!1,n))}}function R_(t,n,a,o){switch(tv(n)){case 2:var h=Jb;break;case 8:h=Zb;break;default:h=qd}a=h.bind(null,n,a,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Id(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=bi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Ms(function(){var z=f,F=Hn(a),X=[];e:{var B=rg.get(t);if(B!==void 0){var H=xi,le=t;switch(t){case"keypress":if(kr(a)===0)break e;case"keydown":case"keyup":H=Uu;break;case"focusin":le="focus",H=Ur;break;case"focusout":le="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case tg:case ng:case ig:H=Nu;break;case sg:H=T;break;case"scroll":case"scrollend":H=Qo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wi;break;case"toggle":case"beforetoggle":H=Ie}var ge=(n&4)!==0,lt=!ge&&(t==="scroll"||t==="scrollend"),L=ge?B!==null?B+"Capture":null:B;ge=[];for(var D=z,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||L===null||(K=oi(D,L),K!=null&&ge.push(Al(D,K,j))),lt)break;D=D.return}0<ge.length&&(B=new H(B,le,null,a,F),X.push({event:B,listeners:ge}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Go&&(le=a.relatedTarget||a.fromElement)&&(bi(le)||le[Ei]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=z,le=le?bi(le):null,le!==null&&(lt=c(le),ge=le.tag,le!==lt||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(H=null,le=z),H!==le)){if(ge=Yo,K="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Wi,K="onPointerLeave",L="onPointerEnter",D="pointer"),lt=H==null?B:On(H),j=le==null?B:On(le),B=new ge(K,D+"leave",H,a,F),B.target=lt,B.relatedTarget=j,K=null,bi(F)===z&&(ge=new ge(L,D+"enter",le,a,F),ge.target=j,ge.relatedTarget=lt,K=ge),lt=K,H&&le)t:{for(ge=Ab,L=H,D=le,j=0,K=L;K;K=ge(K))j++;K=0;for(var de=D;de;de=ge(de))K++;for(;0<j-K;)L=ge(L),j--;for(;0<K-j;)D=ge(D),K--;for(;j--;){if(L===D||D!==null&&L===D.alternate){ge=L;break t}L=ge(L),D=ge(D)}ge=null}else ge=null;H!==null&&C_(X,B,H,ge,!1),le!==null&&lt!==null&&C_(X,lt,le,ge,!0)}}e:{if(B=z?On(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Xe=Gp;else if(qp(B))if(Fp)Xe=k1;else{Xe=M1;var he=O1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ta(z.elementType)&&(Xe=Gp):Xe=V1;if(Xe&&(Xe=Xe(t,z))){Hp(X,Xe,a,F);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Bo(B,"number",B.value)}switch(he=z?On(z):window,t){case"focusin":(qp(he)||he.contentEditable==="true")&&(xa=he,nf=z,Wo=null);break;case"focusout":Wo=nf=xa=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Wp(X,a,F);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":Wp(X,a,F)}var Ne;if(Ze)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ia?Pr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Oi&&a.locale!=="ko"&&(Ia||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ia&&(Ne=Ko()):(Ii=F,Fo="value"in Ii?Ii.value:Ii.textContent,Ia=!0)),he=Cc(z,ze),0<he.length&&(ze=new Di(ze,t,null,a,F),X.push({event:ze,listeners:he}),Ne?ze.data=Ne:(Ne=Ca(a),Ne!==null&&(ze.data=Ne)))),(Ne=Fn?I1(t,a):x1(t,a))&&(ze=Cc(z,"onBeforeInput"),0<ze.length&&(he=new Di("onBeforeInput","beforeinput",null,a,F),X.push({event:he,listeners:ze}),he.data=Ne)),Eb(X,t,z,a,F)}w_(X,n)})}function Al(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Cc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,a),h!=null&&o.unshift(Al(t,h,f)),h=oi(t,n),h!=null&&o.push(Al(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Ab(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=oi(a,f),z!=null&&g.unshift(Al(a,z,C))):h||(z=oi(a,f),z!=null&&g.push(Al(a,z,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var wb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(wb,`
`).replace(Rb,"")}function x_(t,n){return n=I_(n),I_(t)===n}function ot(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&En(t,""+o);break;case"className":Mn(t,"class",o);break;case"tabIndex":Mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,o);break;case"style":Ho(t,o,f);break;case"data":if(n!=="object"){Mn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ai);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),va(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":va(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,va(t,a,o))}}function xd(t,n,a,o,h,f){switch(a){case"style":Ho(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Xt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):va(t,a,o)}}}function sn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ot(t,n,f,g,a,null)}}h&&ot(t,n,"srcSet",a.srcSet,a,null),o&&ot(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ot(t,n,o,F,a,null)}}Au(t,f,E,C,z,g,h,!1);return;case"select":Le("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ot(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?xs(t,!!o,n,!1):a!=null&&xs(t,!!o,a,!0);return;case"textarea":Le("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ot(t,n,g,E,a,null)}Ns(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ot(t,n,C,o,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<Sl.length;o++)Le(Sl[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ot(t,n,z,o,a,null)}return;default:if(Ta(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&xd(t,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ot(t,n,E,o,a,null))}function Cb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ot(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&ot(t,n,B,H,o,X)}}Ea(t,g,E,C,z,F,f,h);return;case"select":H=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ot(t,n,h,f,o,C)}n=E,a=g,o=H,B!=null?xs(t,!!a,B,!1):!!o!=!!a&&(n!=null?xs(t,!!a,n,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ot(t,n,g,h,o,f)}wu(t,B,H);return;case"option":for(var le in a)B=a[le],a.hasOwnProperty(le)&&B!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ot(t,n,le,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ot(t,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!o.hasOwnProperty(ge)&&ot(t,n,ge,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ot(t,n,z,B,o,H)}return;default:if(Ta(n)){for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!==void 0&&!o.hasOwnProperty(lt)&&xd(t,n,lt,void 0,o,B);for(F in o)B=o[F],H=a[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||xd(t,n,F,B,o,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&ot(t,n,L,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ot(t,n,X,B,o,H)}function N_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ib(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&N_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var F=C.transferSize,X=C.initiatorType;F&&N_(X)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Dd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Md=null;function xb(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(Ob)}:M_;function Ob(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function k_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),no(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);no(n)}function L_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Mb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function Vb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function U_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ud=null;function P_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function j_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function z_(t,n,a){switch(n=Ic(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_a(t)}var Wn=new Map,B_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=ne.d;ne.d={f:Lb,r:Ub,D:Pb,C:jb,L:zb,m:Bb,X:Hb,S:qb,M:Gb};function Lb(){var t=ms.f(),n=Ec();return t||n}function Ub(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?sy(n):ms.r(t)}var Wa=typeof document>"u"?null:document;function q_(t,n,a){var o=Wa;if(o&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),B_.has(h)||(B_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),sn(n,"link",t),Ut(n),o.head.appendChild(n)))}}function Pb(t){ms.D(t),q_("dns-prefetch",t,null)}function jb(t,n){ms.C(t,n),q_("preconnect",t,n)}function zb(t,n,a){ms.L(t,n,a);var o=Wa;if(o&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=eo(t);break;case"script":f=to(t)}Wn.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Wn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Rl(f))||n==="script"&&o.querySelector(Cl(f))||(n=o.createElement("link"),sn(n,"link",t),Ut(n),o.head.appendChild(n)))}}function Bb(t,n){ms.m(t,n);var a=Wa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(o)+'"][href="'+vn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(t)}if(!Wn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Wn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(f)))return}o=a.createElement("link"),sn(o,"link",t),Ut(o),a.head.appendChild(o)}}}function qb(t,n,a){ms.S(t,n,a);var o=Wa;if(o&&t){var h=Si(o).hoistableStyles,f=eo(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Rl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Wn.get(f))&&Pd(t,a);var C=g=o.createElement("link");Ut(C),sn(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Hb(t,n){ms.X(t,n);var a=Wa;if(a&&t){var o=Si(a).hoistableScripts,h=to(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=w({src:t,async:!0},n),(n=Wn.get(h))&&jd(t,n),f=a.createElement("script"),Ut(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Gb(t,n){ms.M(t,n);var a=Wa;if(a&&t){var o=Si(a).hoistableScripts,h=to(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&jd(t,n),f=a.createElement("script"),Ut(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function H_(t,n,a,o){var h=(h=Ae.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=eo(a.href),a=Si(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var f=Si(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Rl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),f||Fb(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=to(a),a=Si(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function eo(t){return'href="'+vn(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Fb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),sn(n,"link",a),Ut(n),t.head.appendChild(n))}function to(t){return'[src="'+vn(t)+'"]'}function Cl(t){return"script[async]"+t}function F_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(o)return n.instance=o,Ut(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ut(o),sn(o,"style",h),Nc(o,a.precedence,t),n.instance=o;case"stylesheet":h=eo(a.href);var f=t.querySelector(Rl(h));if(f)return n.state.loading|=4,n.instance=f,Ut(f),f;o=G_(a),(h=Wn.get(h))&&Pd(o,h),f=(t.ownerDocument||t).createElement("link"),Ut(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),sn(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,t),n.instance=f;case"script":return f=to(a.src),(h=t.querySelector(Cl(f)))?(n.instance=h,Ut(h),h):(o=a,(h=Wn.get(f))&&(o=w({},a),jd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ut(h),sn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,t));return n.instance}function Nc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function K_(t,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ti]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Q_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Kb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Qb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=eo(o.href),f=n.querySelector(Rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ut(f);return}f=n.ownerDocument||n,o=G_(o),(h=Wn.get(h))&&Pd(o,h),f=f.createElement("link"),Ut(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),sn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var zd=0;function Yb(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&zd===0&&(zd=62500*Ib());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>zd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach(Xb,t),Mc=null,Oc.call(t))}function Xb(t,n){if(!(n.state.loading&4)){var a=Mc.get(t);if(a)var o=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:Te,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function $b(t,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function X_(t,n,a,o,h,f,g,E,C,z,F,X){return t=new $b(t,n,a,g,C,z,F,X,E),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=vf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Sf(f),t}function $_(t){return t?(t=Oa,t):Oa}function J_(t,n,a,o,h,f){h=$_(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Hs(t,o,n),a!==null&&(wn(a,t,n),al(a,t,n))}function Z_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bd(t,n){Z_(t,n),(t=t.alternate)&&Z_(t,n)}function W_(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&wn(n,t,67108864),Bd(t,67108864)}}function ev(t){if(t.tag===13||t.tag===31){var n=zn();n=xr(n);var a=Br(t,n);a!==null&&wn(a,t,n),Bd(t,n)}}var kc=!0;function Jb(t,n,a,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,qd(t,n,a,o)}finally{ne.p=f,G.T=h}}function Zb(t,n,a,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,qd(t,n,a,o)}finally{ne.p=f,G.T=h}}function qd(t,n,a,o){if(kc){var h=Hd(o);if(h===null)Id(t,n,o,Lc,a),nv(t,o);else if(eS(h,t,n,a,o))o.stopPropagation();else if(nv(t,o),n&4&&-1<Wb.indexOf(t)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Dn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-k(g);E.entanglements[1]|=C,g&=~C}Li(f),(We&6)===0&&(_c=Et()+500,bl(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&wn(E,f,2),Ec(),Bd(f,2)}if(f=Hd(o),f===null&&Id(t,n,o,Lc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Id(t,n,o,null,a)}}function Hd(t){return t=Hn(t),Gd(t)}var Lc=null;function Gd(t){if(Lc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lc=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case Ar:return 2;case wr:return 8;case _i:case Rr:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Fd=!1,er=null,tr=null,nr=null,xl=new Map,Nl=new Map,ir=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Dl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&W_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function eS(t,n,a,o,h){switch(n){case"focusin":return er=Dl(er,t,n,a,o,h),!0;case"dragenter":return tr=Dl(tr,t,n,a,o,h),!0;case"mouseover":return nr=Dl(nr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return xl.set(f,Dl(xl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Dl(Nl.get(f)||null,t,n,a,o,h)),!0}return!1}function iv(t){var n=bi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,si(t.priority,function(){ev(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,si(t.priority,function(){ev(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Go=o,a.target.dispatchEvent(o),Go=null}else return n=qn(a),n!==null&&W_(n),t.blockedOn=a,!1;n.shift()}return!0}function sv(t,n,a){Uc(t)&&a.delete(n)}function tS(){Fd=!1,er!==null&&Uc(er)&&(er=null),tr!==null&&Uc(tr)&&(tr=null),nr!==null&&Uc(nr)&&(nr=null),xl.forEach(sv),Nl.forEach(sv)}function Pc(t,n){t.blockedOn===n&&(t.blockedOn=null,Fd||(Fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tS)))}var jc=null;function rv(t){jc!==t&&(jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Gd(o||a)===null)continue;break}var f=qn(a);f!==null&&(t.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function no(t){function n(C){return Pc(C,t)}er!==null&&Pc(er,t),tr!==null&&Pc(tr,t),nr!==null&&Pc(nr,t),xl.forEach(n),Nl.forEach(n);for(var a=0;a<ir.length;a++){var o=ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Xt]||null;if(typeof f=="function")g||rv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Xt]||null)E=g.formAction;else if(Gd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),rv(a)}}}function av(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kd(t){this._internalRoot=t}zc.prototype.render=Kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=zn();J_(a,o,t,n,null,null)},zc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;J_(t.current,2,null,t,null,null),Ec(),n[Ei]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Eu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ir.length&&n!==0&&n<ir[a].priority;a++);ir.splice(a,0,t),a===0&&iv(t)}};var ov=e.version;if(ov!=="19.2.4")throw Error(r(527,ov,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Nn=Bc.inject(nS),Ft=Bc}catch{}}return Ml.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=my,f=py,g=gy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=X_(t,1,!1,null,null,a,o,null,h,f,g,av),t[Ei]=n.current,Cd(t),new Kd(n)},Ml.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=my,g=py,E=gy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=X_(t,1,!0,n,a??null,o,h,C,f,g,E,av),n.context=$_(null),a=n.current,o=zn(),o=xr(o),h=qs(o),h.callback=null,Hs(a,h,o),a=o,n.current.lanes=a,Cr(n,a),Li(n),t[Ei]=n.current,Cd(t),new zc(n)},Ml.version="19.2.4",Ml}var yv;function fS(){if(yv)return Xd.exports;yv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=hS(),Xd.exports}var dS=fS();const mS=()=>{};var _v={};const iE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},pS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(O=64)),r.push(i[b],i[w],i[O],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(iE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):pS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new gS;const O=c<<2|p>>4;if(r.push(O),y!==64){const Q=p<<4&240|y>>2;if(r.push(Q),w!==64){const Z=y<<6&192|w;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(s){const e=iE(s);return sE.encodeByteArray(e,!0)},lh=function(s){return yS(s).replace(/\./g,"")},rE=function(s){try{return sE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vS=()=>_S().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},TS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&rE(s[1]);return e&&JSON.parse(e)},Ch=()=>{try{return mS()||vS()||ES()||TS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},aE=s=>Ch()?.emulatorHosts?.[s],bS=s=>{const e=aE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},oE=()=>Ch()?.config,lE=s=>Ch()?.[`_${s}`];class SS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uE(s){return(await fetch(s,{credentials:"include"})).ok}function AS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(i)),lh(JSON.stringify(d)),""].join(".")}const Hl={};function wS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function RS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let vv=!1;function cE(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Hl[s]===e||Hl[s]||vv)return;Hl[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=wS().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{vv=!0,d()},O}function b(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=RS(r),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),pe=i("preprendIcon"),Se=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Te=O.element;p(Te),b(ee,se);const Je=y();_(Se,pe),Te.append(Se,Z,ee,Je),document.body.appendChild(Te)}c?(Z.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function IS(){const s=Ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function MS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const LS="FirebaseError";class As extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=LS,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?US(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new As(l,p,r)}}function US(s,e){return s.replace(PS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const PS=/\{\$([^}]+)}/g;function jS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function vs(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(Ev(c)&&Ev(d)){if(!vs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Ev(s){return s!==null&&typeof s=="object"}function au(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Pl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function zS(s,e){const i=new BS(s,e);return i.subscribe.bind(i)}class BS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wd(){}function xt(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class HS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new SS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FS(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(s){return s===ea?void 0:s}function FS(s){return s.instantiationMode==="EAGER"}class KS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const QS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},YS=Be.INFO,XS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},$S=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=XS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const JS=(s,e)=>e.some(i=>s instanceof i);let Tv,bv;function ZS(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,Em=new WeakMap,fE=new WeakMap,em=new WeakMap,Ym=new WeakMap;function eA(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&hE.set(i,s)}).catch(()=>{}),Ym.set(e,s),e}function tA(s){if(Em.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Em.set(s,e)}let Tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||fE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function nA(s){Tm=s(Tm)}function iA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(tm(this),e,...i);return fE.set(r,e.sort?e.sort():[e]),hr(r)}:WS().includes(s)?function(...e){return s.apply(tm(this),e),hr(hE.get(this))}:function(...e){return hr(s.apply(tm(this),e))}}function sA(s){return typeof s=="function"?iA(s):(s instanceof IDBTransaction&&tA(s),JS(s,ZS())?new Proxy(s,Tm):s)}function hr(s){if(s instanceof IDBRequest)return eA(s);if(em.has(s))return em.get(s);const e=sA(s);return e!==s&&(em.set(s,e),Ym.set(e,s)),e}const tm=s=>Ym.get(s);function rA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=hr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(hr(d.result),_.oldVersion,_.newVersion,hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const aA=["get","getKey","getAll","getAllKeys","count"],oA=["put","add","delete","clear"],nm=new Map;function Sv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=oA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||aA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return nm.set(e,c),c}nA(s=>({...s,get:(e,i,r)=>Sv(e,i)||s.get(e,i,r),has:(e,i)=>!!Sv(e,i)||s.has(e,i)}));class lA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uA(s){return s.getComponent()?.type==="VERSION"}const bm="@firebase/app",Av="0.14.8";const Es=new Qm("@firebase/app"),cA="@firebase/app-compat",hA="@firebase/analytics-compat",fA="@firebase/analytics",dA="@firebase/app-check-compat",mA="@firebase/app-check",pA="@firebase/auth",gA="@firebase/auth-compat",yA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",bA="@firebase/installations",SA="@firebase/installations-compat",AA="@firebase/messaging",wA="@firebase/messaging-compat",RA="@firebase/performance",CA="@firebase/performance-compat",IA="@firebase/remote-config",xA="@firebase/remote-config-compat",NA="@firebase/storage",DA="@firebase/storage-compat",OA="@firebase/firestore",MA="@firebase/ai",VA="@firebase/firestore-compat",kA="firebase",LA="12.9.0";const Sm="[DEFAULT]",UA={[bm]:"fire-core",[cA]:"fire-core-compat",[fA]:"fire-analytics",[hA]:"fire-analytics-compat",[mA]:"fire-app-check",[dA]:"fire-app-check-compat",[pA]:"fire-auth",[gA]:"fire-auth-compat",[yA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[bA]:"fire-iid",[SA]:"fire-iid-compat",[AA]:"fire-fcm",[wA]:"fire-fcm-compat",[RA]:"fire-perf",[CA]:"fire-perf-compat",[IA]:"fire-rc",[xA]:"fire-rc-compat",[NA]:"fire-gcs",[DA]:"fire-gcs-compat",[OA]:"fire-fst",[VA]:"fire-fst-compat",[MA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};const Xl=new Map,PA=new Map,Am=new Map;function wv(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function po(s){const e=s.name;if(Am.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,s);for(const i of Xl.values())wv(i,s);for(const i of PA.values())wv(i,s);return!0}function Xm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ei(s){return s==null?!1:s.settings!==void 0}const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new ru("app","Firebase",jA);class zA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Ao=LA;function dE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Sm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=oE()),!i)throw fr.create("no-options");const c=Xl.get(l);if(c){if(vs(i,c.options)&&vs(r,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new KS(l);for(const _ of Am.values())d.addComponent(_);const p=new zA(i,r,d);return Xl.set(l,p),p}function $m(s=Sm){const e=Xl.get(s);if(!e&&s===Sm&&oE())return dE();if(!e)throw fr.create("no-app",{appName:s});return e}function BA(){return Array.from(Xl.values())}function dr(s,e,i){let r=UA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}po(new sa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const qA="firebase-heartbeat-database",HA=1,$l="firebase-heartbeat-store";let im=null;function mE(){return im||(im=rA(qA,HA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),im}async function GA(s){try{const i=(await mE()).transaction($l),r=await i.objectStore($l).get(pE(s));return await i.done,r}catch(e){if(e instanceof As)Es.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function Rv(s,e){try{const r=(await mE()).transaction($l,"readwrite");await r.objectStore($l).put(e,pE(s)),await r.done}catch(i){if(i instanceof As)Es.warn(i.message);else{const r=fr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(r.message)}}}function pE(s){return`${s.name}!${s.options.appId}`}const FA=1024,KA=30;class QA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>KA){const l=$A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:i,unsentEntries:r}=YA(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function YA(s,e=FA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Iv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Iv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class XA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await GA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Iv(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function $A(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function JA(s){po(new sa("platform-logger",e=>new lA(e),"PRIVATE")),po(new sa("heartbeat",e=>new QA(e),"PRIVATE")),dr(bm,Av,s),dr(bm,Av,"esm2020"),dr("fire-js","")}JA("");var ZA="firebase",WA="12.9.0";dr(ZA,WA,"app");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,gE;(function(){var s;function e(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,U){for(var R=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)R[mt-2]=arguments[mt];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],N=x.g[2];let U=x.g[3],R;R=A+(U^I&(N^U))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(N^A&(I^N))+V[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(I^U&(A^I))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(A^N&(U^A))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(U^I&(N^U))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(N^A&(I^N))+V[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(I^U&(A^I))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(A^N&(U^A))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(U^I&(N^U))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(N^A&(I^N))+V[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(I^U&(A^I))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(A^N&(U^A))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(U^I&(N^U))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(N^A&(I^N))+V[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(I^U&(A^I))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(A^N&(U^A))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(N^U&(I^N))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(A^I))+V[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(U^A))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(N^U))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(I^N))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(A^I))+V[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(U^A))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(N^U))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(I^N))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(A^I))+V[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(U^A))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(N^U))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(I^N))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(A^I))+V[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(U^A))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(N^U))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(I^N^U)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^N)+V[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^I)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^A)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^U)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^N)+V[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^I)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^A)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^U)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^N)+V[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^I)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^A)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^U)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^N)+V[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^I)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^A)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(N^(I|~U))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~N))+V[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~I))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~A))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~U))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~N))+V[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~I))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~A))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~U))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~N))+V[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~I))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~A))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~U))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~N))+V[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~I))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+U&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=I;)l(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(V[N++]=x.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<A;)if(V[N++]=x[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const U=x[N]|0;V&&U==A||(I[N]=U,V=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return ee(y(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return ee(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=w;for(let U=0;U<x.length;U+=8){var N=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var w=_(0),O=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(se(this))return-ee(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(se(this))return"-"+ee(this).toString(x);const A=y(Math.pow(x,6));var I=this;let V="";for(;;){const N=Je(I,A).g;I=pe(I,N.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,Z(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function se(x){return x.h==-1}s.l=function(x){return x=pe(this,x),se(x)?-1:Z(x)?0:1};function ee(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(O)}s.abs=function(){return se(this)?ee(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(x.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,I[N]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pe(x,A){return x.add(ee(A))}s.j=function(x){if(Z(this)||Z(x))return w;if(se(this))return se(x)?ee(this).j(ee(x)):ee(ee(this).j(x));if(se(x))return ee(this.j(ee(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,mt=x.i(N)>>>16,St=x.i(N)&65535;I[2*V+2*N]+=R*St,Se(I,2*V+2*N),I[2*V+2*N+1]+=U*St,Se(I,2*V+2*N+1),I[2*V+2*N+1]+=R*mt,Se(I,2*V+2*N+1),I[2*V+2*N+2]+=U*mt,Se(I,2*V+2*N+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function Se(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function Te(x,A){this.g=x,this.h=A}function Je(x,A){if(Z(A))throw Error("division by zero");if(Z(x))return new Te(w,w);if(se(x))return A=Je(ee(x),A),new Te(ee(A.g),ee(A.h));if(se(A))return A=Je(x,ee(A)),new Te(ee(A.g),A.h);if(x.g.length>30){if(se(x)||se(A))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=A;V.l(x)<=0;)I=dt(I),V=dt(V);var N=Fe(I,1),U=Fe(V,1);for(V=Fe(V,2),I=Fe(I,2);!Z(V);){var R=U.add(V);R.l(x)<=0&&(N=N.add(I),U=R),V=Fe(V,1),I=Fe(I,1)}return A=pe(x,N.j(A)),new Te(N,A)}for(N=w;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),R=U.j(A);se(R)||R.l(x)>0;)I-=V,U=y(I),R=U.j(A);Z(U)&&(U=O),N=N.add(U),x=pe(x,R)}return new Te(N,x)}s.B=function(x){return Je(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function dt(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Fe(x,A){const I=A>>5;A%=32;const V=x.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=A>0?x.i(U+I)>>>A|x.i(U+I+1)<<32-A:x.i(U+I);return new d(N,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,mr=d}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,jl,_E,Jc,wm,vE,EE,TE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break e;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var W=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)W[Ie-2]=arguments[Ie];return m.prototype[P].apply(T,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=P[W]}else u.push(P)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new se(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Fe=!1,x=new Se,A=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(I)}};function I(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){ee(v)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function mt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(mt,N),mt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=Ae(u,m,T,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),wt={};function ut(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ut(u,m[q],v,T,P);return null}return v=ie(v),u&&u[St]?u.J(m,v,p(T)?!!T.capture:!1,P):ni(u,m,v,!1,T,P)}function ni(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const W=p(P)?!!P.capture:!!P;let Ie=ae(u);if(Ie||(u[Ve]=Ie=new re(u)),v=Ie.add(m,v,T,W,q),v.proxy)return v;if(T=Cs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Rt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cs(){function u(v){return m.call(u.src,u.listener,v)}const m=Yi;return u}function Ki(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ki(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=ie(v),u&&u[St]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ae(m,v,T,P),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ae(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,T,P)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])_e(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Rt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ae(m))?(_e(v,u),v.h==0&&(v.src=null,m[Ve]=null)):fe(u)}}}function Rt(u){return u in wt?wt[u]:wt[u]="on"+u}function Yi(u,m){if(u.da)u=!0;else{m=new mt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qi(u),u=v.call(T,m)}return u}function ae(u){return u=u[Ve],u instanceof re?u:null}var xn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ie(u){return typeof u=="function"?u:(u[xn]||(u[xn]=function(m){return u.handleEvent(m)}),u[xn])}function De(){V.call(this),this.i=new re(this),this.M=this,this.G=null}w(De,V),De.prototype[St]=!0,De.prototype.removeEventListener=function(u,m,v,T){Ki(this,u,m,v,T)};function ct(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),te(m,P)}P=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],P=yi(q,T,!0,m)&&P;if(q=m.g=u,P=yi(q,T,!0,m)&&P,P=yi(q,T,!1,m)&&P,v)for(W=0;W<v.length;W++)q=m.g=v[W],P=yi(q,T,!1,m)&&P}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)fe(v[T]);delete u.g[m],u.h--}}this.G=null},De.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},De.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function yi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const Ie=W.listener,Nt=W.ha||W.src;W.fa&&_e(u.i,W),P=Ie.call(Nt,T)!==!1&&P}}return P&&!T.defaultPrevented}function Oo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function da(u){u.g=Oo(()=>{u.g=null,u.i&&(u.i=!1,da(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Et extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(u){V.call(this),this.h=u,this.g={}}w(Xi,V);var Ar=[];function wr(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}Xi.prototype.N=function(){Xi.Z.N.call(this),wr(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=d.JSON.stringify,Rr=d.JSON.parse,ma=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function pa(){}function ga(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){N.call(this,"d")}w(Ft,N);function _n(){N.call(this,"c")}w(_n,N);var k={},ce=null;function ye(){return ce=ce||new De}k.Ia="serverreachability";function be(u){N.call(this,k.Ia,u)}w(be,N);function Ke(u){const m=ye();ct(m,new be(m))}k.STAT_EVENT="statevent";function ht(u,m){N.call(this,k.STAT_EVENT,u),this.stat=m}w(ht,N);function Me(u){const m=ye();ct(m,new ht(m,u))}k.Ja="timingevent";function Dn(u,m){N.call(this,k.Ja,u),this.size=m}w(Dn,N);function dn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function $h(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var W="",Ie=q.split("&");for(let Ze=0;Ze<Ie.length;Ze++){var Nt=Ie[Ze].split("=");if(Nt.length>1){const Tt=Nt[0];Nt=Nt[1];const Fn=Tt.split("_");W=Fn.length>=2&&Fn[1]=="type"?W+(Tt+"="+Nt+"&"):W+(Tt+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function vu(u,m,v,T,P,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+W})}function vi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jh(u,v)+(T?" "+T:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}ii.prototype.info=function(){};function Jh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return _i(q)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function xr(){}w(xr,pa),xr.prototype.g=function(){return new XMLHttpRequest},Vo=new xr;function $i(u){return encodeURIComponent(String(u))}function Eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function si(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Lt={},Xt={};function Ei(u,m,v){u.M=1,u.A=Nr(Pt(m)),u.u=v,u.R=!0,ya(u,null)}function ya(u,m){u.F=Date.now(),Ti(u),u.B=Pt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ta(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ri,u.g=ku(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Et(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ar[0]=P.toString()),P=Ar);for(let q=0;q<P.length;q++){const W=ut(v,P[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ke(),$h(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const m=this.O;m&&li(u)==3?m.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=li(this.g),Nt=this.g.ya(),Ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ie!=4||Nt==7||(Nt==8||Ze<=0?Ke(3):Ke(2)),bi(this);var m=this.g.ca();this.X=m;var v=Zh(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Me(12),On(this),qn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=bu(this,v),Tt==Xt){Ie==4&&(this.m=4,Me(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Lt){this.m=4,Me(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,Tt,null),Si(this,Tt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Me(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),On(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(W),W.P=!0,Me(11))}}else vi(this.i,this.l,v,null),Si(this,v);Ie==4&&On(this),this.o&&!this.K&&(Ie==4?Du(this.j,this):(this.o=!1,Ti(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),On(this),qn(this)}}}catch{}};function Zh(u){if(!Tu(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let v="";const T=m.length,P=li(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),qn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Xt:(v=Number(m.substring(v,T)),isNaN(v)?Lt:(T+=1,T+v>m.length?Xt:(m=m.slice(T,T+v),u.C=T+v,m)))}si.prototype.cancel=function(){this.K=!0,On(this)};function Ti(u){u.T=Date.now()+u.H,_a(u,u.H)}function _a(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=dn(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(Ke(),Me(17)),On(this),this.m=2,qn(this)):_a(this,this.T-u)};function qn(u){u.j.I==0||u.K||Du(u.j,u)}function On(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ra(v),ks(v);else break e;Ur(v),Me(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=dn(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&Ra(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ze=P[m];const Tt=Ze[0];if(!(Tt<=v.K))if(v.K=Tt,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const Fn=Ze[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const Oi=Ze[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ui=Ze[5];ui!=null&&typeof ui=="number"&&ui>0&&(T=1.5*ui,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ci=u.g;if(ci){const Pr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var q=T.h;q.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(T.G){const Ca=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(T.wa=Ca,nt(T.J,T.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Vu(T,T.L?T.ba:null,T.W),W.L){Po(T.h,W);var Ie=W,Nt=T.O;Nt&&(Ie.H=Nt),Ie.D&&(bi(Ie),Ti(Ie)),T.g=W}else xu(T);v.i.length>0&&Ni(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Di(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Di(v,7):Qo(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}Ke(4)}catch{}}var Ut=class{constructor(u,m){this.g=u,this.map=m}};function ko(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Uo(u,m){u.g?u.g.add(m):u.h=m}function Po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,zo(this,Cu(u.i)),this.m=u.m):u&&(m=String(u).match(Su))?(this.l=!1,$t(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Is(this,m[4]),this.h=Ri(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,Ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,Ea,!0),"@"),u.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Dr(v,v.charAt(0)=="/"?Bo:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Dr(v,wu)),u.join("")},Mn.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?$t(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let W=0;W<P.length;){const Ie=P[W++];Ie=="."?T&&W==P.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==P.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?zo(m,Cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new Mn(u)}function $t(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zo(u,m,v){m instanceof Ns?(u.i=m,ba(u.i,u.l)):(v||(m=Dr(m,xs)),u.i=new Ns(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function Nr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,Au=/[#\?:]/g,Bo=/[#\?]/g,xs=/[#\?@]/g,wu=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&va(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ns.prototype,s.add=function(u,m){En(this),this.i=null,u=Ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ru(u,m){En(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qo(u,m){return En(u),m=Ds(u,m),u.g.has(m)}s.forEach=function(u,m){En(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ho(u,m){En(u);let v=[];if(typeof m=="string")qo(u,m)&&(v=v.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return En(this),this.i=null,u=Ds(this,u),qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ho(this,u),u.length>0?String(u[0]):m):m};function Ta(u,m,v){Ru(u,m),v.length>0&&(u.i=null,u.g.set(Ds(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=$i(v);v=Ho(this,v);for(let q=0;q<v.length;q++){let W=P;v[q]!==""&&(W+="="+$i(v[q])),u.push(W)}}return this.i=u.join("&")};function Cu(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Ru(this,T),Ta(this,P,v))},u)),u.j=m}function ai(u,m){const v=new ii;if(d.Image){const T=new Image;T.onload=b(Hn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Hn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Hn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Hn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Go(u,m){const v=new ii,T=new AbortController,P=setTimeout(()=>{T.abort(),Hn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Hn(v,"TestPingServer: ok",!0,m):Hn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Hn(v,"TestPingServer: error",!1,m)})}function Hn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Os(){this.g=new ma}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ci,pa),Ci.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){De.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Or,De),s=Or.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):oi(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},s.Na=function(u){this.g&&(this.response=u,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let m="";return Pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Mr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Gn(v),typeof u=="string"?v!=null&&$i(v):nt(u,m,v))}function rt(u){De.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(rt,De);var Ii=/^https?$/i,Fo=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Vr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Vr(this,q)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ko(u),Ji(u)}function Ko(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ct(this,"complete"),ct(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&li(u)==4)setTimeout(u.Ca.bind(u),0);else if(ct(u,"readystatechange"),li(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let W=String(u.D).match(Su)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ii.test(W?W.toLowerCase():"")}v=T}if(v)ct(u,"complete"),ct(u,"success");else{u.o=6;try{var P=li(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Ko(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(u){return u.g?u.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rr(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&li(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Eu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ye(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Vs(u){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Me(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Vu(this,null,this.W),Ni(this)};function Qo(u){if(Aa(u),u.I==3){var m=u.V++,v=Pt(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Lr(u,v),m=new si(u,u.j,m),m.M=2,m.A=Nr(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Mu(u)}function ks(u){u.g&&(Xo(u),u.g.cancel(),u.g=null)}function Aa(u){ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Lo(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||A(),Fe||(dt(),Fe=!0),x.add(m,u),u.D=0}}function wa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=dn(y(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new si(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),te(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Iu(this,P,m),v=Pt(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Lr(this,v),q&&(this.R?m="headers="+$i(Gn(q))+"&"+m:this.u&&Mr(v,this.u,q)),Uo(this.h,P),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),P.U=!0,Ei(P,v,null)):Ei(P,v,m),this.I=2}}else this.I==3&&(u?Yo(this,u):this.i.length==0||Lo(this.h)||Yo(this))};function Yo(u,m){var v;m?v=m.l:v=u.V++;const T=Pt(u.J);nt(T,"SID",u.M),nt(T,"RID",v),nt(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Mr(T,u.u,u.o),v=new si(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Uo(u.h,v),Ei(v,T,m)}function Lr(u,m){u.H&&Pe(u.H,function(v,T){nt(m,T,v)}),u.l&&Pe({},function(v,T){nt(m,T,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ie=-1;for(;;){const Nt=["count="+v];Ie==-1?v>0?(Ie=P[0].g,Nt.push("ofs="+Ie)):Ie=0:Nt.push("ofs="+Ie);let Ze=!0;for(let Tt=0;Tt<v;Tt++){var q=P[Tt].g;const Fn=P[Tt].map;if(q-=Ie,q<0)Ie=Math.max(0,P[Tt].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var W=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Oi,ui]of W){let ci=ui;p(ui)&&(ci=_i(ui)),Nt.push(q+Oi+"="+encodeURIComponent(ci))}}catch(Oi){throw Nt.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{T&&T(Fn)}}if(Ze){W=Nt.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function xu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||A(),Fe||(dt(),Fe=!0),x.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=dn(y(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=dn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),ks(this),Nu(this))};function Xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Nr(Pt(m)),v.u=null,v.R=!0,ya(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ks(this),Ur(this),Me(19))};function Ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var v=null;if(u.g==m){Ra(u),Xo(u),u.g=null;var T=2}else if(wi(u.h,m))v=m.G,Po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ye(),ct(T,new Dn(T,v)),Ni(u)}else xu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&wa(u,m)||T==2&&Ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Ou(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new Mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(T,"https"),Nr(T),P?ai(T.toString(),v):Go(T.toString(),v)}else Me(2);u.I=0,u.l&&u.l.pa(m),Mu(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=jo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,v){var T=v instanceof Mn?Pt(v):new Mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Mn(null);T&&$t(q,T),m&&(q.g=m),P&&Is(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&nt(T,v,m),nt(T,"VER",u.ka),Lr(u,T),T}function ku(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new Ci({ab:v})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}s=Lu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ls(){}Ls.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){De.call(this),this.g=new Vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}w(mn,De),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qo(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_i(u),u=v);m.i.push(new Ut(m.Ya++,u)),m.I==3&&Ni(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,mn.Z.N.call(this)};function Uu(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Uu,Ft);function Pu(){_n.call(this),this.status=1}w(Pu,_n);function Wi(u){this.g=u}w(Wi,Lu),Wi.prototype.ra=function(){ct(this.g,"a")},Wi.prototype.qa=function(u){ct(this.g,new Uu(u))},Wi.prototype.pa=function(u){ct(this.g,new Pu)},Wi.prototype.oa=function(){ct(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,TE=function(){return new Ls},EE=function(){return ye()},vE=k,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Jc=Ir,Mo.COMPLETE="complete",_E=Mo,ga.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",De.prototype.listen=De.prototype.J,jl=ga,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,yE=rt}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let wo="12.9.0";function ew(s){wo=s}const ra=new Qm("@firebase/firestore");function so(){return ra.logLevel}function oe(s,...e){if(ra.logLevel<=Be.DEBUG){const i=e.map(Jm);ra.debug(`Firestore (${wo}): ${s}`,...i)}}function Ts(s,...e){if(ra.logLevel<=Be.ERROR){const i=e.map(Jm);ra.error(`Firestore (${wo}): ${s}`,...i)}}function aa(s,...e){if(ra.logLevel<=Be.WARN){const i=e.map(Jm);ra.warn(`Firestore (${wo}): ${s}`,...i)}}function Jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,bE(s,r,i)}function bE(s,e,i){let r=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ts(r),new Error(r)}function et(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||bE(e,l,r)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class SE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iw{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new SE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class sw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new sw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ow(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ow(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function Rm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return sm(l)===sm(c)?qe(l,c):sm(l)?1:-1}return qe(s.length,e.length)}const lw=55296,uw=57343;function sm(s){const e=s.charCodeAt(0);return e>=lw&&e<=uw}function go(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Dv="__name__";class Ui{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ee(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Ui.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=Ui.isNumericId(e),l=Ui.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):Rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class _t extends Ui{construct(e,i,r){return new _t(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Ui{construct(e,i,r){return new an(e,i,r)}static isValidIdentifier(e){return cw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new an([Dv])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(_t.fromString(e))}static fromName(e){return new me(_t.fromString(e).popFirst(5))}static empty(){return new me(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new _t(e.slice()))}}function AE(s,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hw(s,e,i,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ov(s){if(!me.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Mv(s){if(me.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function wE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function gn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wm(s);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ou(s,e){if(!wE(s))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue(J.INVALID_ARGUMENT,i);return!0}const Vv=-62135596800,kv=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*kv);return new vt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Vv)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Gt("string",vt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new vt(0,0))}static max(){return new we(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function fw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new vt(i+1,0):new vt(i,r));return new gr(l,me.empty(),e)}function dw(s){return new gr(s.readTime,s.key,Jl)}class gr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new gr(we.min(),me.empty(),Jl)}static max(){return new gr(we.max(),me.empty(),Jl)}}function mw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==pw)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&r(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function yw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Co(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const ep=-1;function xh(s){return s==null}function uh(s){return s===0&&1/s==-1/0}function _w(s){return typeof s=="number"&&Number.isInteger(s)&&!uh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const RE="";function vw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Lv(e)),e=Ew(s.get(i),e);return Lv(e)}function Ew(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function Lv(s){return s+RE+""}function Uv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function br(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function CE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??rn.RED,this.left=l??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new rn(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return rn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Bn([])}unionWith(e){let i=new Yt(an.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new IE("Invalid base64 string: "+c):c}})(e);return new on(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new on(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Tw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=Tw.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const xE="server_timestamp",NE="__type__",DE="__previous_value__",OE="__local_write_time__";function tp(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===xE}function Nh(s){const e=s.mapValue.fields[DE];return tp(e)?Nh(e):e}function Zl(s){const e=yr(s.mapValue.fields[OE].timestampValue);return new vt(e.seconds,e.nanos)}class bw{constructor(e,i,r,l,c,d,p,_,y,b,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const ch="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||ch}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}function Sw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(s.options.projectId,e)}const ME="__type__",Aw="__max__",Gc={mapValue:{}},VE="__vector__",hh="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tp(s)?4:Rw(s)?9007199254740991:ww(s)?10:11:Ee(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=yr(l.timestampValue),p=yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return _r(l.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Vt(l.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(l.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Vt(l.integerValue)===Vt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Vt(l.doubleValue),p=Vt(c.doubleValue);return d===p?uh(d)===uh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Uv(d)!==Uv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Hi(d[_],p[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function eu(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function yo(s,e){if(s===e)return 0;const i=vr(s),r=vr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Vt(c.integerValue||c.doubleValue),_=Vt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return jv(s.timestampValue,e.timestampValue);case 4:return jv(Zl(s),Zl(e));case 5:return Rm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=_r(c),_=_r(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=qe(p[y],_[y]);if(b!==0)return b}return qe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=qe(Vt(c.latitude),Vt(d.latitude));return p!==0?p:qe(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return zv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[hh]?.arrayValue,b=_[hh]?.arrayValue,w=qe(y?.values?.length||0,b?.values?.length||0);return w!==0?w:zv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gc.mapValue&&d===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const O=Rm(_[w],b[w]);if(O!==0)return O;const Q=yo(p[_[w]],y[b[w]]);if(Q!==0)return Q}return qe(_.length,b.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function jv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=yr(s),r=yr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function zv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=yo(i[l],r[l]);if(c)return c}return qe(i.length,r.length)}function _o(s){return Cm(s)}function Cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=yr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return me.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Cm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Cm(i.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function Zc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return br(r.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function Im(s){return!!s&&"integerValue"in s}function np(s){return!!s&&"arrayValue"in s}function Bv(s){return!!s&&"nullValue"in s}function qv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Wc(s){return!!s&&"mapValue"in s}function ww(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===VE}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function Rw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Aw}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Wc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=an.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Gl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){br(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new In(Gl(this.value))}}function kE(s){const e=[];return br(s.fields,((i,r)=>{const l=new an([i]);if(Wc(r)){const c=kE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Bn(e)}class hn{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new hn(e,0,we.min(),we.min(),we.min(),In.empty(),0)}static newFoundDocument(e,i,r,l){return new hn(e,1,i,we.min(),r,l,0)}static newNoDocument(e,i){return new hn(e,2,i,we.min(),we.min(),In.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,we.min(),we.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function Hv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=me.comparator(me.fromName(d.referenceValue),i.key):r=yo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class dh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Cw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class LE{}class Qt extends LE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new xw(e,i,r):i==="array-contains"?new Ow(e,r):i==="in"?new Mw(e,r):i==="not-in"?new Vw(e,r):i==="array-contains-any"?new kw(e,r):new Qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Nw(e,r):new Dw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends LE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return UE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(s){return s.op==="and"}function PE(s){return Iw(s)&&UE(s)}function Iw(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function xm(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+_o(s.value);if(PE(s))return s.filters.map((e=>xm(e))).join(",");{const e=s.filters.map((i=>xm(i))).join(",");return`${s.op}(${e})`}}function jE(s,e){return s instanceof Qt?(function(r,l){return l instanceof Qt&&r.op===l.op&&r.field.isEqual(l.field)&&Hi(r.value,l.value)})(s,e):s instanceof Gi?(function(r,l){return l instanceof Gi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&jE(d,l.filters[p])),!0):!1})(s,e):void Ee(19439)}function zE(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${_o(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"})(s):"Filter"}class xw extends Qt{constructor(e,i,r){super(e,i,r),this.key=me.fromName(r.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class Nw extends Qt{constructor(e,i){super(e,"in",i),this.keys=BE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Dw extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=BE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function BE(s,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class Ow extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return np(i)&&eu(i.arrayValue,this.value)}}class Mw extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eu(this.value.arrayValue,i)}}class Vw extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eu(this.value.arrayValue,i)}}class kw extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!np(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>eu(this.value.arrayValue,r)))}}class Lw{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Fv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new Lw(s,e,i,r,l,c,d)}function ip(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>xm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>_o(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>_o(r))).join(",")),e.Te=i}return e.Te}function sp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Cw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!jE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Gv(s.startAt,e.startAt)&&Gv(s.endAt,e.endAt)}function Nm(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Dh{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Uw(s,e,i,r,l,c,d,p){return new Dh(s,e,i,r,l,c,d,p)}function Oh(s){return new Dh(s)}function Kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Pw(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function jw(s){return s.collectionGroup!==null}function Fl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Yt(an.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dh(c,r))})),i.has(an.keyField().canonicalString())||e.Ie.push(new dh(an.keyField(),r))}return e.Ie}function Pi(s){const e=Ce(s);return e.Ee||(e.Ee=zw(e,Fl(s))),e.Ee}function zw(s,e){if(s.limitType==="F")return Fv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new dh(l.field,c)}));const i=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return Fv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Dm(s,e,i){return new Dh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Mh(s,e){return sp(Pi(s),Pi(e))&&s.limitType===e.limitType}function qE(s){return`${ip(Pi(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>zE(l))).join(", ")}]`),xh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>_o(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>_o(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function Vh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Fl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=Hv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Fl(r),l)||r.endAt&&!(function(d,p,_){const y=Hv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Fl(r),l))})(s,e)}function Bw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function HE(s){return(e,i)=>{let r=!1;for(const l of Fl(s)){const c=qw(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function qw(s,e,i){const r=s.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?yo(_,y):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const Hw=new At(me.comparator);function bs(){return Hw}const GE=new At(me.comparator);function zl(...s){let e=GE;for(const i of s)e=e.insert(i.key,i);return e}function FE(s){let e=GE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ta(){return Kl()}function KE(){return Kl()}function Kl(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Gw=new At(me.comparator),Fw=new Yt(me.comparator);function He(...s){let e=Fw;for(const i of s)e=e.add(i);return e}const Kw=new Yt(qe);function Qw(){return Kw}function rp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function QE(s){return{integerValue:""+s}}function Yw(s,e){return _w(e)?QE(e):rp(s,e)}class kh{constructor(){this._=void 0}}function Xw(s,e,i){return s instanceof tu?(function(l,c){const d={fields:{[NE]:{stringValue:xE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&tp(c)&&(c=Nh(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,e):s instanceof vo?XE(s,e):s instanceof Eo?$E(s,e):(function(l,c){const d=YE(l,c),p=Qv(d)+Qv(l.Ae);return Im(d)&&Im(l.Ae)?QE(p):rp(l.serializer,p)})(s,e)}function $w(s,e,i){return s instanceof vo?XE(s,e):s instanceof Eo?$E(s,e):i}function YE(s,e){return s instanceof mh?(function(r){return Im(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class tu extends kh{}class vo extends kh{constructor(e){super(),this.elements=e}}function XE(s,e){const i=JE(e);for(const r of s.elements)i.some((l=>Hi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Eo extends kh{constructor(e){super(),this.elements=e}}function $E(s,e){let i=JE(e);for(const r of s.elements)i=i.filter((l=>!Hi(l,r)));return{arrayValue:{values:i}}}class mh extends kh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Qv(s){return Vt(s.integerValue||s.doubleValue)}function JE(s){return np(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ap{constructor(e,i){this.field=e,this.transform=i}}function Jw(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof vo&&l instanceof vo||r instanceof Eo&&l instanceof Eo?go(r.elements,l.elements,Hi):r instanceof mh&&l instanceof mh?Hi(r.Ae,l.Ae):r instanceof tu&&l instanceof tu})(s.transform,e.transform)}class Zw{constructor(e,i){this.version=e,this.transformResults=i}}class yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Lh{}function ZE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Uh(s.key,yn.none()):new lu(s.key,s.data,yn.none());{const i=s.data,r=In.empty();let l=new Yt(an.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Sr(s.key,r,new Bn(l.toArray()),yn.none())}}function Ww(s,e,i){s instanceof lu?(function(l,c,d){const p=l.value.clone(),_=Xv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Sr?(function(l,c,d){if(!eh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Xv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(WE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ql(s,e,i,r){return s instanceof lu?(function(c,d,p,_){if(!eh(c.precondition,d))return p;const y=c.value.clone(),b=$v(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Sr?(function(c,d,p,_){if(!eh(c.precondition,d))return p;const y=$v(c.fieldTransforms,_,d),b=d.data;return b.setAll(WE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,p){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function e2(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=YE(r.transform,l||null);c!=null&&(i===null&&(i=In.empty()),i.set(r.field,c))}return i||null}function Yv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&go(r,l,((c,d)=>Jw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Lh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends Lh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Xv(s,e,i){const r=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,$w(d,p,i[l]))}return r}function $v(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Xw(c,d,e))}return r}class Uh extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t2 extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Ww(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=KE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ZE(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((i,r)=>Yv(i,r)))&&go(this.baseMutations,e.baseMutations,((i,r)=>Yv(i,r)))}}class op{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Gw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new op(e,i,r,l)}}class i2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class s2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Qe;function r2(s){switch(s){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function eT(s){if(s===void 0)return Ts("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ht.OK:return J.OK;case Ht.CANCELLED:return J.CANCELLED;case Ht.UNKNOWN:return J.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return J.INTERNAL;case Ht.UNAVAILABLE:return J.UNAVAILABLE;case Ht.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ht.NOT_FOUND:return J.NOT_FOUND;case Ht.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ht.ABORTED:return J.ABORTED;case Ht.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ht.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:s})}}(Qe=Ht||(Ht={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function a2(){return new TextEncoder}const o2=new mr([4294967295,4294967295],0);function Jv(s){const e=a2().encode(s),i=new gE;return i.update(e),new Uint8Array(i.digest())}function Zv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([i,r],0),new mr([l,c],0)]}class lp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(mr.fromNumber(r)));return l.compare(o2)===1&&(l=new mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Jv(e),[r,l]=Zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new lp(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Jv(e),[r,l]=Zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ph(we.min(),l,new At(qe),bs(),He())}}class uu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new uu(r,i,He(),He(),He())}}class th{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class tT{constructor(e,i){this.targetId=e,this.Ce=i}}class nT{constructor(e,i,r=on.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Wv{constructor(){this.ve=0,this.Fe=e0(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:c})}})),new uu(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=e0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class l2{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=Fc(),this.Je=Fc(),this.Ze=new At(qe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Nm(c))if(r===0){const d=new me(c.path);this.et(i,d,hn.newNoDocument(d,we.min()))}else et(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=_r(r).toUint8Array()}catch(_){if(_ instanceof IE)return aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new lp(d,l,c)}catch(_){return aa(_ instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Nm(p.target)){const _=new me(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,hn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=He();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ph(e,i,this.Ze,this.je,r);return this.je=bs(),this.He=Fc(),this.Je=Fc(),this.Ze=new At(qe),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Wv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Yt(qe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Yt(qe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fc(){return new At(me.comparator)}function e0(){return new At(me.comparator)}const u2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h2={and:"AND",or:"OR"};class f2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Om(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function d2(s,e){return ph(s,e.toTimestamp())}function ji(s){return et(!!s,49232),we.fromTimestamp((function(i){const r=yr(i);return new vt(r.seconds,r.nanos)})(s))}function up(s,e){return Mm(s,e).canonicalString()}function Mm(s,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function sT(s){const e=_t.fromString(s);return et(uT(e),10190,{key:e.toString()}),e}function Vm(s,e){return up(s.databaseId,e.path)}function rm(s,e){const i=sT(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new me(aT(i))}function rT(s,e){return up(s.databaseId,e)}function m2(s){const e=sT(s);return e.length===4?_t.emptyPath():aT(e)}function km(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function aT(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function t0(s,e,i){return{name:Vm(s,e),fields:i.value.mapValue.fields}}function p2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(et(b===void 0||typeof b=="string",58123),on.fromBase64String(b||"")):(et(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),on.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:eT(y.code);return new ue(b,y.message||"")})(d);i=new nT(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=rm(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):we.min(),p=new In({mapValue:{fields:r.document.fields}}),_=hn.newFoundDocument(l,c,d,p),y=r.targetIds||[],b=r.removedTargetIds||[];i=new th(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=rm(s,r.document),c=r.readTime?ji(r.readTime):we.min(),d=hn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new th([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=rm(s,r.document),c=r.removedTargetIds||[];i=new th([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new s2(l,c),p=r.targetId;i=new tT(p,d)}}return i}function g2(s,e){let i;if(e instanceof lu)i={update:t0(s,e.key,e.value)};else if(e instanceof Uh)i={delete:Vm(s,e.key)};else if(e instanceof Sr)i={update:t0(s,e.key,e.data),updateMask:w2(e.fieldMask)};else{if(!(e instanceof t2))return Ee(16599,{dt:e.type});i={verify:Vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:d2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function y2(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(we.min())&&(d=ji(c)),new Zw(d,l.transformResults||[])})(i,e)))):[]}function _2(s,e){return{documents:[rT(s,e.path)]}}function v2(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=rT(s,l);const c=(function(y){if(y.length!==0)return lT(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(O){return{field:ao(O.field),direction:b2(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Om(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function E2(s){let e=m2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){et(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const O=oT(w);return O instanceof Gi&&PE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(Z){return new dh(oo(Z.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let O;return O=typeof w=="object"?w.value:w,xh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(w){const O=!!w.before,Q=w.values||[];return new fh(Q,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const O=!w.before,Q=w.values||[];return new fh(Q,O)})(i.endAt)),Uw(e,l,d,c,p,"F",_,y)}function T2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function oT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=oo(i.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(i.unaryFilter.field);return Qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(oo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((r=>oT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function b2(s){return u2[s]}function S2(s){return c2[s]}function A2(s){return h2[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return an.fromServerFormat(s.fieldPath)}function lT(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(qv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if(Bv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(qv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if(Bv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:S2(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const r=i.getFilters().map((l=>lT(l)));return r.length===1?r[0]:{compositeFilter:{op:A2(i.op),filters:r}}})(s):Ee(54877,{filter:s})}function w2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function uT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function cT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class cr{constructor(e,i,r,l,c=we.min(),d=we.min(),p=on.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R2{constructor(e){this.yt=e}}function C2(s){const e=E2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Dm(e,e.limit,"L"):e}class I2{constructor(){this.Sn=new x2}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(gr.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class x2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Yt(_t.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Yt(_t.comparator)).toArray()}}const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(hT,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class To{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new To(0)}static ar(){return new To(-1)}}const i0="LruGarbageCollector",N2=1048576;function s0([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class D2{constructor(e){this.Pr=e,this.buffer=new Yt(s0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();s0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class O2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(i0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Co(i)?oe(i0,"Ignoring IndexedDB error during garbage collection: ",i):await Ro(i)}await this.Ar(3e5)}))}}class M2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ih.ce);const r=new D2(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(n0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),so()<=Be.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function V2(s,e){return new M2(s,e)}class k2{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class L2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class U2{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ql(r.mutation,l,Bn.empty(),vt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=ta();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=zl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ta();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=bs();const d=Kl(),p=(function(){return Kl()})();return i.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Sr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ql(b.mutation,y,b.mutation.getFieldMask(),vt.now())):d.set(y.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new L2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Kl();let l=new At(((d,p)=>d-p)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Bn.empty();b=p.applyToLocalView(y,b),r.set(_,b);const w=(l.get(p.batchId)||He()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,w=KE();b.forEach((O=>{if(!c.has(O)){const Q=ZE(i.get(O),r.get(O));Q!==null&&w.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return Pw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):jw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(ta());let p=Jl,_=c;return d.next((y=>$.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{_=_.insert(b,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,He()))).next((b=>({batchId:p,changes:FE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((r=>{let l=zl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(w,O){return new Dh(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,hn.newInvalidDocument(b)))}));let p=zl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ql(b.mutation,y,Bn.empty(),vt.now()),Vh(i,y)&&(p=p.insert(_,y))})),p}))}}class P2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:C2(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class j2{constructor(){this.overlays=new At(me.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ta();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=ta(),c=i.length+1,d=new me(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new At(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=ta(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ta(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new i2(i,r));let c=this.Lr.get(i);c===void 0&&(c=He(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class z2{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class cp{constructor(){this.kr=new Yt(Zt.Kr),this.qr=new Yt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Zt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Zt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new me(new _t([])),r=new Zt(i,e),l=new Zt(i,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new me(new _t([])),r=new Zt(i,e),l=new Zt(i,e+1);let c=He();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Zt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return me.comparator(e.key,i.key)||qe(e.Hr,i.Hr)}static Ur(e,i){return qe(e.Hr,i.Hr)||me.comparator(e.key,i.key)}}class B2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Zt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new n2(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ep:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Zt(i,0),l=new Zt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Yt(qe);return i.forEach((l=>{const c=new Zt(l,0),d=new Zt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;me.isDocumentKey(c)||(c=c.child(""));const d=new Zt(new me(c),0);let p=new Yt(qe);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Zt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Zt(i,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class q2{constructor(e){this.ti=e,this.docs=(function(){return new At(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let r=bs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():hn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=bs();const d=i.path,p=new me(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||mw(dw(b),r)<=0||(l.has(b.key)||Vh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ee(9500)}ni(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new H2(this)}getSize(e){return $.resolve(this.size)}}class H2 extends k2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class G2{constructor(e){this.persistence=e,this.ri=new ca((i=>ip(i)),sp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new cp,this.targetCount=0,this.oi=To._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new To(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class fT{constructor(e,i){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new z2,this.referenceDelegate=e(this),this.li=new G2(this),this.indexManager=new I2,this.remoteDocumentCache=(function(l){return new q2(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new R2(i),this.Pi=new P2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new j2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new B2(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){oe("MemoryPersistence","Starting transaction:",e);const l=new F2(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class F2 extends gw{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new cp,this.Ai=null}static Vi(e){return new hp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=me.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.fi=new ca((r=>vw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=V2(this,i)}static Vi(e,i){return new gh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zc(e.data.value)),i}wr(e,i,r){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new fp(e,i.fromCache,r,l)}}class K2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Q2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return MS()?8:yw(fn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new K2;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(so()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(so()<=Be.DEBUG&&oe("QueryEngine","Query:",ro(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(so()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):$.resolve())}gs(e,i){if(Kv(i))return $.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Dm(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=He(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,Dm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,l){return Kv(i)||l.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?$.resolve(null):(so()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(i)),this.Ds(e,d,i,fw(l,Jl)).next((p=>p)))}))}bs(e,i){let r=new Yt(HE(e));return i.forEach(((l,c)=>{Vh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return so()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ro(i)),this.fs.getDocumentsMatchingQuery(e,i,gr.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const dp="LocalStore",Y2=3e8;class X2{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new At(qe),this.Fs=new ca((c=>ip(c)),sp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function $2(s,e,i,r){return new X2(s,e,i,r)}async function dT(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=He();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function J2(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const w=y.batch,O=w.keys();let Q=$.resolve();return O.forEach((Z=>{Q=Q.next((()=>b.getEntry(_,Z))).next((se=>{const ee=y.docVersions.get(Z);et(ee!==null,48541),se.version.compareTo(ee)<0&&(w.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),b.addEntry(se)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=He();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function mT(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Z2(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,w)=>{const O=l.get(w);if(!O)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Q=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Q=Q.withResumeToken(on.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,r)),l=l.insert(w,Q),(function(se,ee,pe){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=Y2?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(O,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let _=bs(),y=He();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(W2(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!r.isEqual(we.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function W2(s,e,i){let r=He(),l=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=bs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):oe(dp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function eR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ep),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new cr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Lm(s,e,i){const r=Ce(s),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Co(d))throw d;oe(dp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function r0(s,e,i){const r=Ce(s);let l=we.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=Ce(_),O=w.Fs.get(b);return O!==void 0?$.resolve(w.vs.get(O)):w.li.getTargetData(y,b)})(r,d,Pi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:He()))).next((p=>(nR(r,Bw(e),p),{documents:p,ks:c})))))}function nR(s,e,i){let r=s.Ms.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class a0{constructor(){this.activeTargetIds=Qw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iR{constructor(){this.vo=new a0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new a0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sR{Mo(e){}shutdown(){}}const o0="ConnectivityMonitor";class l0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(o0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(o0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kc=null;function Um(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}const am="RestConnection",rR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===ch?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const d=Um(),p=this.Qo(e,i.toUriEncodedString());oe(am,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=So(y);return this.zo(e,p,_,r,b).then((w=>(oe(am,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw aa(am,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}jo(e,i,r,l,c,d){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=rR[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class oR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Vl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class uo extends aR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=EE();Vl(e,vE.STAT_EVENT,(i=>{i.stat===wm.PROXY?oe(un,"STAT_EVENT: detected buffering proxy"):i.stat===wm.NOPROXY&&oe(un,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,i,r,l,c){const d=Um();return new Promise(((p,_)=>{const y=new yE;y.setWithCredentials(!0),y.listenOnce(_E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const w=y.getResponseJson();oe(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Jc.TIMEOUT:oe(un,`RPC '${e}' ${d} timed out`),_(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const O=y.getStatus();if(oe(un,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const se=(function(pe){const Se=pe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Se)>=0?Se:J.UNKNOWN})(Z.status);_(new ue(se,Z.message))}else _(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(un,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(un,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=Um(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=c.join("");oe(un,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,O=!1;const Q=new oR({Ho:Z=>{O?oe(un,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(w||(oe(un,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),oe(un,`RPC '${e}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return Vl(b,jl.EventType.OPEN,(()=>{O||(oe(un,`RPC '${e}' stream ${l} transport opened.`),Q.i_())})),Vl(b,jl.EventType.CLOSE,(()=>{O||(O=!0,oe(un,`RPC '${e}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),Vl(b,jl.EventType.ERROR,(Z=>{O||(O=!0,aa(un,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Vl(b,jl.EventType.MESSAGE,(Z=>{if(!O){const se=Z.data[0];et(!!se,16349);const ee=se,pe=ee?.error||ee[0]?.error;if(pe){oe(un,`RPC '${e}' stream ${l} received error:`,pe);const Se=pe.status;let Te=(function(Fe){const x=Ht[Fe];if(x!==void 0)return eT(x)})(Se),Je=pe.message;Se==="NOT_FOUND"&&Je.includes("database")&&Je.includes("does not exist")&&Je.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Te===void 0&&(Te=J.INTERNAL,Je="Unknown error status: "+Se+" with message "+pe.message),O=!0,Q.o_(new ue(Te,Je)),b.close()}else oe(un,`RPC '${e}' stream ${l} received:`,se),Q.__(se)}})),uo.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TE()}}function lR(s){return new uo(s)}function om(){return typeof document<"u"?document:null}function jh(s){return new f2(s,!0)}uo.c_=!1;class pT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const u0="PersistentStream";class gT{constructor(e,i,r,l,c,d,p,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uR extends gT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=p2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?ji(d.readTime):we.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=km(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Nm(_)?{documents:_2(c,_)}:{query:v2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=iT(c,d.resumeToken);const y=Om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=ph(c,d.snapshotVersion.toTimestamp());const y=Om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=T2(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=km(this.serializer),i.removeTarget=e,this.K_(i)}}class cR extends gT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=y2(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>g2(this.serializer,r)))};this.K_(i)}}class hR{}class fR extends hR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Mm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Mm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dR(s,e,i,r){return new fR(s,e,i,r)}class mR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class pR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ha(this)&&(oe(oa,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await cu(y),y.Va.set("Unknown"),y.Ea.delete(4),await zh(y)})(this))}))})),this.Va=new mR(r,l)}}async function zh(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function cu(s){for(const e of s.Ra)await e(!1)}function yT(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),yp(i)?gp(i):Io(i).O_()&&pp(i,e))}function mp(s,e){const i=Ce(s),r=Io(i);i.Ia.delete(e),r.O_()&&_T(i,e),i.Ia.size===0&&(r.O_()?r.L_():ha(i)&&i.Va.set("Unknown"))}function pp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Io(s).Z_(e)}function _T(s,e){s.da.$e(e),Io(s).X_(e)}function gp(s){s.da=new l2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Va.ua()}function yp(s){return ha(s)&&!Io(s).x_()&&s.Ia.size>0}function ha(s){return Ce(s).Ea.size===0}function vT(s){s.da=void 0}async function gR(s){s.Va.set("Online")}async function yR(s){s.Ia.forEach(((e,i)=>{pp(s,e)}))}async function _R(s,e){vT(s),yp(s)?(s.Va.ha(e),gp(s)):s.Va.set("Unknown")}async function vR(s,e,i){if(s.Va.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){oe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(s,r)}else if(e instanceof th?s.da.Xe(e):e instanceof tT?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const r=await mT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(on.EMPTY_BYTE_STRING,b.snapshotVersion)),_T(c,_);const w=new cr(b.target,_,y,b.sequenceNumber);pp(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){oe(oa,"Failed to raise snapshot:",r),await yh(s,r)}}async function yh(s,e,i){if(!Co(e))throw e;s.Ea.add(1),await cu(s),s.Va.set("Offline"),i||(i=()=>mT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function ET(s,e){return e().catch((i=>yh(s,i,e)))}async function Bh(s){const e=Ce(s),i=Er(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ep;for(;ER(e);)try{const l=await eR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,TR(e,l)}catch(l){await yh(e,l)}TT(e)&&bT(e)}function ER(s){return ha(s)&&s.Ta.length<10}function TR(s,e){s.Ta.push(e);const i=Er(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function TT(s){return ha(s)&&!Er(s).x_()&&s.Ta.length>0}function bT(s){Er(s).start()}async function bR(s){Er(s).ra()}async function SR(s){const e=Er(s);for(const i of s.Ta)e.ea(i.mutations)}async function AR(s,e,i){const r=s.Ta.shift(),l=op.from(r,e,i);await ET(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Bh(s)}async function wR(s,e){e&&Er(s).Y_&&await(async function(r,l){if((function(d){return r2(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Er(r).B_(),await ET(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Bh(r)}})(s,e),TT(s)&&bT(s)}async function c0(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),oe(oa,"RemoteStore received new credentials");const r=ha(i);i.Ea.add(3),await cu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zh(i)}async function RR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await zh(i)):e||(i.Ea.add(2),await cu(i),i.Va.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(i,r,l){const c=Ce(i);return c.sa(),new uR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:gR.bind(null,s),Yo:yR.bind(null,s),t_:_R.bind(null,s),J_:vR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),yp(s)?gp(s):s.Va.set("Unknown")):(await s.ma.stop(),vT(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(i,r,l){const c=Ce(i);return c.sa(),new cR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bR.bind(null,s),t_:wR.bind(null,s),ta:SR.bind(null,s),na:AR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Bh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class _p{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new _p(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),Co(s))return new ue(J.UNAVAILABLE,`${e}: ${s}`);throw s}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||me.comparator(i.key,r.key):(i,r)=>me.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class h0{constructor(){this.ga=new At(me.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class bo{constructor(e,i,r,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new bo(e,i,co.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class IR{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),c=l.queries;l.queries=f0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function f0(){return new ca((s=>qE(s)),Mh)}async function Ep(s,e){const i=Ce(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new CR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=vp(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&bp(i)}async function Tp(s,e){const i=Ce(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function xR(s,e){const i=Ce(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&bp(i)}function NR(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function bp(s){s.Ca.forEach((e=>{e.next()}))}var Pm,d0;(d0=Pm||(Pm={})).Ma="default",d0.Cache="cache";class Sp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class ST{constructor(e){this.key=e}}class AT{constructor(e){this.key=e}}class DR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=HE(e),this.tu=new co(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new h0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,w)=>{const O=l.get(b),Q=Vh(this.query,w)?w:null,Z=!!O&&this.mutatedKeys.has(O.key),se=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;O&&Q?O.data.isEqual(Q.data)?Z!==se&&(r.track({type:3,doc:Q}),ee=!0):this.su(O,Q)||(r.track({type:2,doc:Q}),ee=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!O&&Q?(r.track({type:0,doc:Q}),ee=!0):O&&!Q&&(r.track({type:1,doc:O}),ee=!0,(_||y)&&(p=!0)),ee&&(Q?(d=d.add(Q),c=se?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(Q,Z){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:ee})}};return se(Q)-se(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new bo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new AT(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new ST(r))})),i}cu(e){this.Za=e.ks,this.Ya=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ap="SyncEngine";class OR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class MR{constructor(e){this.key=e,this.hu=!1}}class VR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((p=>qE(p)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new At(me.comparator),this.Au=new Map,this.Vu=new cp,this.du={},this.mu=new Map,this.fu=To.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kR(s,e,i=!0){const r=NT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(r,e,i,!0),l}async function LR(s,e){const i=NT(s);await wT(i,e,!0,!1)}async function wT(s,e,i,r){const l=await tR(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await UR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&yT(s.remoteStore,l),p}async function UR(s,e,i,r,l){s.pu=(w,O,Q)=>(async function(se,ee,pe,Se){let Te=ee.view.ru(pe);Te.Ss&&(Te=await r0(se.localStore,ee.query,!1).then((({documents:x})=>ee.view.ru(x,Te))));const Je=Se&&Se.targetChanges.get(ee.targetId),dt=Se&&Se.targetMismatches.get(ee.targetId)!=null,Fe=ee.view.applyChanges(Te,se.isPrimaryClient,Je,dt);return p0(se,ee.targetId,Fe.au),Fe.snapshot})(s,w,O,Q);const c=await r0(s.localStore,e,!0),d=new DR(e,c.ks),p=d.ru(c.documents),_=uu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);p0(s,i,y.au);const b=new OR(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function PR(s,e,i){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Mh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Lm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&mp(r.remoteStore,l.targetId),jm(r,l.targetId)})).catch(Ro)):(jm(r,l.targetId),await Lm(r.localStore,l.targetId,!0))}async function jR(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),mp(i.remoteStore,r.targetId))}async function zR(s,e,i){const r=QR(s);try{const l=await(function(d,p){const _=Ce(d),y=vt.now(),b=p.reduce(((Q,Z)=>Q.add(Z.key)),He());let w,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=bs(),se=He();return _.xs.getEntries(Q,b).next((ee=>{Z=ee,Z.forEach(((pe,Se)=>{Se.isValidDocument()||(se=se.add(pe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((ee=>{w=ee;const pe=[];for(const Se of p){const Te=e2(Se,w.get(Se.key).overlayedDocument);Te!=null&&pe.push(new Sr(Se.key,Te,kE(Te.value.mapValue),yn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,pe,p)})).next((ee=>{O=ee;const pe=ee.applyToLocalDocumentSet(w,se);return _.documentOverlayCache.saveOverlays(Q,ee.batchId,pe)}))})).then((()=>({batchId:O.batchId,changes:FE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new At(qe)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await hu(r,l.changes),await Bh(r.remoteStore)}catch(l){const c=vp(l,"Failed to persist write");i.reject(c)}}async function RT(s,e){const i=Ce(s);try{const r=await Z2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await hu(i,r,e)}catch(r){await Ro(r)}}function m0(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Ce(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,w)=>{for(const O of w.ba)O.va(p)&&(y=!0)})),y&&bp(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BR(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new At(me.comparator);d=d.insert(c,hn.newNoDocument(c,we.min()));const p=He().add(c),_=new Ph(we.min(),new Map,new At(qe),d,p);await RT(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),wp(r)}else await Lm(r.localStore,e,!1).then((()=>jm(r,e,i))).catch(Ro)}async function qR(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await J2(i.localStore,e);IT(i,r,null),CT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await hu(i,l)}catch(l){await Ro(l)}}async function HR(s,e,i){const r=Ce(s);try{const l=await(function(d,p){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(et(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);IT(r,e,i),CT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await hu(r,l)}catch(l){await Ro(l)}}function CT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function IT(s,e,i){const r=Ce(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function jm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||xT(s,r)}))}function xT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(mp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),wp(s))}function p0(s,e,i){for(const r of i)r instanceof ST?(s.Vu.addReference(r.key,e),GR(s,r)):r instanceof AT?(oe(Ap,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||xT(s,r.key)):Ee(19791,{wu:r})}function GR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(oe(Ap,"New document in limbo: "+i),s.Eu.add(r),wp(s))}function wp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new me(_t.fromString(e)),r=s.fu.next();s.Au.set(r,new MR(i)),s.Ru=s.Ru.insert(i,r),yT(s.remoteStore,new cr(Pi(Oh(i.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function hu(s,e,i){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=fp.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const b=Ce(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(O=>$.forEach(O.Ts,(Q=>b.persistence.referenceDelegate.addReference(w,O.targetId,Q))).next((()=>$.forEach(O.Is,(Q=>b.persistence.referenceDelegate.removeReference(w,O.targetId,Q)))))))))}catch(w){if(!Co(w))throw w;oe(dp,"Failed to update sequence numbers: "+w)}for(const w of y){const O=w.targetId;if(!w.fromCache){const Q=b.vs.get(O),Z=Q.snapshotVersion,se=Q.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(O,se)}}})(r.localStore,c))}async function FR(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){oe(Ap,"User change. New user:",e.toKey());const r=await dT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ue(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(i,r.Ns)}}function KR(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function NT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BR.bind(null,e),e.Pu.J_=xR.bind(null,e.eventManager),e.Pu.yu=NR.bind(null,e.eventManager),e}function QR(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HR.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $2(this.persistence,new Q2,e.initialUser,this.serializer)}Cu(e){return new fT(hp.Vi,this.serializer)}Du(e){return new iR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class YR extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new O2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new fT((r=>gh.Vi(r,i)),this.serializer)}}class zm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IR})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),r=lR(e.databaseInfo);return dR(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new pR(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>m0(this.syncEngine,i,0)),(function(){return l0.v()?new l0:new sR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const w=new VR(l,c,d,p,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);oe(oa,"RemoteStore shutting down."),r.Ea.add(5),await cu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class Rp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Tr="FirestoreClient";class XR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=vp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function lm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await dT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function g0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await $R(s);oe(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>c0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>c0(e.remoteStore,l))),s._onlineComponents=e}async function $R(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Tr,"Using user provided OfflineComponentProvider");try{await lm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;aa("Error using user provided cache. Falling back to memory cache: "+i),await lm(s,new _h)}}else oe(Tr,"Using default OfflineComponentProvider"),await lm(s,new YR(void 0));return s._offlineComponents}async function DT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Tr,"Using user provided OnlineComponentProvider"),await g0(s,s._uninitializedComponentsProvider._online)):(oe(Tr,"Using default OnlineComponentProvider"),await g0(s,new zm))),s._onlineComponents}function JR(s){return DT(s).then((e=>e.syncEngine))}async function vh(s){const e=await DT(s),i=e.eventManager;return i.onListen=kR.bind(null,e.syncEngine),i.onUnlisten=PR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),i}function ZR(s,e,i,r){const l=new Rp(r),c=new Sp(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>Ep(await vh(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>Tp(await vh(s),c)))}}function WR(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Rp({next:O=>{b.Nu(),d.enqueueAndForget((()=>Tp(c,w)));const Q=O.docs.has(p);!Q&&O.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&O.fromCache&&_&&_.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),w=new Sp(Oh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return Ep(c,w)})(await vh(s),s.asyncQueue,e,i,r))),r.promise}function eC(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new Rp({next:O=>{b.Nu(),d.enqueueAndForget((()=>Tp(c,w))),O.fromCache&&_.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),w=new Sp(p,b,{includeMetadataChanges:!0,Ka:!0});return Ep(c,w)})(await vh(s),s.asyncQueue,e,i,r))),r.promise}function tC(s,e){const i=new ys;return s.asyncQueue.enqueueAndForget((async()=>zR(await JR(s),e,i))),i.promise}function OT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const nC="ComponentProvider",y0=new Map;function iC(s,e,i,r,l){return new bw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,OT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const MT="firestore.googleapis.com",_0=!0;class v0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=_0}else this.host=e.host,this.ssl=e.ssl??_0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N2)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tw;switch(r.type){case"firstParty":return new rw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=y0.get(i);r&&(oe(nC,"Removing Datastore"),y0.delete(i),r.terminate())})(this),Promise.resolve()}}function sC(s,e,i,r={}){s=gn(s,qh);const l=So(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(uE(`https://${p}`),cE("Firestore",!0)),c.host!==MT&&c.host!==p&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!vs(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=cn.MOCK_USER;else{y=AS(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new cn(w)}s._authCredentials=new nw(new SE(y,b))}}class fu{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class kt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ou(i,kt._jsonSchema))return new kt(e,r||null,new me(_t.fromString(i.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Gt("string",kt._jsonSchemaVersion),referencePath:Gt("string")};class pr extends fu{constructor(e,i,r){super(e,i,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new me(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function io(s,e,...i){if(s=xt(s),AE("collection","path",e),s instanceof qh){const r=_t.fromString(e,...i);return Mv(r),new pr(s,null,r)}{if(!(s instanceof kt||s instanceof pr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(_t.fromString(e,...i));return Mv(r),new pr(s.firestore,null,r)}}function Mt(s,e,...i){if(s=xt(s),arguments.length===1&&(e=Zm.newId()),AE("doc","path",e),s instanceof qh){const r=_t.fromString(e,...i);return Ov(r),new kt(s,null,new me(r))}{if(!(s instanceof kt||s instanceof pr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(_t.fromString(e,...i));return Ov(r),new kt(s.firestore,s instanceof pr?s.converter:null,new me(r))}}const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const r=om();r&&oe(E0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=om();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=om();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;oe(E0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",b0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=_p.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function b0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Fi extends qh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new T0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function rC(s,e){const i=typeof s=="object"?s:$m(),r=typeof s=="string"?s:ch,l=Xm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=bS("firestore");c&&sC(l,...c)}return l}function du(s){if(s._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aC(s),s._firestoreClient}function aC(s){const e=s._freezeSettings(),i=iC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new XR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(on.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ti(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Gt("string",ti._jsonSchemaVersion),bytes:Gt("string")};class Hh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xo{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Gt("string",zi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new pi(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Gt("string",pi._jsonSchemaVersion),vectorValues:Gt("object")};const oC=/^__.*__$/;class lC{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class VT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function kT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Gh{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Gh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Eh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kT(this.dataSource)&&oC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uC{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||jh(e)}createContext(e,i,r,l=!1){return new Gh({dataSource:e,methodName:i,targetDoc:r,path:an.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(s){const e=s._freezeSettings(),i=jh(s._databaseId);return new uC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Cp(s,e,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Dp("Data must be an object, but it was:",d,r);const p=jT(r,d);let _,y;if(c.merge)_=new Bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const O=nu(e,w,i);if(!d.contains(O))throw new ue(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);qT(b,O)||b.push(O)}_=new Bn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new lC(new In(p),_,y)}class Kh extends xo{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function LT(s,e,i){return new Gh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ip extends xo{_toFieldTransform(e){return new ap(e.path,new tu)}isEqual(e){return e instanceof Ip}}class xp extends xo{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=LT(this,e,!0),r=this.Ac.map((c=>No(c,i))),l=new vo(r);return new ap(e.path,l)}isEqual(e){return e instanceof xp&&vs(this.Ac,e.Ac)}}class Np extends xo{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=LT(this,e,!0),r=this.Ac.map((c=>No(c,i))),l=new Eo(r);return new ap(e.path,l)}isEqual(e){return e instanceof Np&&vs(this.Ac,e.Ac)}}function UT(s,e,i,r){const l=s.createContext(1,e,i);Dp("Data must be an object, but it was:",l,r);const c=[],d=In.empty();br(r,((_,y)=>{const b=BT(e,_,i);y=xt(y);const w=l.childContextForFieldPath(b);if(y instanceof Kh)c.push(b);else{const O=No(y,w);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Bn(c);return new VT(d,p,l.fieldTransforms)}function PT(s,e,i,r,l,c){const d=s.createContext(1,e,i),p=[nu(e,r,i)],_=[l];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(nu(e,c[O])),_.push(c[O+1]);const y=[],b=In.empty();for(let O=p.length-1;O>=0;--O)if(!qT(y,p[O])){const Q=p[O];let Z=_[O];Z=xt(Z);const se=d.childContextForFieldPath(Q);if(Z instanceof Kh)y.push(Q);else{const ee=No(Z,se);ee!=null&&(y.push(Q),b.set(Q,ee))}}const w=new Bn(y);return new VT(b,w,d.fieldTransforms)}function No(s,e){if(zT(s=xt(s)))return Dp("Unsupported field value:",e,s),jT(s,e);if(s instanceof xo)return(function(r,l){if(!kT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=No(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=vt.fromDate(r);return{timestampValue:ph(l.serializer,c)}}if(r instanceof vt){const c=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(l.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:iT(l.serializer,r._byteString)};if(r instanceof kt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:up(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof pi)return(function(d,p){const _=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[ME]:{stringValue:VE},[hh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return rp(p.serializer,b)}))}}}}}})(r,l);if(cT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Wm(r)}`)})(s,e)}function jT(s,e){const i={};return CE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((r,l)=>{const c=No(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function zT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof vt||s instanceof zi||s instanceof ti||s instanceof kt||s instanceof xo||s instanceof pi||cT(s))}function Dp(s,e,i){if(!zT(i)||!wE(i)){const r=Wm(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function nu(s,e,i){if((e=xt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return BT(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const cC=new RegExp("[~\\*/\\[\\]]");function BT(s,e,i){if(e.search(cC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Hh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ue(J.INVALID_ARGUMENT,p+s+_)}function qT(s,e){return s.some((i=>i.isEqual(e)))}class hC{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return br(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((r=>Vt(r.doubleValue)));return new pi(i)}convertGeoPoint(e){return new zi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new vt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=_t.fromString(e);et(uT(r),9688,{name:e});const l=new Wl(r.get(1),r.get(3)),c=new me(r.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Op extends hC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,i)}}function Qc(){return new Ip("serverTimestamp")}function S0(...s){return new xp("arrayUnion",s)}function um(...s){return new Np("arrayRemove",s)}const A0="@firebase/firestore",w0="4.11.0";function R0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class HT{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(nu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fC extends HT{data(){return super.data()}}function GT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Mp(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends HT{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(nu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Gt("string",na._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class nh extends na{data(e={}){return super.data(e)}}class ia{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new nh(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:dC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:Gt("string",ia._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class mC{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Fh(e)}set(e,i,r){this._verifyNotCommitted();const l=cm(e,this._firestore),c=Mp(l.converter,i,r),d=Cp(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,yn.none())),this}update(e,i,r,...l){this._verifyNotCommitted();const c=cm(e,this._firestore);let d;return d=typeof(i=xt(i))=="string"||i instanceof Hh?PT(this._dataReader,"WriteBatch.update",c._key,i,r,l):UT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=cm(e,this._firestore);return this._mutations=this._mutations.concat(new Uh(i._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cm(s,e){if((s=xt(s)).firestore!==e)throw new ue(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function C0(s){s=gn(s,kt);const e=gn(s.firestore,Fi),i=du(e);return WR(i,s._key).then((r=>FT(e,s,r)))}function pC(s){s=gn(s,fu);const e=gn(s.firestore,Fi),i=du(e),r=new Op(e);return GT(s._query),eC(i,s._query).then((l=>new ia(e,r,s,l)))}function gC(s,e,i){s=gn(s,kt);const r=gn(s.firestore,Fi),l=Mp(s.converter,e,i),c=Fh(r);return mu(r,[Cp(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,yn.none())])}function kl(s,e,i,...r){s=gn(s,kt);const l=gn(s.firestore,Fi),c=Fh(l);let d;return d=typeof(e=xt(e))=="string"||e instanceof Hh?PT(c,"updateDoc",s._key,e,i,r):UT(c,"updateDoc",s._key,e),mu(l,[d.toMutation(s._key,yn.exists(!0))])}function Yc(s){return mu(gn(s.firestore,Fi),[new Uh(s._key,yn.none())])}function hm(s,e){const i=gn(s.firestore,Fi),r=Mt(s),l=Mp(s.converter,e),c=Fh(s.firestore);return mu(i,[Cp(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then((()=>r))}function fm(s,...e){s=xt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||R0(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(R0(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof kt)d=gn(s.firestore,Fi),p=Oh(s._key.path),c={next:y=>{e[r]&&e[r](FT(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=gn(s,fu);d=gn(y.firestore,Fi),p=y._query;const b=new Op(d);c={next:w=>{e[r]&&e[r](new ia(d,b,y,w))},error:e[r+1],complete:e[r+2]},GT(s._query)}const _=du(d);return ZR(_,p,l,c)}function mu(s,e){const i=du(s);return tC(i,e)}function FT(s,e,i){const r=i.docs.get(e._key),l=new Op(s);return new na(s,l,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}function I0(s){return s=gn(s,Fi),du(s),new mC(s,(e=>mu(s,e)))}(function(e,i=!0){ew(Ao),po(new sa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Fi(new iw(r.getProvider("auth-internal")),new aw(d,r.getProvider("app-check-internal")),Sw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),dr(A0,w0,e),dr(A0,w0,"esm2020")})();function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yC=KT,QT=new ru("auth","Firebase",KT());const Th=new Qm("@firebase/auth");function _C(s,...e){Th.logLevel<=Be.WARN&&Th.warn(`Auth (${Ao}): ${s}`,...e)}function ih(s,...e){Th.logLevel<=Be.ERROR&&Th.error(`Auth (${Ao}): ${s}`,...e)}function gi(s,...e){throw Vp(s,...e)}function Bi(s,...e){return Vp(s,...e)}function YT(s,e,i){const r={...yC(),[e]:i};return new ru("auth","Firebase",r).create(e,{appName:s.name})}function _s(s){return YT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return QT.create(s,...e)}function ve(s,e,...i){if(!s)throw Vp(e,...i)}function ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ih(e),new Error(e)}function Ss(s,e){s||ps(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function vC(){return x0()==="http:"||x0()==="https:"}function x0(){return typeof self<"u"&&self.location?.protocol||null}function EC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vC()||NS()||"connection"in navigator)?navigator.onLine:!0}function TC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class pu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=CS()||DS()}get(){return EC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kp(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class XT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new pu(3e4,6e4);function ws(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rs(s,e,i,r,l={}){return $T(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=au({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return xS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(y.credentials="include"),XT.fetch()(await JT(s,s.config.apiHost,i,p),y)})}async function $T(s,e,i){s._canInitEmulator=!1;const r={...bC,...e};try{const l=new RC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Xc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Xc(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw YT(s,b,y);gi(s,b)}}catch(l){if(l instanceof As)throw l;gi(s,"network-request-failed",{message:String(l)})}}async function gu(s,e,i,r,l={}){const c=await Rs(s,e,i,r,l);return"mfaPendingCredential"in c&&gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function JT(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?kp(s.config,l):`${s.config.apiScheme}://${l}`;return SC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function wC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),AC.get())})}}function Xc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Bi(s,e,r);return l.customData._tokenResponse=i,l}function N0(s){return s!==void 0&&s.enterprise!==void 0}class CC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return wC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IC(s,e){return Rs(s,"GET","/v2/recaptchaConfig",ws(s,e))}async function xC(s,e){return Rs(s,"POST","/v1/accounts:delete",e)}async function bh(s,e){return Rs(s,"POST","/v1/accounts:lookup",e)}function Yl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NC(s,e=!1){const i=xt(s),r=await i.getIdToken(e),l=Lp(r);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Yl(dm(l.auth_time)),issuedAtTime:Yl(dm(l.iat)),expirationTime:Yl(dm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function dm(s){return Number(s)*1e3}function Lp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const l=rE(i);return l?JSON.parse(l):(ih("Failed to decode base64 JWT payload"),null)}catch(l){return ih("Caught error parsing JWT payload as JSON",l?.toString()),null}}function D0(s){const e=Lp(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof As&&DC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function DC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(s){const e=s.auth,i=await s.getIdToken(),r=await iu(s,bh(e,{idToken:i}));ve(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?WT(l.providerUserInfo):[],d=MC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new qm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function ZT(s){const e=xt(s);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function WT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function VC(s,e){const i=await $T(s,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await JT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(_.credentials="include"),XT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kC(s,e){return Rs(s,"POST","/v2/accounts:revokeToken",ws(s,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=D0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await VC(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ho;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ps("not implemented")}}function rr(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new OC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return NC(this,e)}reload(){return ZT(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await iu(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:Q,providerData:Z,stsTokenManager:se}=i;ve(w&&se,e,"internal-error");const ee=ho.fromJSON(this.name,se);ve(typeof w=="string",e,"internal-error"),rr(r,e.name),rr(l,e.name),ve(typeof O=="boolean",e,"internal-error"),ve(typeof Q=="boolean",e,"internal-error"),rr(c,e.name),rr(d,e.name),rr(p,e.name),rr(_,e.name),rr(y,e.name),rr(b,e.name);const pe=new mi({uid:w,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(pe.providerData=Z.map(Se=>({...Se}))),_&&(pe._redirectEventId=_),pe}static async _fromIdTokenResponse(e,i,r=!1){const l=new ho;l.updateFromServerResponse(i);const c=new mi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Sh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?WT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ho;p.updateFromIdToken(r);const _=new mi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new qm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const O0=new Map;function gs(s){Ss(s instanceof Function,"Expected a class definition");let e=O0.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,O0.set(s,e),e)}class e1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}e1.type="NONE";const M0=e1;function sh(s,e,i){return`firebase:${s}:${e}:${i}`}class fo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=sh(this.userKey,l.apiKey,c),this.fullPersistenceKey=sh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await bh(this.auth,{idToken:e}).catch(()=>{});return i?mi._fromGetAccountInfoResponse(this.auth,i,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new fo(gs(M0),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||gs(M0);const d=sh(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const O=await bh(e,{idToken:b}).catch(()=>{});if(!O)break;w=await mi._fromGetAccountInfoResponse(e,O,b)}else w=mi._fromJSON(e,b);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new fo(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new fo(c,e,r))}}function V0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a1(e))return"Blackberry";if(o1(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function t1(s=fn()){return/firefox\//i.test(s)}function n1(s=fn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(s=fn()){return/crios\//i.test(s)}function s1(s=fn()){return/iemobile/i.test(s)}function r1(s=fn()){return/android/i.test(s)}function a1(s=fn()){return/blackberry/i.test(s)}function o1(s=fn()){return/webos/i.test(s)}function Up(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function LC(s=fn()){return Up(s)&&!!window.navigator?.standalone}function UC(){return OS()&&document.documentMode===10}function l1(s=fn()){return Up(s)||r1(s)||o1(s)||a1(s)||/windows phone/i.test(s)||s1(s)}function u1(s,e=[]){let i;switch(s){case"Browser":i=V0(fn());break;case"Worker":i=`${V0(fn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ao}/${r}`}class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function jC(s,e={}){return Rs(s,"GET","/v2/passwordPolicy",ws(s,e))}const zC=6;class BC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??zC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class qC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await bh(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(_s(this));const i=e?xt(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jC(this),i=new BC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await kC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_C(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(s){return xt(s)}class k0{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HC(s){Qh=s}function c1(s){return Qh.loadJS(s)}function GC(){return Qh.recaptchaEnterpriseScript}function FC(){return Qh.gapiScript}function KC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new YC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class YC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const XC="recaptcha-enterprise",h1="NO_RECAPTCHA";class $C{constructor(e){this.type=XC,this.auth=fa(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{IC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new CC(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;N0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(h1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&N0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=GC();_.length!==0&&(_+=p),c1(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function L0(s,e,i,r=!1,l=!1){const c=new $C(s);let d;if(l)d=h1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await L0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await L0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function JC(s,e){const i=Xm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(vs(c,e??{}))return l;gi(l,"already-initialized")}return i.initialize({options:e})}function ZC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function WC(s,e,i){const r=fa(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=f1(e),{host:d,port:p}=eI(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(vs(y,r.config.emulator)&&vs(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,So(d)?(uE(`${c}//${d}${_}`),cE("Auth",!0)):tI()}function f1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function eI(s){const e=f1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:U0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:U0(d)}}}function U0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function tI(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Pp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function nI(s,e){return Rs(s,"POST","/v1/accounts:signUp",e)}async function iI(s,e){return gu(s,"POST","/v1/accounts:signInWithPassword",ws(s,e))}async function sI(s,e){return Rs(s,"POST","/v1/accounts:sendOobCode",ws(s,e))}async function rI(s,e){return sI(s,e)}async function aI(s,e){return gu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}async function oI(s,e){return gu(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}class su extends Pp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new su(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new su(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,i,"signInWithPassword",iI);case"emailLink":return aI(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,r,"signUpPassword",nI);case"emailLink":return oI(e,{idToken:i,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mo(s,e){return gu(s,"POST","/v1/accounts:signInWithIdp",ws(s,e))}const lI="http://localhost";class la extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new la(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return mo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,mo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,mo(e,i)}buildRequest(){const e={requestUri:lI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=au(i)}return e}}function uI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cI(s){const e=Ul(Pl(s)).link,i=e?Ul(Pl(e)).deep_link_id:null,r=Ul(Pl(s)).deep_link_id;return(r?Ul(Pl(r)).link:null)||r||i||e||s}class jp{constructor(e){const i=Ul(Pl(e)),r=i.apiKey??null,l=i.oobCode??null,c=uI(i.mode??null);ve(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=cI(e);try{return new jp(i)}catch{return null}}}class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,i){return su._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=jp.parseLink(i);return ve(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class d1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends d1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends yu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return or.credential(i,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends yu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends yu{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ur.credential(i,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function hI(s,e){return gu(s,"POST","/v1/accounts:signUp",ws(s,e))}class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await mi._fromIdTokenResponse(e,r,l),d=P0(r);return new ua({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=P0(r);return new ua({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function P0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ah extends As{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Ah(e,i,r,l)}}function m1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(s,c,e,r):c})}async function fI(s,e,i=!1){const r=await iu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ua._forOperation(s,"link",r)}async function dI(s,e,i=!1){const{auth:r}=s;if(ei(r.app))return Promise.reject(_s(r));const l="reauthenticate";try{const c=await iu(s,m1(r,l,e,s),i);ve(c.idToken,r,"internal-error");const d=Lp(c.idToken);ve(d,r,"internal-error");const{sub:p}=d;return ve(s.uid===p,r,"user-mismatch"),ua._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),c}}async function p1(s,e,i=!1){if(ei(s.app))return Promise.reject(_s(s));const r="signIn",l=await m1(s,r,e),c=await ua._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function mI(s,e){return p1(fa(s),e)}async function g1(s){const e=fa(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pI(s,e,i){if(ei(s.app))return Promise.reject(_s(s));const r=fa(s),d=await Hm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&g1(s),_}),p=await ua._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function gI(s,e,i){return ei(s.app)?Promise.reject(_s(s)):mI(xt(s),Do.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g1(s),r})}async function j0(s,e){const i=xt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await rI(i.auth,l);c!==s.email&&await s.reload()}function yI(s,e,i,r){return xt(s).onIdTokenChanged(e,i,r)}function _I(s,e,i){return xt(s).beforeAuthStateChanged(e,i)}function vI(s,e,i,r){return xt(s).onAuthStateChanged(e,i,r)}function z0(s){return xt(s).signOut()}async function EI(s){return xt(s).delete()}const wh="__sak";class y1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TI=1e3,bI=10;class _1 extends y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);UC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,bI):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}_1.type="LOCAL";const SI=_1;class v1 extends y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}v1.type="SESSION";const E1=v1;function AI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await AI(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function zp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class wI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=zp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const O=w;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function RI(s){qi().location.href=s}function T1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function II(){return navigator?.serviceWorker?.controller||null}function xI(){return T1()?self:null}const b1="firebaseLocalStorageDb",NI=1,Rh="firebaseLocalStorage",S1="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Xh(s,e){return s.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function DI(){const s=indexedDB.deleteDatabase(b1);return new _u(s).toPromise()}function Gm(){const s=indexedDB.open(b1,NI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Rh,{keyPath:S1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await DI(),e(await Gm()))})})}async function B0(s,e,i){const r=Xh(s,!0).put({[S1]:e,value:i});return new _u(r).toPromise()}async function OI(s,e){const i=Xh(s,!1).get(e),r=await new _u(i).toPromise();return r===void 0?null:r.value}function q0(s,e){const i=Xh(s,!0).delete(e);return new _u(i).toPromise()}const MI=800,VI=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>VI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(xI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new wI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||II()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await B0(e,wh,"1"),await q0(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>B0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>OI(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>q0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Xh(l,!1).getAll();return new _u(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const kI=A1;new pu(3e4,6e4);function LI(s,e){return e?gs(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Bp extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return mo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function UI(s){return p1(s.auth,new Bp(s),s.bypassAuthState)}function PI(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),dI(i,new Bp(s),s.bypassAuthState)}async function jI(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),fI(i,new Bp(s),s.bypassAuthState)}class w1{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return jI;case"reauthViaPopup":case"reauthViaRedirect":return PI;default:gi(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zI=new pu(2e3,1e4);class lo extends w1{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zI.get())};e()}}lo.currentPopupAction=null;const BI="pendingRedirect",rh=new Map;class qI extends w1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const r=await HI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HI(s,e){const i=KI(e),r=FI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function GI(s,e){rh.set(s._key(),e)}function FI(s){return gs(s._redirectPersistence)}function KI(s){return sh(BI,s.config.apiKey,s.name)}async function QI(s,e,i=!1){if(ei(s.app))return Promise.reject(_s(s));const r=fa(s),l=LI(r,e),d=await new qI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const YI=600*1e3;class XI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$I(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!R1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YI&&this.cachedEventUids.clear(),this.cachedEventUids.has(H0(e))}saveEventToCache(e){this.cachedEventUids.add(H0(e)),this.lastProcessedEventTime=Date.now()}}function H0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function R1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $I(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R1(s);default:return!1}}async function JI(s,e={}){return Rs(s,"GET","/v1/projects",e)}const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WI=/^https?/;async function ex(s){if(s.config.emulator)return;const{authorizedDomains:e}=await JI(s);for(const i of e)try{if(tx(i))return}catch{}gi(s,"unauthorized-domain")}function tx(s){const e=Bm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!WI.test(i))return!1;if(ZI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const nx=new pu(3e4,6e4);function G0(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ix(s){return new Promise((e,i)=>{function r(){G0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G0(),i(Bi(s,"network-request-failed"))},timeout:nx.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const l=KC("iframefcb");return qi()[l]=()=>{gapi.load?r():i(Bi(s,"network-request-failed"))},c1(`${FC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw ah=null,e})}let ah=null;function sx(s){return ah=ah||ix(s),ah}const rx=new pu(5e3,15e3),ax="__/auth/iframe",ox="emulator/auth/iframe",lx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?kp(e,ox):`https://${s.config.authDomain}/${ax}`,r={apiKey:e.apiKey,appName:s.name,v:Ao},l=ux.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${au(r).slice(1)}`}async function hx(s){const e=await sx(s),i=qi().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:cx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},rx.get());function _(){qi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dx=500,mx=600,px="_blank",gx="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(s,e,i,r=dx,l=mx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...fx,width:r.toString(),height:l.toString(),top:c,left:d},y=fn().toLowerCase();i&&(p=i1(y)?px:i),t1(y)&&(e=e||gx,_.scrollbars="yes");const b=Object.entries(_).reduce((O,[Q,Z])=>`${O}${Q}=${Z},`,"");if(LC(y)&&p!=="_self")return _x(e||"",p),new F0(null);const w=window.open(e||"",p,b);ve(w,s,"popup-blocked");try{w.focus()}catch{}return new F0(w)}function _x(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const vx="__/auth/handler",Ex="emulator/auth/handler",Tx=encodeURIComponent("fac");async function K0(s,e,i,r,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ao,eventId:l};if(e instanceof d1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",jS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof yu){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${Tx}=${encodeURIComponent(_)}`:"";return`${bx(s)}?${au(p).slice(1)}${y}`}function bx({config:s}){return s.emulator?kp(s,Ex):`https://${s.authDomain}/${vx}`}const mm="webStorageSupport";class Sx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E1,this._completeRedirectFn=QI,this._overrideRedirectResult=GI}async _openPopup(e,i,r,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await K0(e,i,r,Bm(),l);return yx(e,c,zp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await K0(e,i,r,Bm(),l);return RI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await hx(e),r=new XI(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(mm,{type:mm},l=>{const c=l?.[0]?.[mm];c!==void 0&&i(!!c),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ex(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return l1()||n1()||Up()}}const Ax=Sx;var Q0="@firebase/auth",Y0="1.12.0";class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cx(s){po(new sa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(s)},y=new qC(r,l,c,_);return ZC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),po(new sa("auth-internal",e=>{const i=fa(e.getProvider("auth").getImmediate());return(r=>new wx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Q0,Y0,Rx(s)),dr(Q0,Y0,"esm2020")}const Ix=300,xx=lE("authIdTokenMaxAge")||Ix;let X0=null;const Nx=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>xx)return;const l=i?.token;X0!==l&&(X0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Dx(s=$m()){const e=Xm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=JC(s,{popupRedirectResolver:Ax,persistence:[kI,SI,E1]}),r=lE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Nx(c.toString());_I(i,d,()=>d(i.currentUser)),yI(i,p=>d(p))}}const l=aE("auth");return l&&WC(i,`http://${l}`),i}function Ox(){return document.getElementsByTagName("head")?.[0]??document}HC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Ox().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cx("Browser");const C1=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const Mx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Vx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const $0=s=>{const e=Vx(s);return e.charAt(0).toUpperCase()+e.slice(1)};var kx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Ux=Ue.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Ue.createElement("svg",{ref:_,...kx,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:C1("lucide",l),...!c&&!Lx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Ue.createElement(y,b)),...Array.isArray(c)?c:[c]]));const tt=(s,e)=>{const i=Ue.forwardRef(({className:r,...l},c)=>Ue.createElement(Ux,{ref:c,iconNode:e,className:C1(`lucide-${Mx($0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=$0(s),i};const Px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jx=tt("circle-check",Px);const zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Bx=tt("clock",zx);const qx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],Hx=tt("compass",qx);const Gx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fx=tt("copy",Gx);const Kx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Qx=tt("crown",Kx);const Yx=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],pm=tt("gamepad-2",Yx);const Xx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$x=tt("image",Xx);const Jx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Zx=tt("lock-open",Jx);const Wx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$c=tt("lock",Wx);const eN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],J0=tt("log-out",eN);const tN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],nN=tt("mail",tN);const iN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Z0=tt("message-square",iN);const sN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],rN=tt("palette",sN);const aN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oN=tt("plus",aN);const lN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gm=tt("refresh-cw",lN);const uN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cN=tt("search",uN);const hN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W0=tt("shield-check",hN);const fN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dN=tt("shield",fN);const mN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],pN=tt("skull",mN);const gN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yN=tt("target",gN);const _N=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],eE=tt("timer",_N);const vN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EN=tt("trash-2",vN);const TN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bN=tt("triangle-alert",TN);const SN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AN=tt("user-minus",SN);const wN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ym=tt("user-plus",wN);const RN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],CN=tt("user",RN);const IN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tE=tt("users",IN);const xN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],NN=tt("video",xN);const DN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_m=tt("x",DN);const ON=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MN=tt("zap",ON),VN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"209595978385",appId:"1:209595978385:web:804bf3167a353073be2530"},kN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(s){console.error("Failed to parse environment firebase config",s)}return VN},oh=kN(),Fm=!!(oh&&oh.apiKey&&oh.apiKey.startsWith("AIza")),LN=typeof __app_id<"u"?__app_id:"community_calendar_production",pt=LN.replace(/[^a-zA-Z0-9]/g,"_");let vm,Rn,Oe;if(Fm)try{vm=BA().length>0?$m():dE(oh),Rn=Dx(vm),Oe=rC(vm)}catch(s){console.error("Firebase Initialization Error:",s)}const nE={light:{id:"light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"}},Ll=({src:s,name:e,size:i="md",className:r=""})=>{const l={sm:"w-6 h-6 text-[8px]",md:"w-10 h-10 text-[12px]",lg:"w-16 h-16 text-xl",xl:"w-32 h-32 text-4xl"};return s&&s.startsWith("http")?S.jsx("img",{src:s,alt:e,className:`${l[i]} rounded-2xl object-cover border border-white/10 shadow-md ${r}`,onError:c=>{c.target.src="",c.target.onerror=null}}):S.jsx("div",{className:`${l[i]} rounded-2xl bg-indigo-600 flex items-center justify-center text-white font-black uppercase shadow-lg border border-white/10 ${r}`,children:e?e.charAt(0):"?"})},UN=()=>{const[s,e]=Ue.useState(null),[i,r]=Ue.useState(!0),[l,c]=Ue.useState("login"),[d,p]=Ue.useState({email:"",password:"",displayName:""}),[_,y]=Ue.useState(null),[b,w]=Ue.useState(!1),[O,Q]=Ue.useState([]),[Z,se]=Ue.useState([]),[ee,pe]=Ue.useState("all"),[Se,Te]=Ue.useState("calendar"),[Je,dt]=Ue.useState(!1),[Fe,x]=Ue.useState(!1),[A,I]=Ue.useState(null),[V,N]=Ue.useState(null),[U,R]=Ue.useState(!1),[mt,St]=Ue.useState(!1),[G,ne]=Ue.useState(!1),[fe,Pe]=Ue.useState(""),[Ye,M]=Ue.useState(!1),[Y,te]=Ue.useState(!1),[re,_e]=Ue.useState(!1),[Ae,Ve]=Ue.useState(""),[wt,ut]=Ue.useState(null),[ni,Cs]=Ue.useState(""),[Ki,Qi]=Ue.useState(!1),[Rt,Yi]=Ue.useState({name:"",desc:"",isPrivate:!1}),[ae,xn]=Ue.useState({displayName:"Operator",photoURL:"",joinedGuilds:[],friends:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""]}),ie=nE[ae.theme]||nE.light,[De,ct]=Ue.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",duration:"2",isStreaming:!1,streamPlatform:"Twitch",guildId:"",maxOpenings:4});Ue.useEffect(()=>{if(!Fm||!Rn){r(!1);return}const k=vI(Rn,ce=>{e(ce),r(!1)});return()=>k()},[]),Ue.useEffect(()=>{if(!s||!Oe||!s.emailVerified)return;const k=Mt(Oe,"artifacts",pt,"users",s.uid,"profile","info");(async()=>(await C0(k)).exists()||await gC(k,{displayName:d.displayName||`Operator_${s.uid.slice(0,4)}`,photoURL:"",joinedGuilds:[],friends:[],theme:"light",handles:{steam:"",psn:"",xbox:"",youtube:"",twitch:"",kick:""},showcaseGames:["","","","",""],createdAt:Qc()}))();const ye=fm(io(Oe,"artifacts",pt,"public","data","sessions"),ht=>{Q(ht.docs.map(Me=>({id:Me.id,...Me.data()})))}),be=fm(io(Oe,"artifacts",pt,"public","data","guilds"),ht=>{se(ht.docs.map(Me=>({id:Me.id,...Me.data()})))}),Ke=fm(k,ht=>{ht.exists()&&xn(Me=>({...Me,...ht.data()}))});return()=>{ye(),be(),Ke()}},[s,s?.emailVerified]);const yi=async k=>{k.preventDefault(),y(null),r(!0);try{if(l==="register"){const ce=await pI(Rn,d.email,d.password);await j0(ce.user)}else await gI(Rn,d.email,d.password)}catch(ce){y(ce.message)}finally{r(!1)}},Oo=async()=>{if(Rn.currentUser){w(!0);try{await ZT(Rn.currentUser),e(Rn.currentUser)}catch{y("SYNC FAILED: Try again in a moment.")}finally{w(!1)}}},da=async()=>{if(Rn.currentUser)try{await j0(Rn.currentUser),y("NEW VERIFICATION LINK TRANSMITTED")}catch(k){y(k.message)}},Et=async k=>{if(!(!s||!Oe)){Qi(!0);try{const ce=I0(Oe),ye=Mt(Oe,"artifacts",pt,"users",s.uid,"profile","info");ce.set(ye,k,{merge:!0});const be=Mt(Oe,"artifacts",pt,"public","data","user_directory",s.uid);ce.set(be,{displayName:k.displayName,photoURL:k.photoURL||"",handles:k.handles||{},showcaseGames:k.showcaseGames||[],theme:k.theme||"light",uid:s.uid},{merge:!0}),Z.forEach(Ke=>{const ht=Ke.members?.findIndex(Me=>(Me.uid||Me)===s.uid);if(ht!==-1){const Me=[...Ke.members];Me[ht]={uid:s.uid,name:k.displayName,photoURL:k.photoURL||""},ce.update(Mt(Oe,"artifacts",pt,"public","data","guilds",Ke.id),{members:Me})}}),O.forEach(Ke=>{let ht=!1;const Me={};Ke.userId===s.uid&&(Me.userName=k.displayName,Me.userPhotoURL=k.photoURL||"",ht=!0);const Dn=Ke.participants?.findIndex(dn=>dn.uid===s.uid);if(Dn!==-1){const dn=[...Ke.participants];dn[Dn]={uid:s.uid,name:k.displayName,photoURL:k.photoURL||""},Me.participants=dn,ht=!0}ht&&ce.update(Mt(Oe,"artifacts",pt,"public","data","sessions",Ke.id),Me)}),await ce.commit()}finally{setTimeout(()=>Qi(!1),800)}}},Xi=async k=>{if(!s||!Oe)return;const ye=ae.friends?.some(be=>be.uid===k.uid)?ae.friends.filter(be=>be.uid!==k.uid):[...ae.friends||[],{uid:k.uid,name:k.displayName,photoURL:k.photoURL||""}];await Et({...ae,friends:ye})},Ar=async()=>{if(!(!s||!Oe||!Rn.currentUser)){_e(!0);try{const k=I0(Oe);Z.forEach(ce=>{const ye=ce.members?.find(be=>(be.uid||be)===s.uid);ye&&((ce.members?.length||0)-1<=0?k.delete(Mt(Oe,"artifacts",pt,"public","data","guilds",ce.id)):k.update(Mt(Oe,"artifacts",pt,"public","data","guilds",ce.id),{members:um(ye)}))}),O.forEach(ce=>{const ye=ce.participants?.find(be=>be.uid===s.uid);ye&&k.update(Mt(Oe,"artifacts",pt,"public","data","sessions",ce.id),{participants:um(ye)}),ce.userId===s.uid&&k.delete(Mt(Oe,"artifacts",pt,"public","data","sessions",ce.id))}),k.delete(Mt(Oe,"artifacts",pt,"users",s.uid,"profile","info")),k.delete(Mt(Oe,"artifacts",pt,"public","data","user_directory",s.uid)),await k.commit(),await EI(Rn.currentUser)}catch{y("RE-AUTHENTICATION REQUIRED: Please re-login before terminating account.")}finally{_e(!1),te(!1)}}},wr=async k=>{if(!s||!Oe)return;const ce=ae.joinedGuilds||[];if(ce.includes(k.id)){const be=ce.filter(ht=>ht!==k.id);await Et({...ae,joinedGuilds:be});const Ke=k.members?.find(ht=>(ht.uid||ht)===s.uid);k.members?.length===1?await Yc(Mt(Oe,"artifacts",pt,"public","data","guilds",k.id)):await kl(Mt(Oe,"artifacts",pt,"public","data","guilds",k.id),{members:um(Ke)})}else{if(k.isPrivate)return;await Et({...ae,joinedGuilds:[...ce,k.id]}),await kl(Mt(Oe,"artifacts",pt,"public","data","guilds",k.id),{members:S0({uid:s.uid,name:ae.displayName,photoURL:ae.photoURL||""})})}},_i=async k=>{if(!Oe||!s)return;const ce=k.participants||[];if(ce.some(be=>be.uid===s.uid)){const be=ce.filter(Ke=>Ke.uid!==s.uid);await kl(Mt(Oe,"artifacts",pt,"public","data","sessions",k.id),{participants:be})}else{if(ce.length>=(Number(k.maxOpenings)||0)+1)return;const be=[...ce,{uid:s.uid,name:ae.displayName,photoURL:ae.photoURL||""}];await kl(Mt(Oe,"artifacts",pt,"public","data","sessions",k.id),{participants:be})}},Rr=async k=>{if(Oe){R(!0);try{const ce=await C0(Mt(Oe,"artifacts",pt,"public","data","user_directory",k));ce.exists()&&N(ce.data())}finally{R(!1)}}},ma=async k=>{if(k.preventDefault(),!(!Oe||!s)){M(!0);try{await hm(io(Oe,"artifacts",pt,"public","data","feedback"),{message:fe,senderName:ae.displayName,senderUid:s.uid,timestamp:Qc()}),ne(!0),Pe(""),setTimeout(()=>{St(!1),ne(!1)},2e3)}finally{M(!1)}}},pa=async k=>{if(!window.confirm("PERMANENT DISBAND?"))return;await Yc(Mt(Oe,"artifacts",pt,"public","data","guilds",k)),(await pC(io(Oe,"artifacts",pt,"public","data","sessions"))).docs.filter(ye=>ye.data().guildId===k).forEach(ye=>Yc(ye.ref))},ga=async()=>{if(!Rt.name||!s||!Oe)return;const k=Math.random().toString(36).substring(2,8).toUpperCase(),ce=await hm(io(Oe,"artifacts",pt,"public","data","guilds"),{name:Rt.name,desc:Rt.desc||"Active Sector",ownerId:s.uid,members:[{uid:s.uid,name:ae.displayName,photoURL:ae.photoURL||""}],isPrivate:Rt.isPrivate,inviteCode:k,createdAt:Qc()});await Et({...ae,joinedGuilds:[...ae.joinedGuilds||[],ce.id]}),Yi({name:"",desc:"",isPrivate:!1}),x(!1)},Nn=async k=>{if(k.preventDefault(),!Ae||!Oe||!s)return;ut(null);const ce=Ae.toUpperCase().trim(),ye=Z.find(be=>be.inviteCode===ce);if(!ye){ut("INVALID CODE");return}await Et({...ae,joinedGuilds:[...ae.joinedGuilds||[],ye.id]}),await kl(Mt(Oe,"artifacts",pt,"public","data","guilds",ye.id),{members:S0({uid:s.uid,name:ae.displayName,photoURL:ae.photoURL||""})}),Ve(""),pe(ye.id)},Ft=async k=>{if(k.preventDefault(),!Oe||!s)return;const ce=De.guildId||ee;ce!=="all"&&(await hm(io(Oe,"artifacts",pt,"public","data","sessions"),{...De,maxOpenings:Number(De.maxOpenings),guildId:ce,userId:s.uid,userName:ae.displayName,userPhotoURL:ae.photoURL||"",participants:[{uid:s.uid,name:ae.displayName,photoURL:ae.photoURL||""}],createdAt:Qc()}),dt(!1))},_n=Ue.useMemo(()=>{const k=ae.joinedGuilds||[],ce=O.filter(be=>(ee==="all"?k.includes(be.guildId):be.guildId===ee)&&String(be.gameTitle).toLowerCase().includes(ni.toLowerCase())).sort((be,Ke)=>String(be.date).localeCompare(String(Ke.date))),ye={};return ce.forEach(be=>{const Ke=String(be.date);ye[Ke]||(ye[Ke]=[]),ye[Ke].push(be)}),ye},[O,ee,ae.joinedGuilds,ni]);return Fm?i?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:S.jsx(pm,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):s?s&&!s.emailVerified?S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white text-center",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[5rem] border border-zinc-800 shadow-2xl relative",children:[S.jsxs("div",{className:"mb-10",children:[S.jsx(nN,{className:"w-16 h-16 text-indigo-400 mx-auto mb-6 animate-pulse"}),S.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Verify Intel"})]}),S.jsxs("button",{onClick:Oo,disabled:b,className:"w-full p-6 rounded-3xl bg-indigo-600 font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-3 active:scale-95 transition",children:[b?S.jsx(gm,{className:"w-4 h-4 animate-spin"}):S.jsx(W0,{className:"w-4 h-4"})," Access Sector"]}),S.jsx("button",{onClick:da,className:"w-full mt-4 p-6 rounded-3xl bg-white/5 border border-white/10 font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Resend Transmission"}),S.jsxs("button",{onClick:()=>z0(Rn),className:"mt-12 flex items-center gap-2 mx-auto text-[9px] font-black uppercase opacity-30 hover:opacity-100 transition",children:[S.jsx(J0,{className:"w-3 h-3"})," Abort Registry"]}),_&&S.jsx("div",{className:"mt-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-[9px] text-emerald-500 font-bold uppercase",children:_})]})}):S.jsxs("div",{className:`min-h-screen ${ie.bg} ${ie.text} transition-colors duration-500`,children:[S.jsxs("header",{className:`${ie.header} border-b ${ie.border} sticky top-0 z-40 h-16 flex items-center justify-between px-6 shadow-sm`,children:[S.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>Te("calendar"),children:[S.jsx(pm,{className:`w-8 h-8 ${ie.accent}`}),S.jsx("h1",{className:"font-black text-xl italic uppercase",children:"GameSync"})]}),S.jsxs("nav",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>Te("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Se==="calendar"?ie.button:"opacity-40 hover:opacity-100"}`,children:"Hub"}),S.jsx("button",{onClick:()=>Te("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${Se==="profile"?ie.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),S.jsx("button",{onClick:()=>St(!0),className:"p-2 opacity-40 hover:text-indigo-500 transition",children:S.jsx(Z0,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>z0(Rn),className:"p-2 opacity-40 hover:text-rose-500 transition",children:S.jsx(J0,{className:"w-4 h-4"})})]})]}),S.jsxs("main",{className:"max-w-7xl mx-auto p-8 flex flex-col md:flex-row gap-8",children:[S.jsxs("aside",{className:"w-full md:w-72",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 tracking-widest",children:"Tactical Sectors"}),S.jsx("button",{onClick:()=>pe("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-black text-xs transition ${ee==="all"?ie.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),S.jsx("div",{className:"mt-6 space-y-2",children:Z.filter(k=>ae.joinedGuilds?.includes(k.id)).map(k=>S.jsxs("div",{className:"flex items-center gap-1 group",children:[S.jsx("button",{onClick:()=>pe(k.id),className:`flex-1 text-left p-3 rounded-xl font-bold text-xs transition truncate ${ee===k.id?ie.button:"hover:bg-slate-500/10"}`,children:String(k.name)}),S.jsx("button",{onClick:()=>I(k),className:"p-3 rounded-xl bg-slate-500/5 hover:bg-indigo-500 hover:text-white transition opacity-0 group-hover:opacity-100",children:S.jsx(tE,{className:"w-4 h-4"})})]},k.id))}),S.jsxs("button",{onClick:()=>x(!0),className:"w-full p-4 mt-6 rounded-xl border border-dashed border-slate-500/30 text-[10px] font-black uppercase opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[S.jsx(Hx,{className:"w-4 h-4"})," Find Sectors"]})]}),S.jsx("div",{className:"flex-1",children:Se==="calendar"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[S.jsx("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-none",children:ee==="all"?"The Hub":Z.find(k=>k.id===ee)?.name}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx(cN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"text",placeholder:"Filter...",value:ni,onChange:k=>Cs(k.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${ie.card} border ${ie.border} outline-none text-sm w-48 focus:border-indigo-500 transition`})]}),S.jsx("button",{onClick:()=>dt(!0),className:`${ie.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg`,children:"+ New Mission"})]})]}),S.jsx("div",{className:"space-y-12",children:Object.entries(_n).map(([k,ce])=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[S.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-widest italic",children:k}),S.jsx("div",{className:`flex-1 h-px ${ie.border}`})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:ce.map(ye=>S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[3rem] p-8 shadow-sm transition hover:-translate-y-1 group relative overflow-hidden flex flex-col`,children:[S.jsx("h4",{className:"text-2xl font-black italic uppercase group-hover:text-indigo-600 transition-colors mb-4",children:String(ye.gameTitle)}),S.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 opacity-40",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Bx,{className:"w-3 h-3"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:String(ye.startTime)})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(eE,{className:"w-3 h-3"}),S.jsxs("span",{className:"text-[10px] font-black uppercase",children:[ye.duration," HR"]})]})]}),S.jsxs("div",{className:"mb-8 flex-1",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-4",children:[ye.participants?.length||0," / ",(Number(ye.maxOpenings)||0)+1," Enlisted"]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:ye.participants?.map((be,Ke)=>S.jsxs("button",{onClick:()=>Rr(be.uid),className:`flex items-center gap-2 text-[9px] font-black px-3 py-1.5 rounded-full ${ie.bg} border ${ie.border} uppercase shadow-sm hover:border-indigo-500 transition`,children:[S.jsx(Ll,{src:be.photoURL,name:be.name,size:"sm"}),String(be.name)]},Ke))})]}),S.jsxs("div",{className:"flex gap-3 mt-auto",children:[S.jsx("button",{onClick:()=>_i(ye),className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition ${ye.participants?.some(be=>be.uid===s.uid)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":ie.button}`,children:ye.participants?.some(be=>be.uid===s.uid)?"Retire":"Enlist"}),ye.userId===s.uid&&S.jsx("button",{onClick:()=>Yc(Mt(Oe,"artifacts",pt,"public","data","sessions",ye.id)),className:"p-4 rounded-2xl bg-rose-500/10 text-rose-500 transition opacity-20 hover:opacity-100",children:S.jsx(EN,{className:"w-5 h-5"})})]})]},ye.id))})]},k))})]}):S.jsxs("div",{className:"max-w-6xl mx-auto pb-20 space-y-8",children:[S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[5rem] p-12 shadow-2xl relative overflow-hidden`,children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[S.jsxs("div",{className:"w-full md:w-1/3 text-center",children:[S.jsxs("div",{className:"relative group mx-auto w-fit",children:[S.jsx(Ll,{src:ae.photoURL,name:ae.displayName,size:"xl",className:"mx-auto mb-8"}),S.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-[3rem] flex items-center justify-center opacity-0 group-hover:opacity-100 transition cursor-pointer",children:S.jsx($x,{className:"text-white w-8 h-8"})})]}),S.jsx("input",{type:"text",value:ae.displayName,onChange:k=>xn({...ae,displayName:k.target.value}),className:"w-full bg-transparent text-center text-3xl font-black italic uppercase outline-none focus:text-indigo-600 transition"}),S.jsxs("div",{className:"mt-8 flex gap-3",children:[S.jsx("button",{onClick:()=>Et({...ae,theme:"light"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${ae.theme==="light"?"border-indigo-600":"border-transparent opacity-40"}`,children:S.jsx(rN,{className:"w-4 h-4 mx-auto"})}),S.jsx("button",{onClick:()=>Et({...ae,theme:"dark"}),className:`flex-1 p-4 rounded-2xl border-2 transition ${ae.theme==="dark"?"border-indigo-400":"border-transparent opacity-40"}`,children:S.jsx(MN,{className:"w-4 h-4 mx-auto"})})]}),S.jsxs("button",{onClick:()=>Et(ae),disabled:Ki,className:`w-full mt-6 py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2`,children:[Ki?S.jsx(gm,{className:"w-4 h-4 animate-spin"}):S.jsx(W0,{className:"w-4 h-4"})," SYNC PROFILE"]}),S.jsx("div",{className:"mt-12",children:S.jsx("button",{onClick:()=>te(!0),className:"text-[10px] font-black uppercase text-rose-500 opacity-40 hover:opacity-100 transition tracking-widest underline decoration-dotted underline-offset-4",children:"Terminate Identity"})})]}),S.jsxs("div",{className:"flex-1 space-y-10",children:[S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(CN,{className:"w-3 h-3 inline mr-2"})," Visual Identity"]}),S.jsx("input",{placeholder:"AVATAR IMAGE URL (PNG/JPG)",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:ae.photoURL,onChange:k=>xn({...ae,photoURL:k.target.value})})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx($c,{className:"w-3 h-3 inline mr-2"})," Identity Matrix"]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[S.jsx("input",{placeholder:"STEAM",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:ae.handles?.steam,onChange:k=>xn({...ae,handles:{...ae.handles,steam:k.target.value}})}),S.jsx("input",{placeholder:"PSN",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:ae.handles?.psn,onChange:k=>xn({...ae,handles:{...ae.handles,psn:k.target.value}})}),S.jsx("input",{placeholder:"XBOX",className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:ae.handles?.xbox,onChange:k=>xn({...ae,handles:{...ae.handles,xbox:k.target.value}})})]})]}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-30 mb-6 tracking-widest",children:[S.jsx(yN,{className:"w-3 h-3 inline mr-2"})," Showcase"]}),S.jsx("div",{className:"space-y-3",children:[0,1,2,3,4].map(k=>S.jsx("input",{placeholder:`GAME 0${k+1}`,className:`w-full p-4 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-[10px] font-black uppercase focus:border-indigo-500 transition`,value:ae.showcaseGames?.[k]||"",onChange:ce=>{const ye=[...ae.showcaseGames||["","","","",""]];ye[k]=ce.target.value,xn({...ae,showcaseGames:ye})}},k))})]})]})]})]}),S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 shadow-xl`,children:[S.jsxs("p",{className:"text-[11px] font-black uppercase opacity-30 mb-8 tracking-widest flex items-center gap-2",children:[S.jsx(tE,{className:"w-4 h-4"})," Enlisted Allies (",ae.friends?.length||0,")"]}),ae.friends?.length>0?S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:ae.friends.map(k=>S.jsxs("button",{onClick:()=>Rr(k.uid),className:`${ie.bg} border ${ie.border} p-6 rounded-[2.5rem] flex flex-col items-center gap-3 hover:border-indigo-500 transition group`,children:[S.jsx(Ll,{src:k.photoURL,name:k.name,size:"md",className:"group-hover:scale-110 transition"}),S.jsx("p",{className:"text-[10px] font-black uppercase truncate w-full text-center",children:k.name})]},k.uid))}):S.jsxs("div",{className:"py-12 text-center border-2 border-dashed border-slate-500/10 rounded-[3rem] opacity-20",children:[S.jsx(ym,{className:"mx-auto mb-4 w-10 h-10"}),S.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest italic",children:"No allies enlisted. Connect from operator profiles."})]})]})]})})]}),Y&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/98 backdrop-blur-xl",children:S.jsxs("div",{className:"bg-zinc-900 border border-rose-500/30 rounded-[5rem] p-12 max-w-lg w-full text-center shadow-2xl relative overflow-hidden",children:[S.jsx(bN,{className:"w-16 h-16 text-rose-500 mx-auto mb-6 animate-pulse"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-rose-500 mb-2",children:"Final Warning"}),S.jsx("p",{className:"text-[11px] font-black uppercase text-white/40 tracking-widest leading-relaxed mb-10",children:"This will permanently terminate your operator identity and purge your registry handle."}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("button",{onClick:Ar,disabled:re,className:"w-full py-6 rounded-3xl bg-rose-600 text-white font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Confirm Termination"}),S.jsx("button",{onClick:()=>te(!1),className:"w-full py-6 rounded-3xl bg-white/5 border border-white/10 text-white font-black uppercase text-[10px] tracking-widest hover:bg-white/10 transition",children:"Cancel"})]})]})}),mt&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsx("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl relative`,children:G?S.jsxs("div",{className:"text-center py-20 animate-in fade-in zoom-in duration-500",children:[S.jsx(jx,{className:"w-20 h-20 text-emerald-500 mx-auto mb-6 animate-bounce"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter text-emerald-500",children:"Received"})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>St(!1),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(_m,{})}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(Z0,{className:"w-12 h-12 text-indigo-500 mx-auto mb-6"}),S.jsx("h3",{className:"text-4xl font-black italic uppercase tracking-tighter",children:"Submit Intelligence"})]}),S.jsxs("form",{onSubmit:ma,className:"space-y-6",children:[S.jsx("textarea",{required:!0,placeholder:"DESCRIBE ISSUE...",className:`w-full h-40 p-6 rounded-[2rem] ${ie.bg} border ${ie.border} outline-none font-black uppercase text-xs focus:border-indigo-500 transition shadow-inner resize-none`,value:fe,onChange:k=>Pe(k.target.value)}),S.jsxs("button",{type:"submit",disabled:Ye,className:`w-full py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition flex items-center justify-center gap-2`,children:[Ye?S.jsx(gm,{className:"w-4 h-4 animate-spin"}):S.jsx(oN,{className:"w-4 h-4"})," TRANSMIT REPORT"]})]})]})})}),V&&S.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl transition-all",children:S.jsxs("div",{className:`${V.theme==="dark"?"bg-zinc-900 border-zinc-800 text-white":"bg-white border-slate-100 text-slate-900"} border rounded-[5rem] p-12 max-w-xl w-full shadow-2xl relative overflow-hidden`,children:[S.jsx("button",{onClick:()=>N(null),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full hover:rotate-90 transition",children:S.jsx(_m,{})}),S.jsxs("div",{className:"text-center mb-8",children:[S.jsx(Ll,{src:V.photoURL,name:V.displayName,size:"xl",className:"mx-auto mb-6"}),S.jsx("h3",{className:"text-3xl font-black italic uppercase tracking-tight",children:V.displayName})]}),V.uid!==s?.uid&&S.jsx("div",{className:"flex justify-center mb-10",children:S.jsxs("button",{onClick:()=>Xi(V),className:`px-10 py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest transition flex items-center gap-2 ${ae.friends?.some(k=>k.uid===V.uid)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":"bg-indigo-600 text-white"}`,children:[ae.friends?.some(k=>k.uid===V.uid)?S.jsx(AN,{className:"w-4 h-4"}):S.jsx(ym,{className:"w-4 h-4"}),ae.friends?.some(k=>k.uid===V.uid)?"Remove Ally":"Enlist Ally"]})}),S.jsx("div",{className:"grid grid-cols-3 gap-4 mb-10",children:Object.entries(V.handles||{}).map(([k,ce])=>ce&&S.jsxs("div",{className:"p-3 bg-slate-500/5 border border-slate-500/10 rounded-xl text-center",children:[S.jsx("p",{className:"text-[7px] font-black uppercase opacity-40 mb-1",children:k}),S.jsx("p",{className:"text-[9px] font-black uppercase truncate",children:ce})]},k))}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-30 mb-4 text-center tracking-widest",children:"Tactical Interests"}),V.showcaseGames?.map((k,ce)=>k&&S.jsxs("div",{className:"p-3 bg-black/20 rounded-xl border border-white/5 flex items-center gap-4",children:[S.jsxs("span",{className:"text-[9px] font-black opacity-20",children:["0",ce+1]}),S.jsx("span",{className:"text-xs font-black uppercase tracking-tight italic",children:k})]},ce))]})]})}),A&&S.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:A.name}),A.isPrivate&&S.jsxs("div",{className:"mt-4 flex items-center gap-4 p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-2xl",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-[8px] font-black uppercase opacity-40 tracking-widest",children:"Sector Invite Code"}),S.jsx("p",{className:"text-2xl font-black italic text-indigo-400 tracking-tighter select-all",children:A.inviteCode})]}),S.jsx("button",{onClick:()=>navigator.clipboard.writeText(A.inviteCode),className:"p-3 rounded-xl bg-indigo-600 text-white shadow-lg",children:S.jsx(Fx,{className:"w-4 h-4"})})]})]}),S.jsx("button",{onClick:()=>I(null),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:S.jsx(_m,{})})]}),S.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:A.members?.map((k,ce)=>S.jsxs("button",{onClick:()=>Rr(k.uid||k),className:`w-full text-left ${ie.bg} p-4 rounded-3xl border ${ie.border} flex items-center gap-4 hover:border-indigo-500 transition group`,children:[S.jsx(Ll,{src:k.photoURL,name:k.name,size:"md",className:"group-hover:scale-110 transition"}),S.jsx("div",{className:"flex-1 overflow-hidden",children:S.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate",children:String(k.name||"Unknown Op")})}),(k.uid||k)===A.ownerId&&S.jsx(Qx,{className:"w-4 h-4 text-amber-500"})]},ce))}),S.jsx("button",{onClick:()=>I(null),className:"w-full py-5 rounded-3xl bg-indigo-600 text-white font-black uppercase text-xs tracking-widest shadow-xl",children:"Close Roster"})]})}),Fe&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-10",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"Directory"}),S.jsx("button",{onClick:()=>x(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("div",{className:"mb-10 p-6 rounded-[2.5rem] bg-indigo-600/10 border border-indigo-500/20",children:[S.jsxs("p",{className:"text-[10px] font-black uppercase opacity-40 mb-4 tracking-widest flex items-center gap-2",children:[S.jsx($c,{className:"w-3 h-3"})," Secure Enlistment"]}),S.jsxs("form",{onSubmit:Nn,className:"flex gap-4",children:[S.jsx("input",{placeholder:"ENTER INVITE CODE",className:"flex-1 p-5 rounded-2xl bg-black/40 border border-indigo-500/30 outline-none text-xs font-black uppercase focus:border-indigo-500 transition text-white",value:Ae,onChange:k=>Ve(k.target.value.toUpperCase()),maxLength:6}),S.jsx("button",{type:"submit",className:"px-8 py-5 rounded-2xl bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest shadow-xl transition",children:"Enlist"})]}),wt&&S.jsx("p",{className:"text-[9px] font-black text-rose-500 uppercase mt-3 ml-2",children:wt})]}),S.jsx("div",{className:"space-y-4 max-h-[30vh] overflow-y-auto mb-10 pr-2 custom-scrollbar",children:Z.map(k=>S.jsxs("div",{className:`${ie.bg} p-6 rounded-[2.5rem] border ${ie.border} flex justify-between items-center group`,children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"font-black uppercase text-sm group-hover:text-indigo-500 transition",children:String(k.name)}),k.isPrivate&&S.jsx($c,{className:"w-3 h-3 opacity-30"})]}),S.jsxs("p",{className:"text-[9px] font-black opacity-30 mt-1 uppercase",children:[k.members?.length||0," Members"]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[k.isPrivate?S.jsx("div",{className:"px-6 py-3 rounded-2xl bg-slate-500/5 text-slate-400 text-[9px] font-black uppercase italic border border-white/5",children:"Private"}):S.jsx("button",{onClick:()=>wr(k),className:`px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${ae.joinedGuilds?.includes(k.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":ie.button}`,children:ae.joinedGuilds?.includes(k.id)?"Retire":"Enlist"}),k.ownerId===s?.uid&&S.jsx("button",{onClick:()=>pa(k.id),className:"p-3 bg-rose-500/10 text-rose-500 rounded-xl transition hover:bg-rose-500 hover:text-white",children:S.jsx(pN,{className:"w-4 h-4"})})]})]},k.id))}),S.jsxs("div",{className:`pt-10 border-t ${ie.border} space-y-4`,children:[S.jsx("p",{className:"text-[10px] font-black uppercase opacity-40 text-center tracking-widest",children:"Commission Sector"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[S.jsx("input",{placeholder:"GUILD NAME",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition shadow-inner`,value:Rt.name,onChange:k=>Yi({...Rt,name:k.target.value})}),S.jsxs("button",{type:"button",onClick:()=>Yi({...Rt,isPrivate:!Rt.isPrivate}),className:`p-5 rounded-2xl border-2 transition flex items-center justify-center gap-3 ${Rt.isPrivate?"border-indigo-600 bg-indigo-500/10 text-indigo-400":"border-slate-500/20 opacity-40"}`,children:[Rt.isPrivate?S.jsx($c,{className:"w-4 h-4"}):S.jsx(Zx,{className:"w-4 h-4"}),S.jsx("span",{className:"text-[10px] font-black uppercase",children:Rt.isPrivate?"Private":"Public"})]})]}),S.jsx("button",{onClick:ga,className:`w-full py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition`,children:"Commission Registry"})]})]})}),Je&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:S.jsxs("div",{className:`${ie.card} border ${ie.border} rounded-[4rem] p-12 max-w-2xl w-full shadow-2xl`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-8",children:[S.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:"New Mission"}),S.jsx("button",{onClick:()=>dt(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-500/10 rounded-full",children:""})]}),S.jsxs("form",{onSubmit:Ft,className:"space-y-6",children:[S.jsx("input",{placeholder:"GAME / OPERATION NAME",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm shadow-inner`,value:De.gameTitle,onChange:k=>ct({...De,gameTitle:k.target.value}),required:!0}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.date,onChange:k=>ct({...De,date:k.target.value})}),S.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.startTime,onChange:k=>ct({...De,startTime:k.target.value})}),S.jsxs("div",{className:"relative",children:[S.jsx(eE,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"HR",className:`w-full pl-12 p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.duration,onChange:k=>ct({...De,duration:k.target.value})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[S.jsxs("select",{className:`w-full p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black uppercase`,value:De.guildId,onChange:k=>ct({...De,guildId:k.target.value}),required:!0,children:[S.jsx("option",{value:"",children:"Select Guild"}),Z.filter(k=>ae.joinedGuilds?.includes(k.id)).map(k=>S.jsx("option",{value:k.id,children:String(k.name)},k.id))]}),S.jsxs("div",{className:"relative",children:[S.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30"}),S.jsx("input",{type:"number",placeholder:"SLOTS",className:`w-full pl-12 p-5 rounded-2xl ${ie.bg} border ${ie.border} outline-none text-xs font-black`,value:De.maxOpenings,onChange:k=>ct({...De,maxOpenings:k.target.value})})]})]}),S.jsxs("div",{className:`${ie.bg} p-6 rounded-3xl border ${ie.border} flex items-center justify-between`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx(NN,{className:"w-5 h-5 opacity-40"}),S.jsx("div",{children:S.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:"Broadcast Mission"})})]}),S.jsx("button",{type:"button",onClick:()=>ct({...De,isStreaming:!De.isStreaming}),className:`w-14 h-8 rounded-full transition-colors relative ${De.isStreaming?"bg-indigo-600":"bg-slate-300 dark:bg-zinc-800"}`,children:S.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${De.isStreaming?"left-7 shadow-lg":"left-1"}`})})]}),S.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${ie.button} font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition mt-4`,children:"Deploy Mission"})]})]})})]}):S.jsx("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-white",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900 p-12 rounded-[4rem] border border-zinc-800 shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-indigo-600 animate-pulse"}),S.jsxs("div",{className:"text-center mb-10",children:[S.jsx(pm,{className:"w-16 h-16 text-indigo-500 mx-auto mb-6"}),S.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:"GameSync"})]}),S.jsxs("form",{onSubmit:yi,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.email,onChange:k=>p({...d,email:k.target.value})}),S.jsx("input",{type:"password",placeholder:"PASSWORD",required:!0,className:"w-full bg-black border border-zinc-800 p-5 rounded-2xl outline-none focus:border-indigo-500 text-xs font-black uppercase transition",value:d.password,onChange:k=>p({...d,password:k.target.value})}),_&&S.jsx("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl text-[10px] text-rose-500 font-bold uppercase",children:_}),S.jsx("button",{type:"submit",className:"w-full bg-indigo-600 p-6 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition",children:"Establish Link"})]}),S.jsx("button",{onClick:()=>c(l==="login"?"register":"login"),className:"w-full mt-10 text-[10px] font-black uppercase opacity-30 hover:opacity-100 transition tracking-widest",children:l==="login"?"New Operator? Create Registry":"Have an Identity? Sign In"})]})}):S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[S.jsx(dN,{className:"w-16 h-16 text-rose-500 mb-6"}),S.jsx("h2",{className:"text-3xl font-black uppercase italic",children:"Sync Failed"})]})};dS.createRoot(document.getElementById("root")).render(S.jsx(Ue.StrictMode,{children:S.jsx(UN,{})}));
