(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},pl={};var O_;function fS(){if(O_)return pl;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var x_;function dS(){return x_||(x_=1,Nd.exports=fS()),Nd.exports}var H=dS(),Dd={exports:{}},Et={};var V_;function mS(){if(V_)return Et;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function K(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,it={};function mt(C,q,J){this.props=C,this.context=q,this.refs=it,this.updater=J||et}mt.prototype.isReactComponent={},mt.prototype.setState=function(C,q){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,q,"setState")},mt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=mt.prototype;function pt(C,q,J){this.props=C,this.context=q,this.refs=it,this.updater=J||et}var jt=pt.prototype=new St;jt.constructor=pt,st(jt,mt.prototype),jt.isPureReactComponent=!0;var Wt=Array.isArray;function _t(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(C,q,J){var Z=J.ref;return{$$typeof:r,type:C,key:q,ref:Z!==void 0?Z:null,props:J}}function x(C,q){return w(C.type,q,C.props)}function O(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function k(C){var q={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return q[J]})}var R=/\/+/g;function Zt(C,q){return typeof C=="object"&&C!==null&&C.key!=null?k(""+C.key):q.toString(36)}function he(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(_t,_t):(C.status="pending",C.then(function(q){C.status==="pending"&&(C.status="fulfilled",C.value=q)},function(q){C.status==="pending"&&(C.status="rejected",C.reason=q)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function G(C,q,J,Z,ct){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var Ut=!1;if(C===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(C.$$typeof){case r:case t:Ut=!0;break;case S:return Ut=C._init,G(Ut(C._payload),q,J,Z,ct)}}if(Ut)return ct=ct(C),Ut=Z===""?"."+Zt(C,0):Z,Wt(ct)?(J="",Ut!=null&&(J=Ut.replace(R,"$&/")+"/"),G(ct,q,J,"",function(sr){return sr})):ct!=null&&(O(ct)&&(ct=x(ct,J+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(R,"$&/")+"/")+Ut)),q.push(ct)),1;Ut=0;var Ne=Z===""?".":Z+":";if(Wt(C))for(var se=0;se<C.length;se++)Z=C[se],wt=Ne+Zt(Z,se),Ut+=G(Z,q,J,wt,ct);else if(se=K(C),typeof se=="function")for(C=se.call(C),se=0;!(Z=C.next()).done;)Z=Z.value,wt=Ne+Zt(Z,se++),Ut+=G(Z,q,J,wt,ct);else if(wt==="object"){if(typeof C.then=="function")return G(he(C),q,J,Z,ct);throw q=String(C),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(C,q,J){if(C==null)return C;var Z=[],ct=0;return G(C,Z,"","",function(wt){return q.call(J,wt,ct++)}),Z}function ut(C){if(C._status===-1){var q=C._result;q=q(),q.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=q)}if(C._status===1)return C._result.default;throw C._result}var Mt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},W={map:nt,forEach:function(C,q,J){nt(C,function(){q.apply(this,arguments)},J)},count:function(C){var q=0;return nt(C,function(){q++}),q},toArray:function(C){return nt(C,function(q){return q})||[]},only:function(C){if(!O(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Et.Activity=b,Et.Children=W,Et.Component=mt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=pt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(C){return N.H.useMemoCache(C)}},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(C,q,J){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Z=st({},C.props),ct=C.key;if(q!=null)for(wt in q.key!==void 0&&(ct=""+q.key),q)!A.call(q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&q.ref===void 0||(Z[wt]=q[wt]);var wt=arguments.length-2;if(wt===1)Z.children=J;else if(1<wt){for(var Ut=Array(wt),Ne=0;Ne<wt;Ne++)Ut[Ne]=arguments[Ne+2];Z.children=Ut}return w(C.type,ct,Z)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Et.createElement=function(C,q,J){var Z,ct={},wt=null;if(q!=null)for(Z in q.key!==void 0&&(wt=""+q.key),q)A.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ct[Z]=q[Z]);var Ut=arguments.length-2;if(Ut===1)ct.children=J;else if(1<Ut){for(var Ne=Array(Ut),se=0;se<Ut;se++)Ne[se]=arguments[se+2];ct.children=Ne}if(C&&C.defaultProps)for(Z in Ut=C.defaultProps,Ut)ct[Z]===void 0&&(ct[Z]=Ut[Z]);return w(C,wt,ct)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:g,render:C}},Et.isValidElement=O,Et.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:ut}},Et.memo=function(C,q){return{$$typeof:y,type:C,compare:q===void 0?null:q}},Et.startTransition=function(C){var q=N.T,J={};N.T=J;try{var Z=C(),ct=N.S;ct!==null&&ct(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(_t,Mt)}catch(wt){Mt(wt)}finally{q!==null&&J.types!==null&&(q.types=J.types),N.T=q}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(C){return N.H.use(C)},Et.useActionState=function(C,q,J){return N.H.useActionState(C,q,J)},Et.useCallback=function(C,q){return N.H.useCallback(C,q)},Et.useContext=function(C){return N.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,q){return N.H.useDeferredValue(C,q)},Et.useEffect=function(C,q){return N.H.useEffect(C,q)},Et.useEffectEvent=function(C){return N.H.useEffectEvent(C)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(C,q,J){return N.H.useImperativeHandle(C,q,J)},Et.useInsertionEffect=function(C,q){return N.H.useInsertionEffect(C,q)},Et.useLayoutEffect=function(C,q){return N.H.useLayoutEffect(C,q)},Et.useMemo=function(C,q){return N.H.useMemo(C,q)},Et.useOptimistic=function(C,q){return N.H.useOptimistic(C,q)},Et.useReducer=function(C,q,J){return N.H.useReducer(C,q,J)},Et.useRef=function(C){return N.H.useRef(C)},Et.useState=function(C){return N.H.useState(C)},Et.useSyncExternalStore=function(C,q,J){return N.H.useSyncExternalStore(C,q,J)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.4",Et}var M_;function Em(){return M_||(M_=1,Dd.exports=mS()),Dd.exports}var oe=Em(),Od={exports:{}},gl={},xd={exports:{}},Vd={};var k_;function pS(){return k_||(k_=1,(function(r){function t(G,nt){var ut=G.length;G.push(nt);t:for(;0<ut;){var Mt=ut-1>>>1,W=G[Mt];if(0<l(W,nt))G[Mt]=nt,G[ut]=W,ut=Mt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ut=G.pop();if(ut!==nt){G[0]=ut;t:for(var Mt=0,W=G.length,C=W>>>1;Mt<C;){var q=2*(Mt+1)-1,J=G[q],Z=q+1,ct=G[Z];if(0>l(J,ut))Z<W&&0>l(ct,J)?(G[Mt]=ct,G[Z]=ut,Mt=Z):(G[Mt]=J,G[q]=ut,Mt=q);else if(Z<W&&0>l(ct,ut))G[Mt]=ct,G[Z]=ut,Mt=Z;else break t}}return nt}function l(G,nt){var ut=G.sortIndex-nt.sortIndex;return ut!==0?ut:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],S=1,b=null,V=3,K=!1,et=!1,st=!1,it=!1,mt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function jt(G){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=G)a(y),nt.sortIndex=nt.expirationTime,t(v,nt);else break;nt=i(y)}}function Wt(G){if(st=!1,jt(G),!et)if(i(v)!==null)et=!0,_t||(_t=!0,k());else{var nt=i(y);nt!==null&&he(Wt,nt.startTime-G)}}var _t=!1,N=-1,A=5,w=-1;function x(){return it?!0:!(r.unstable_now()-w<A)}function O(){if(it=!1,_t){var G=r.unstable_now();w=G;var nt=!0;try{t:{et=!1,st&&(st=!1,St(N),N=-1),K=!0;var ut=V;try{e:{for(jt(G),b=i(v);b!==null&&!(b.expirationTime>G&&x());){var Mt=b.callback;if(typeof Mt=="function"){b.callback=null,V=b.priorityLevel;var W=Mt(b.expirationTime<=G);if(G=r.unstable_now(),typeof W=="function"){b.callback=W,jt(G),nt=!0;break e}b===i(v)&&a(v),jt(G)}else a(v);b=i(v)}if(b!==null)nt=!0;else{var C=i(y);C!==null&&he(Wt,C.startTime-G),nt=!1}}break t}finally{b=null,V=ut,K=!1}nt=void 0}}finally{nt?k():_t=!1}}}var k;if(typeof pt=="function")k=function(){pt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Zt=R.port2;R.port1.onmessage=O,k=function(){Zt.postMessage(null)}}else k=function(){mt(O,0)};function he(G,nt){N=mt(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ut=V;V=nt;try{return G()}finally{V=ut}},r.unstable_requestPaint=function(){it=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return nt()}finally{V=ut}},r.unstable_scheduleCallback=function(G,nt,ut){var Mt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Mt+ut:Mt):ut=Mt,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ut+W,G={id:S++,callback:nt,priorityLevel:G,startTime:ut,expirationTime:W,sortIndex:-1},ut>Mt?(G.sortIndex=ut,t(y,G),i(v)===null&&G===i(y)&&(st?(St(N),N=-1):st=!0,he(Wt,ut-Mt))):(G.sortIndex=W,t(v,G),et||K||(et=!0,_t||(_t=!0,k()))),G},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(G){var nt=V;return function(){var ut=V;V=nt;try{return G.apply(this,arguments)}finally{V=ut}}}})(Vd)),Vd}var U_;function gS(){return U_||(U_=1,xd.exports=pS()),xd.exports}var Md={exports:{}},Ye={};var L_;function yS(){if(L_)return Ye;L_=1;var r=Em();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},Ye.flushSync=function(v){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=S,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:K}):S==="script"&&a.d.X(v,{crossOrigin:b,integrity:V,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin);a.d.L(v,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var P_;function _S(){if(P_)return Md.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=yS(),Md.exports}var z_;function vS(){if(z_)return gl;z_=1;var r=gS(),t=Em(),i=_S();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case it:return"StrictMode";case Wt:return"Suspense";case _t:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case pt:return e.displayName||"Context";case St:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var he=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Mt=[],W=-1;function C(e){return{current:e}}function q(e){0>W||(e.current=Mt[W],Mt[W]=null,W--)}function J(e,n){W++,Mt[W]=e.current,e.current=n}var Z=C(null),ct=C(null),wt=C(null),Ut=C(null);function Ne(e,n){switch(J(wt,n),J(ct,e),J(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(Z),J(Z,e)}function se(){q(Z),q(ct),q(wt)}function sr(e){e.memoizedState!==null&&J(Ut,e);var n=Z.current,s=e_(n,e.type);n!==s&&(J(ct,e),J(Z,s))}function $r(e){ct.current===e&&(q(Z),q(ct)),Ut.current===e&&(q(Ut),hl._currentValue=ut)}var Jr,Zr;function ti(e){if(Jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+Zr}var co=!1;function rr(e,n){if(!e||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return ti("Activity");default:return""}}function fo(e){try{var n="",s=null;do n+=ho(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,Wl=r.unstable_requestPaint,We=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,os=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,jn=null,Pe=null;function bn(e){if(typeof eu=="function"&&nu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(jn,e)}catch{}}var fe=Math.clz32?Math.clz32:su,iu=Math.log,Wr=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/Wr|0)|0}var ei=256,or=262144,_e=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(p&=E,p!==0?h=ni(p):s||(s=E&~e,s!==0&&(h=ni(s))))):(E=o&~f,E!==0?h=ni(E):p!==0?h=ni(p):s||(s=o&~e,s!==0&&(h=ni(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function si(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-fe(s),Y=1<<F;E[F]=0,I[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}s&=~Y}o!==0&&ur(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function go(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-fe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function qn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,Me="__reactProps$"+Hn,ri="__reactContainer$"+Hn,ta="__reactEvents$"+Hn,Mh="__reactListeners$"+Hn,ou="__reactHandles$"+Hn,lu="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function ea(e){delete e[ve],delete e[Me],delete e[ta],delete e[Mh],delete e[ou]}function oi(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ri]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=l_(e);e!==null;){if(s=e[ve])return s;e=l_(e)}return n}e=s,s=e.parentNode}return null}function wn(e){if(e=e[ve]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ai]=!0}var _o=new Set,vo={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},So={};function uu(e){return ye.call(So,e)?!0:ye.call(To,e)?!1:Eo.test(e)?So[e]=!0:(To[e]=!0,!1)}function na(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ls(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function nn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?bo(e,p,ke(n)):s!=null?bo(e,p,ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function cu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function bo(e,n,s){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function us(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function cs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(he(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Co=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fs=null,fi=null;function dr(e){var n=wn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hr(o)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&us(e,!!s.multiple,n,!1)}}}var aa=!1;function ds(e,n,s){if(aa)return e(n,s);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(fs!==null||fi!==null)&&(ac(),fs&&(n=fs,e=fi,fi=fs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Fn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Cn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{mr=!1}var di=null,Io=null,pr=null;function No(){if(pr)return pr;var e,n=Io,s=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return pr=h.slice(e,1<o?1-o:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Qn(){return!1}function ze(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Qn,this.isPropagationStopped=Qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ze(Vi),ms=b({},Vi,{view:0,detail:0}),Do=ze(ms),ps,oa,pi,la=b({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(ps=e.screenX-pi.screenX,oa=e.screenY-pi.screenY):oa=ps=0,pi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Oo=ze(la),yr=b({},la,{dataTransfer:0}),mu=ze(yr),pu=b({},ms,{relatedTarget:0}),_r=ze(pu),xo=b({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=ze(xo),ua=b({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=ze(ua),_u=b({},Vi,{data:0}),gi=ze(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function gs(){return Su}var tn=b({},ms,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=ze(tn),bu=b({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(bu),u=b({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=ze(u),_=b({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),U=b({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(U),tt=b({},Vi,{newState:0,oldState:0}),At=ze(tt),de=[9,13,27,32],Bt=Cn&&"CompositionEvent"in window,re=null;Cn&&"documentMode"in document&&(re=document.documentMode);var In=Cn&&"TextEvent"in window&&!re,yi=Cn&&(!Bt||re&&8<re&&11>=re),Kn=" ",Yn=!1;function vr(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function UT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Yn?null:e;default:return null}}function LT(e,n){if(ha)return e==="compositionend"||!Bt&&vr(e,n)?(e=No(),pr=Io=di=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function fp(e,n,s,o){fs?fi?fi.push(o):fi=[o]:fs=o,n=dc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,Mo=null;function zT(e){Yy(e,0)}function wu(e){var n=fn(e);if(hr(n))return e}function dp(e,n){if(e==="change")return n}var mp=!1;if(Cn){var kh;if(Cn){var Uh="oninput"in document;if(!Uh){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Uh=typeof pp.oninput=="function"}kh=Uh}else kh=!1;mp=kh&&(!document.documentMode||9<document.documentMode)}function gp(){Vo&&(Vo.detachEvent("onpropertychange",yp),Mo=Vo=null)}function yp(e){if(e.propertyName==="value"&&wu(Mo)){var n=[];fp(n,Mo,e,Rn(e)),ds(zT,n)}}function jT(e,n,s){e==="focusin"?(gp(),Vo=n,Mo=s,Vo.attachEvent("onpropertychange",yp)):e==="focusout"&&gp()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Mo)}function qT(e,n){if(e==="click")return wu(n)}function HT(e,n){if(e==="input"||e==="change")return wu(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:GT;function ko(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function _p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,n){var s=_p(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_p(s)}}function Ep(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ep(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=Cn&&"documentMode"in document&&11>=document.documentMode,fa=null,Ph=null,Uo=null,zh=!1;function Sp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||fa==null||fa!==hi(o)||(o=fa,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=dc(Ph,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=fa)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},jh={},Ap={};Cn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Tr(e){if(jh[e])return jh[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ap)return jh[e]=n[s];return e}var bp=Tr("animationend"),wp=Tr("animationiteration"),Rp=Tr("animationstart"),QT=Tr("transitionrun"),KT=Tr("transitionstart"),YT=Tr("transitioncancel"),Cp=Tr("transitionend"),Ip=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Xn(e,n){Ip.set(e,n),ui(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],ma=0,qh=0;function Cu(){for(var e=ma,n=qh=ma=0;n<e;){var s=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Np(s,h,f)}}function Iu(e,n,s,o){Nn[ma++]=e,Nn[ma++]=n,Nn[ma++]=s,Nn[ma++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,s,o){return Iu(e,n,s,o),Nu(e)}function Sr(e,n){return Iu(e,null,null,n),Nu(e)}function Np(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<sl)throw sl=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function XT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,o){return new XT(e,n,s,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Gh(e)&&(p=1);else if(typeof e=="string")p=tS(e,s,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=pn(31,s,n,h),e.elementType=w,e.lanes=f,e;case st:return Ar(s.children,h,f,n);case it:p=8,h|=24;break;case mt:return e=pn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Wt:return e=pn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case _t:return e=pn(19,s,n,h),e.elementType=_t,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case St:p=9;break t;case jt:p=11;break t;case N:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ar(e,n,s,o){return e=pn(7,e,o,n),e.lanes=s,e}function Fh(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Op(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Qh(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=xp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fo(n)},xp.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var ga=[],ya=0,Ou=null,Lo=0,On=[],xn=0,ys=null,_i=1,vi="";function Ui(e,n){ga[ya++]=Lo,ga[ya++]=Ou,Ou=e,Lo=n}function Vp(e,n,s){On[xn++]=_i,On[xn++]=vi,On[xn++]=ys,ys=e;var o=_i;e=vi;var h=32-fe(o)-1;o&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,_i=1<<32-fe(n)+h|s<<h|o,vi=f+e}else _i=1<<f|s<<h|o,vi=e}function Kh(e){e.return!==null&&(Ui(e,1),Vp(e,1,0))}function Yh(e){for(;e===Ou;)Ou=ga[--ya],ga[ya]=null,Lo=ga[--ya],ga[ya]=null;for(;e===ys;)ys=On[--xn],On[xn]=null,vi=On[--xn],On[xn]=null,_i=On[--xn],On[xn]=null}function Mp(e,n){On[xn++]=_i,On[xn++]=vi,On[xn++]=ys,_i=n.id,vi=n.overflow,ys=e}var je=null,te=null,kt=!1,_s=null,Vn=!1,Xh=Error(a(519));function vs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Dn(n,e)),Xh}function kp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Me]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)It(al[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),cs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Zy(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||vs(e,!0)}function Up(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:je=je.return}}function _a(e){if(e!==je)return!1;if(!kt)return Up(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&te&&vs(e),Up(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=o_(e)}else n===27?(n=te,Vs(e.type)?(e=vd,vd=null,te=e):te=n):te=je?kn(e.stateNode.nextSibling):null;return!0}function br(){te=je=null,kt=!1}function $h(){var e=_s;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),_s=null),e}function Po(e){_s===null?_s=[e]:_s.push(e)}var Jh=C(null),wr=null,Li=null;function Es(e,n,s){J(Jh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Jh.current,q(Jh)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Zh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;mn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Wh(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Lp(wr,e)}function Vu(e,n){return wr===null&&Rr(e),Lp(e,n)}function Lp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var $T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},JT=r.unstable_scheduleCallback,ZT=r.unstable_NormalPriority,Se={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new $T,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&JT(ZT,function(){e.controller.abort()})}var jo=null,ef=0,Ea=0,Ta=null;function WT(e,n){if(jo===null){var s=jo=[];ef=0,Ea=rd(),Ta={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ef++,n.then(Pp,Pp),n}function Pp(){if(--ef===0&&jo!==null){Ta!==null&&(Ta.status="fulfilled");var e=jo;jo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var zp=G.S;G.S=function(e,n){Sy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),zp!==null&&zp(e,n)};var Cr=C(null);function nf(){var e=Cr.current;return e!==null?e:Jt.pooledCache}function Mu(e,n){n===null?J(Cr,Cr.current):J(Cr,n.pool)}function jp(){var e=nf();return e===null?null:{parent:Se._currentValue,pool:e}}var Sa=Error(a(460)),sf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Bp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gp(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gp(e),e}throw Nr=n,Sa}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,Sa):s}}var Nr=null;function Hp(){if(Nr===null)throw Error(a(459));var e=Nr;return Nr=null,e}function Gp(e){if(e===Sa||e===ku)throw Error(a(483))}var Aa=null,Bo=0;function Lu(e){var n=Bo;return Bo+=1,Aa===null&&(Aa=[]),qp(Aa,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fp(e){function n(M,D){if(e){var L=M.deletions;L===null?(M.deletions=[D],M.flags|=16):L.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=ki(M,D),M.index=0,M.sibling=null,M}function f(M,D,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<D?(M.flags|=67108866,D):L):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,L,Q){return D===null||D.tag!==6?(D=Fh(L,M.mode,Q),D.return=M,D):(D=h(D,L),D.return=M,D)}function I(M,D,L,Q){var ht=L.type;return ht===st?F(M,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ir(ht)===D.type)?(D=h(D,L.props),qo(D,L),D.return=M,D):(D=Du(L.type,L.key,L.props,null,M.mode,Q),qo(D,L),D.return=M,D)}function P(M,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Qh(L,M.mode,Q),D.return=M,D):(D=h(D,L.children||[]),D.return=M,D)}function F(M,D,L,Q,ht){return D===null||D.tag!==7?(D=Ar(L,M.mode,Q,ht),D.return=M,D):(D=h(D,L),D.return=M,D)}function Y(M,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fh(""+D,M.mode,L),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return L=Du(D.type,D.key,D.props,null,M.mode,L),qo(L,D),L.return=M,L;case et:return D=Qh(D,M.mode,L),D.return=M,D;case A:return D=Ir(D),Y(M,D,L)}if(he(D)||k(D))return D=Ar(D,M.mode,L,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Lu(D),L);if(D.$$typeof===pt)return Y(M,Vu(M,D),L);Pu(M,D)}return null}function z(M,D,L,Q){var ht=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(M,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return L.key===ht?I(M,D,L,Q):null;case et:return L.key===ht?P(M,D,L,Q):null;case A:return L=Ir(L),z(M,D,L,Q)}if(he(L)||k(L))return ht!==null?null:F(M,D,L,Q,null);if(typeof L.then=="function")return z(M,D,Lu(L),Q);if(L.$$typeof===pt)return z(M,D,Vu(M,L),Q);Pu(M,L)}return null}function B(M,D,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(D,M,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return M=M.get(Q.key===null?L:Q.key)||null,I(D,M,Q,ht);case et:return M=M.get(Q.key===null?L:Q.key)||null,P(D,M,Q,ht);case A:return Q=Ir(Q),B(M,D,L,Q,ht)}if(he(Q)||k(Q))return M=M.get(L)||null,F(D,M,Q,ht,null);if(typeof Q.then=="function")return B(M,D,L,Lu(Q),ht);if(Q.$$typeof===pt)return B(M,D,L,Vu(D,Q),ht);Pu(D,Q)}return null}function at(M,D,L,Q){for(var ht=null,Pt=null,ot=D,Rt=D=0,Dt=null;ot!==null&&Rt<L.length;Rt++){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var zt=z(M,ot,L[Rt],Q);if(zt===null){ot===null&&(ot=Dt);break}e&&ot&&zt.alternate===null&&n(M,ot),D=f(zt,D,Rt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt,ot=Dt}if(Rt===L.length)return s(M,ot),kt&&Ui(M,Rt),ht;if(ot===null){for(;Rt<L.length;Rt++)ot=Y(M,L[Rt],Q),ot!==null&&(D=f(ot,D,Rt),Pt===null?ht=ot:Pt.sibling=ot,Pt=ot);return kt&&Ui(M,Rt),ht}for(ot=o(ot);Rt<L.length;Rt++)Dt=B(ot,M,Rt,L[Rt],Q),Dt!==null&&(e&&Dt.alternate!==null&&ot.delete(Dt.key===null?Rt:Dt.key),D=f(Dt,D,Rt),Pt===null?ht=Dt:Pt.sibling=Dt,Pt=Dt);return e&&ot.forEach(function(Ps){return n(M,Ps)}),kt&&Ui(M,Rt),ht}function dt(M,D,L,Q){if(L==null)throw Error(a(151));for(var ht=null,Pt=null,ot=D,Rt=D=0,Dt=null,zt=L.next();ot!==null&&!zt.done;Rt++,zt=L.next()){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var Ps=z(M,ot,zt.value,Q);if(Ps===null){ot===null&&(ot=Dt);break}e&&ot&&Ps.alternate===null&&n(M,ot),D=f(Ps,D,Rt),Pt===null?ht=Ps:Pt.sibling=Ps,Pt=Ps,ot=Dt}if(zt.done)return s(M,ot),kt&&Ui(M,Rt),ht;if(ot===null){for(;!zt.done;Rt++,zt=L.next())zt=Y(M,zt.value,Q),zt!==null&&(D=f(zt,D,Rt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt);return kt&&Ui(M,Rt),ht}for(ot=o(ot);!zt.done;Rt++,zt=L.next())zt=B(ot,M,Rt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?Rt:zt.key),D=f(zt,D,Rt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt);return e&&ot.forEach(function(hS){return n(M,hS)}),kt&&Ui(M,Rt),ht}function $t(M,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===st&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case K:t:{for(var ht=L.key;D!==null;){if(D.key===ht){if(ht=L.type,ht===st){if(D.tag===7){s(M,D.sibling),Q=h(D,L.props.children),Q.return=M,M=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ir(ht)===D.type){s(M,D.sibling),Q=h(D,L.props),qo(Q,L),Q.return=M,M=Q;break t}s(M,D);break}else n(M,D);D=D.sibling}L.type===st?(Q=Ar(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Du(L.type,L.key,L.props,null,M.mode,Q),qo(Q,L),Q.return=M,M=Q)}return p(M);case et:t:{for(ht=L.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(M,D.sibling),Q=h(D,L.children||[]),Q.return=M,M=Q;break t}else{s(M,D);break}else n(M,D);D=D.sibling}Q=Qh(L,M.mode,Q),Q.return=M,M=Q}return p(M);case A:return L=Ir(L),$t(M,D,L,Q)}if(he(L))return at(M,D,L,Q);if(k(L)){if(ht=k(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),dt(M,D,L,Q)}if(typeof L.then=="function")return $t(M,D,Lu(L),Q);if(L.$$typeof===pt)return $t(M,D,Vu(M,L),Q);Pu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(M,D.sibling),Q=h(D,L),Q.return=M,M=Q):(s(M,D),Q=Fh(L,M.mode,Q),Q.return=M,M=Q),p(M)):s(M,D)}return function(M,D,L,Q){try{Bo=0;var ht=$t(M,D,L,Q);return Aa=null,ht}catch(ot){if(ot===Sa||ot===ku)throw ot;var Pt=pn(29,ot,null,M.mode);return Pt.lanes=Q,Pt.return=M,Pt}}}var Dr=Fp(!0),Qp=Fp(!1),Ts=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Np(e,null,s),n}return Iu(e,o,n,s),Nu(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}function of(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function Go(){if(lf){var e=Ta;if(e!==null)throw e}}function Fo(e,n,s,o){lf=!1;var h=e.updateQueue;Ts=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,F=P=I=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Nt&z)===z:(o&z)===z){z!==0&&z===Ea&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;z=n;var $t=s;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Y=at.call($t,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call($t,Y,z):at,z==null)break t;Y=b({},Y,z);break t;case 2:Ts=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=B,I=Y):F=F.next=B,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Is|=p,e.lanes=p,e.memoizedState=Y}}function Kp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Kp(s[e],n)}var ba=C(null),zu=C(0);function Xp(e,n){e=Ki,J(zu,e),J(ba,n),Ki=e|n.baseLanes}function uf(){J(zu,Ki),J(ba,ba.current)}function cf(){Ki=zu.current,q(ba),q(zu)}var gn=C(null),Mn=null;function bs(e){var n=e.alternate;J(me,me.current&1),J(gn,e),Mn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Mn=e)}function hf(e){J(me,me.current),J(gn,e),Mn===null&&(Mn=e)}function $p(e){e.tag===22?(J(me,me.current),J(gn,e),Mn===null&&(Mn=e)):ws()}function ws(){J(me,me.current),J(gn,gn.current)}function yn(e){q(gn),Mn===e&&(Mn=null),q(me)}var me=C(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,bt=null,Yt=null,Ae=null,Bu=!1,wa=!1,Or=!1,qu=0,Qo=0,Ra=null,e1=0;function ue(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function df(e,n,s,o,h,f){return zi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Vg:If,Or=!1,f=s(o,h),Or=!1,wa&&(f=Zp(n,s,o,h)),Jp(e),f}function Jp(e){G.H=Xo;var n=Yt!==null&&Yt.next!==null;if(zi=0,Ae=Yt=bt=null,Bu=!1,Qo=0,Ra=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&xu(e)&&(be=!0))}function Zp(e,n,s,o){bt=e;var h=0;do{if(wa&&(Ra=null),Qo=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Mg,f=n(s,o)}while(wa);return f}function n1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(bt.flags|=1024),n}function mf(){var e=qu!==0;return qu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}zi=0,Ae=Yt=bt=null,wa=!1,Qo=qu=0,Ra=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Yt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Ra===null&&(Ra=[]),e=qp(Ra,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Vg:If),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===pt)return Be(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=pe();return _f(n,Yt,e)}function _f(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Nt&Y)===Y:(zi&Y)===Y){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ea&&(F=!0);else if((zi&z)===z){P=P.next,z===Ea&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,p=f):I=I.next=Y,bt.lanes|=z,Is|=z;Y=P.action,Or&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,p=f):I=I.next=z,bt.lanes|=Y,Is|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=E,!mn(f,e.memoizedState)&&(be=!0,F&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);mn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Wp(e,n,s){var o=bt,h=pe(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!mn((Yt||h).memoizedState,s);if(p&&(h.memoizedState=s,be=!0),h=h.queue,Sf(ng.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},eg.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(zi&127)!==0||tg(o,n,s)}return s}function tg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Hu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function eg(e,n,s,o){n.value=s,n.getSnapshot=o,ig(n)&&sg(e)}function ng(e,n,s){return s(function(){ig(n)&&sg(e)})}function ig(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function sg(e){var n=Sr(e,2);n!==null&&un(n,e,2)}function Ef(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Or){bn(!0);try{s()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function rg(e,n,s,o){return e.baseState=s,_f(e,Yt,typeof o=="function"?o:ji)}function i1(e,n,s,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ag(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ag(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),I=G.S;I!==null&&I(p,E),og(e,n,E)}catch(P){Tf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),og(e,n,f)}catch(P){Tf(e,n,P)}}function og(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){lg(e,n,o)},function(o){return Tf(e,n,o)}):lg(e,n,s)}function lg(e,n,s){n.status="fulfilled",n.value=s,ug(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ag(e,s)))}function Tf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ug(n),n=n.next;while(n!==o)}e.action=null}function ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cg(e,n){return n}function hg(e,n){if(kt){var s=Jt.formState;if(s!==null){t:{var o=bt;if(kt){if(te){e:{for(var h=te,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=kn(h.nextSibling),o=h.data==="F!";break t}}vs(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},s.queue=o,s=Dg.bind(null,bt,o),o.dispatch=s,o=Ef(!1),f=Cf.bind(null,bt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=i1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function fg(e){var n=pe();return dg(n,Yt,e)}function dg(e,n,s){if(n=_f(e,n,cg)[0],e=Fu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(p){throw p===Sa?ku:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ca(9,{destroy:void 0},s1.bind(null,h,s),null)),[o,f,e]}function s1(e,n){e.action=n}function mg(e){var n=pe(),s=Yt;if(s!==null)return dg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ca(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Hu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pg(){return pe().memoizedState}function Qu(e,n,s,o){var h=en();bt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&ff(o,Yt.memoizedState.deps)?h.memoizedState=Ca(n,f,s,o):(bt.flags|=e,h.memoizedState=Ca(1|n,f,s,o))}function gg(e,n){Qu(8390656,8,e,n)}function Sf(e,n){Ku(2048,8,e,n)}function r1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Hu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function yg(e){var n=pe().memoizedState;return r1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _g(e,n){return Ku(4,2,e,n)}function vg(e,n){return Ku(4,4,e,n)}function Eg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tg(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,Eg.bind(null,n,e),s)}function Af(){}function Sg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ag(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),Or){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o}function bf(e,n,s){return s===void 0||(zi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),bt.lanes|=e,Is|=e,s)}function bg(e,n,s,o){return mn(s,n)?s:ba.current!==null?(e=bf(e,s,o),mn(e,n)||(be=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=s):(e=by(),bt.lanes|=e,Is|=e,n)}function wg(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Cf(e,!1,n,s);try{var I=h(),P=G.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=t1(I,o);Yo(e,n,F,En(e))}else Yo(e,n,o,En(e))}catch(Y){Yo(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function a1(){}function wf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Rg(e).queue;wg(e,h,n,ut,s===null?a1:function(){return Cg(e),s(o)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cg(e){var n=Rg(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},En())}function Rf(){return Be(hl)}function Ig(){return pe().memoizedState}function Ng(){return pe().memoizedState}function o1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Ss(s);var o=As(n,e,s);o!==null&&(un(o,n,s),Ho(o,n,s)),n={cache:tf()},e.payload=n;return}n=n.return}}function l1(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Og(n,s):(s=Hh(e,n,s,o),s!==null&&(un(s,e,o),xg(s,n,o)))}function Dg(e,n,s){var o=En();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Og(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,p))return Iu(e,n,h,0),Jt===null&&Cu(),!1}catch{}if(s=Hh(e,n,h,o),s!==null)return un(s,e,o),xg(s,n,o),!0}return!1}function Cf(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,o,2),n!==null&&un(n,e,2)}function Yu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Og(e,n){wa=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}var Xo={readContext:Be,use:Gu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Xo.useEffectEvent=ue;var Vg={readContext:Be,use:Gu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:gg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,Eg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Or){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Or){bn(!0);try{s(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=Dg.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=en();return bf(s,e,n)},useTransition:function(){var e=Ef(!1);return e=wg.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=en();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Nt&127)!==0||tg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,gg(ng.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},eg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=Jt.identifierPrefix;if(kt){var s=vi,o=_i;s=(o&~(1<<32-fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:hg,useActionState:hg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return en().memoizedState=o1.bind(null,bt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:Be,use:Gu,useCallback:Sg,useContext:Be,useEffect:Sf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Ag,useReducer:Fu,useRef:pg,useState:function(){return Fu(ji)},useDebugValue:Af,useDeferredValue:function(e,n){var s=pe();return bg(s,Yt.memoizedState,e,n)},useTransition:function(){var e=Fu(ji)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Rf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=pe();return rg(s,Yt,e,n)},useMemoCache:yf,useCacheRefresh:Ng};If.useEffectEvent=yg;var Mg={readContext:Be,use:Gu,useCallback:Sg,useContext:Be,useEffect:Sf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Ag,useReducer:vf,useRef:pg,useState:function(){return vf(ji)},useDebugValue:Af,useDeferredValue:function(e,n){var s=pe();return Yt===null?bf(s,e,n):bg(s,Yt.memoizedState,e,n)},useTransition:function(){var e=vf(ji)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Rf,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var s=pe();return Yt!==null?rg(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Ng};Mg.useEffectEvent=yg;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=Ss(o);h.payload=n,s!=null&&(h.callback=s),n=As(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=Ss(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=As(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=Ss(s);o.tag=2,n!=null&&(o.callback=n),n=As(e,o,s),n!==null&&(un(n,e,s),Ho(n,e,s))}};function kg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function Ug(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function xr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Lg(e){Ru(e)}function Pg(e){console.error(e)}function zg(e){Ru(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function jg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function Bg(e){return e=Ss(e),e.tag=3,e}function qg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){jg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){jg(n,s,o),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function u1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?oc():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(e,o,h)),!1}throw Error(a(435,s.tag))}return nd(e,o,h),oc(),!1}if(kt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),Po(Dn(e,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Po(Dn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,s),h=Of(e.stateNode,o,h),of(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,s),il===null?il=[f]:il.push(f),ce!==4&&(ce=2),n===null)return!0;o=Dn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bg(h),qg(h,e,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),be=!1;function qe(e,n,s,o){n.child=e===null?Qp(n,null,s,o):Dr(n,e.child,s,o)}function Hg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Rr(n),o=df(e,n,s,p,f,h),E=mf(),e!==null&&!be?(pf(e,n,h),Bi(e,n,h)):(kt&&E&&Kh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Gg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Fg(e,n,f,o,h)):(e=Du(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(p,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Fg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Vf(e,n,s,o,h)}function Qg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Kg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Xp(n,f):uf(),$p(n);else return o=n.lanes=536870912,Kg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Mu(n,f.cachePool),Xp(n,f),ws(),n.memoizedState=null):(e!==null&&Mu(n,null),uf(),ws());return qe(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kg(e,n,s,o,h){var f=nf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Mu(n,null),uf(),$p(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yg(e,n,s){return Dr(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function c1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,$o(null,e);if(hf(n),(e=te)?(e=a_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Op(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw vs(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Yg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||va(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(o=Jt,o!==null&&(p=yo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Sr(e,p),un(o,e,p),xf;oc(),n=Yg(e,n,s)}else e=f.treeContext,te=kn(p.nextSibling),je=n,kt=!0,_s=null,Vn=!1,e!==null&&Mp(n,e),n=$u(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Rr(n),s=df(e,n,s,o,void 0,h),o=mf(),e!==null&&!be?(pf(e,n,h),Bi(e,n,h)):(kt&&o&&Kh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Xg(e,n,s,o,h,f){return Rr(n),n.updateQueue=null,s=Zp(n,o,s,h),Jp(e),o=mf(),e!==null&&!be?(pf(e,n,f),Bi(e,n,f)):(kt&&o&&Kh(n),n.flags|=1,qe(e,n,s,f),n.child)}function $g(e,n,s,o,h){if(Rr(n),n.stateNode===null){var f=pa,p=s.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Be(p):pa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=xr(s,E);f.props=I;var P=f.context,F=s.contextType;p=pa,typeof F=="object"&&F!==null&&(p=Be(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Ug(n,f,o,p),Ts=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Go(),P=n.memoizedState,E||z!==P||Ts?(typeof Y=="function"&&(Nf(n,s,Y,o),P=n.memoizedState),(I=Ts||kg(n,s,I,o,z,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),p=n.memoizedProps,F=xr(s,p),f.props=F,Y=n.pendingProps,z=f.context,P=s.contextType,I=pa,typeof P=="object"&&P!==null&&(I=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==I)&&Ug(n,f,o,I),Ts=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Go();var B=n.memoizedState;p!==Y||z!==B||Ts||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),B=n.memoizedState),(F=Ts||kg(n,s,F,o,z,B,I)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Jg(e,n,s,o){return br(),n.flags|=256,qe(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:jp()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Zg(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?bs(n):ws(),(e=te)?(e=a_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Op(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw vs(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ws(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Ar(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(s),o.childLanes=Uf(e,p,s),n.memoizedState=Mf,$o(null,o)):(bs(n),Lf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=Pf(e,n,s)):n.memoizedState!==null?(ws(),n.child=e.child,n.flags|=128,n=null):(ws(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Ar(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Dr(n,e.child,null,s),o=n.child,o.memoizedState=kf(s),o.childLanes=Uf(e,p,s),n.memoizedState=Mf,n=$o(null,o));else if(bs(n),_d(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Po({value:o,source:null,stack:null}),n=Pf(e,n,s)}else if(be||va(e,n,s,!1),p=(s&e.childLanes)!==0,be||p){if(p=Jt,p!==null&&(o=yo(p,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Sr(e,o),un(p,e,o),xf;yd(E)||oc(),n=Pf(e,n,s)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,te=kn(E.nextSibling),je=n,kt=!0,_s=null,Vn=!1,e!==null&&Mp(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(ws(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=ki(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=ki(P,E):(E=Ar(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=kf(s):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=jp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(e,p,s),n.memoizedState=Mf,$o(e.child,o)):(bs(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Lf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Pf(e,n,s){return Dr(n,e.child,null,s),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function zf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ty(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,J(me,p),qe(e,n,o,s),o=kt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,s,n);else if(e.tag===19)Wg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function h1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Es(n,Se,e.memoizedState.cache),br();break;case 27:case 5:sr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zg(e,n,s):(bs(n),e=Bi(e,n,s),e!==null?e.sibling:null);bs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(va(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ty(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(me,me.current),o)break;return null;case 22:return n.lanes=0,Qg(e,n,s,n.pendingProps);case 24:Es(n,Se,e.memoizedState.cache)}return Bi(e,n,s)}function ey(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return be=!1,h1(e,n,s);be=(e.flags&131072)!==0}else be=!1,kt&&(n.flags&1048576)!==0&&Vp(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=xr(e,o),n.tag=1,n=$g(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===jt){n.tag=11,n=Hg(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Gg(null,n,e,o,s);break t}}throw n=Zt(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=xr(o,n.pendingProps),$g(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Fo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Es(n,Se,o),o!==f.cache&&Wh(n,[Se],s,!0),Go(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jg(e,n,o,s);break t}else if(o!==h){h=Dn(Error(a(424)),n),Po(h),n=Jg(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=kn(e.firstChild),je=n,kt=!0,_s=null,Vn=!0,s=Qp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(br(),o===h){n=Bi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Ju(e,n),e===null?(s=f_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=mc(wt.current).createElement(s),o[ve]=n,o[Me]=e,He(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&kt&&(o=n.stateNode=u_(n.type,n.pendingProps,wt.current),je=n,Vn=!0,h=te,Vs(n.type)?(vd=h,te=kn(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,s),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=te)&&(o=B1(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,je=n,te=kn(o.firstChild),Vn=!1,h=!0):h=!1),h||vs(n)),sr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:p!==null&&md(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,n1,null,null,s),hl._currentValue=h),Ju(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=te)&&(s=q1(s,n.pendingProps,Vn),s!==null?(n.stateNode=s,je=n,te=null,e=!0):e=!1),e||vs(n)),null;case 13:return Zg(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Dr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Es(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Gg(e,n,n.type,n.pendingProps,s);case 15:return Fg(e,n,n.type,n.pendingProps,s);case 19:return ty(e,n,s);case 31:return c1(e,n,s);case 22:return Qg(e,n,s,n.pendingProps);case 24:return Rr(n),o=Be(Se),e===null?(h=nf(),h===null&&(h=Jt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),Es(n,Se,h)):((e.lanes&s)!==0&&(af(e,n),Fo(n,null,null,s),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Es(n,Se,o)):(o=f.cache,Es(n,Se,o),o!==h.cache&&Wh(n,[Se],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function Bf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Nr=Uu,sf}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Iy())e.flags|=8192;else throw Nr=Uu,sf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Oa|=n)}function Jo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function f1(e,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Se),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ee(n),ny(n,f)):(ee(n),Bf(n,h,null,o,s))):f?f!==e.memoizedState?(qi(n),ee(n),ny(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ee(n),Bf(n,h,e,o,s)),null;case 27:if($r(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=Z.current,_a(n)?kp(n):(e=u_(h,o,s),n.stateNode=e,qi(n))}return ee(n),null;case 5:if($r(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=Z.current,_a(n))kp(n);else{var p=mc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[Me]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ee(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,s)),e||vs(n,!0)}else e=mc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&ud(n.stateNode.containerInfo),ee(n),null;case 10:return Pi(n.type),ee(n),null;case 19:if(q(me),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dp(s,e),s=s.sibling;return J(me,me.current&1|2),kt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>sc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*We()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=me.current,J(me,h?s&1|2:s&1),kt&&Ui(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return yn(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&q(Cr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(Se),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d1(e,n){switch(Yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Se),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $r(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(me),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return yn(n),cf(),e!==null&&q(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Se),null;case 25:return null;default:return null}}function iy(e,n){switch(Yh(n),n.tag){case 3:Pi(Se),se();break;case 26:case 27:case 5:$r(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:q(me);break;case 10:Pi(n.type);break;case 22:case 23:yn(n),cf(),e!==null&&q(Cr);break;case 24:Pi(Se)}}function Zo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Rs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,P=E;try{P()}catch(F){Qt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Qt(n,n.return,F)}}function sy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Yp(n,s)}catch(o){Qt(e,e.return,o)}}}function ry(e,n,s){s.props=xr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function Ei(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function ay(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function qf(e,n,s){try{var o=e.stateNode;k1(o,e.type,s,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&Vs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function tc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Vs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function ly(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ve]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var Hi=!1,we=!1,Ff=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function m1(e,n){if(e=e.containerInfo,fd=Tc,e=Tp(e),Lh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,P=0,F=0,Y=e,z=null;e:for(;;){for(var B;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(I=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===s&&++P===h&&(E=p),z===f&&++F===o&&(I=p),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},Tc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=xr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Qt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function cy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),o&4&&Zo(5,s);break;case 1:if(Fi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Qt(s,s.return,p)}else{var h=xr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(s,s.return,p)}}o&64&&sy(s),o&512&&Wo(s,s.return);break;case 3:if(Fi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yp(e,n)}catch(p){Qt(s,s.return,p)}}break;case 27:n===null&&o&4&&ly(s);case 26:case 5:Fi(e,s),n===null&&o&4&&ay(s),o&512&&Wo(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),o&4&&dy(e,s);break;case 13:Fi(e,s),o&4&&my(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=A1.bind(null,s),H1(e,s))));break;case 22:if(o=s.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||we,h=Hi;var f=we;Hi=o,(we=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),Hi=h,we=f}break;case 30:break;default:Fi(e,s)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Gi(e,n,s){for(s=s.child;s!==null;)fy(e,n,s),s=s.sibling}function fy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:we||Ei(s,n),Gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||Ei(s,n);var o=ae,h=rn;Vs(s.type)&&(ae=s.stateNode,rn=!1),Gi(e,n,s),ll(s.stateNode),ae=o,rn=h;break;case 5:we||Ei(s,n);case 6:if(o=ae,h=rn,ae=null,Gi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):s_(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Gi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Rs(2,s,n),we||Rs(4,s,n),Gi(e,n,s);break;case 1:we||(Ei(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ry(s,n,o)),Gi(e,n,s);break;case 21:Gi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,Gi(e,n,s),we=o;break;default:Gi(e,n,s)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){Qt(n,n.return,s)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){Qt(n,n.return,s)}}function p1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=p1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=b1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));fy(f,p,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var $n=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Rs(3,e,e.return),Zo(3,e),Rs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||s===null||Ei(s,s.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=$n;if(an(n,e),on(e),o&512&&(we||s===null||Ei(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var p=p_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(p=p_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else g_(h,e.type,e.stateNode);else e.stateNode=m_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?g_(h,e.type,e.stateNode):m_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||s===null||Ei(s,s.return)),s!==null&&o&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||s===null||Ei(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(yc=null,h=$n,$n=pc(n.containerInfo),an(n,e),$n=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(at){Qt(e,e.return,at)}Ff&&(Ff=!1,gy(e));break;case 4:o=$n,$n=pc(e.stateNode.containerInfo),an(n,e),on(e),$n=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Hi,F=we;if(Hi=P||h,we=F||I,an(n,e),we=F,Hi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Hi||we||Vr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Qt(I,I.return,at)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Qt(I,I.return,at)}}}else if(n.tag===18){if(s===null){I=n;try{var B=I.stateNode;h?r_(B,!0):r_(I.stateNode,!1)}catch(at){Qt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(oy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);tc(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=Hf(e);tc(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Hf(e);Gf(e,P,I);break;default:throw Error(a(161))}}catch(F){Qt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Vr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Vr(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ry(n,n.return,s),Vr(n);break;case 27:ll(n.stateNode);case 26:case 5:Ei(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),Zo(4,f);break;case 1:if(Qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Kp(I[h],E)}catch(P){Qt(o,o.return,P)}}s&&p&64&&sy(f),Wo(f,f.return);break;case 27:ly(f);case 26:case 5:Qi(h,f,s),s&&o===null&&p&4&&ay(f),Wo(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&p&4&&dy(h,f);break;case 13:Qi(h,f,s),s&&p&4&&my(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),Wo(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function Qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Jn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,s,o),n=n.sibling}function yy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,s,o),h&2048&&Zo(9,n);break;case 1:Jn(e,n,s,o);break;case 3:Jn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Jn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(n,n.return,I)}}else Jn(e,n,s,o);break;case 31:Jn(e,n,s,o);break;case 13:Jn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,s,o):tl(e,n):f._visibility&2?Jn(e,n,s,o):(f._visibility|=2,Ia(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(p,n);break;case 24:Jn(e,n,s,o),h&2048&&Kf(n.alternate,n);break;default:Jn(e,n,s,o)}}function Ia(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,E,I,h),Zo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ia(f,p,E,I,h):tl(f,p):(F._visibility|=2,Ia(f,p,E,I,h)),h&&P&2048&&Qf(p.alternate,p);break;case 24:Ia(f,p,E,I,h),h&&P&2048&&Kf(p.alternate,p);break;default:Ia(f,p,E,I,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Qf(o.alternate,o);break;case 24:tl(s,o),h&2048&&Kf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Na(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)_y(e,n,s),e=e.sibling}function _y(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&el&&e.memoizedState!==null&&eS(s,$n,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var o=$n;$n=pc(e.stateNode.containerInfo),Na(e,n,s),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Na(e,n,s),el=o):Na(e,n,s));break;default:Na(e,n,s)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):nl(e);break;default:nl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ty(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Rs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(hy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var g1={getCacheForType:function(e){var n=Be(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Se).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Ct=null,Nt=0,Ft=0,_n=null,Cs=!1,Da=!1,Yf=!1,Ki=0,ce=0,Is=0,Mr=0,Xf=0,vn=0,Oa=0,il=null,ln=null,$f=!1,ic=0,Sy=0,sc=1/0,rc=null,Ns=null,Oe=0,Ds=null,xa=null,Yi=0,Jf=0,Zf=null,Ay=null,sl=0,Wf=null;function En(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?rd():au()}function by(){if(vn===0)if((Nt&536870912)===0||kt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Os(e,Nt,vn,!1)),lr(e,s),((qt&2)===0||e!==Jt)&&(e===Jt&&((qt&2)===0&&(Mr|=s),ce===4&&Os(e,Nt,vn,!1)),Ti(e))}function wy(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?E1(e,n):ed(e,n,!0),f=o;do{if(h===0){Da&&!o&&Os(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=il;var I=E.current.memoizedState.isDehydrated;if(I&&(Va(E,p).flags|=256),p=ed(E,p,!1),p!==2){if(Yf&&!I){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Os(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(o,n,vn,!Cs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-We(),10<h)){if(Os(o,n,vn,!Cs),ii(o,0,!0)!==0)break t;Yi=n,o.timeoutHandle=n_(Ry.bind(null,o,s,ln,rc,$f,n,vn,Mr,Oa,Cs,f,"Throttled",-0,0),h);break t}Ry(o,s,ln,rc,$f,n,vn,Mr,Oa,Cs,f,null,-0,0)}}break}while(!0);Ti(e)}function Ry(e,n,s,o,h,f,p,E,I,P,F,Y,z,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},_y(n,f,Y);var at=(f&62914560)===f?ic-We():(f&4194048)===f?Sy-We():0;if(at=nS(Y,at),at!==null){Yi=f,e.cancelPendingCommit=at(My.bind(null,e,n,f,s,o,h,p,E,I,F,Y,null,z,B)),Os(e,f,p,!P);return}}My(e,n,f,s,o,h,p,E,I)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,s,o){n&=~Xf,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&ur(e,s,n)}function ac(){return(qt&6)===0?(rl(0),!1):!0}function td(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Li=wr=null,gf(e),Aa=null,Bo=0,e=Ct;for(;e!==null;)iy(e.alternate,e),e=e.return;Ct=null}}function Va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,td(),Jt=e,Ct=s=ki(e.current,null),Nt=n,Ft=0,_n=null,Cs=!1,Da=Bn(e,n),Yf=!1,Oa=vn=Xf=Mr=Is=ce=0,ln=il=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,Cu(),s}function Cy(e,n){bt=null,G.H=Xo,n===Sa||n===ku?(n=Hp(),Ft=3):n===sf?(n=Hp(),Ft=4):Ft=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ct===null&&(ce=1,Xu(e,Dn(n,e.current)))}function Iy(){var e=gn.current;return e===null?!0:(Nt&4194048)===Nt?Mn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Mn:!1}function Ny(){var e=G.H;return G.H=Xo,e===null?Xo:e}function Dy(){var e=G.A;return G.A=g1,e}function oc(){ce=4,Cs||(Nt&4194048)!==Nt&&gn.current!==null||(Da=!0),(Is&134217727)===0&&(Mr&134217727)===0||Jt===null||Os(Jt,Nt,vn,!1)}function ed(e,n,s){var o=qt;qt|=2;var h=Ny(),f=Dy();(Jt!==e||Nt!==n)&&(rc=null,Va(e,n)),n=!1;var p=ce;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,I=_n;switch(Ft){case 8:td(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Ft;if(Ft=0,_n=null,Ma(e,E,I,P),s&&Da){p=0;break t}break;default:P=Ft,Ft=0,_n=null,Ma(e,E,I,P)}}v1(),p=ce;break}catch(F){Cy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Li=wr=null,qt=o,G.H=h,G.A=f,Ct===null&&(Jt=null,Nt=0,Cu()),p}function v1(){for(;Ct!==null;)Oy(Ct)}function E1(e,n){var s=qt;qt|=2;var o=Ny(),h=Dy();Jt!==e||Nt!==n?(rc=null,sc=We()+500,Va(e,n)):Da=Bn(e,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=_n;e:switch(Ft){case 1:Ft=0,_n=null,Ma(e,n,f,1);break;case 2:case 9:if(Bp(f)){Ft=0,_n=null,xy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),Ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Bp(f)?(Ft=0,_n=null,xy(n)):(Ft=0,_n=null,Ma(e,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(p?y_(p):E.stateNode.complete){Ft=0,_n=null;var I=E.sibling;if(I!==null)Ct=I;else{var P=E.return;P!==null?(Ct=P,lc(P)):Ct=null}break e}}Ft=0,_n=null,Ma(e,n,f,5);break;case 6:Ft=0,_n=null,Ma(e,n,f,6);break;case 8:td(),ce=6;break t;default:throw Error(a(462))}}T1();break}catch(F){Cy(e,F)}while(!0);return Li=wr=null,G.H=o,G.A=h,qt=s,Ct!==null?0:(Jt=null,Nt=0,Cu(),ce)}function T1(){for(;Ct!==null&&!Dh();)Oy(Ct)}function Oy(e){var n=ey(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Xg(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Xg(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:gf(n);default:iy(s,n),n=Ct=Dp(n,Ki),n=ey(s,n,Ki)}e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function Ma(e,n,s,o){Li=wr=null,gf(n),Aa=null,Bo=0;var h=n.return;try{if(u1(e,h,n,s,Nt)){ce=1,Xu(e,Dn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,Xu(e,Dn(s,e.current)),Ct=null;return}n.flags&32768?(kt||o===1?e=!0:Da||(Nt&536870912)!==0?e=!1:(Cs=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Cs);return}e=n.return;var s=f1(n.alternate,n,Ki);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ce===0&&(ce=5)}function Vy(e,n){do{var s=d1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);ce=6,Ct=null}function My(e,n,s,o,h,f,p,E,I){e.cancelPendingCommit=null;do uc();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,s,f,p,E,I),e===Jt&&(Ct=Jt=null,Nt=0),xa=n,Ds=e,Yi=s,Jf=f,Zf=h,Ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(os,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,p=qt,qt|=4;try{m1(e,n,s)}finally{qt=p,nt.p=h,G.T=o}}Oe=1,ky(),Uy(),Ly()}}function ky(){if(Oe===1){Oe=0;var e=Ds,n=xa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{py(n,e);var f=dd,p=Tp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ep(E.ownerDocument.documentElement,E)){if(I!==null&&Lh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),at=E.textContent.length,dt=Math.min(I.start,at),$t=I.end===void 0?dt:Math.min(I.end,at);!B.extend&&dt>$t&&(p=$t,$t=dt,dt=p);var M=vp(E,dt),D=vp(E,$t);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(M.node,M.offset),B.removeAllRanges(),dt>$t?(B.addRange(L),B.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!fd,dd=fd=null}finally{qt=h,nt.p=o,G.T=s}}e.current=n,Oe=2}}function Uy(){if(Oe===2){Oe=0;var e=Ds,n=xa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{cy(e,n.alternate,n)}finally{qt=h,nt.p=o,G.T=s}}Oe=3}}function Ly(){if(Oe===4||Oe===3){Oe=0,Wl();var e=Ds,n=xa,s=Yi,o=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,xa=Ds=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Oi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(Yi&3)!==0&&uc(),Ti(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?sl++:(sl=0,Wf=e):sl=0,rl(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function uc(){return ky(),Uy(),Ly(),zy()}function zy(){if(Oe!==5)return!1;var e=Ds,n=Jf;Jf=0;var s=Oi(Yi),o=G.T,h=nt.p;try{nt.p=32>s?32:s,G.T=null,s=Zf,Zf=null;var f=Ds,p=Yi;if(Oe=0,xa=Ds=null,Yi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,Ey(f.current),yy(f,f.current,p,s),qt=E,rl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{nt.p=h,G.T=o,Py(e,n)}}function jy(e,n,s){n=Dn(s,n),n=Of(e.stateNode,n,2),e=As(e,n,2),e!==null&&(lr(e,2),Ti(e))}function Qt(e,n,s){if(e.tag===3)jy(e,e,s);else for(;n!==null;){if(n.tag===3){jy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ns===null||!Ns.has(o))){e=Dn(s,e),s=Bg(2),o=As(n,s,2),o!==null&&(qg(s,o,n,e),lr(o,2),Ti(o));break}}n=n.return}}function nd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),e=S1.bind(null,e,n,s),n.then(e,e))}function S1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-ic?(qt&2)===0&&Va(e,0):Xf|=s,Oa===Nt&&(Oa=0)),Ti(e)}function By(e,n){n===0&&(n=ru()),e=Sr(e,n),e!==null&&(lr(e,n),Ti(e))}function A1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),By(e,s)}function b1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),By(e,s)}function w1(e,n){return De(e,n)}var cc=null,ka=null,id=!1,hc=!1,sd=!1,xs=0;function Ti(e){e!==ka&&e.next===null&&(ka===null?cc=ka=e:ka=ka.next=e),hc=!0,id||(id=!0,C1())}function rl(e,n){if(!sd&&hc){sd=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Fy(o,f))}else f=Nt,f=ii(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(s=!0,Fy(o,f));o=o.next}while(s);sd=!1}}function R1(){qy()}function qy(){hc=id=!1;var e=0;xs!==0&&L1()&&(e=xs);for(var n=We(),s=null,o=cc;o!==null;){var h=o.next,f=Hy(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(ka=s)):(s=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Oe!==0&&Oe!==5||rl(e),xs!==0&&(xs=0)}function Hy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&o)!==0)&&(h[p]=xh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Nt,s=ii(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Bn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&as(o),Oi(s)){case 2:case 8:s=po;break;case 32:s=os;break;case 268435456:s=tu;break;default:s=os}return o=Gy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&as(o),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Nt;return o=ii(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,n),Hy(e,We()),e.callbackNode!=null&&e.callbackNode===s?Gy.bind(null,e):null)}function Fy(e,n){if(uc())return null;wy(e,n,!0)}function C1(){z1(function(){(qt&6)!==0?De(mo,R1):qy()})}function rd(){if(xs===0){var e=Ea;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),xs=e}return xs}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function I1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Qy((h[Me]||null).action),p=o.submitter;p&&(n=(n=p[Me]||null)?Qy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var I=p?Ky(h,p):new FormData(h);wf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Ky(h,p):new FormData(h),wf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],N1=od.toLowerCase(),D1=od[0].toUpperCase()+od.slice(1);Xn(N1,"on"+D1)}Xn(bp,"onAnimationEnd"),Xn(wp,"onAnimationIteration"),Xn(Rp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(QT,"onTransitionRun"),Xn(KT,"onTransitionStart"),Xn(YT,"onTransitionCancel"),Xn(Cp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Yy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=I}}}}function It(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var o=e+"__bubble";s.has(o)||(Xy(n,e,2,!1),s.add(o))}function ld(e,n,s){var o=0;n&&(o|=4),Xy(s,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[fc]){e[fc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,ld("selectionchange",!1,n))}}function Xy(e,n,s,o){switch(b_(n)){case 2:var h=rS;break;case 8:h=aS;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function cd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ds(function(){var P=f,F=Rn(s),Y=[];t:{var z=Ip.get(e);if(z!==void 0){var B=mi,at=e;switch(e){case"keypress":if(gr(s)===0)break t;case"keydown":case"keyup":B=Au;break;case"focusin":at="focus",B=_r;break;case"focusout":at="blur",B=_r;break;case"beforeblur":case"afterblur":B=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case bp:case wp:case Rp:B=gu;break;case Cp:B=T;break;case"scroll":case"scrollend":B=Do;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Mi;break;case"toggle":case"beforetoggle":B=At}var dt=(n&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),M=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Fn(D,M),Q!=null&&dt.push(ol(D,Q,L))),$t)break;D=D.return}0<dt.length&&(z=new B(z,at,null,s,F),Y.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==Co&&(at=s.relatedTarget||s.fromElement)&&(oi(at)||at[ri]))break t;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(at=s.relatedTarget||s.toElement,B=P,at=at?oi(at):null,at!==null&&($t=c(at),dt=at.tag,at!==$t||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(B=null,at=P),B!==at)){if(dt=Oo,Q="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Mi,Q="onPointerLeave",M="onPointerEnter",D="pointer"),$t=B==null?z:fn(B),L=at==null?z:fn(at),z=new dt(Q,D+"leave",B,s,F),z.target=$t,z.relatedTarget=L,Q=null,oi(F)===P&&(dt=new dt(M,D+"enter",at,s,F),dt.target=L,dt.relatedTarget=$t,Q=dt),$t=Q,B&&at)e:{for(dt=x1,M=B,D=at,L=0,Q=M;Q;Q=dt(Q))L++;Q=0;for(var ht=D;ht;ht=dt(ht))Q++;for(;0<L-Q;)M=dt(M),L--;for(;0<Q-L;)D=dt(D),Q--;for(;L--;){if(M===D||D!==null&&M===D.alternate){dt=M;break e}M=dt(M),D=dt(D)}dt=null}else dt=null;B!==null&&$y(Y,z,B,dt,!1),at!==null&&$t!==null&&$y(Y,$t,at,dt,!0)}}t:{if(z=P?fn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Pt=dp;else if(hp(z))if(mp)Pt=HT;else{Pt=BT;var ot=jT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&sa(P.elementType)&&(Pt=dp):Pt=qT;if(Pt&&(Pt=Pt(e,P))){fp(Y,Pt,s,F);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&bo(z,"number",z.value)}switch(ot=P?fn(P):window,e){case"focusin":(hp(ot)||ot.contentEditable==="true")&&(fa=ot,Ph=P,Uo=null);break;case"focusout":Uo=Ph=fa=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Sp(Y,s,F);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":Sp(Y,s,F)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ha?vr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(yi&&s.locale!=="ko"&&(ha||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ha&&(Rt=No()):(di=F,Io="value"in di?di.value:di.textContent,ha=!0)),ot=dc(P,Dt),0<ot.length&&(Dt=new gi(Dt,e,null,s,F),Y.push({event:Dt,listeners:ot}),Rt?Dt.data=Rt:(Rt=ca(s),Rt!==null&&(Dt.data=Rt)))),(Rt=In?UT(e,s):LT(e,s))&&(Dt=dc(P,"onBeforeInput"),0<Dt.length&&(ot=new gi("onBeforeInput","beforeinput",null,s,F),Y.push({event:ot,listeners:Dt}),ot.data=Rt)),I1(Y,e,P,s,F)}Yy(Y,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=Fn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function x1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Fn(s,f),P!=null&&p.unshift(ol(s,P,I))):h||(P=Fn(s,f),P!=null&&p.push(ol(s,P,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var V1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(V1,`
`).replace(M1,"")}function Zy(e,n){return n=Jy(n),Jy(e)===n}function Xt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,na(e,s,o))}}function hd(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):na(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,p,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),o&&Xt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=p=h=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Xt(e,n,o,F,s,null)}}cu(e,f,E,I,P,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Xt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?us(e,!!o,n,!1):s!=null&&us(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,p,E,s,null)}cs(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,I,o,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)It(al[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,P,o,s,null)}return;default:if(sa(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&hd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xt(e,n,E,o,s,null))}function k1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,P=null,F=null;for(B in s){var Y=s[B];if(s.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(B)||Xt(e,n,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":F=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Y&&Xt(e,n,z,B,o,Y)}}ia(e,p,E,I,P,F,f,h);return;case"select":B=p=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Xt(e,n,h,f,o,I)}n=E,s=p,o=B,z!=null?us(e,!!s,z,!1):!!o!=!!s&&(n!=null?us(e,!!s,n,!0):us(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,p,h,o,f)}hu(e,z,B);return;case"option":for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Xt(e,n,at,null,o,z));for(I in o)z=o[I],B=s[I],o.hasOwnProperty(I)&&z!==B&&(z!=null||B!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Xt(e,n,I,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Xt(e,n,dt,null,o,z);for(P in o)if(z=o[P],B=s[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,P,z,o,B)}return;default:if(sa(n)){for(var $t in s)z=s[$t],s.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&hd(e,n,$t,void 0,o,z);for(F in o)z=o[F],B=s[F],!o.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||hd(e,n,F,z,o,B);return}}for(var M in s)z=s[M],s.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Xt(e,n,M,null,o,z);for(Y in o)z=o[Y],B=s[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||Xt(e,n,Y,z,o,B)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Wy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var F=I.transferSize,Y=I.initiatorType;F&&Wy(Y)&&(I=I.responseEnd,p+=F*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(j1)}:n_;function j1(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function s_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);za(n)}function r_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Un=new Map,c_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=nt.d;nt.d={f:G1,r:F1,D:Q1,C:K1,L:Y1,m:X1,X:J1,S:$1,M:Z1};function G1(){var e=Xi.f(),n=ac();return e||n}function F1(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Xi.r(e)}var Ua=typeof document>"u"?null:document;function h_(e,n,s){var o=Ua;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Q1(e){Xi.D(e),h_("dns-prefetch",e,null)}function K1(e,n){Xi.C(e,n),h_("preconnect",e,n)}function Y1(e,n,s){Xi.L(e,n,s);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Un.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function X1(e,n){Xi.m(e,n);var s=Ua;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Un.has(f)&&(e=b({rel:"modulepreload",href:e},n),Un.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),He(o,"link",e),Ee(o),s.head.appendChild(o)}}}function $1(e,n,s){Xi.S(e,n,s);var o=Ua;if(o&&e){var h=li(o).hoistableStyles,f=La(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(f))&&Ed(e,s);var I=p=o.createElement("link");Ee(I),He(I,"link",e),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function J1(e,n){Xi.X(e,n);var s=Ua;if(s&&e){var o=li(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0},n),(n=Un.get(h))&&Td(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Z1(e,n){Xi.M(e,n);var s=Ua;if(s&&e){var o=li(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&Td(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function f_(e,n,s,o){var h=(h=wt.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=li(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=li(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ul(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),f||W1(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=li(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+nn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function Pa(e){return'[src="'+nn(e)+'"]'}function cl(e){return"script[async]"+e}function m_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",h),gc(o,s.precedence,e),n.instance=o;case"stylesheet":h=La(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=d_(s),(h=Un.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),He(f,"link",o),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,Ee(h),h):(o=s,(h=Un.get(f))&&(o=b({},s),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,e));return n.instance}function gc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function p_(e,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function g_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function tS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=d_(o),(h=Un.get(h))&&Ed(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function nS(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*U1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(iS,e),vc=null,_c.call(e))}function iS(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var o=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function sS(e,n,s,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function __(e,n,s,o,h,f,p,E,I,P,F,Y){return e=new sS(e,n,s,p,I,P,F,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function v_(e){return e?(e=pa,e):pa}function E_(e,n,s,o,h,f){h=v_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=As(e,o,n),s!==null&&(un(s,e,n),Ho(s,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&un(n,e,67108864),Ad(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=En();n=cr(n);var s=Sr(e,n);s!==null&&un(s,e,n),Ad(e,n)}}var Tc=!0;function rS(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,bd(e,n,s,o)}finally{nt.p=f,G.T=h}}function aS(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,bd(e,n,s,o)}finally{nt.p=f,G.T=h}}function bd(e,n,s,o){if(Tc){var h=wd(o);if(h===null)cd(e,n,o,Sc,s),w_(e,o);else if(lS(h,e,n,s,o))o.stopPropagation();else if(w_(e,o),n&4&&-1<oS.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ni(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-fe(p);E.entanglements[1]|=I,p&=~I}Ti(f),(qt&6)===0&&(sc=We()+500,rl(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&un(E,f,2),ac(),Ad(f,2)}if(f=wd(o),f===null&&cd(e,n,o,Sc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,s)}}function wd(e){return e=Rn(e),Rd(e)}var Sc=null;function Rd(e){if(Sc=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case mo:return 2;case po:return 8;case os:case Oh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Cd=!1,Ms=null,ks=null,Us=null,fl=new Map,dl=new Map,Ls=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lS(e,n,s,o,h){switch(n){case"focusin":return Ms=ml(Ms,e,n,s,o,h),!0;case"dragenter":return ks=ml(ks,e,n,s,o,h),!0;case"mouseover":return Us=ml(Us,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function R_(e){var n=oi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,qn(e.priority,function(){A_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,qn(e.priority,function(){A_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=wn(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){Ac(e)&&s.delete(n)}function uS(){Cd=!1,Ms!==null&&Ac(Ms)&&(Ms=null),ks!==null&&Ac(ks)&&(ks=null),Us!==null&&Ac(Us)&&(Us=null),fl.forEach(C_),dl.forEach(C_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var wc=null;function I_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=wn(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function za(e){function n(I){return bc(I,e)}Ms!==null&&bc(Ms,e),ks!==null&&bc(ks,e),Us!==null&&bc(Us,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Ls.length;s++){var o=Ls[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ls.length&&(s=Ls[0],s.blockedOn===null);)R_(s),s.blockedOn===null&&Ls.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Me]||null;if(typeof f=="function")p||I_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Me]||null)E=p.formAction;else if(Rd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),I_(s)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Rc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=En();E_(s,o,e,n,null,null)},Rc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),ac(),n[ri]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ls.length&&n!==0&&n<Ls[s].priority;s++);Ls.splice(s,0,e),s===0&&R_(e)}};var D_=t.version;if(D_!=="19.2.4")throw Error(a(527,D_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{jn=Cc.inject(cS),Pe=Cc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Lg,f=Pg,p=zg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=__(e,1,!1,null,null,s,o,null,h,f,p,N_),e[ri]=n.current,ud(e),new Id(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Lg,p=Pg,E=zg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=__(e,1,!0,n,s??null,o,h,I,f,p,E,N_),n.context=v_(null),s=n.current,o=En(),o=cr(o),h=Ss(o),h.callback=null,As(s,h,o),s=o,n.current.lanes=s,lr(n,s),Ti(n),e[ri]=n.current,ud(e),new Rc(n)},gl.version="19.2.4",gl}var j_;function ES(){if(j_)return Od.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=vS(),Od.exports}var TS=ES();const SS=()=>{};var B_={};const g0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},AS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,S=c>>2,b=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,K=y&63;v||(K=64,d||(V=64)),a.push(i[S],i[b],i[V],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(g0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):AS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||b==null)throw new bS;const V=c<<2|g>>4;if(a.push(V),y!==64){const K=g<<4&240|y>>2;if(a.push(K),b!==64){const et=y<<6&192|b;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(r){const t=g0(r);return y0.encodeByteArray(t,!0)},Fc=function(r){return wS(r).replace(/\./g,"")},_0=function(r){try{return y0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CS=()=>RS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof B_>"u")return;const r=B_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_0(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return SS()||CS()||IS()||NS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v0=r=>uh()?.emulatorHosts?.[r],DS=r=>{const t=v0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},E0=()=>uh()?.config,T0=r=>uh()?.[`_${r}`];class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(r){return(await fetch(r,{credentials:"include"})).ok}function xS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Al={};function VS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?r.emulator.push(t):r.prod.push(t);return r}function MS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let q_=!1;function A0(r,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Al[r]===t||Al[r]||q_)return;Al[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=VS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{q_=!0,d()},V}function S(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=MS(a),K=i("text"),et=document.getElementById(K)||document.createElement("span"),st=i("learnmore"),it=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),St=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const pt=V.element;g(pt),S(it,st);const jt=y();v(St,mt),pt.append(St,et,it,jt),document.body.appendChild(pt)}c?(et.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function US(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const GS="FirebaseError";class rs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=GS,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?FS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new rs(l,g,a)}}function FS(r,t){return r.replace(QS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const QS=/\{\$([^}]+)}/g;function KS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Br(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(H_(c)&&H_(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}function ql(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function YS(r,t){const i=new XS(r,t);return i.subscribe.bind(i)}class XS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");$S(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function Qe(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ur="[DEFAULT]";class JS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new OS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WS(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ZS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZS(r){return r===Ur?void 0:r}function WS(r){return r.instantiationMode==="EAGER"}class tA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const eA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},nA=Ot.INFO,iA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},sA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=iA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=nA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const rA=(r,t)=>t.some(i=>r instanceof i);let G_,F_;function aA(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b0=new WeakMap,$d=new WeakMap,w0=new WeakMap,Ud=new WeakMap,Sm=new WeakMap;function lA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Fs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&b0.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function uA(r){if($d.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cA(r){Jd=r(Jd)}function hA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ld(this),t,...i);return w0.set(a,t.sort?t.sort():[t]),Fs(a)}:oA().includes(r)?function(...t){return r.apply(Ld(this),t),Fs(b0.get(this))}:function(...t){return Fs(r.apply(Ld(this),t))}}function fA(r){return typeof r=="function"?hA(r):(r instanceof IDBTransaction&&uA(r),rA(r,aA())?new Proxy(r,Jd):r)}function Fs(r){if(r instanceof IDBRequest)return lA(r);if(Ud.has(r))return Ud.get(r);const t=fA(r);return t!==r&&(Ud.set(r,t),Sm.set(t,r)),t}const Ld=r=>Sm.get(r);function dA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Fs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Fs(d.result),v.oldVersion,v.newVersion,Fs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const mA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],Pd=new Map;function Q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=pA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||mA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Pd.set(t,c),c}cA(r=>({...r,get:(t,i,a)=>Q_(t,i)||r.get(t,i,a),has:(t,i)=>!!Q_(t,i)||r.has(t,i)}));class gA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",K_="0.14.8";const Wi=new Tm("@firebase/app"),_A="@firebase/app-compat",vA="@firebase/analytics-compat",EA="@firebase/analytics",TA="@firebase/app-check-compat",SA="@firebase/app-check",AA="@firebase/auth",bA="@firebase/auth-compat",wA="@firebase/database",RA="@firebase/data-connect",CA="@firebase/database-compat",IA="@firebase/functions",NA="@firebase/functions-compat",DA="@firebase/installations",OA="@firebase/installations-compat",xA="@firebase/messaging",VA="@firebase/messaging-compat",MA="@firebase/performance",kA="@firebase/performance-compat",UA="@firebase/remote-config",LA="@firebase/remote-config-compat",PA="@firebase/storage",zA="@firebase/storage-compat",jA="@firebase/firestore",BA="@firebase/ai",qA="@firebase/firestore-compat",HA="firebase",GA="12.9.0";const Wd="[DEFAULT]",FA={[Zd]:"fire-core",[_A]:"fire-core-compat",[EA]:"fire-analytics",[vA]:"fire-analytics-compat",[SA]:"fire-app-check",[TA]:"fire-app-check-compat",[AA]:"fire-auth",[bA]:"fire-auth-compat",[wA]:"fire-rtdb",[RA]:"fire-data-connect",[CA]:"fire-rtdb-compat",[IA]:"fire-fn",[NA]:"fire-fn-compat",[DA]:"fire-iid",[OA]:"fire-iid-compat",[xA]:"fire-fcm",[VA]:"fire-fcm-compat",[MA]:"fire-perf",[kA]:"fire-perf-compat",[UA]:"fire-rc",[LA]:"fire-rc-compat",[PA]:"fire-gcs",[zA]:"fire-gcs-compat",[jA]:"fire-fst",[qA]:"fire-fst-compat",[BA]:"fire-vertex","fire-js":"fire-js",[HA]:"fire-js-all"};const Dl=new Map,QA=new Map,tm=new Map;function Y_(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ja(r){const t=r.name;if(tm.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Dl.values())Y_(i,r);for(const i of QA.values())Y_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}const KA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Bl("app","Firebase",KA);class YA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const so=GA;function R0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(i||(i=E0()),!i)throw Qs.create("no-options");const c=Dl.get(l);if(c){if(Br(i,c.options)&&Br(a,c.config))return c;throw Qs.create("duplicate-app",{appName:l})}const d=new tA(l);for(const v of tm.values())d.addComponent(v);const g=new YA(i,a,d);return Dl.set(l,g),g}function bm(r=Wd){const t=Dl.get(r);if(!t&&r===Wd&&E0())return R0();if(!t)throw Qs.create("no-app",{appName:r});return t}function XA(){return Array.from(Dl.values())}function Ks(r,t,i){let a=FA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Ja(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const $A="firebase-heartbeat-database",JA=1,Ol="firebase-heartbeat-store";let zd=null;function C0(){return zd||(zd=dA($A,JA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),zd}async function ZA(r){try{const i=(await C0()).transaction(Ol),a=await i.objectStore(Ol).get(I0(r));return await i.done,a}catch(t){if(t instanceof rs)Wi.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function X_(r,t){try{const a=(await C0()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,I0(r)),await a.done}catch(i){if(i instanceof rs)Wi.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function I0(r){return`${r.name}!${r.options.appId}`}const WA=1024,tb=30;class eb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ib(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tb){const l=sb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:i,unsentEntries:a}=nb(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function $_(){return new Date().toISOString().substring(0,10)}function nb(r,t=WA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),J_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ib{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function sb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function rb(r){Ja(new qr("platform-logger",t=>new gA(t),"PRIVATE")),Ja(new qr("heartbeat",t=>new eb(t),"PRIVATE")),Ks(Zd,K_,r),Ks(Zd,K_,"esm2020"),Ks("fire-js","")}rb("");var ab="firebase",ob="12.9.0";Ks(ab,ob,"app");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,N0;(function(){var r;function t(N,A){function w(){}w.prototype=A.prototype,N.F=A.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(x,O,k){for(var R=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)R[Zt-2]=arguments[Zt];return A.prototype[O].apply(x,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,w){w||(w=0);const x=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)x[O]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(O=0;O<16;++O)x[O]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=N.g[0],w=N.g[1],O=N.g[2];let k=N.g[3],R;R=A+(k^w&(O^k))+x[0]+3614090360&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+x[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+x[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+x[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(k^w&(O^k))+x[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+x[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+x[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+x[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(k^w&(O^k))+x[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+x[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+x[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+x[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(k^w&(O^k))+x[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+x[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+x[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+x[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(O^k&(w^O))+x[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+x[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+x[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+x[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(w^O))+x[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+x[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+x[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+x[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(w^O))+x[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+x[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+x[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+x[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(w^O))+x[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+x[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+x[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+x[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(w^O^k)+x[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+x[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+x[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+x[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^k)+x[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+x[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+x[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+x[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^k)+x[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+x[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+x[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+x[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^k)+x[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+x[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+x[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+x[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(O^(w|~k))+x[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+x[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+x[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+x[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~k))+x[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+x[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+x[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+x[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~k))+x[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+x[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+x[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+x[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~k))+x[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+x[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+x[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const w=A-this.blockSize,x=this.C;let O=this.h,k=0;for(;k<A;){if(O==0)for(;k<=w;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<A;)if(x[O++]=N.charCodeAt(k++),O==this.blockSize){l(this,x),O=0;break}}else for(;k<A;)if(x[O++]=N[k++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,w=0;w<4;++w)for(let x=0;x<32;x+=8)N[A++]=this.g[w]>>>x&255;return N};function c(N,A){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=A(N)}function d(N,A){this.h=A;const w=[];let x=!0;for(let O=N.length-1;O>=0;O--){const k=N[O]|0;x&&k==A||(w[O]=k,x=!1)}this.g=w}var g={};function v(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return it(y(-N));const A=[];let w=1;for(let x=0;N>=w;x++)A[x]=N/w|0,w*=4294967296;return new d(A,0)}function S(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return it(S(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(A,8));let x=b;for(let k=0;k<N.length;k+=8){var O=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+O),A);O<8?(O=y(Math.pow(A,O)),x=x.j(O).add(y(R))):(x=x.j(w),x=x.add(y(R)))}return x}var b=v(0),V=v(1),K=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-it(this).m();let N=0,A=1;for(let w=0;w<this.g.length;w++){const x=this.i(w);N+=(x>=0?x:4294967296+x)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(st(this))return"-"+it(this).toString(N);const A=y(Math.pow(N,6));var w=this;let x="";for(;;){const O=jt(w,A).g;w=mt(w,O.j(A));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=O,et(w))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=mt(this,N),st(N)?-1:et(N)?0:1};function it(N){const A=N.g.length,w=[];for(let x=0;x<A;x++)w[x]=~N.g[x];return new d(w,~N.h).add(V)}r.abs=function(){return st(this)?it(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),w=[];let x=0;for(let O=0;O<=A;O++){let k=x+(this.i(O)&65535)+(N.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);x=R>>>16,k&=65535,R&=65535,w[O]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function mt(N,A){return N.add(it(A))}r.j=function(N){if(et(this)||et(N))return b;if(st(this))return st(N)?it(this).j(it(N)):it(it(this).j(N));if(st(N))return it(this.j(it(N)));if(this.l(K)<0&&N.l(K)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,w=[];for(var x=0;x<2*A;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<N.g.length;O++){const k=this.i(x)>>>16,R=this.i(x)&65535,Zt=N.i(O)>>>16,he=N.i(O)&65535;w[2*x+2*O]+=R*he,St(w,2*x+2*O),w[2*x+2*O+1]+=k*he,St(w,2*x+2*O+1),w[2*x+2*O+1]+=R*Zt,St(w,2*x+2*O+1),w[2*x+2*O+2]+=k*Zt,St(w,2*x+2*O+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new d(w,0)};function St(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function pt(N,A){this.g=N,this.h=A}function jt(N,A){if(et(A))throw Error("division by zero");if(et(N))return new pt(b,b);if(st(N))return A=jt(it(N),A),new pt(it(A.g),it(A.h));if(st(A))return A=jt(N,it(A)),new pt(it(A.g),A.h);if(N.g.length>30){if(st(N)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var w=V,x=A;x.l(N)<=0;)w=Wt(w),x=Wt(x);var O=_t(w,1),k=_t(x,1);for(x=_t(x,2),w=_t(w,2);!et(x);){var R=k.add(x);R.l(N)<=0&&(O=O.add(w),k=R),x=_t(x,1),w=_t(w,1)}return A=mt(N,O.j(A)),new pt(O,A)}for(O=b;N.l(A)>=0;){for(w=Math.max(1,Math.floor(N.m()/A.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(w),R=k.j(A);st(R)||R.l(N)>0;)w-=x,k=y(w),R=k.j(A);et(k)&&(k=V),O=O.add(k),N=mt(N,R)}return new pt(O,N)}r.B=function(N){return jt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)&N.i(x);return new d(w,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)|N.i(x);return new d(w,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)^N.i(x);return new d(w,this.h^N.h)};function Wt(N){const A=N.g.length+1,w=[];for(let x=0;x<A;x++)w[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(w,N.h)}function _t(N,A){const w=A>>5;A%=32;const x=N.g.length-w,O=[];for(let k=0;k<x;k++)O[k]=A>0?N.i(k+w)>>>A|N.i(k+w+1)<<32-A:N.i(k+w);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,N0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Ys=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D0,_l,O0,Mc,em,x0,V0,M0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,j){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[U].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const j=U.length||0;u.length=_+j;for(let tt=0;tt<j;tt++)u[_+tt]=U[tt]}else u.push(U)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,_){const T=pt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new st(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,_t=!1,N=new St,A=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(w)}};function w(){for(var u;u=mt();){try{u.h.call(u.g)}catch(_){it(_)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_t=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Zt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Zt,O),Zt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function W(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function C(u){const m={};for(const _ in u)m[_]=u[_];return m}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let j=0;j<q.length;j++)_=q[j],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Z(u){this.src=u,this.g={},this.h=0}Z.prototype.add=function(u,m,_,T,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=wt(u,m,T,U);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new nt(m,this.src,j,!!T,U),m.fa=_,u.push(m)),m};function ct(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==T)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,_,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(u,m[j],_,T,U);return null}return _=fo(_),u&&u[he]?u.J(m,_,g(T)?!!T.capture:!1,U):sr(u,m,_,!1,T,U)}function sr(u,m,_,T,U,j){if(!m)throw Error("Invalid event type");const tt=g(U)?!!U.capture:!!U;let At=rr(u);if(At||(u[Ut]=At=new Z(u)),_=At.add(m,_,T,tt,j),_.proxy)return _;if(T=$r(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $r(){function u(_){return m.call(u.src,u.listener,_)}const m=co;return u}function Jr(u,m,_,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Jr(u,m[j],_,T,U);else T=g(T)?!!T.capture:!!T,_=fo(_),u&&u[he]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=wt(m,_,T,U),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,U)),(_=u>-1?m[u]:null)&&Zr(_))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])ct(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ti(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=rr(m))?(ct(_,u),_.h==0&&(_.src=null,m[Ut]=null)):ut(u)}}}function ti(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new Zt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=_.call(T,m)}return u}function rr(u){return u=u[Ut],u instanceof Z?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function ye(){x.call(this),this.i=new Z(this),this.M=this,this.G=null}b(ye,x),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,T){Jr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),J(m,U)}U=!0;let j,tt;if(_)for(tt=_.length-1;tt>=0;tt--)j=m.g=_[tt],U=as(j,T,!0,m)&&U;if(j=m.g=u,U=as(j,T,!0,m)&&U,U=as(j,T,!1,m)&&U,_)for(tt=0;tt<_.length;tt++)j=m.g=_[tt],U=as(j,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function as(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==_){const At=tt.listener,de=tt.ha||tt.src;tt.fa&&ct(u.i,tt),U=At.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends x{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){x.call(this),this.h=u,this.g={}}b(ar,x);var mo=[];function po(u){Mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Zr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),po(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Oh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){O.call(this,"d")}b(Pe,O);function bn(){O.call(this,"c")}b(bn,O);var fe={},iu=null;function Wr(){return iu=iu||new ye}fe.Ia="serverreachability";function su(u){O.call(this,fe.Ia,u)}b(su,O);function ei(u){const m=Wr();De(m,new su(m))}fe.STAT_EVENT="statevent";function or(u,m){O.call(this,fe.STAT_EVENT,u),this.stat=m}b(or,O);function _e(u){const m=Wr();De(m,new or(m,u))}fe.Ja="timingevent";function ni(u,m){O.call(this,fe.Ja,u),this.size=m}b(ni,O);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function xh(u,m,_,T,U,j){u.info(function(){if(u.g)if(j){var tt="",At=j.split("&");for(let Bt=0;Bt<At.length;Bt++){var de=At[Bt].split("=");if(de.length>1){const re=de[0];de=de[1];const In=re.split("_");tt=In.length>=2&&In[1]=="type"?tt+(re+"="+de+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+tt})}function ru(u,m,_,T,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+j+" "+tt})}function si(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,_)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return os(j)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function cr(){}b(cr,eu),cr.prototype.g=function(){return new XMLHttpRequest},yo=new cr;function Oi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function ri(u,m,_){u.M=1,u.A=hr(Te(m)),u.u=_,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ai(u),u.B=Te(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Hn,u.g=Tu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let j=0;j<U.length;j++){const tt=se(_,U[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Qn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||de==7||(de==8||Bt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var _=Mh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var j=T;break e}}j=null}if(u=j)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_e(12),fn(this),wn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=lu(this,_),re==Me){At==4&&(this.m=4,_e(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),si(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,re,null),li(this,re);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),wn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xo(tt),tt.P=!0,_e(11))}}else si(this.i,this.l,_,null),li(this,_);At==4&&fn(this),this.o&&!this.K&&(At==4?yu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),fn(this),wn(this)}}}catch{}};function Mh(u){if(!ou(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,U=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Me:(_=Number(m.substring(_,T)),isNaN(_)?ve:(T+=1,T+_>m.length?Me:(m=m.slice(T,T+_),u.C=T+_,m)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function ai(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ei(),_e(17)),fn(this),this.m=2,wn(this)):ea(this,this.T-u)};function wn(u){u.j.I==0||u.K||yu(u.j,u)}function fn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ci(_.h,u))){if(!u.L&&ci(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),ps(_);else break t;_r(_),_e(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ii(y(_.Va,_),6e3));ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else gi(_,11)}else if((u.L||_.g==u)&&ua(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const re=Bt[0];if(!(re<=_.K))if(_.K=re,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const In=Bt[3];In!=null&&(_.ka=In,_.j.info("VER="+_.ka));const yi=Bt[4];yi!=null&&(_.za=yi,_.j.info("SVER="+_.za));const Kn=Bt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Yn=u.g;if(Yn){const vr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var j=T.h;j.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Eo(j,j.h),j.h=null))}if(T.G){const ca=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Gt(T.J,T.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),tt.L){To(T.h,tt);var At=tt,de=T.O;de&&(At.H=de),At.D&&(oi(At),ai(At)),T.g=tt}else pu(T);_.i.length>0&&pi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(_,7):Do(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}ei(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return K(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,j=null;T>=0?(U=u[_].substring(0,T),j=u[_].substring(T+1)):U=u[_],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,Ao(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ls(this,m[4]),this.h=hi(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,ia,!0),"@"),u.push(Oi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(fr(_,_.charAt(0)=="/"?bo:cu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",fr(_,hu)),u.join("")},dn.prototype.resolve=function(u){const m=Te(this);let _=!!u.j;_?ke(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ls(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let tt=0;tt<U.length;){const At=U[tt++];At=="."?T&&tt==U.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&tt==U.length&&j.push("")):(j.push(At),T=!0)}T=j.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?Ao(m,du(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Te(u){return new dn(u)}function ke(u,m,_){u.j=_?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,_){m instanceof cs?(u.i=m,ra(u.i,u.l)):(_||(m=fr(m,us)),u.i=new cs(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function hr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,cu=/[#\?:]/g,bo=/[#\?]/g,us=/[#\?@]/g,hu=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=cs.prototype,r.add=function(u,m){sn(this),this.i=null,u=hs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function fu(u,m){sn(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return sn(u),m=hs(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ro(u,m){sn(u);let _=[];if(typeof m=="string")wo(u,m)&&(_=_.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return sn(this),this.i=null,u=hs(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){fu(u,m),_.length>0&&(u.i=null,u.g.set(hs(u,m),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=Oi(_);_=Ro(this,_);for(let j=0;j<_.length;j++){let tt=U;_[j]!==""&&(tt+="="+Oi(_[j])),u.push(tt)}}return this.i=u.join("&")};function du(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(fu(this,T),sa(this,U,_))},u)),u.j=m}function Gn(u,m){const _=new Bn;if(d.Image){const T=new Image;T.onload=S(Rn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Rn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(Rn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Rn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const _=new Bn,T=new AbortController,U=setTimeout(()=>{T.abort(),Rn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?Rn(_,"TestPingServer: ok",!0,m):Rn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(_,"TestPingServer: error",!1,m)})}function Rn(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function fs(){this.g=new tu}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(fi,eu),fi.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(dr,ye),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Fn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},r.Na=function(u){this.g&&(this.response=u,ds(this))},r.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function mr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Cn(_),typeof u=="string"?_!=null&&Oi(_):Gt(u,m,_))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,ye);var di=/^https?$/i,Io=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){pr(this,j);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of _)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){pr(this,j)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),xi(u)}function No(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},r.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=j===0){let tt=String(u.D).match(uu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!di.test(tt?tt.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",No(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=au(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[U]||[];m[U]=j,j.push(_)}W(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){_e(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),pi(this)};function Do(u){if(oa(u),u.I==3){var m=u.V++,_=Te(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),yr(u,_),m=new qn(u,u.j,m),m.M=2,m.A=hr(Te(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}vu(u)}function ps(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function oa(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||A(),_t||(Wt(),_t=!0),N.add(m,u),u.D=0}}function la(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new qn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=C(j),J(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=mu(this,U,m),_=Te(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),yr(this,_),j&&(this.R?m="headers="+Oi(Cn(j))+"&"+m:this.u&&mr(_,this.u,j)),Eo(this.h,U),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),U.U=!0,ri(U,_,null)):ri(U,_,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var _;m?_=m.l:_=u.V++;const T=Te(u.J);Gt(T,"SID",u.M),Gt(T,"RID",_),Gt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),_=new qn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,_),ri(_,T,m)}function yr(u,m){u.H&&Mt(u.H,function(_,T){Gt(m,T,_)}),u.l&&Mt({},function(_,T){Gt(m,T,_)})}function mu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const de=["count="+_];At==-1?_>0?(At=U[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let Bt=!0;for(let re=0;re<_;re++){var j=U[re].g;const In=U[re].map;if(j-=At,j<0)At=Math.max(0,U[re].g-100),Bt=!1;else try{j="req"+j+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[yi,Kn]of tt){let Yn=Kn;g(Kn)&&(Yn=os(Kn)),de.push(j+yi+"="+encodeURIComponent(Yn))}}catch(yi){throw de.push(j+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(In)}}if(Bt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||A(),_t||(Wt(),_t=!0),N.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ps(this),gu(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=hr(Te(m)),_.u=null,_.R=!0,ta(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ps(this),_r(this),_e(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var _=null;if(u.g==m){ua(u),xo(u),u.g=null;var T=2}else if(ci(u.h,m))_=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Wr(),De(T,new ni(T,_)),pi(u)}else pu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&la(u,m)||T==2&&_r(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function _u(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),hr(T),U?Gn(T.toString(),_):Co(T.toString(),_)}else _e(2);u.I=0,u.l&&u.l.pa(m),vu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,_){var T=_ instanceof dn?Te(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new dn(null);T&&ke(j,T),m&&(j.g=m),U&&ls(j,U),_&&(j.h=_),T=j}return _=u.G,m=u.wa,_&&m&&Gt(T,_,m),Gt(T,"VER",u.ka),yr(u,T),T}function Tu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new fi({ab:_})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}b(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Do(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=os(u),u=_);m.i.push(new Ee(m.Ya++,u)),m.I==3&&pi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,tn.Z.N.call(this)};function Au(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Au,Pe);function bu(){bn.call(this),this.status=1}b(bu,bn);function Mi(u){this.g=u}b(Mi,Su),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new Au(u))},Mi.prototype.pa=function(u){De(this.g,new bu)},Mi.prototype.oa=function(){De(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,M0=function(){return new gs},V0=function(){return Wr()},x0=fe,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Mc=ur,go.COMPLETE="complete",O0=go,nu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,_l=nu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,D0=Kt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ro="12.9.0";function lb(r){ro=r}const Hr=new Tm("@firebase/firestore");function ja(){return Hr.logLevel}function rt(r,...t){if(Hr.logLevel<=Ot.DEBUG){const i=t.map(wm);Hr.debug(`Firestore (${ro}): ${r}`,...i)}}function ts(r,...t){if(Hr.logLevel<=Ot.ERROR){const i=t.map(wm);Hr.error(`Firestore (${ro}): ${r}`,...i)}}function Gr(r,...t){if(Hr.logLevel<=Ot.WARN){const i=t.map(wm);Hr.warn(`Firestore (${ro}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,k0(r,a,i)}function k0(r,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||k0(t,l,a)}function Tt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends rs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class U0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class cb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hb{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new U0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class fb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class db{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new W_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=pb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function xt(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?xt(l,c):jd(l)?1:-1}return xt(r.length,t.length)}const gb=55296,yb=57343;function jd(r){const t=r.charCodeAt(0);return t>=gb&&t<=yb}function Za(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const tv="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class ne extends Si{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Si{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return _b.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new Fe([tv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ne.fromString(t))}static fromName(t){return new ft(ne.fromString(t).popFirst(5))}static empty(){return new ft(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ne(t.slice()))}}function L0(r,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function vb(r,t,i,a){if(t===!0&&a===!0)throw new lt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function ev(r){if(!ft.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nv(r){if(ft.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function P0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Ai(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cm(r);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Hl(r,t){if(!P0(r))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const iv=-62135596800,sv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*sv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<iv)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function Eb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new $s(l,ft.empty(),t)}function Tb(r){return new $s(r.readTime,r.key,xl)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(vt.min(),ft.empty(),xl)}static max(){return new $s(vt.max(),ft.empty(),xl)}}function Sb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}const Ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Ab)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function wb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Im=-1;function hh(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function Rb(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const z0="";function Cb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=rv(t)),t=Ib(r.get(i),t);return rv(t)}function Ib(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case z0:i+="";break;default:i+=c}}return i}function rv(r){return r+z0+""}function av(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function nr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function j0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class B0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new B0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=Nb.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const q0="server_timestamp",H0="__type__",G0="__previous_value__",F0="__local_write_time__";function Nm(r){return(r?.mapValue?.fields||{})[H0]?.stringValue===q0}function fh(r){const t=r.mapValue.fields[G0];return Nm(t)?fh(t):t}function Vl(r){const t=Js(r.mapValue.fields[F0].timestampValue);return new ie(t.seconds,t.nanos)}class Db{constructor(t,i,a,l,c,d,g,v,y,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=b}}const Kc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}function Ob(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(r.options.projectId,t)}const Q0="__type__",xb="__max__",Dc={mapValue:{}},K0="__vector__",Yc="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nm(r)?4:Mb(r)?9007199254740991:Vb(r)?10:11:gt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=Ws(r);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Js(l.timestampValue),g=Js(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Qc(d)===Qc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(av(d)!==av(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ni(d[v],g[v])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=Ws(r),a=Ws(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return lv(r.timestampValue,t.timestampValue);case 4:return lv(Vl(r),Vl(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zs(c),v=Zs(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const S=xt(g[y],v[y]);if(S!==0)return S}return xt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=xt(ge(c.latitude),ge(d.latitude));return g!==0?g:xt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return uv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Yc]?.arrayValue,S=v[Yc]?.arrayValue,b=xt(y?.values?.length||0,S?.values?.length||0);return b!==0?b:uv(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const V=nm(v[b],S[b]);if(V!==0)return V;const K=Wa(g[v[b]],y[S[b]]);if(K!==0)return K}return xt(v.length,S.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function lv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=Js(r),a=Js(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function uv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Wa(i[l],a[l]);if(c)return c}return xt(i.length,a.length)}function to(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Js(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function kc(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return nr(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Dm(r){return!!r&&"arrayValue"in r}function cv(r){return!!r&&"nullValue"in r}function hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function Vb(r){return(r?.mapValue?.fields||{})[Q0]?.stringValue===K0}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return nr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return{...r}}function Mb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xb}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=bl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){nr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(bl(this.value))}}function Y0(r){const t=[];return nr(r.fields,((i,a)=>{const l=new Fe([i]);if(Uc(a)){const c=Y0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Je{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function fv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function dv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class $c{constructor(t,i="asc"){this.field=t,this.dir=i}}function kb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class X0{}class xe extends X0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Lb(t,i,a):i==="array-contains"?new jb(t,a):i==="in"?new Bb(t,a):i==="not-in"?new qb(t,a):i==="array-contains-any"?new Hb(t,a):new xe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Pb(t,a):new zb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends X0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return $0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $0(r){return r.op==="and"}function J0(r){return Ub(r)&&$0(r)}function Ub(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function rm(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+to(r.value);if(J0(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function Z0(r,t){return r instanceof xe?(function(a,l){return l instanceof xe&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(r,t):r instanceof Di?(function(a,l){return l instanceof Di&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&Z0(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function W0(r){return r instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(r):r instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(W0).join(" ,")+"}"})(r):"Filter"}class Lb extends xe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class Pb extends xe{constructor(t,i){super(t,"in",i),this.keys=tE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class zb extends xe{constructor(t,i){super(t,"not-in",i),this.keys=tE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class jb extends xe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&kl(i.arrayValue,this.value)}}class Bb extends xe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class qb extends xe{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class Hb extends xe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>kl(this.value.arrayValue,a)))}}class Gb{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function mv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Gb(r,t,i,a,l,c,d)}function Om(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>to(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>to(a))).join(",")),t.Te=i}return t.Te}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!kb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Z0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!dv(r.startAt,t.startAt)&&dv(r.endAt,t.endAt)}function am(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Fb(r,t,i,a,l,c,d,g){return new dh(r,t,i,a,l,c,d,g)}function Vm(r){return new dh(r)}function pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Qb(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Kb(r){return r.collectionGroup!==null}function wl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new $c(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new $c(Fe.keyField(),a))}return t.Ie}function bi(r){const t=Tt(r);return t.Ee||(t.Ee=Yb(t,wl(r))),t.Ee}function Yb(r,t){if(r.limitType==="F")return mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new $c(l.field,c)}));const i=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return mv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function om(r,t,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function mh(r,t){return xm(bi(r),bi(t))&&r.limitType===t.limitType}function eE(r){return`${Om(bi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>W0(l))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${a})`})(bi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=fv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,g,v){const y=fv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,wl(a),l))})(r,t)}function Xb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nE(r){return(t,i)=>{let a=!1;for(const l of wl(r)){const c=$b(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function $b(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Wa(v,y):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return j0(this.inner)}size(){return this.innerSize}}const Jb=new le(ft.comparator);function es(){return Jb}const iE=new le(ft.comparator);function vl(...r){let t=iE;for(const i of r)t=t.insert(i.key,i);return t}function sE(r){let t=iE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Pr(){return Rl()}function rE(){return Rl()}function Rl(){return new Yr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Zb=new le(ft.comparator),Wb=new Ve(ft.comparator);function Vt(...r){let t=Wb;for(const i of r)t=t.add(i);return t}const tw=new Ve(xt);function ew(){return tw}function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function aE(r){return{integerValue:""+r}}function nw(r,t){return Rb(t)?aE(t):Mm(r,t)}class gh{constructor(){this._=void 0}}function iw(r,t,i){return r instanceof Ul?(function(l,c){const d={fields:{[H0]:{stringValue:q0},[F0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=fh(c)),c&&(d.fields[G0]=c),{mapValue:d}})(i,t):r instanceof Ll?lE(r,t):r instanceof Pl?uE(r,t):(function(l,c){const d=oE(l,c),g=gv(d)+gv(l.Ae);return sm(d)&&sm(l.Ae)?aE(g):Mm(l.serializer,g)})(r,t)}function sw(r,t,i){return r instanceof Ll?lE(r,t):r instanceof Pl?uE(r,t):i}function oE(r,t){return r instanceof Jc?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ul extends gh{}class Ll extends gh{constructor(t){super(),this.elements=t}}function lE(r,t){const i=cE(t);for(const a of r.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends gh{constructor(t){super(),this.elements=t}}function uE(r,t){let i=cE(t);for(const a of r.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class Jc extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function gv(r){return ge(r.integerValue||r.doubleValue)}function cE(r){return Dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class rw{constructor(t,i){this.field=t,this.transform=i}}function aw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ll&&l instanceof Ll||a instanceof Pl&&l instanceof Pl?Za(a.elements,l.elements,Ni):a instanceof Jc&&l instanceof Jc?Ni(a.Ae,l.Ae):a instanceof Ul&&l instanceof Ul})(r.transform,t.transform)}class ow{constructor(t,i){this.version=t,this.transformResults=i}}class zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function hE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new km(r.key,zn.none()):new Gl(r.key,r.data,zn.none());{const i=r.data,a=hn.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ir(r.key,a,new Sn(l.toArray()),zn.none())}}function lw(r,t,i){r instanceof Gl?(function(l,c,d){const g=l.value.clone(),v=_v(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ir?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=_v(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(fE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,a){return r instanceof Gl?(function(c,d,g,v){if(!Lc(c.precondition,d))return g;const y=c.value.clone(),S=vv(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ir?(function(c,d,g,v){if(!Lc(c.precondition,d))return g;const y=vv(c.fieldTransforms,v,d),S=d.data;return S.setAll(fE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,g){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function uw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=oE(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function yv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>aw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends yh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ir extends yh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function _v(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,sw(d,g,i[l]))}return a}function vv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,iw(c,d,t))}return a}class km extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cw extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&lw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=rE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=hE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>yv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>yv(i,a)))}}class Um{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Zb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Um(t,i,a,l)}}class fw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function mw(r){switch(r){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function dE(r){if(r===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(r){case Re.OK:return $.OK;case Re.CANCELLED:return $.CANCELLED;case Re.UNKNOWN:return $.UNKNOWN;case Re.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Re.INTERNAL:return $.INTERNAL;case Re.UNAVAILABLE:return $.UNAVAILABLE;case Re.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Re.NOT_FOUND:return $.NOT_FOUND;case Re.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Re.ABORTED:return $.ABORTED;case Re.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Re.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function pw(){return new TextEncoder}const gw=new Ys([4294967295,4294967295],0);function Ev(r){const t=pw().encode(r),i=new N0;return i.update(t),new Uint8Array(i.digest())}function Tv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([l,c],0)]}class Lm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ys.fromNumber(a)));return l.compare(gw)===1&&(l=new Ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ev(t),[a,l]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Ev(t),[a,l]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(vt.min(),l,new le(xt),es(),Vt())}}class Fl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Fl(a,i,Vt(),Vt(),Vt())}}class Pc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class mE{constructor(t,i){this.targetId=t,this.Ce=i}}class pE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Sv{constructor(){this.ve=0,this.Fe=Av(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Av()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class yw{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.He=Oc(),this.Je=Oc(),this.Ze=new le(xt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new ft(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zs(a).toUint8Array()}catch(v){if(v instanceof B0)return Gr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Lm(d,l,c)}catch(v){return Gr(v instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const v=new ft(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new _h(t,i,this.Ze,this.je,a);return this.je=es(),this.He=Oc(),this.Je=Oc(),this.Ze=new le(xt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Sv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(xt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(xt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new le(ft.comparator)}function Av(){return new le(ft.comparator)}const _w={asc:"ASCENDING",desc:"DESCENDING"},vw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ew={and:"AND",or:"OR"};class Tw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function Zc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Sw(r,t){return Zc(r,t.toTimestamp())}function wi(r){return Ht(!!r,49232),vt.fromTimestamp((function(i){const a=Js(i);return new ie(a.seconds,a.nanos)})(r))}function Pm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function yE(r){const t=ne.fromString(r);return Ht(SE(t),10190,{key:t.toString()}),t}function cm(r,t){return Pm(r.databaseId,t.path)}function Bd(r,t){const i=yE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(vE(i))}function _E(r,t){return Pm(r.databaseId,t)}function Aw(r){const t=yE(r);return t.length===4?ne.emptyPath():vE(t)}function hm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bv(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function bw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Ht(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?$.UNKNOWN:dE(y.code);return new lt(S,y.message||"")})(d);i=new pE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):vt.min(),g=new hn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(l,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Pc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?wi(a.readTime):vt.min(),d=Je.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new dw(l,c),g=a.targetId;i=new mE(g,d)}}return i}function ww(r,t){let i;if(t instanceof Gl)i={update:bv(r,t.key,t.value)};else if(t instanceof km)i={delete:cm(r,t.key)};else if(t instanceof ir)i={update:bv(r,t.key,t.data),updateMask:Mw(t.fieldMask)};else{if(!(t instanceof cw))return gt(16599,{dt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Sw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function Rw(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(vt.min())&&(d=wi(c)),new ow(d,l.transformResults||[])})(i,t)))):[]}function Cw(r,t){return{documents:[_E(r,t.path)]}}function Iw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=_E(r,l);const c=(function(y){if(y.length!==0)return TE(Di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(V){return{field:qa(V.field),direction:Ow(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Nw(r){let t=Aw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const V=EE(b);return V instanceof Di&&J0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(et){return new $c(Ha(et.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let V;return V=typeof b=="object"?b.value:b,hh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(b){const V=!!b.before,K=b.values||[];return new Xc(K,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const V=!b.before,K=b.values||[];return new Xc(K,V)})(i.endAt)),Fb(t,l,d,c,g,"F",v,y)}function Dw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function EE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return xe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return xe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return xe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return xe.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>EE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function Ow(r){return _w[r]}function xw(r){return vw[r]}function Vw(r){return Ew[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Fe.fromServerFormat(r.fieldPath)}function TE(r){return r instanceof xe?(function(i){if(i.op==="=="){if(hv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(cv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(hv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(cv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:xw(i.op),value:i.value}}})(r):r instanceof Di?(function(i){const a=i.getFilters().map((l=>TE(l)));return a.length===1?a[0]:{compositeFilter:{op:Vw(i.op),filters:a}}})(r):gt(54877,{filter:r})}function Mw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function SE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function AE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Gs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kw{constructor(t){this.yt=t}}function Uw(r){const t=Nw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}class Lw{constructor(){this.Sn=new Pw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve($s.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Pw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}const wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(bE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class eo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new eo(0)}static ar(){return new eo(-1)}}const Rv="LruGarbageCollector",zw=1048576;function Cv([r,t],[i,a]){const l=xt(r,i);return l===0?xt(t,a):l}class jw{constructor(t){this.Pr=t,this.buffer=new Ve(Cv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Cv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Bw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(Rv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Rv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Ar(3e5)}))}}class qw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const a=new jw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(wv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),ja()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Hw(r,t){return new qw(r,t)}class Gw{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Fw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Qw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,Sn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Pr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Pr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=es();const d=Rl(),g=(function(){return Rl()})();return i.forEach(((v,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof ir)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Cl(S.mutation,y,S.mutation.getFieldMask(),ie.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new Fw(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new le(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=a.get(v)||Sn.empty();S=g.applyToLocalView(y,S),a.set(v,S);const b=(l.get(g.batchId)||Vt()).add(v);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,S=v.value,b=rE();S.forEach((V=>{if(!c.has(V)){const K=hE(i.get(V),a.get(V));K!==null&&b.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return Qb(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Kb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Pr());let g=xl,v=c;return d.next((y=>X.forEach(y,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{v=v.insert(S,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Vt()))).next((S=>({batchId:g,changes:sE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(v=>{const y=(function(b,V){return new dh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let g=vl();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&Cl(S.mutation,y,Sn.empty(),ie.now()),ph(i,y)&&(g=g.insert(v,y))})),g}))}}class Kw{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Uw(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}class Yw{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Pr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Pr(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Pr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Pr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=l)););return X.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new fw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class Xw{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class zm{constructor(){this.kr=new Ve(Le.Kr),this.qr=new Ve(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ft(new ne([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new ne([])),a=new Le(i,t),l=new Le(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||xt(t.Hr,i.Hr)}static Ur(t,i){return xt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class $w{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Le.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Im:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(xt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let g=new Ve(xt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Jw{constructor(t){this.ti=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Sb(Tb(S),a)<=0||(l.has(S.key)||ph(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Zw(this)}getSize(t){return X.resolve(this.size)}}class Zw extends Gw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Ww{constructor(t){this.persistence=t,this.ri=new Yr((i=>Om(i)),xm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new zm,this.targetCount=0,this.oi=eo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class wE{constructor(t,i){this._i={},this.overlays={},this.ai=new ch(0),this.ui=!1,this.ui=!0,this.ci=new Xw,this.referenceDelegate=t(this),this.li=new Ww(this),this.indexManager=new Lw,this.remoteDocumentCache=(function(l){return new Jw(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new kw(i),this.Pi=new Kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Yw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new $w(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new t2(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class t2 extends bb{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new zm,this.Ai=null}static Vi(t){return new jm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ft.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.fi=new Yr((a=>Cb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Hw(this,i)}static Vi(t,i){return new Wc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,a,l)}}class e2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class n2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return BS()?8:wb(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new e2;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(ja()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(ja()<=Ot.DEBUG&&rt("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(ja()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}gs(t,i){if(pv(i))return X.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,om(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return pv(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(ja()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.Ds(t,d,i,Eb(l,xl)).next((g=>g)))}))}bs(t,i){let a=new Ve(nE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return ja()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.fs.getDocumentsMatchingQuery(t,i,$s.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const qm="LocalStore",i2=3e8;class s2{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(xt),this.Fs=new Yr((c=>Om(c)),xm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Qw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function r2(r,t,i,a){return new s2(r,t,i,a)}async function RE(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Vt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function a2(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,S){const b=y.batch,V=b.keys();let K=X.resolve();return V.forEach((et=>{K=K.next((()=>S.getEntry(v,et))).next((st=>{const it=y.docVersions.get(et);Ht(it!==null,48541),st.version.compareTo(it)<0&&(b.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),S.addEntry(st)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function CE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function o2(r,t){const i=Tt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((S,b)=>{const V=l.get(b);if(!V)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let K=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),l=l.insert(b,K),(function(st,it,mt){return st.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=i2?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(V,K,S)&&g.push(i.li.updateTargetData(c,K))}));let v=es(),y=Vt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(l2(c,d,t.documentUpdates).next((S=>{v=S.Bs,y=S.Ls}))),!a.isEqual(vt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function l2(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=es();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):rt(qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function u2(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function c2(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Gs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=Tt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;rt(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Iv(r,t,i){const a=Tt(r);let l=vt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const b=Tt(v),V=b.Fs.get(S);return V!==void 0?X.resolve(b.vs.get(V)):b.li.getTargetData(y,S)})(a,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Vt()))).next((g=>(h2(a,Xb(t),g),{documents:g,ks:c})))))}function h2(r,t,i){let a=r.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Nv{constructor(){this.activeTargetIds=ew()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class f2{constructor(){this.vo=new Nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Nv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class d2{Mo(t){}shutdown(){}}const Dv="ConnectivityMonitor";class Ov{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(Dv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(Dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function dm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const qd="RestConnection",m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class p2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=dm(),g=this.Qo(t,i.toUriEncodedString());rt(qd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),S=io(y);return this.zo(t,g,v,a,S).then((b=>(rt(qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Gr(qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=m2[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class g2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",yl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fa extends p2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Fa.c_){const t=V0();yl(t,x0.STAT_EVENT,(i=>{i.stat===em.PROXY?rt(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===em.NOPROXY&&rt(Xe,"STAT_EVENT: detected no buffering proxy")})),Fa.c_=!0}}zo(t,i,a,l,c){const d=dm();return new Promise(((g,v)=>{const y=new D0;y.setWithCredentials(!0),y.listenOnce(O0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const b=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Mc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),v(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const V=y.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const et=K?.error;if(et&&et.status&&et.message){const st=(function(mt){const St=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(St)>=0?St:$.UNKNOWN})(et.status);v(new lt(st,et.message))}else v(new lt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new lt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,g);const S=d.createWebChannel(y,g);this.I_(S);let b=!1,V=!1;const K=new g2({Ho:et=>{V?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(b||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,et),S.send(et))},Jo:()=>S.close()});return yl(S,_l.EventType.OPEN,(()=>{V||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),yl(S,_l.EventType.CLOSE,(()=>{V||(V=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(S))})),yl(S,_l.EventType.ERROR,(et=>{V||(V=!0,Gr(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),K.o_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),yl(S,_l.EventType.MESSAGE,(et=>{if(!V){const st=et.data[0];Ht(!!st,16349);const it=st,mt=it?.error||it[0]?.error;if(mt){rt(Xe,`RPC '${t}' stream ${l} received error:`,mt);const St=mt.status;let pt=(function(_t){const N=Re[_t];if(N!==void 0)return dE(N)})(St),jt=mt.message;St==="NOT_FOUND"&&jt.includes("database")&&jt.includes("does not exist")&&jt.includes(this.databaseId.database)&&Gr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),pt===void 0&&(pt=$.INTERNAL,jt="Unknown error status: "+St+" with message "+mt.message),V=!0,K.o_(new lt(pt,jt)),S.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,st),K.__(st)}})),Fa.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return M0()}}function y2(r){return new Fa(r)}function Hd(){return typeof document<"u"?document:null}function vh(r){return new Tw(r,!0)}Fa.c_=!1;class IE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const xv="PersistentStream";class NE{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _2 extends NE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=bw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?wi(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=am(v)?{documents:Cw(c,v)}:{query:Iw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=gE(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Zc(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=Dw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.K_(i)}}class v2 extends NE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Rw(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>ww(this.serializer,a)))};this.K_(i)}}class E2{}class T2 extends E2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,um(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function S2(r,t,i,a){return new T2(r,t,i,a)}class A2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fr="RemoteStore";class b2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(rt(Fr,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await Ql(y),y.Va.set("Unknown"),y.Ea.delete(4),await Eh(y)})(this))}))})),this.Va=new A2(a,l)}}async function Eh(r){if(Xr(r))for(const t of r.Ra)await t(!0)}async function Ql(r){for(const t of r.Ra)await t(!1)}function DE(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Qm(i)?Fm(i):lo(i).O_()&&Gm(i,t))}function Hm(r,t){const i=Tt(r),a=lo(i);i.Ia.delete(t),a.O_()&&OE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Va.set("Unknown"))}function Gm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).Z_(t)}function OE(r,t){r.da.$e(t),lo(r).X_(t)}function Fm(r){r.da=new yw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Va.ua()}function Qm(r){return Xr(r)&&!lo(r).x_()&&r.Ia.size>0}function Xr(r){return Tt(r).Ea.size===0}function xE(r){r.da=void 0}async function w2(r){r.Va.set("Online")}async function R2(r){r.Ia.forEach(((t,i)=>{Gm(r,t)}))}async function C2(r,t){xE(r),Qm(r)?(r.Va.ha(t),Fm(r)):r.Va.set("Unknown")}async function I2(r,t,i){if(r.Va.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,t)}catch(a){rt(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(r,a)}else if(t instanceof Pc?r.da.Xe(t):t instanceof mE?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const a=await CE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),OE(c,v);const b=new Gs(S.target,v,y,S.sequenceNumber);Gm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){rt(Fr,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Ql(r),r.Va.set("Offline"),i||(i=()=>CE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Fr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)}))}function VE(r,t){return t().catch((i=>th(r,i,t)))}async function Th(r){const t=Tt(r),i=tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;N2(t);)try{const l=await u2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,D2(t,l)}catch(l){await th(t,l)}ME(t)&&kE(t)}function N2(r){return Xr(r)&&r.Ta.length<10}function D2(r,t){r.Ta.push(t);const i=tr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function ME(r){return Xr(r)&&!tr(r).x_()&&r.Ta.length>0}function kE(r){tr(r).start()}async function O2(r){tr(r).ra()}async function x2(r){const t=tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function V2(r,t,i){const a=r.Ta.shift(),l=Um.from(a,t,i);await VE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Th(r)}async function M2(r,t){t&&tr(r).Y_&&await(async function(a,l){if((function(d){return mw(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();tr(a).B_(),await VE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(a)}})(r,t),ME(r)&&kE(r)}async function Vv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),rt(Fr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Ql(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function k2(r,t){const i=Tt(r);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Ql(i),i.Va.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new _2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:w2.bind(null,r),Yo:R2.bind(null,r),t_:C2.bind(null,r),J_:I2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Qm(r)?Fm(r):r.Va.set("Unknown")):(await r.ma.stop(),xE(r))}))),r.ma}function tr(r){return r.fa||(r.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new v2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:O2.bind(null,r),t_:M2.bind(null,r),ta:x2.bind(null,r),na:V2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Fr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Km{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Km(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(r,t){if(ts("AsyncQueue",`${t}: ${r}`),oo(r))return new lt($.UNAVAILABLE,`${t}: ${r}`);throw r}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Mv{constructor(){this.ga=new le(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class no{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new no(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class U2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class L2{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=kv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function kv(){return new Yr((r=>eE(r)),mh)}async function P2(r,t){const i=Tt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new U2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Ym(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Xm(i)}async function z2(r,t){const i=Tt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function j2(r,t){const i=Tt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Xm(i)}function B2(r,t,i){const a=Tt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Xm(r){r.Ca.forEach((t=>{t.next()}))}var mm,Uv;(Uv=mm||(mm={})).Ma="default",Uv.Cache="cache";class q2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new no(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class UE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class H2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=nE(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Mv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const V=l.get(S),K=ph(this.query,b)?b:null,et=!!V&&this.mutatedKeys.has(V.key),st=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let it=!1;V&&K?V.data.isEqual(K.data)?et!==st&&(a.track({type:3,doc:K}),it=!0):this.su(V,K)||(a.track({type:2,doc:K}),it=!0,(v&&this.eu(K,v)>0||y&&this.eu(K,y)<0)&&(g=!0)):!V&&K?(a.track({type:0,doc:K}),it=!0):V&&!K&&(a.track({type:1,doc:V}),it=!0,(v||y)&&(g=!0)),it&&(K?(d=d.add(K),c=st?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(K,et){const st=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:it})}};return st(K)-st(et)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new LE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new UE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $m="SyncEngine";class G2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class F2{constructor(t){this.key=t,this.hu=!1}}class Q2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((g=>eE(g)),mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new zm,this.du={},this.mu=new Map,this.fu=eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K2(r,t,i=!0){const a=HE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await PE(a,t,i,!0),l}async function Y2(r,t){const i=HE(r);await PE(i,t,!0,!1)}async function PE(r,t,i,a){const l=await c2(r.localStore,bi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await X2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&DE(r.remoteStore,l),g}async function X2(r,t,i,a,l){r.pu=(b,V,K)=>(async function(st,it,mt,St){let pt=it.view.ru(mt);pt.Ss&&(pt=await Iv(st.localStore,it.query,!1).then((({documents:N})=>it.view.ru(N,pt))));const jt=St&&St.targetChanges.get(it.targetId),Wt=St&&St.targetMismatches.get(it.targetId)!=null,_t=it.view.applyChanges(pt,st.isPrimaryClient,jt,Wt);return Pv(st,it.targetId,_t.au),_t.snapshot})(r,b,V,K);const c=await Iv(r.localStore,t,!0),d=new H2(t,c.ks),g=d.ru(c.documents),v=Fl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,v);Pv(r,i,y.au);const S=new G2(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function $2(r,t,i){const a=Tt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Hm(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(ao)):(pm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function J2(r,t){const i=Tt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function Z2(r,t,i){const a=rR(r);try{const l=await(function(d,g){const v=Tt(d),y=ie.now(),S=g.reduce(((K,et)=>K.add(et.key)),Vt());let b,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let et=es(),st=Vt();return v.xs.getEntries(K,S).next((it=>{et=it,et.forEach(((mt,St)=>{St.isValidDocument()||(st=st.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,et))).next((it=>{b=it;const mt=[];for(const St of g){const pt=uw(St,b.get(St.key).overlayedDocument);pt!=null&&mt.push(new ir(St.key,pt,Y0(pt.value.mapValue),zn.exists(!0)))}return v.mutationQueue.addMutationBatch(K,y,mt,g)})).next((it=>{V=it;const mt=it.applyToLocalDocumentSet(b,st);return v.documentOverlayCache.saveOverlays(K,it.batchId,mt)}))})).then((()=>({batchId:V.batchId,changes:sE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Kl(a,l.changes),await Th(a.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");i.reject(c)}}async function zE(r,t){const i=Tt(r);try{const a=await o2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await ao(a)}}function Lv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let y=!1;v.queries.forEach(((S,b)=>{for(const V of b.ba)V.va(g)&&(y=!0)})),y&&Xm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function W2(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ft.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const g=Vt().add(c),v=new _h(vt.min(),new Map,new le(xt),d,g);await zE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Jm(a)}else await fm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(ao)}async function tR(r,t){const i=Tt(r),a=t.batch.batchId;try{const l=await a2(i.localStore,t);BE(i,a,null),jE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await ao(l)}}async function eR(r,t,i){const a=Tt(r);try{const l=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,g).next((b=>(Ht(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);BE(a,t,i),jE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await ao(l)}}function jE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function BE(r,t,i){const a=Tt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||qE(r,a)}))}function qE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Hm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Jm(r))}function Pv(r,t,i){for(const a of i)a instanceof UE?(r.Vu.addReference(a.key,t),nR(r,a)):a instanceof LE?(rt($m,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||qE(r,a.key)):gt(19791,{wu:a})}function nR(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(rt($m,"New document in limbo: "+i),r.Eu.add(a),Jm(r))}function Jm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(ne.fromString(t)),a=r.fu.next();r.Au.set(a,new F2(i)),r.Ru=r.Ru.insert(i,a),DE(r.remoteStore,new Gs(bi(Vm(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Kl(r,t,i){const a=Tt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Bm.Es(v.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const S=Tt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(V=>X.forEach(V.Ts,(K=>S.persistence.referenceDelegate.addReference(b,V.targetId,K))).next((()=>X.forEach(V.Is,(K=>S.persistence.referenceDelegate.removeReference(b,V.targetId,K)))))))))}catch(b){if(!oo(b))throw b;rt(qm,"Failed to update sequence numbers: "+b)}for(const b of y){const V=b.targetId;if(!b.fromCache){const K=S.vs.get(V),et=K.snapshotVersion,st=K.withLastLimboFreeSnapshotVersion(et);S.vs=S.vs.insert(V,st)}}})(a.localStore,c))}async function iR(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){rt($m,"User change. New user:",t.toKey());const a=await RE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ns)}}function sR(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function HE(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=W2.bind(null,t),t.Pu.J_=j2.bind(null,t.eventManager),t.Pu.yu=B2.bind(null,t.eventManager),t}function rR(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eR.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return r2(this.persistence,new n2,t.initialUser,this.serializer)}Cu(t){return new wE(jm.Vi,this.serializer)}Du(t){return new f2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class aR extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Bw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new wE((a=>Wc.Vi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=iR.bind(null,this.syncEngine),await k2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new L2})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=y2(t.databaseInfo);return S2(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new b2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Lv(this.syncEngine,i,0)),(function(){return Ov.v()?new Ov:new d2})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,S){const b=new Q2(l,c,d,g,v,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);rt(Fr,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class oR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const er="FirestoreClient";class lR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ym(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await RE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await uR(r);rt(er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Vv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Vv(t.remoteStore,l))),r._onlineComponents=t}async function uR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(er,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Gr("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new eh)}}else rt(er,"Using default OfflineComponentProvider"),await Gd(r,new aR(void 0));return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(er,"Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(rt(er,"Using default OnlineComponentProvider"),await zv(r,new gm))),r._onlineComponents}function cR(r){return GE(r).then((t=>t.syncEngine))}async function jv(r){const t=await GE(r),i=t.eventManager;return i.onListen=K2.bind(null,t.syncEngine),i.onUnlisten=$2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Y2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=J2.bind(null,t.syncEngine),i}function hR(r,t,i,a){const l=new oR(a),c=new q2(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>P2(await jv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>z2(await jv(r),c)))}}function fR(r,t){const i=new zr;return r.asyncQueue.enqueueAndForget((async()=>Z2(await cR(r),t,i))),i.promise}function FE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const dR="ComponentProvider",Bv=new Map;function mR(r,t,i,a,l){return new Db(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,FE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const QE="firestore.googleapis.com",qv=!0;class Hv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=qv}else this.host=t.host,this.ssl=t.ssl??qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zw)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ub;switch(a.type){case"firstParty":return new db(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Bv.get(i);a&&(rt(dR,"Removing Datastore"),Bv.delete(i),a.terminate())})(this),Promise.resolve()}}function pR(r,t,i,a={}){r=Ai(r,Sh);const l=io(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(S0(`https://${g}`),A0("Firestore",!0)),c.host!==QE&&c.host!==g&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!Br(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=$e.MOCK_USER;else{y=xS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(b)}r._authCredentials=new cb(new U0(y,S))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,Ie._jsonSchema))return new Ie(t,a||null,new ft(ne.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class Xs extends Ah{constructor(t,i,a){super(t,i,Vm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ft(t))}withConverter(t){return new Xs(this.firestore,t,this._path)}}function Fd(r,t,...i){if(r=Qe(r),L0("collection","path",t),r instanceof Sh){const a=ne.fromString(t,...i);return nv(a),new Xs(r,null,a)}{if(!(r instanceof Ie||r instanceof Xs))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return nv(a),new Xs(r.firestore,null,a)}}function Tl(r,t,...i){if(r=Qe(r),arguments.length===1&&(t=Rm.newId()),L0("doc","path",t),r instanceof Sh){const a=ne.fromString(t,...i);return ev(a),new Ie(r,null,new ft(a))}{if(!(r instanceof Ie||r instanceof Xs))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return ev(a),new Ie(r.firestore,r instanceof Xs?r.converter:null,new ft(a))}}const Gv="AsyncQueue";class Fv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IE(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&rt(Gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt(Gv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",Qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Km.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Qr extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Fv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fv(t),this._firestoreClient=void 0,await t}}}function gR(r,t){const i=typeof r=="object"?r:bm(),a=typeof r=="string"?r:Kc,l=Am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=DS("firestore");c&&pR(l,...c)}return l}function KE(r){if(r._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yR(r),r._firestoreClient}function yR(r){const t=r._freezeSettings(),i=mR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new lR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ke.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ce("string",Pn._jsonSchemaVersion),bytes:Ce("string")};class Zm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bh{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Wn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Wn(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ce("string",Wn._jsonSchemaVersion),vectorValues:Ce("object")};const _R=/^__.*__$/;class vR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class YE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function XE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class Wm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return nh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XE(this.dataSource)&&_R.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class ER{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}createContext(t,i,a,l=!1){return new Wm({dataSource:t,methodName:i,targetDoc:a,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new ER(r._databaseId,!!t.ignoreUndefinedProperties,i)}function $E(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);np("Data must be an object, but it was:",d,a);const g=JE(a,d);let v,y;if(c.merge)v=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const V=zl(t,b,i);if(!d.contains(V))throw new lt($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);tT(S,V)||S.push(V)}v=new Sn(S),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new vR(new hn(g),v,y)}class wh extends bh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}class ep extends bh{_toFieldTransform(t){return new rw(t.path,new Ul)}isEqual(t){return t instanceof ep}}function TR(r,t,i,a){const l=r.createContext(1,t,i);np("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();nr(a,((v,y)=>{const S=WE(t,v,i);y=Qe(y);const b=l.childContextForFieldPath(S);if(y instanceof wh)c.push(S);else{const V=Rh(y,b);V!=null&&(c.push(S),d.set(S,V))}}));const g=new Sn(c);return new YE(d,g,l.fieldTransforms)}function SR(r,t,i,a,l,c){const d=r.createContext(1,t,i),g=[zl(t,a,i)],v=[l];if(c.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(zl(t,c[V])),v.push(c[V+1]);const y=[],S=hn.empty();for(let V=g.length-1;V>=0;--V)if(!tT(y,g[V])){const K=g[V];let et=v[V];et=Qe(et);const st=d.childContextForFieldPath(K);if(et instanceof wh)y.push(K);else{const it=Rh(et,st);it!=null&&(y.push(K),S.set(K,it))}}const b=new Sn(y);return new YE(S,b,d.fieldTransforms)}function Rh(r,t){if(ZE(r=Qe(r)))return np("Unsupported field value:",t,r),JE(r,t);if(r instanceof bh)return(function(a,l){if(!XE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=Rh(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Zc(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:gE(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Wn)return(function(d,g){const v=d instanceof Wn?d.toArray():d;return{mapValue:{fields:{[Q0]:{stringValue:K0},[Yc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Mm(g.serializer,S)}))}}}}}})(a,l);if(AE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Cm(a)}`)})(r,t)}function JE(r,t){const i={};return j0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(r,((a,l)=>{const c=Rh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ZE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ri||r instanceof Pn||r instanceof Ie||r instanceof bh||r instanceof Wn||AE(r))}function np(r,t,i){if(!ZE(i)||!P0(i)){const a=Cm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function zl(r,t,i){if((t=Qe(t))instanceof Zm)return t._internalPath;if(typeof t=="string")return WE(r,t);throw nh("Field path arguments must be of type string or ",r,!1,void 0,i)}const AR=new RegExp("[~\\*/\\[\\]]");function WE(r,t,i){if(t.search(AR)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zm(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new lt($.INVALID_ARGUMENT,g+r+v)}function tT(r,t){return r.some((i=>i.isEqual(t)))}class bR{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return nr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Yc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Wn(i)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=Js(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Ht(SE(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class eT extends bR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function wR(){return new ep("serverTimestamp")}const Kv="@firebase/firestore",Yv="4.11.0";function Xv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class nT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(zl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RR extends nT{data(){return super.data()}}function CR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function iT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends nT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Ce("string",jr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class zc extends jr{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:IR(g.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function IR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ce("string",Ka._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function NR(r,t,i){r=Ai(r,Ie);const a=Ai(r.firestore,Qr),l=iT(r.converter,t,i),c=tp(a);return Ch(a,[$E(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,zn.none())])}function DR(r,t,i,...a){r=Ai(r,Ie);const l=Ai(r.firestore,Qr),c=tp(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof Zm?SR(c,"updateDoc",r._key,t,i,a):TR(c,"updateDoc",r._key,t),Ch(l,[d.toMutation(r._key,zn.exists(!0))])}function OR(r){return Ch(Ai(r.firestore,Qr),[new km(r._key,zn.none())])}function xR(r,t){const i=Ai(r.firestore,Qr),a=Tl(r),l=iT(r.converter,t),c=tp(r.firestore);return Ch(i,[$E(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,zn.exists(!1))]).then((()=>a))}function Qd(r,...t){r=Qe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Xv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Ie)d=Ai(r.firestore,Qr),g=Vm(r._key.path),c={next:y=>{t[a]&&t[a](VR(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ai(r,Ah);d=Ai(y.firestore,Qr),g=y._query;const S=new eT(d);c={next:b=>{t[a]&&t[a](new Ka(d,S,y,b))},error:t[a+1],complete:t[a+2]},CR(r._query)}const v=KE(d);return hR(v,g,l,c)}function Ch(r,t){const i=KE(r);return fR(i,t)}function VR(r,t,i){const a=i.docs.get(t._key),l=new eT(r);return new jr(r,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){lb(so),Ja(new qr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Qr(new hb(a.getProvider("auth-internal")),new mb(d,a.getProvider("app-check-internal")),Ob(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ks(Kv,Yv,t),Ks(Kv,Yv,"esm2020")})();function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MR=sT,rT=new Bl("auth","Firebase",sT());const ih=new Tm("@firebase/auth");function kR(r,...t){ih.logLevel<=Ot.WARN&&ih.warn(`Auth (${so}): ${r}`,...t)}function jc(r,...t){ih.logLevel<=Ot.ERROR&&ih.error(`Auth (${so}): ${r}`,...t)}function ns(r,...t){throw ip(r,...t)}function Ci(r,...t){return ip(r,...t)}function aT(r,t,i){const a={...MR(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:r.name})}function Zi(r){return aT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ip(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return rT.create(r,...t)}function yt(r,t,...i){if(!r)throw ip(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function is(r,t){r||$i(t)}function ym(){return typeof self<"u"&&self.location?.href||""}function UR(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}function LR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UR()||PS()||"connection"in navigator)?navigator.onLine:!0}function PR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=kS()||zS()}get(){return LR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sp(r,t){is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class oT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BR=new Yl(3e4,6e4);function Xl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function uo(r,t,i,a,l={}){return lT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=ql({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return LS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),oT.fetch()(await uT(r,r.config.apiHost,i,g),y)})}async function lT(r,t,i){r._canInitEmulator=!1;const a={...zR,...t};try{const l=new qR(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Vc(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw aT(r,S,y);ns(r,S)}}catch(l){if(l instanceof rs)throw l;ns(r,"network-request-failed",{message:String(l)})}}async function rp(r,t,i,a,l={}){const c=await uo(r,t,i,a,l);return"mfaPendingCredential"in c&&ns(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function uT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?sp(r.config,l):`${r.config.apiScheme}://${l}`;return jR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class qR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ci(this.auth,"network-request-failed")),BR.get())})}}function Vc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ci(r,t,a);return l.customData._tokenResponse=i,l}async function HR(r,t){return uo(r,"POST","/v1/accounts:delete",t)}async function sh(r,t){return uo(r,"POST","/v1/accounts:lookup",t)}function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GR(r,t=!1){const i=Qe(r),a=await i.getIdToken(t),l=ap(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(Kd(l.auth_time)),issuedAtTime:Il(Kd(l.iat)),expirationTime:Il(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function ap(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_0(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Jv(r){const t=ap(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof rs&&FR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function FR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class QR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(r){const t=r.auth,i=await r.getIdToken(),a=await jl(r,sh(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?cT(l.providerUserInfo):[],d=YR(r.providerData,c),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=g?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function KR(r){const t=Qe(r);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YR(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function cT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function XR(r,t){const i=await lT(r,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await uT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(v.credentials="include"),oT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $R(r,t){return uo(r,"POST","/v2/accounts:revokeToken",Xl(r,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Jv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Jv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await XR(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ya;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return $i("not implemented")}}function zs(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new QR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return GR(this,t)}reload(){return KR(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await jl(this,HR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:K,providerData:et,stsTokenManager:st}=i;yt(b&&st,t,"internal-error");const it=Ya.fromJSON(this.name,st);yt(typeof b=="string",t,"internal-error"),zs(a,t.name),zs(l,t.name),yt(typeof V=="boolean",t,"internal-error"),yt(typeof K=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(g,t.name),zs(v,t.name),zs(y,t.name),zs(S,t.name);const mt=new Zn({uid:b,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:it,createdAt:y,lastLoginAt:S});return et&&Array.isArray(et)&&(mt.providerData=et.map(St=>({...St}))),v&&(mt._redirectEventId=v),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?cT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ya;g.updateFromIdToken(a);const v=new Zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Zv=new Map;function Ji(r){is(r instanceof Function,"Expected a class definition");let t=Zv.get(r);return t?(is(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Zv.set(r,t),t)}class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}hT.type="NONE";const Wv=hT;function Bc(r,t,i){return`firebase:${r}:${t}:${i}`}class Xa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sh(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xa(Ji(Wv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(Wv);const d=Bc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const V=await sh(t,{idToken:S}).catch(()=>{});if(!V)break;b=await Zn._fromGetAccountInfoResponse(t,V,S)}else b=Zn._fromJSON(t,S);y!==c&&(g=b),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Xa(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,t,a))}}function t0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(_T(t))return"Webos";if(dT(t))return"Safari";if((t.includes("chrome/")||mT(t))&&!t.includes("edge/"))return"Chrome";if(gT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function fT(r=Ze()){return/firefox\//i.test(r)}function dT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mT(r=Ze()){return/crios\//i.test(r)}function pT(r=Ze()){return/iemobile/i.test(r)}function gT(r=Ze()){return/android/i.test(r)}function yT(r=Ze()){return/blackberry/i.test(r)}function _T(r=Ze()){return/webos/i.test(r)}function op(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function JR(r=Ze()){return op(r)&&!!window.navigator?.standalone}function ZR(){return jS()&&document.documentMode===10}function vT(r=Ze()){return op(r)||gT(r)||_T(r)||yT(r)||/windows phone/i.test(r)||pT(r)}function ET(r,t=[]){let i;switch(r){case"Browser":i=t0(Ze());break;case"Worker":i=`${t0(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class WR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tC(r,t={}){return uo(r,"GET","/v2/passwordPolicy",Xl(r,t))}const eC=6;class nC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??eC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class iC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new WR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sh(this,{idToken:t}),a=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Zi(this));const i=t?Qe(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tC(this),i=new nC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await $R(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&kR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $l(r){return Qe(r)}class e0{constructor(t){this.auth=t,this.observer=null,this.addObserver=YS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sC(r){lp=r}function rC(r){return lp.loadJS(r)}function aC(){return lp.gapiScript}function oC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function lC(r,t){const i=Am(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Br(c,t??{}))return l;ns(l,"already-initialized")}return i.initialize({options:t})}function uC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function cC(r,t,i){const a=$l(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=TT(t),{host:d,port:g}=hC(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Br(y,a.config.emulator)&&Br(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,io(d)?(S0(`${c}//${d}${v}`),A0("Auth",!0)):fC()}function TT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function hC(r){const t=TT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:n0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:n0(d)}}}function n0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function fC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ST{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function $a(r,t){return rp(r,"POST","/v1/accounts:signInWithIdp",Xl(r,t))}const dC="http://localhost";class Kr extends ST{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Kr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:dC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class AT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class js extends Jl{constructor(){super("facebook.com")}static credential(t){return Kr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class Bs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Kr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Jl{constructor(){super("github.com")}static credential(t){return Kr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Kr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function mC(r,t){return rp(r,"POST","/v1/accounts:signUp",Xl(r,t))}class ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Zn._fromIdTokenResponse(t,a,l),d=i0(a);return new ss({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=i0(a);return new ss({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function i0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function pC(r){if(Ln(r.app))return Promise.reject(Zi(r));const t=$l(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ss({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await mC(t,{returnSecureToken:!0}),a=await ss._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ah extends rs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ah(t,i,a,l)}}function bT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,c,t,a):c})}async function gC(r,t,i=!1){const a=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ss._forOperation(r,"link",a)}async function yC(r,t,i=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(Zi(a));const l="reauthenticate";try{const c=await jl(r,bT(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=ap(c.idToken);yt(d,a,"internal-error");const{sub:g}=d;return yt(r.uid===g,a,"user-mismatch"),ss._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ns(a,"user-mismatch"),c}}async function _C(r,t,i=!1){if(Ln(r.app))return Promise.reject(Zi(r));const a="signIn",l=await bT(r,a,t),c=await ss._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function vC(r,t){return rp(r,"POST","/v1/accounts:signInWithCustomToken",Xl(r,t))}async function EC(r,t){if(Ln(r.app))return Promise.reject(Zi(r));const i=$l(r),a=await vC(i,{token:t,returnSecureToken:!0}),l=await ss._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function TC(r,t,i,a){return Qe(r).onIdTokenChanged(t,i,a)}function SC(r,t,i){return Qe(r).beforeAuthStateChanged(t,i)}function AC(r,t,i,a){return Qe(r).onAuthStateChanged(t,i,a)}function bC(r){return Qe(r).signOut()}const oh="__sak";class wT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const wC=1e3,RC=10;class RT extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ZR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,RC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}RT.type="LOCAL";const CC=RT;class CT extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}CT.type="SESSION";const IT=CT;function IC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await IC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function up(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class NC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=up("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function DC(r){Ii().location.href=r}function NT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){return navigator?.serviceWorker?.controller||null}function VC(){return NT()?self:null}const DT="firebaseLocalStorageDb",MC=1,lh="firebaseLocalStorage",OT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(r,t){return r.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function kC(){const r=indexedDB.deleteDatabase(DT);return new Zl(r).toPromise()}function vm(){const r=indexedDB.open(DT,MC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(lh,{keyPath:OT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(lh)?t(a):(a.close(),await kC(),t(await vm()))})})}async function s0(r,t,i){const a=Nh(r,!0).put({[OT]:t,value:i});return new Zl(a).toPromise()}async function UC(r,t){const i=Nh(r,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function r0(r,t){const i=Nh(r,!0).delete(t);return new Zl(i).toPromise()}const LC=800,PC=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>PC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(VC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await s0(t,oh,"1"),await r0(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>s0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>UC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>r0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const zC=xT;new Yl(3e4,6e4);function jC(r,t){return t?Ji(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cp extends ST{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function BC(r){return _C(r.auth,new cp(r),r.bypassAuthState)}function qC(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),yC(i,new cp(r),r.bypassAuthState)}async function HC(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),gC(i,new cp(r),r.bypassAuthState)}class VT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:ns(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GC=new Yl(2e3,1e4);class Ga extends VT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,GC.get())};t()}}Ga.currentPopupAction=null;const FC="pendingRedirect",qc=new Map;class QC extends VT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await KC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(r,t){const i=$C(t),a=XC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function YC(r,t){qc.set(r._key(),t)}function XC(r){return Ji(r._redirectPersistence)}function $C(r){return Bc(FC,r.config.apiKey,r.name)}async function JC(r,t,i=!1){if(Ln(r.app))return Promise.reject(Zi(r));const a=$l(r),l=jC(a,t),d=await new QC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const ZC=600*1e3;class WC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!MT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZC&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(t))}saveEventToCache(t){this.cachedEventUids.add(a0(t)),this.lastProcessedEventTime=Date.now()}}function a0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function MT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function tI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(r);default:return!1}}async function eI(r,t={}){return uo(r,"GET","/v1/projects",t)}const nI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iI=/^https?/;async function sI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await eI(r);for(const i of t)try{if(rI(i))return}catch{}ns(r,"unauthorized-domain")}function rI(r){const t=ym(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!iI.test(i))return!1;if(nI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const aI=new Yl(3e4,6e4);function o0(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function oI(r){return new Promise((t,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Ci(r,"network-request-failed"))},timeout:aI.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=oC("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ci(r,"network-request-failed"))},rC(`${aC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function lI(r){return Hc=Hc||oI(r),Hc}const uI=new Yl(5e3,15e3),cI="__/auth/iframe",hI="emulator/auth/iframe",fI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mI(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?sp(t,hI):`https://${r.config.authDomain}/${cI}`,a={apiKey:t.apiKey,appName:r.name,v:so},l=dI.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function pI(r){const t=await lI(r),i=Ii().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:mI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ci(r,"network-request-failed"),g=Ii().setTimeout(()=>{c(d)},uI.get());function v(){Ii().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const gI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yI=500,_I=600,vI="_blank",EI="http://localhost";class l0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TI(r,t,i,a=yI,l=_I){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...gI,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=mT(y)?vI:i),fT(y)&&(t=t||EI,v.scrollbars="yes");const S=Object.entries(v).reduce((V,[K,et])=>`${V}${K}=${et},`,"");if(JR(y)&&g!=="_self")return SI(t||"",g),new l0(null);const b=window.open(t||"",g,S);yt(b,r,"popup-blocked");try{b.focus()}catch{}return new l0(b)}function SI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const AI="__/auth/handler",bI="emulator/auth/handler",wI=encodeURIComponent("fac");async function u0(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:so,eventId:l};if(t instanceof AT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",KS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof Jl){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await r._getAppCheckToken(),y=v?`#${wI}=${encodeURIComponent(v)}`:"";return`${RI(r)}?${ql(g).slice(1)}${y}`}function RI({config:r}){return r.emulator?sp(r,bI):`https://${r.authDomain}/${AI}`}const Yd="webStorageSupport";class CI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=JC,this._overrideRedirectResult=YC}async _openPopup(t,i,a,l){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await u0(t,i,a,ym(),l);return TI(t,c,up())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await u0(t,i,a,ym(),l);return DC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await pI(t),a=new WC(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return vT()||dT()||op()}}const II=CI;var c0="@firebase/auth",h0="1.12.0";class NI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OI(r){Ja(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(r)},y=new iC(a,l,c,v);return uC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ja(new qr("auth-internal",t=>{const i=$l(t.getProvider("auth").getImmediate());return(a=>new NI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(c0,h0,DI(r)),Ks(c0,h0,"esm2020")}const xI=300,VI=T0("authIdTokenMaxAge")||xI;let f0=null;const MI=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>VI)return;const l=i?.token;f0!==l&&(f0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function kI(r=bm()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=lC(r,{popupRedirectResolver:II,persistence:[zC,CC,IT]}),a=T0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=MI(c.toString());SC(i,d,()=>d(i.currentUser)),TC(i,g=>d(g))}}const l=v0("auth");return l&&cC(i,`http://${l}`),i}function UI(){return document.getElementsByTagName("head")?.[0]??document}sC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ci("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",UI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OI("Browser");const kT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const LI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const PI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const d0=r=>{const t=PI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var zI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const BI=oe.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},v)=>oe.createElement("svg",{ref:v,...zI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:kT("lucide",l),...!c&&!jI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>oe.createElement(y,S)),...Array.isArray(c)?c:[c]]));const An=(r,t)=>{const i=oe.forwardRef(({className:a,...l},c)=>oe.createElement(BI,{ref:c,iconNode:t,className:kT(`lucide-${LI(d0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=d0(r),i};const qI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],HI=An("calendar",qI);const GI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FI=An("check",GI);const QI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],KI=An("clock",QI);const YI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],XI=An("compass",YI);const $I=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],JI=An("copy",$I);const ZI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],WI=An("external-link",ZI);const tN=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],m0=An("gamepad-2",tN);const eN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nN=An("lock",eN);const iN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sN=An("log-out",iN);const rN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aN=An("search",rN);const oN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lN=An("shield",oN);const uN=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],cN=An("terminal",uN);const hN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fN=An("trash-2",hN),dN={apiKey:"AIzaSyDFHW-ZV5HPxGNJlwbi4Ravrs0tnyRW3Eg",authDomain:"gamesync-7fdde.firebaseapp.com",projectId:"gamesync-7fdde",storageBucket:"gamesync-7fdde.firebasestorage.app",messagingSenderId:"1:209595978385:web:804bf3167a353073be2530",appId:"YOUR_APP_ID"},mN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(r){console.error("Failed to parse environment firebase config",r)}return dN},Nl=mN(),Gc=!!(Nl&&Nl.apiKey&&Nl.apiKey.startsWith("AIza")),pN=typeof __app_id<"u"?__app_id:"community-calendar-production",kr=pN.replace(/[^a-zA-Z0-9]/g,"_");let Xd,Lr,Tn;if(Gc)try{Xd=XA().length>0?bm():R0(Nl),Lr=kI(Xd),Tn=gR(Xd)}catch(r){console.error("Firebase Initialization Error:",r)}const gN={displayName:"New Player",bio:"Gaming community member.",favoriteGames:[],joinedGuilds:[],isAdmin:!1,theme:"light",photoUrl:""},p0={light:{id:"light",name:"Standard Light",bg:"bg-slate-50",card:"bg-white",header:"bg-white",sidebar:"bg-white",primary:"bg-indigo-600",accent:"text-indigo-600",border:"border-slate-100",text:"text-slate-900",muted:"text-slate-500",button:"bg-indigo-600 hover:bg-indigo-700 text-white"},dark:{id:"dark",name:"Deep Dark",bg:"bg-zinc-950",card:"bg-zinc-900",header:"bg-zinc-900",sidebar:"bg-zinc-900",primary:"bg-indigo-500",accent:"text-indigo-400",border:"border-zinc-800",text:"text-zinc-100",muted:"text-zinc-500",button:"bg-indigo-500 hover:bg-indigo-600 text-white"}},yN=()=>{const[r,t]=oe.useState(null),[i,a]=oe.useState(Gc),[l,c]=oe.useState([]),[d,g]=oe.useState([]),[v,y]=oe.useState("all"),[S,b]=oe.useState("calendar"),[V,K]=oe.useState(!1),[et,st]=oe.useState(!1),[it,mt]=oe.useState(""),[St,pt]=oe.useState(!1),[jt,Wt]=oe.useState(!1),[_t,N]=oe.useState(gN),A=p0[_t.theme]||p0.light,[w,x]=oe.useState({gameTitle:"",date:new Date().toISOString().split("T")[0],startTime:"19:00",endTime:"21:00",guildId:""}),[O,k]=oe.useState({name:"",desc:""});oe.useEffect(()=>{if(!Gc||!Lr)return;(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await EC(Lr,__initial_auth_token):await pC(Lr)}catch(q){console.error("Auth error:",q)}finally{a(!1)}})();const C=AC(Lr,q=>{t(q),a(!1)});return()=>C()},[]),oe.useEffect(()=>{if(!r||!Tn)return;const W=Z=>{console.warn("Firestore listener error:",Z.code),Z.code==="permission-denied"&&pt(!0)},C=Qd(Fd(Tn,"artifacts",kr,"public","data","sessions"),Z=>{c(Z.docs.map(ct=>({id:ct.id,...ct.data()}))),pt(!1)},W),q=Qd(Fd(Tn,"artifacts",kr,"public","data","guilds"),Z=>{g(Z.docs.map(ct=>({id:ct.id,...ct.data()})))},W),J=Qd(Tl(Tn,"artifacts",kr,"users",r.uid,"profile","info"),Z=>{Z.exists()&&N(ct=>({...ct,...Z.data()}))},W);return()=>{C(),q(),J()}},[r]);const R=()=>Lr&&bC(Lr),Zt=async W=>{if(!(!r||!Tn))try{await NR(Tl(Tn,"artifacts",kr,"users",r.uid,"profile","info"),W,{merge:!0})}catch(C){C.code==="permission-denied"&&pt(!0)}},he=async W=>{if(Tn)try{await OR(Tl(Tn,"artifacts",kr,"public","data","sessions",W))}catch(C){C.code==="permission-denied"&&pt(!0)}},G=async W=>{if(!r||!Tn)return;const C=W.participants||[],J=C.some(Z=>Z.uid===r.uid)?C.filter(Z=>Z.uid!==r.uid):[...C,{uid:r.uid,name:_t.displayName}];try{await DR(Tl(Tn,"artifacts",kr,"public","data","sessions",W.id),{participants:J})}catch(Z){Z.code==="permission-denied"&&pt(!0)}},nt=async W=>{if(W.preventDefault(),!r||!Tn)return;const C=w.guildId||v;if(C!=="all")try{await xR(Fd(Tn,"artifacts",kr,"public","data","sessions"),{...w,status:"active",guildId:C,userId:r.uid,userName:_t.displayName,participants:[{uid:r.uid,name:_t.displayName}],createdAt:wR()}),K(!1)}catch(q){q.code==="permission-denied"&&pt(!0)}},ut=oe.useMemo(()=>{const W=_t.joinedGuilds||[],C=l.filter(J=>{const Z=v==="all"?W.includes(J.guildId):J.guildId===v,ct=J.gameTitle?String(J.gameTitle).toLowerCase():"";return Z&&ct.includes(it.toLowerCase())}).sort((J,Z)=>String(J.date).localeCompare(String(Z.date))),q={};return C.forEach(J=>{const Z=String(J.date);q[Z]||(q[Z]=[]),q[Z].push(J)}),q},[l,v,_t.joinedGuilds,it]),Mt=W=>{const C=document.createElement("textarea");C.value=W,C.style.position="fixed",C.style.left="-9999px",C.style.top="0",document.body.appendChild(C),C.focus(),C.select();try{document.execCommand("copy"),Wt(!0),setTimeout(()=>Wt(!1),2e3)}catch(q){console.error("Copy failed:",q)}document.body.removeChild(C)};if(!Gc)return H.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white text-center",children:[H.jsx(lN,{className:"w-16 h-16 text-amber-500 mb-6"}),H.jsx("h2",{className:"text-3xl font-black uppercase italic mb-4",children:"Configuration Required"}),H.jsxs("p",{className:"text-slate-400 mb-8 max-w-md font-medium",children:["Paste your project keys into ",H.jsx("code",{className:"bg-black px-2 py-1 rounded text-indigo-400",children:"community-calendar.jsx"})," to enable data syncing."]}),H.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-600 hover:bg-indigo-700 text-white font-black px-8 py-4 rounded-2xl uppercase text-xs tracking-widest transition shadow-lg shadow-indigo-600/20",children:"Open Firebase Console"})]});if(St){const W=`service cloud.firestore {
  match /databases/{database}/documents {
    match /artifacts/{anyId}/{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}`;return H.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white",children:H.jsxs("div",{className:"bg-slate-800 p-10 rounded-[3rem] border border-slate-700 max-w-2xl shadow-2xl w-full",children:[H.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[H.jsx(nN,{className:"w-12 h-12 text-rose-500"}),H.jsxs("div",{children:[H.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter italic leading-none",children:"Permission Denied"}),H.jsx("p",{className:"text-rose-400 text-[10px] font-black uppercase tracking-widest mt-2",children:"Action Required: Update Firestore Rules"})]})]}),H.jsxs("p",{className:"text-slate-300 mb-6 font-medium leading-relaxed",children:["The previous specific ID rule failed because the ",H.jsx("span",{className:"text-indigo-400 italic font-bold",children:"appId"})," has changed. You must use the ",H.jsx("span",{className:"text-indigo-400 italic font-bold",children:"Universal Rule"})," below to prevent this from happening again."]}),H.jsxs("div",{className:"space-y-4 mb-8",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[H.jsx(cN,{className:"w-3 h-3"})," Copy this code:"]}),H.jsx("button",{onClick:()=>Mt(W),className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-indigo-400 hover:text-indigo-300 transition",children:jt?H.jsxs(H.Fragment,{children:[H.jsx(FI,{className:"w-3 h-3"})," Copied!"]}):H.jsxs(H.Fragment,{children:[H.jsx(JI,{className:"w-3 h-3"})," Copy Universal Rules"]})})]}),H.jsx("pre",{className:"bg-slate-950 p-6 rounded-2xl text-[11px] text-emerald-400 font-mono overflow-x-auto border border-slate-700 leading-relaxed shadow-inner",children:W})]}),H.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[H.jsxs("a",{href:`https://console.firebase.google.com/project/${Nl.projectId}/firestore/rules`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-2xl uppercase text-xs tracking-widest transition shadow-lg shadow-indigo-600/20",children:["Open Rules Tab ",H.jsx(WI,{className:"w-4 h-4"})]}),H.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-black py-5 rounded-2xl uppercase text-xs tracking-widest transition",children:"I've Updated Rules"})]})]})})}return i?H.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:H.jsx(m0,{className:"w-12 h-12 text-indigo-500 animate-bounce"})}):H.jsxs("div",{className:`min-h-screen ${A.bg} ${A.text} transition-colors duration-500`,children:[H.jsx("header",{className:`${A.header} border-b ${A.border} sticky top-0 z-40 h-16 shadow-sm`,children:H.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-full flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>b("calendar"),children:[H.jsx(m0,{className:`w-8 h-8 ${A.accent}`}),H.jsx("h1",{className:"font-black text-xl italic tracking-tight hidden sm:block",children:"GameSync"})]}),H.jsxs("nav",{className:"flex items-center gap-3",children:[H.jsx("button",{onClick:()=>b("calendar"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${S==="calendar"?A.button:"opacity-40 hover:opacity-100"}`,children:"Board"}),H.jsx("button",{onClick:()=>b("profile"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase transition ${S==="profile"?A.button:"opacity-40 hover:opacity-100"}`,children:"Profile"}),H.jsx("button",{onClick:R,className:"p-2 opacity-40 hover:opacity-100 transition hover:text-rose-500",children:H.jsx(sN,{className:"w-4 h-4"})})]})]})}),H.jsxs("div",{className:"flex",children:[H.jsxs("aside",{className:`w-64 border-r ${A.border} hidden md:block min-h-[calc(100vh-4rem)] p-4`,children:[H.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-30 mb-4",children:"Tactical Guilds"}),H.jsx("button",{onClick:()=>y("all"),className:`w-full text-left p-3 rounded-xl mb-2 font-bold text-xs transition ${v==="all"?A.button:"hover:bg-slate-500/10"}`,children:"Global Feed"}),d.filter(W=>_t.joinedGuilds?.includes(W.id)).map(W=>H.jsx("button",{onClick:()=>y(W.id),className:`w-full text-left p-3 rounded-xl mb-2 font-bold text-xs transition ${v===W.id?A.button:"hover:bg-slate-500/10"}`,children:String(W.name)},W.id)),H.jsxs("button",{onClick:()=>st(!0),className:"w-full text-left p-3 rounded-xl mt-4 border border-dashed border-slate-500/30 text-[10px] font-black uppercase tracking-widest opacity-40 hover:opacity-100 transition flex items-center justify-center gap-2",children:[H.jsx(XI,{className:"w-3 h-3"})," Find Guilds"]})]}),H.jsx("main",{className:"flex-1 p-8 max-w-5xl",children:S==="calendar"?H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-12",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-5xl font-black tracking-tighter uppercase italic leading-none",children:v==="all"?"The Hub":d.find(W=>W.id===v)?.name}),H.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mt-3 flex items-center gap-2",children:[H.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Active Deployment Map"]})]}),H.jsxs("div",{className:"flex gap-4",children:[H.jsxs("div",{className:"relative group",children:[H.jsx(aN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-30 group-focus-within:opacity-100 transition"}),H.jsx("input",{type:"text",placeholder:"Filter games...",value:it,onChange:W=>mt(W.target.value),className:`pl-10 pr-4 py-3 rounded-2xl ${A.card} border ${A.border} outline-none text-sm w-64 focus:border-indigo-500 transition`})]}),H.jsx("button",{onClick:()=>K(!0),className:`${A.button} px-8 py-3 rounded-2xl font-black uppercase text-xs tracking-widest transition shadow-lg shadow-indigo-600/20 active:scale-95`,children:"+ New Lobby"})]})]}),H.jsx("div",{className:"space-y-12",children:Object.entries(ut).length===0?H.jsxs("div",{className:`py-24 text-center opacity-30 border-2 border-dashed ${A.border} rounded-[4rem]`,children:[H.jsx(HI,{className:"w-16 h-16 mx-auto mb-6"}),H.jsx("p",{className:"font-black uppercase tracking-[0.3em] text-xs italic",children:"Sector Empty - No active sessions"})]}):Object.entries(ut).map(([W,C])=>H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[H.jsx("span",{className:"text-[11px] font-black uppercase opacity-40 tracking-[0.4em] italic",children:new Date(W).toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})}),H.jsx("div",{className:`flex-1 h-px ${A.border}`})]}),H.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:C.map(q=>H.jsx(_N,{session:q,user:r,activeTheme:A,onJoin:()=>G(q),onDelete:()=>he(q.id)},q.id))})]},W))})]}):H.jsx(vN,{profile:_t,activeTheme:A})})]}),et&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:H.jsxs("div",{className:`${A.card} border ${A.border} rounded-[4rem] p-12 max-w-xl w-full shadow-2xl`,children:[H.jsxs("div",{className:"flex justify-between items-start mb-10",children:[H.jsxs("div",{children:[H.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter leading-none",children:"Guild Network"}),H.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mt-3",children:"Expand your community reach"})]}),H.jsx("button",{onClick:()=>st(!1),className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 dark:bg-zinc-800 opacity-60 hover:opacity-100 transition hover:rotate-90",children:""})]}),H.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto mb-10 pr-2",children:d.map(W=>H.jsxs("div",{className:`${A.bg} p-6 rounded-[2.5rem] border ${A.border} flex justify-between items-center transition hover:border-indigo-500/50 group`,children:[H.jsxs("div",{children:[H.jsx("p",{className:"font-black uppercase tracking-tight text-sm group-hover:text-indigo-500 transition",children:String(W.name)}),H.jsx("p",{className:"text-[10px] opacity-40 font-bold uppercase mt-1 tracking-tight",children:String(W.description||"Public Strategic Hub")})]}),H.jsx("button",{onClick:async()=>{const C=_t.joinedGuilds||[],q=C.includes(W.id)?C.filter(J=>J!==W.id):[...C,W.id];await Zt({..._t,joinedGuilds:q})},className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition active:scale-95 ${_t.joinedGuilds?.includes(W.id)?"bg-rose-500/10 text-rose-500 border border-rose-500/20":A.button}`,children:_t.joinedGuilds?.includes(W.id)?"Leave":"Join"})]},W.id))})]})}),V&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md transition-all",children:H.jsxs("div",{className:`${A.card} border ${A.border} rounded-[4rem] p-12 max-w-lg w-full shadow-2xl`,children:[H.jsxs("div",{className:"flex justify-between items-start mb-10",children:[H.jsxs("div",{children:[H.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter leading-none",children:"New Lobby"}),H.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 mt-3",children:"Summon your vanguard team"})]}),H.jsx("button",{onClick:()=>K(!1),className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 dark:bg-zinc-800 opacity-60 hover:opacity-100 transition hover:rotate-90",children:""})]}),H.jsxs("form",{onSubmit:nt,className:"space-y-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 ml-4",children:"Primary Objective"}),H.jsx("input",{placeholder:"GAME TITLE / OPERATION",className:`w-full p-5 rounded-2xl ${A.bg} border ${A.border} outline-none font-black uppercase focus:border-indigo-500 transition text-sm`,value:w.gameTitle,onChange:W=>x({...w,gameTitle:W.target.value}),required:!0})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 ml-4",children:"Deployment Date"}),H.jsx("input",{type:"date",className:`w-full p-5 rounded-2xl ${A.bg} border ${A.border} outline-none text-xs font-black focus:border-indigo-500 transition`,value:w.date,onChange:W=>x({...w,date:W.target.value})})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 ml-4",children:"Launch Time (EST)"}),H.jsx("input",{type:"time",className:`w-full p-5 rounded-2xl ${A.bg} border ${A.border} outline-none text-xs font-black focus:border-indigo-500 transition`,value:w.startTime,onChange:W=>x({...w,startTime:W.target.value})})]})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 ml-4",children:"Command Guild"}),H.jsxs("select",{className:`w-full p-5 rounded-2xl ${A.bg} border ${A.border} outline-none text-xs font-black uppercase focus:border-indigo-500 transition`,value:w.guildId,onChange:W=>x({...w,guildId:W.target.value}),required:!0,children:[H.jsx("option",{value:"",children:"Select Command Center"}),d.filter(W=>_t.joinedGuilds?.includes(W.id)).map(W=>H.jsx("option",{value:W.id,children:String(W.name)},W.id))]})]}),H.jsx("button",{type:"submit",className:`w-full py-5 rounded-3xl ${A.button} font-black uppercase text-xs tracking-widest shadow-xl shadow-indigo-600/20 active:scale-95 transition mt-4`,children:"Establish Deployment"})]})]})})]})},_N=({session:r,user:t,onJoin:i,onDelete:a,activeTheme:l})=>{const c=r.participants||[],d=t&&c.some(v=>v.uid===t.uid),g=t&&r.userId===t.uid;return H.jsxs("div",{className:`${l.card} border ${l.border} rounded-[3rem] p-8 shadow-sm transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 group`,children:[H.jsx("div",{className:"flex justify-between items-start mb-6",children:H.jsxs("div",{children:[H.jsx("h4",{className:"text-2xl font-black italic uppercase leading-none group-hover:text-indigo-600 transition-colors",children:String(r.gameTitle)}),H.jsxs("div",{className:"flex items-center gap-2 mt-3 opacity-40",children:[H.jsx(KI,{className:"w-3 h-3"}),H.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[String(r.startTime)," EST"]})]})]})}),H.jsx("div",{className:"flex flex-wrap gap-2 mb-10",children:c.map((v,y)=>H.jsxs("div",{className:`flex items-center gap-2 text-[9px] font-black px-4 py-2 rounded-full ${l.bg} border ${l.border} uppercase transition hover:border-emerald-500/50`,children:[H.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),String(v.name)]},y))}),H.jsxs("div",{className:"flex gap-4",children:[H.jsx("button",{onClick:i,className:`flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition active:scale-95 ${d?"bg-rose-500/10 text-rose-500 border border-rose-500/20 shadow-lg shadow-rose-500/5":l.button+" shadow-lg shadow-indigo-600/10"}`,children:d?"Leave Operation":"Join Quest"}),g&&H.jsx("button",{onClick:a,className:"p-4 rounded-2xl bg-slate-100 dark:bg-zinc-800 opacity-40 hover:opacity-100 hover:text-rose-500 transition active:scale-90",children:H.jsx(fN,{className:"w-5 h-5"})})]})]})},vN=({profile:r,activeTheme:t})=>H.jsxs("div",{className:`${t.card} border ${t.border} rounded-[5rem] p-16 text-center relative overflow-hidden shadow-2xl`,children:[H.jsx("div",{className:"absolute top-0 left-0 w-full h-40 bg-indigo-600/5 border-b border-indigo-600/5"}),H.jsxs("div",{className:"relative pt-8",children:[H.jsx("div",{className:`${t.primary} w-40 h-40 mx-auto mb-8 rounded-[3rem] flex items-center justify-center text-white text-6xl font-black shadow-2xl shadow-indigo-600/30 ring-8 ring-white dark:ring-zinc-900`,children:String(r.displayName).charAt(0)}),H.jsx("h2",{className:"text-5xl font-black italic uppercase tracking-tighter mb-2 leading-none",children:String(r.displayName)}),H.jsx("p",{className:"text-[11px] font-black uppercase opacity-30 tracking-[0.5em] mb-12 italic",children:"Elite Vanguard Member"})]})]});TS.createRoot(document.getElementById("root")).render(H.jsx(oe.StrictMode,{children:H.jsx(yN,{})}));
